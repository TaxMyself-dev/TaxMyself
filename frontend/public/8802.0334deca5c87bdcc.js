"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8802],{8802:(b,d,s)=>{s.r(d),s.d(d,{LoginPageModule:()=>w});var g=s(4755),o=s(5030),r=s(650),l=s(9931),m=s(5861),p=s(262),E=s(515),_=s(8746),u=s(2223),h=s(2199);function f(e,a){if(1&e){const n=u.EpF();u.ynx(0),u.TgZ(1,"p",16),u._uU(2," \u05e2\u05d3\u05d9\u05d9\u05df \u05dc\u05d0 \u05d0\u05d9\u05de\u05ea\u05ea \u05d0\u05ea \u05d4\u05de\u05d9\u05d9\u05dc, \u05d1\u05d1\u05e7\u05e9\u05d4 \u05db\u05e0\u05e1 \u05dc\u05de\u05d9\u05d9\u05dc \u05e9\u05d4\u05d6\u05e0\u05ea \u05d1\u05d4\u05e8\u05e9\u05de\u05d4 \u05db\u05d3\u05d9 \u05dc\u05d0\u05de\u05ea \u05d7\u05e9\u05d1\u05d5\u05df "),u._UZ(3,"br"),u._uU(4," \u05dc\u05d7\u05e5 "),u.TgZ(5,"span",12),u.NdJ("click",function(){u.CHM(n);const i=u.oxw(2);return u.KtG(i.sendVerficaitonEmail())}),u._uU(6,"\u05db\u05d0\u05df"),u.qZA(),u._uU(7," \u05dc\u05e9\u05dc\u05d9\u05d7\u05ea \u05de\u05d9\u05d9\u05dc \u05d7\u05d3\u05e9 \u05dc\u05d0\u05d9\u05de\u05d5\u05ea "),u.qZA(),u.BQk()}}function C(e,a){1&e&&(u.ynx(0),u.TgZ(1,"p",16),u._uU(2," \u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd / \u05dc\u05d0 \u05d7\u05d5\u05e7\u05d9. "),u._UZ(3,"br"),u._uU(4," \u05d0\u05e0\u05d0 \u05d5\u05d3\u05d0 \u05e9\u05d4\u05db\u05e0\u05e1\u05ea \u05de\u05d9\u05d9\u05dc \u05ea\u05e7\u05d9\u05df \u05d0\u05d5 \u05d4\u05d9\u05e8\u05e9\u05dd \u05dc\u05de\u05e2\u05e8\u05db\u05ea "),u.qZA(),u.BQk())}function P(e,a){if(1&e){const n=u.EpF();u.ynx(0),u.TgZ(1,"p",16),u._uU(2,"\u05e1\u05d9\u05e1\u05de\u05d0 \u05e9\u05d2\u05d5\u05d9\u05d4 "),u._UZ(3,"br"),u._uU(4," \u05e9\u05db\u05d7\u05ea \u05e1\u05d9\u05e1\u05de\u05d0? \u05dc\u05d7\u05e5 "),u.TgZ(5,"span",12),u.NdJ("click",function(){u.CHM(n);const i=u.oxw(2);return u.KtG(i.resetPassword())}),u._uU(6,"\u05db\u05d0\u05df"),u.qZA(),u._uU(7," \u05dc\u05d0\u05d9\u05e4\u05d5\u05e1 \u05e1\u05d9\u05e1\u05de\u05d0 "),u.qZA(),u.BQk()}}function x(e,a){1&e&&(u.ynx(0),u.TgZ(1,"p",16),u._uU(2," \u05d4\u05e9\u05d9\u05e8\u05d5\u05ea \u05d0\u05d9\u05e0\u05d5 \u05d6\u05de\u05d9\u05df \u05db\u05e2\u05ea \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8 "),u.qZA(),u.BQk())}function y(e,a){if(1&e&&(u.ynx(0)(1,14),u.YNc(2,f,8,0,"ng-container",15),u.YNc(3,C,5,0,"ng-container",15),u.YNc(4,P,8,0,"ng-container",15),u.YNc(5,x,3,0,"ng-container",15),u.BQk()()),2&e){const n=a.ngIf;u.xp6(1),u.Q6J("ngSwitch",n),u.xp6(1),u.Q6J("ngSwitchCase","email"),u.xp6(1),u.Q6J("ngSwitchCase","user"),u.xp6(1),u.Q6J("ngSwitchCase","password"),u.xp6(1),u.Q6J("ngSwitchCase","error")}}const T=[{path:"",component:(()=>{class e{constructor(n,t,i,D,c){this.router=n,this.activatedRoute=t,this.formBuilder=i,this.authService=D,this.loadingController=c,this.emailVerify=!0,this.userEmail="",this.showPassword=!1,this.isToastOpen=!1,this.messageToast="",this.myForm=this.formBuilder.group({userName:new o.NI("",[o.kI.required]),password:new o.NI("",[o.kI.required,o.kI.pattern(/^(?=.*[a-zA-Z].*[a-zA-Z])(?=.*\d).{8,}$/)])})}ngOnInit(){}onEnterKeyPressed(){this.signin()}signin(){var n=this;return(0,m.Z)(function*(){const t=yield n.loadingController.create({message:"Please wait...",spinner:"crescent"});yield t.present();const i=n.myForm.value;n.authService.userVerify(i.userName,i.password).pipe((0,p.K)(D=>(console.log("err in user verify in sign in",D),E.E)),(0,_.x)(()=>t.dismiss())).subscribe(D=>{console.log("res sign in",D),D&&(n.userCredential=D),D.user.emailVerified?n.authService.signIn(D).subscribe(c=>{console.log("res from server",c),n.authService.userDetails=c,n.router.navigate(["my-account"])}):n.authService.error$.next("email")})})()}sendVerficaitonEmail(){this.authService.SendVerificationMail().subscribe(()=>{this.messageToast="\u05de\u05d9\u05d9\u05dc \u05dc\u05d0\u05d9\u05de\u05d5\u05ea \u05e1\u05d9\u05e1\u05de\u05d0 \u05e0\u05e9\u05dc\u05d7 \u05dc\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05e9\u05d4\u05db\u05e0\u05e1\u05ea",this.isToastOpen=!0})}navigateToRegister(){this.router.navigate(["register"])}togglePasswordVisibility(){this.showPassword=!this.showPassword}resetPassword(){this.authService.ForgotPassword(this.userEmail).pipe((0,p.K)(n=>{switch(console.log("err in reset: ",n),n.code){case"auth/invalid-email":case"auth/user-not-found":this.authService.error$.next("user");break;case"auth/too-many-requests":case"auth/network-request-failed":case"auth/operation-not-allowed":this.authService.error$.next("error")}return E.E})).subscribe(()=>{this.messageToast="\u05e7\u05d9\u05e9\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e4\u05d5\u05e1 \u05e1\u05d9\u05e1\u05de\u05d0 \u05e0\u05e9\u05dc\u05d7 \u05d0\u05dc\u05d9\u05da \u05dc\u05de\u05d9\u05d9\u05dc",this.isToastOpen=!0})}setOpenToast(){this.isToastOpen=!1}saveEmailForReset(n){this.userEmail=n.target.value}}return e.\u0275fac=function(n){return new(n||e)(u.Y36(l.F0),u.Y36(l.gz),u.Y36(o.qu),u.Y36(h.e),u.Y36(r.HT))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-login"]],decls:32,vars:11,consts:[[1,"login-header",3,"translucent"],[4,"ngIf"],[1,"flex-center",3,"formGroup","ngSubmit"],[1,"login-card"],[1,"custom-title"],[1,"line"],[1,"login-card-content"],["type","text","label","\u05d0\u05d9\u05de\u05d9\u05d9\u05dc","label-placement","floating","fill","outline","placeholder","\u05d0\u05d9\u05de\u05d9\u05d9\u05dc","formControlName","userName",1,"login-input",3,"keyup.enter","input"],[1,"login-item-password"],["label","\u05e1\u05d9\u05e1\u05de\u05d0","label-placement","floating","fill","outline","placeholder","\u05d1\u05d7\u05e8 \u05e1\u05d9\u05e1\u05de\u05d0","formControlName","password",1,"login-input-password",3,"type"],["slot","end",1,"login-icon",3,"name","click"],["type","submit",1,"login-submit-button",3,"disabled"],[1,"blue-link",3,"click"],[3,"isOpen","message","duration","didDismiss"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"text-error"]],template:function(n,t){1&n&&(u.TgZ(0,"ion-header",0),u.YNc(1,y,6,5,"ng-container",1),u.ALo(2,"async"),u.qZA(),u.TgZ(3,"form",2),u.NdJ("ngSubmit",function(){return t.signin()}),u.TgZ(4,"ion-card",3)(5,"ion-card-header")(6,"ion-card-title",4)(7,"b"),u._uU(8,"\u05e2\u05e6\u05de\u05d0\u05d9 \u05d1\u05e2\u05e6\u05de\u05d9"),u.qZA()()(),u._UZ(9,"div",5),u.TgZ(10,"ion-card-header")(11,"ion-card-title",4)(12,"b"),u._uU(13,"\u05dc\u05d4\u05e8\u05d5\u05d5\u05d9\u05d7 \u05d6\u05de\u05df - \u05dc\u05d7\u05e1\u05d5\u05da \u05db\u05e1\u05e3"),u.qZA()()(),u.TgZ(14,"ion-card-content",6)(15,"ion-input",7),u.NdJ("keyup.enter",function(){return t.onEnterKeyPressed()})("input",function(D){return t.saveEmailForReset(D)}),u.qZA(),u.TgZ(16,"ion-item",8),u._UZ(17,"ion-input",9),u.TgZ(18,"ion-icon",10),u.NdJ("click",function(){return t.togglePasswordVisibility()}),u.qZA()(),u.TgZ(19,"ion-button",11),u._uU(20,"\u05d4\u05ea\u05d7\u05d1\u05e8"),u.qZA(),u.TgZ(21,"p"),u._uU(22," \u05dc\u05d7\u05e5 "),u.TgZ(23,"span",12),u.NdJ("click",function(){return t.resetPassword()}),u._uU(24,"\u05db\u05d0\u05df"),u.qZA(),u._uU(25," \u05dc\u05e9\u05dc\u05d9\u05d7\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0\u05d9\u05e4\u05d5\u05e1 \u05e1\u05d9\u05e1\u05de\u05d0. "),u.qZA(),u.TgZ(26,"p"),u._uU(27," \u05de\u05e9\u05ea\u05de\u05e9 \u05d7\u05d3\u05e9? \u05dc\u05d7\u05e5 "),u.TgZ(28,"span",12),u.NdJ("click",function(){return t.navigateToRegister()}),u._uU(29,"\u05db\u05d0\u05df"),u.qZA(),u._uU(30," \u05dc\u05d4\u05e8\u05e9\u05de\u05d4. "),u.qZA()()()(),u.TgZ(31,"ion-toast",13),u.NdJ("didDismiss",function(){return t.setOpenToast()}),u.qZA()),2&n&&(u.Q6J("translucent",!0),u.xp6(1),u.Q6J("ngIf",u.lcZ(2,9,t.authService.error$)),u.xp6(2),u.Q6J("formGroup",t.myForm),u.xp6(14),u.s9C("type",t.showPassword?"text":"password"),u.xp6(1),u.s9C("name",t.showPassword?"eye-off":"eye"),u.xp6(1),u.Q6J("disabled",t.myForm.invalid),u.xp6(12),u.Q6J("isOpen",t.isToastOpen)("message",t.messageToast)("duration",3e3))},dependencies:[g.O5,g.RF,g.n9,o._Y,o.JJ,o.JL,r.YG,r.PM,r.FN,r.Zi,r.Dq,r.Gu,r.gu,r.pK,r.Ie,r.Px,r.j9,o.sg,o.u,g.Ov],styles:[".login-header[_ngcontent-%COMP%]{display:flex;justify-content:center}.flex-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:10vh;height:100%}.login-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-content:center;border:3px solid rgb(79,171,79);border-radius:20px;margin:10px auto auto;max-width:360px}.login-card[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{margin-top:10px}.login-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;align-items:center}.login-submit-button[_ngcontent-%COMP%]{display:flex;width:130px;--background: rgb(71, 200, 157);color:#000}.login-submit-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer}.line[_ngcontent-%COMP%]{border-top:3px solid rgb(79,171,79);width:80%;margin:auto}.custom-title[_ngcontent-%COMP%]{margin:auto}.blue-link[_ngcontent-%COMP%]{color:#00f;text-decoration:underline;cursor:pointer}.login-input[_ngcontent-%COMP%]{--border-radius: 15px;width:220px}.login-item-password[_ngcontent-%COMP%]{width:220px;height:56px;border:1px solid rgb(189,185,185);border-radius:15px;--border-style: hidden;margin:5px;padding:2px}.login-icon[_ngcontent-%COMP%]{cursor:pointer}.login-input-password[_ngcontent-%COMP%]{--border-style: hidden}.text-error[_ngcontent-%COMP%]{border:2px solid red;border-radius:15px;width:60%;word-wrap:break-word;text-align:justify;text-align-last:center;padding-left:5px;padding-right:5px;font-weight:700;margin:10px 0}"]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[l.Bz.forChild(T),l.Bz]}),e})(),w=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[g.ez,o.u5,r.Pc,Z,o.UX]}),e})()}}]);