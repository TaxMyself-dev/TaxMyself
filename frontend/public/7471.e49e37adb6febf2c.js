"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7471],{7471:(I,D,a)=>{a.r(D),a.d(D,{VatReportPageModule:()=>j});var g=a(4755),u=a(5030),l=a(650),m=a(9931),x=a(5861);function h(e){const n=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===n?new e.constructor(+e):"number"==typeof e||"[object Number]"===n||"string"==typeof e||"[object String]"===n?new Date(e):new Date(NaN)}var s=a(3327),M=a(7051),t=a(2223),v=a(3144),O=a(2340);let T=(()=>{class e{constructor(o){this.http=o}getVatReportData(o,r,p,i,c){const d=`${O.N.apiUrl}reports/vat-report`,f=(new v.LE).set("startDate",o.toISOString()).set("endDate",r.toISOString()).set("vatableTurnover",p.toString()).set("nonVatableTurnover",i.toString()).set("token",c);return this.http.get(d,{params:f})}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(v.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var R=a(2411),P=a(6742);function w(e,n){if(1&e&&(t.TgZ(0,"ion-select-option",15),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o.key),t.xp6(1),t.Oqu(o.value)}}function C(e,n){if(1&e&&(t.TgZ(0,"ion-select-option",15),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o.value),t.xp6(1),t.Oqu(o.name)}}function V(e,n){if(1&e&&(t.TgZ(0,"ion-select-option",15),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.hij("",o," ")}}function Z(e,n){1&e&&(t.ynx(0),t.TgZ(1,"p",16),t._uU(2,' \u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8 \u05d7\u05d5\u05d3\u05e9\u05d9 \u05d3\u05d9\u05d5\u05d5\u05d7 \u05d5\u05de\u05dc\u05d0 \u05d4\u05db\u05e0\u05e1\u05d5\u05ea \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d9\u05e6\u05d5\u05e8 \u05d3\u05d5"\u05d7 '),t.qZA(),t.BQk())}function S(e,n){if(1&e&&(t.TgZ(0,"div",19)(1,"div",20),t._uU(2),t.qZA(),t.TgZ(3,"div",21),t._uU(4),t.qZA()()),2&e){const o=n.$implicit,r=t.oxw(2);t.xp6(2),t.hij("",r.vatReportFieldTitles[o],":"),t.xp6(2),t.Oqu(r.report[o])}}function A(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"div",17)(2,"p",3),t._uU(3,'\u05e0\u05ea\u05d5\u05e0\u05d9 \u05d3\u05d5"\u05d7'),t.qZA(),t.YNc(4,S,5,2,"div",18),t.qZA(),t.BQk()),2&e){const o=t.oxw();t.xp6(4),t.Q6J("ngForOf",o.reportOrder)}}const _=[{path:"",component:(()=>{class e{constructor(o,r){this.vatReportService=o,this.formBuilder=r,this.isSingleMonth=!1,this.ButtonSize=M.q,this.months=s.e7,this.singleMonths=s.wU,this.optionTypeReport=[{key:"oneMonth",value:"\u05d7\u05d5\u05d3\u05e9\u05d9"},{key:"twoMonth",value:"\u05d3\u05d5-\u05d7\u05d5\u05d3\u05e9\u05d9"}],this.years=Array.from({length:15},(p,i)=>(new Date).getFullYear()-i),this.reportOrder=["vatableTurnover","nonVatableTurnover","vatRefundOnAssets","vatRefundOnExpenses","vatPayment"],this.vatReportFieldTitles={vatableTurnover:"\u05e2\u05e1\u05e7\u05d0\u05d5\u05ea \u05d7\u05d9\u05d9\u05d1\u05d5\u05ea",nonVatableTurnover:"\u05e2\u05e1\u05e7\u05d0\u05d5\u05ea \u05e4\u05d8\u05d5\u05e8\u05d5\u05ea \u05d0\u05d5 \u05d1\u05e9\u05d9\u05e2\u05d5\u05e8 \u05d0\u05e4\u05e1",vatRefundOnAssets:"\u05ea\u05e9\u05d5\u05de\u05d5\u05ea \u05e6\u05d9\u05d5\u05d3",vatRefundOnExpenses:"\u05ea\u05e9\u05d5\u05de\u05d5\u05ea \u05d0\u05d7\u05e8\u05d5\u05ea",vatPayment:'\u05e1\u05d4"\u05db \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd'},this.myForm=this.formBuilder.group({vatableTurnover:new u.NI("",u.kI.required),nonVatableTurnover:new u.NI("",u.kI.required),month:new u.NI("",u.kI.required),year:new u.NI("",u.kI.required)})}ngOnInit(){this.token=localStorage.getItem("token")}onSubmit(){console.log("onSubmit - start");const o=this.myForm.value;this.getVarReportData(o.month,o.year,this.isSingleMonth)}slectedTypeReport(o){console.log(o.target.value),this.months="oneMonth"===o.target.value?s.wU:s.e7,console.log(this.months)}toggleSingleMonth(){this.isSingleMonth=!this.isSingleMonth}getVarReportData(o,r,p){var i=this;return(0,x.Z)(function*(){const c=i.myForm.value;let d=function E(e){const n=h(e);return n.setDate(1),n.setHours(0,0,0,0),n}(new Date(r,o)),f=p?Number(o):Number(o)+1,J=function y(e){const n=h(e),o=n.getMonth();return n.setFullYear(n.getFullYear(),o+1,0),n.setHours(23,59,59,999),n}(new Date(r,f));i.vatReportService.getVatReportData(d,J,c.vatableTurnover,c.nonVatableTurnover,i.token).subscribe(b=>{console.log("res of vat report is",b),i.report=b,console.log("report is ",i.report)})})()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(T),t.Y36(u.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-vat-report"]],inputs:{isSingleMonth:"isSingleMonth"},decls:21,vars:7,consts:[[3,"fullscreen"],[1,"wrap-screen"],[1,"flex-form",3,"formGroup","ngSubmit"],[1,"report-title"],["label-placement","floating","interface","popover","fill","outline","label","\u05d7\u05d5\u05d3\u05e9\u05d9 / \u05d3\u05d5-\u05d7\u05d5\u05d3\u05e9\u05d9",1,"input-vat-report",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","month","label-placement","floating","interface","popover","fill","outline","label","\u05d1\u05d7\u05e8 \u05d7\u05d5\u05d3\u05e9\u05d9 \u05d3\u05d5\u05d7",1,"input-vat-report"],["formControlName","year","label-placement","floating","interface","popover","fill","outline","label","\u05d1\u05d7\u05e8 \u05e9\u05e0\u05d4",1,"input-vat-report"],["type","number","label",'\u05e2\u05e1\u05e7\u05d0\u05d5\u05ea \u05d7\u05d9\u05d9\u05d1\u05d5\u05ea \u05dc\u05e4\u05e0\u05d9 \u05de\u05e2"\u05de',"label-placement","floating","fill","outline","formControlName","vatableTurnover",1,"input-vat-report"],["type","number","label",'\u05e2\u05e1\u05e7\u05d0\u05d5\u05ea \u05e4\u05d8\u05d5\u05e8\u05d5\u05ea \u05de\u05de\u05e2"\u05de \u05d0\u05d5 \u05d1\u05e9\u05d9\u05e2\u05d5\u05e8 0',"label-placement","floating","fill","outline","formControlName","nonVatableTurnover",1,"input-vat-report"],["type","submit",1,"login-submit-button"],[4,"ngIf"],[1,"wrap-buttons"],["buttonText","\u05e4\u05d9\u05e8\u05d5\u05d8 \u05d4\u05d5\u05e6\u05d0\u05d5\u05ea"],["buttonText","\u05dc\u05ea\u05e9\u05dc\u05d5\u05dd \u05d1\u05d0\u05ea\u05e8 \u05de\u05e2\u05de","href","","target","_blank"],[3,"value"],[1,"text-before-report"],[1,"wrap-output-report"],["class","output-vat-report",4,"ngFor","ngForOf"],[1,"output-vat-report"],[1,"field-report"],[1,"value-field-report"]],template:function(o,r){1&o&&(t._UZ(0,"app-custom-toolbar"),t.TgZ(1,"ion-content",0)(2,"div",1)(3,"form",2),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(4,"p",3),t._uU(5,'\u05e4\u05e8\u05d8\u05d9 \u05d3\u05d5"\u05d7'),t.qZA(),t.TgZ(6,"ion-select",4),t.NdJ("ionChange",function(i){return r.slectedTypeReport(i)}),t.YNc(7,w,2,2,"ion-select-option",5),t.qZA(),t.TgZ(8,"ion-select",6),t.YNc(9,C,2,2,"ion-select-option",5),t.qZA(),t.TgZ(10,"ion-select",7),t.YNc(11,V,2,2,"ion-select-option",5),t.qZA(),t._UZ(12,"ion-input",8)(13,"ion-input",9),t.TgZ(14,"ion-button",10),t._uU(15,"\u05e6\u05d5\u05e8 \u05d3\u05d5\u05d7"),t.qZA()(),t.YNc(16,Z,3,0,"ng-container",11),t.YNc(17,A,5,1,"ng-container",11),t.TgZ(18,"div",12),t._UZ(19,"app-button",13)(20,"app-button",14),t.qZA()()()),2&o&&(t.xp6(1),t.Q6J("fullscreen",!0),t.xp6(2),t.Q6J("formGroup",r.myForm),t.xp6(4),t.Q6J("ngForOf",r.optionTypeReport),t.xp6(2),t.Q6J("ngForOf",r.months),t.xp6(2),t.Q6J("ngForOf",r.years),t.xp6(5),t.Q6J("ngIf",!r.report),t.xp6(1),t.Q6J("ngIf",r.report))},dependencies:[g.sg,g.O5,u._Y,u.JJ,u.JL,l.YG,l.W2,l.pK,l.t9,l.n0,l.as,l.QI,u.sg,u.u,R.B,P.r],styles:[".wrap-screen[_ngcontent-%COMP%]{width:100%;height:95%;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.flex-form[_ngcontent-%COMP%]{width:95%;display:flex;justify-content:center;align-items:center;border:2px solid rgb(79,171,79);border-radius:15px;padding:10px;margin-top:10px}.input-vat-report[_ngcontent-%COMP%]{flex:1;--border-radius: 15px;margin-right:10px;font-size:90%;box-sizing:border-box}.login-submit-button[_ngcontent-%COMP%]{text-align:center;white-space:normal;--background: rgb(79, 171, 79);--border-radius: 50%;--border-color: #878383;--border-style: solid;--border-width: 1px;--box-shadow: 0 2px 6px 0 rgb(0, 0, 0, .25);height:50px;width:50px;margin-right:10px}.wrap-output-report[_ngcontent-%COMP%]{width:80%;display:flex;flex-direction:column;justify-content:center;align-items:center;border:2px solid rgb(79,171,79);border-radius:15px;padding:10px;margin:10px}.output-vat-report[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-bottom:1px solid;margin:10px;width:50%}.value-field-report[_ngcontent-%COMP%]{border:1px solid black;color:gray;border-radius:5px;padding:1px 5px;margin-bottom:5px;width:20%;text-align:center}.field-report[_ngcontent-%COMP%]{color:gray}.wrap-buttons[_ngcontent-%COMP%]{width:75%;display:flex;justify-content:center;margin-bottom:10px;flex-wrap:wrap}.report-title[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 640px){.wrap-screen[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.flex-form[_ngcontent-%COMP%]{width:95%;display:flex;flex-direction:column;justify-content:center;align-items:center;border:2px solid rgb(79,171,79);border-radius:15px;padding:10px;margin-top:10px}.input-vat-report[_ngcontent-%COMP%]{flex:1;--border-radius: 15px;margin-top:10px;font-size:90%;box-sizing:border-box}.text-before-report[_ngcontent-%COMP%]{text-align:center}.wrap-output-report[_ngcontent-%COMP%]{width:95%;display:flex;flex-direction:column;justify-content:center;align-items:center;border:2px solid rgb(79,171,79);border-radius:15px;padding:10px;margin:10px}.output-vat-report[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-bottom:1px solid;margin:10px;width:95%}.report-title[_ngcontent-%COMP%]{display:block;font-weight:800}}"]}),e})()}];let N=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(_),m.Bz]}),e})();var F=a(4466);let j=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,u.u5,l.Pc,N,u.UX,F.m]}),e})()}}]);