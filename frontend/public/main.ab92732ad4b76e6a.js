(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{1432:(xn,bt,k)=>{"use strict";k.d(bt,{nm:()=>_i});var y=k(2088),Te=(k(2223),k(3692),k(8140),k(5861)),me=k(5752),Pe=k(1617),Xe=k(5578),j=k(1877);const De=new Map,ye={activated:!1,tokenObservers:[]},we={initialized:!1,enabled:!1};function Ve(ee){return De.get(ee)||Object.assign({},ye)}function at(){return we}const Mt="https://content-firebaseappcheck.googleapis.com/v1",_e="exchangeDebugToken",mt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class vt{constructor(se,Ae,he,He,Ze){if(this.operation=se,this.retryPolicy=Ae,this.getWaitDuration=he,this.lowerBound=He,this.upperBound=Ze,this.pending=null,this.nextErrorWaitInterval=He,He>Ze)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(se){var Ae=this;return(0,Te.Z)(function*(){Ae.stop();try{Ae.pending=new Xe.BH,yield function pt(ee){return new Promise(se=>{setTimeout(se,ee)})}(Ae.getNextRun(se)),Ae.pending.resolve(),yield Ae.pending.promise,Ae.pending=new Xe.BH,yield Ae.operation(),Ae.pending.resolve(),yield Ae.pending.promise,Ae.process(!0).catch(()=>{})}catch(he){Ae.retryPolicy(he)?Ae.process(!1).catch(()=>{}):Ae.stop()}})()}getNextRun(se){if(se)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ae=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ae}}}const We=new Xe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $t(ee){if(!Ve(ee).activated)throw We.create("use-before-activation",{appName:ee.name})}function zt(ee,se){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,Te.Z)(function*({url:ee,body:se},Ae){const he={"Content-Type":"application/json"},He=Ae.getImmediate({optional:!0});if(He){const vr=yield He.getHeartbeatsHeader();vr&&(he["X-Firebase-Client"]=vr)}const Ze={method:"POST",body:JSON.stringify(se),headers:he};let xt,Lt;try{xt=yield fetch(ee,Ze)}catch(vr){throw We.create("fetch-network-error",{originalErrorMessage:vr?.message})}if(200!==xt.status)throw We.create("fetch-status-error",{httpStatus:xt.status});try{Lt=yield xt.json()}catch(vr){throw We.create("fetch-parse-error",{originalErrorMessage:vr?.message})}const qt=Lt.ttl.match(/^([\d.]+)(s)$/);if(!qt||!qt[2]||isNaN(Number(qt[1])))throw We.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Lt.ttl}`});const En=1e3*Number(qt[1]),Bn=Date.now();return{token:Lt.token,expireTimeMillis:Bn+En,issuedAtTimeMillis:Bn}})).apply(this,arguments)}function st(ee,se){const{projectId:Ae,appId:he,apiKey:He}=ee.options;return{url:`${Mt}/projects/${Ae}/apps/${he}:${_e}?key=${He}`,body:{debug_token:se}}}const Ye="firebase-app-check-database",Ue=1,Qe="firebase-app-check-store";let yt=null;function Yt(){return(Yt=(0,Te.Z)(function*(ee,se){const he=(yield function Jt(){return yt||(yt=new Promise((ee,se)=>{try{const Ae=indexedDB.open(Ye,Ue);Ae.onsuccess=he=>{ee(he.target.result)},Ae.onerror=he=>{var He;se(We.create("storage-open",{originalErrorMessage:null===(He=he.target.error)||void 0===He?void 0:He.message}))},Ae.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(Qe,{keyPath:"compositeKey"})}}catch(Ae){se(We.create("storage-open",{originalErrorMessage:Ae?.message}))}}),yt)}()).transaction(Qe,"readwrite"),Ze=he.objectStore(Qe).put({compositeKey:ee,value:se});return new Promise((xt,Lt)=>{Ze.onsuccess=qt=>{xt()},he.onerror=qt=>{var En;Lt(We.create("storage-set",{originalErrorMessage:null===(En=qt.target.error)||void 0===En?void 0:En.message}))}})})).apply(this,arguments)}const Kt=new j.Yd("@firebase/app-check");function lr(ee,se){return(0,Xe.hl)()?function mn(ee,se){return function hn(ee,se){return Yt.apply(this,arguments)}(function Tt(ee){return`${ee.options.appId}-${ee.name}`}(ee),se)}(ee,se).catch(Ae=>{Kt.warn(`Failed to write token to IndexedDB. Error: ${Ae}`)}):Promise.resolve()}function Jn(){return at().enabled}function Qr(){return Er.apply(this,arguments)}function Er(){return(Er=(0,Te.Z)(function*(){const ee=at();if(ee.enabled&&ee.token)return ee.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vn={error:"UNKNOWN_ERROR"};function ge(ee){return Xe.US.encodeString(JSON.stringify(ee),!1)}function ht(ee){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,Te.Z)(function*(ee,se=!1){const Ae=ee.app;$t(Ae);const he=Ve(Ae);let Ze,He=he.token;if(He&&!Xr(He)&&(he.token=void 0,He=void 0),!He){const qt=yield he.cachedTokenPromise;qt&&(Xr(qt)?He=qt:yield lr(Ae,void 0))}if(!se&&He&&Xr(He))return{token:He.token};let Lt,xt=!1;if(Jn()){he.exchangeTokenPromise||(he.exchangeTokenPromise=zt(st(Ae,yield Qr()),ee.heartbeatServiceProvider).finally(()=>{he.exchangeTokenPromise=void 0}),xt=!0);const qt=yield he.exchangeTokenPromise;return yield lr(Ae,qt),he.token=qt,{token:qt.token}}try{he.exchangeTokenPromise||(he.exchangeTokenPromise=he.provider.getToken().finally(()=>{he.exchangeTokenPromise=void 0}),xt=!0),He=yield Ve(Ae).exchangeTokenPromise}catch(qt){"appCheck/throttled"===qt.code?Kt.warn(qt.message):Kt.error(qt),Ze=qt}return He?Ze?Lt=Xr(He)?{token:He.token,internalError:Ze}:Qi(Ze):(Lt={token:He.token},he.token=He,yield lr(Ae,He)):Lt=Qi(Ze),xt&&function Un(ee,se){const Ae=Ve(ee).tokenObservers;for(const he of Ae)try{"EXTERNAL"===he.type&&null!=se.error?he.error(se.error):he.next(se)}catch{}}(Ae,Lt),Lt})).apply(this,arguments)}function Wn(ee){return nn.apply(this,arguments)}function nn(){return(nn=(0,Te.Z)(function*(ee){const se=ee.app;$t(se);const{provider:Ae}=Ve(se);if(Jn()){const he=yield Qr(),{token:He}=yield zt(st(se,he),ee.heartbeatServiceProvider);return{token:He}}{const{token:he}=yield Ae.getToken();return{token:he}}})).apply(this,arguments)}function ei(ee,se){const Ae=Ve(ee),he=Ae.tokenObservers.filter(He=>He.next!==se);0===he.length&&Ae.tokenRefresher&&Ae.tokenRefresher.isRunning()&&Ae.tokenRefresher.stop(),Ae.tokenObservers=he}function qr(ee){const{app:se}=ee,Ae=Ve(se);let he=Ae.tokenRefresher;he||(he=function xr(ee){const{app:se}=ee;return new vt((0,Te.Z)(function*(){let he;if(he=Ve(se).token?yield ht(ee,!0):yield ht(ee),he.error)throw he.error;if(he.internalError)throw he.internalError}),()=>!0,()=>{const Ae=Ve(se);if(Ae.token){let he=Ae.token.issuedAtTimeMillis+.5*(Ae.token.expireTimeMillis-Ae.token.issuedAtTimeMillis)+3e5;return he=Math.min(he,Ae.token.expireTimeMillis-3e5),Math.max(0,he-Date.now())}return 0},mt.RETRIAL_MIN_WAIT,mt.RETRIAL_MAX_WAIT)}(ee),Ae.tokenRefresher=he),!he.isRunning()&&Ae.isTokenAutoRefreshEnabled&&he.start()}function Xr(ee){return ee.expireTimeMillis-Date.now()>0}function Qi(ee){return{token:ge(vn),error:ee}}class Mi{constructor(se,Ae){this.app=se,this.heartbeatServiceProvider=Ae}_delete(){const{tokenObservers:se}=Ve(this.app);for(const Ae of se)ei(this.app,Ae.next);return Promise.resolve()}}const Kn="app-check-internal";!function dr(){(0,me._registerComponent)(new Pe.wA("app-check",ee=>function Pi(ee,se){return new Mi(ee,se)}(ee.getProvider("app").getImmediate(),ee.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ee,se,Ae)=>{ee.getProvider(Kn).initialize()})),(0,me._registerComponent)(new Pe.wA(Kn,ee=>function jr(ee){return{getToken:se=>ht(ee,se),getLimitedUseToken:()=>Wn(ee),addTokenListener:se=>function Wr(ee,se,Ae,he){const{app:He}=ee,Ze=Ve(He);if(Ze.tokenObservers=[...Ze.tokenObservers,{next:Ae,error:he,type:se}],Ze.token&&Xr(Ze.token)){const Lt=Ze.token;Promise.resolve().then(()=>{Ae({token:Lt.token}),qr(ee)}).catch(()=>{})}Ze.cachedTokenPromise.then(()=>qr(ee))}(ee,"INTERNAL",se),removeTokenListener:se=>ei(ee.app,se)}}(ee.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,me.registerVersion)("@firebase/app-check","0.8.0")}();class _i{constructor(){return(0,y.vb)("app-check")}}typeof window<"u"&&window},3692:(xn,bt,k)=>{"use strict";k.d(bt,{Ot:()=>K}),k(8140),k(2223);class K{constructor(dt){return dt}}},1205:(xn,bt,k)=>{"use strict";k.d(bt,{zQ:()=>Sn,ww:()=>Et,rT:()=>tt,f7:()=>zt,L6:()=>be,_Q:()=>$t,lh:()=>Ft,Qv:()=>We,nw:()=>Vt});var y=k(2223),h=k(7579),K=k(9646),P=k(9751),Te=k(8996),me=k(6451),Pe=k(5363),Xe=k(3900),j=k(4004),De=k(6063);class ye extends h.x{constructor(Ye=1/0,Ue=1/0,Qe=De.l){super(),this._bufferSize=Ye,this._windowTime=Ue,this._timestampProvider=Qe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ue===1/0,this._bufferSize=Math.max(1,Ye),this._windowTime=Math.max(1,Ue)}next(Ye){const{isStopped:Ue,_buffer:Qe,_infiniteTimeWindow:ut,_timestampProvider:yt,_windowTime:Jt}=this;Ue||(Qe.push(Ye),!ut&&Qe.push(yt.now()+Jt)),this._trimBuffer(),super.next(Ye)}_subscribe(Ye){this._throwIfClosed(),this._trimBuffer();const Ue=this._innerSubscribe(Ye),{_infiniteTimeWindow:Qe,_buffer:ut}=this,yt=ut.slice();for(let Jt=0;Jt<yt.length&&!Ye.closed;Jt+=Qe?1:2)Ye.next(yt[Jt]);return this._checkFinalizedStatuses(Ye),Ue}_trimBuffer(){const{_bufferSize:Ye,_timestampProvider:Ue,_buffer:Qe,_infiniteTimeWindow:ut}=this,yt=(ut?1:2)*Ye;if(Ye<1/0&&yt<Qe.length&&Qe.splice(0,Qe.length-yt),!ut){const Jt=Ue.now();let Nn=0;for(let mn=1;mn<Qe.length&&Qe[mn]<=Jt;mn+=2)Nn=mn;Nn&&Qe.splice(0,Nn+1)}}}var we=k(3099);function Ve(st,Ye,Ue){let Qe,ut=!1;return st&&"object"==typeof st?({bufferSize:Qe=1/0,windowTime:Ye=1/0,refCount:ut=!1,scheduler:Ue}=st):Qe=st??1/0,(0,we.B)({connector:()=>new ye(Qe,Ye,Ue),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ut})}var je=k(590),at=k(576);function Mt(st,Ye){return(0,at.m)(Ye)?(0,Xe.w)(()=>st,Ye):(0,Xe.w)(()=>st)}var ze=k(9468),Ge=k(9300),_e=k(2088),mt=k(2011),dt=k(4755),vt=k(1432),pt=k(1274);const We=new y.OlP("angularfire2.auth.use-emulator"),be=new y.OlP("angularfire2.auth.settings"),$t=new y.OlP("angularfire2.auth.tenant-id"),tt=new y.OlP("angularfire2.auth.langugage-code"),Ft=new y.OlP("angularfire2.auth.use-device-language"),zt=new y.OlP("angularfire.auth.persistence"),Vt=(st,Ye,Ue,Qe,ut,yt,Jt,Nn)=>(0,mt.cc)(`${st.name}.auth`,"AngularFireAuth",st.name,()=>{const mn=Ye.runOutsideAngular(()=>st.auth());if(Ue&&mn.useEmulator(...Ue),Qe&&(mn.tenantId=Qe),mn.languageCode=ut,yt&&mn.useDeviceLanguage(),Jt)for(const[On,St]of Object.entries(Jt))mn.settings[On]=St;return Nn&&mn.setPersistence(Nn),mn},[Ue,Qe,ut,yt,Jt,Nn]);let Sn=(()=>{class st{constructor(Ue,Qe,ut,yt,Jt,Nn,mn,On,St,hn,Yt,ct){const Xt=new h.x,Tt=(0,K.of)(void 0).pipe((0,Pe.Q)(Jt.outsideAngular),(0,Xe.w)(()=>yt.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5054)))),(0,j.U)(()=>(0,mt.on)(Ue,yt,Qe)),(0,j.U)(Kt=>Vt(Kt,yt,Nn,On,St,hn,mn,Yt)),Ve({bufferSize:1,refCount:!1}));if((0,dt.PM)(ut))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,K.of)(null);else{Tt.pipe((0,je.P)()).subscribe();const kn=Tt.pipe((0,Xe.w)(cr=>cr.getRedirectResult().then(bn=>bn,()=>null)),_e.iC,Ve({bufferSize:1,refCount:!1})),Xn=Tt.pipe((0,Xe.w)(cr=>new P.y(bn=>({unsubscribe:yt.runOutsideAngular(()=>cr.onAuthStateChanged(Jn=>bn.next(Jn),Jn=>bn.error(Jn),()=>bn.complete()))})))),lr=Tt.pipe((0,Xe.w)(cr=>new P.y(bn=>({unsubscribe:yt.runOutsideAngular(()=>cr.onIdTokenChanged(Jn=>bn.next(Jn),Jn=>bn.error(Jn),()=>bn.complete()))}))));this.authState=kn.pipe(Mt(Xn),(0,ze.R)(Jt.outsideAngular),(0,Pe.Q)(Jt.insideAngular)),this.user=kn.pipe(Mt(lr),(0,ze.R)(Jt.outsideAngular),(0,Pe.Q)(Jt.insideAngular)),this.idToken=this.user.pipe((0,Xe.w)(cr=>cr?(0,Te.D)(cr.getIdToken()):(0,K.of)(null))),this.idTokenResult=this.user.pipe((0,Xe.w)(cr=>cr?(0,Te.D)(cr.getIdTokenResult()):(0,K.of)(null))),this.credential=(0,me.T)(kn,Xt,this.authState.pipe((0,Ge.h)(cr=>!cr))).pipe((0,j.U)(cr=>cr?.user?cr:null),(0,ze.R)(Jt.outsideAngular),(0,Pe.Q)(Jt.insideAngular))}return(0,mt.pX)(this,Tt,yt,{spy:{apply:(Kt,kn,Xn)=>{(Kt.startsWith("signIn")||Kt.startsWith("createUser"))&&Xn.then(lr=>Xt.next(lr))}}})}}return st.\u0275fac=function(Ue){return new(Ue||st)(y.LFG(mt.Dh),y.LFG(mt.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(_e.HU),y.LFG(We,8),y.LFG(be,8),y.LFG($t,8),y.LFG(tt,8),y.LFG(Ft,8),y.LFG(zt,8),y.LFG(vt.nm,8))},st.\u0275prov=y.Yz7({token:st,factory:st.\u0275fac,providedIn:"any"}),st})(),Et=(()=>{class st{constructor(){pt.Z.registerVersion("angularfire",_e.q4.full,"auth-compat")}}return st.\u0275fac=function(Ue){return new(Ue||st)},st.\u0275mod=y.oAB({type:st}),st.\u0275inj=y.cJS({providers:[Sn]}),st})()},4179:(xn,bt,k)=>{"use strict";k.d(bt,{ST:()=>j0,yb:()=>zv});var y=k(2223),h=k(4986),K=k(9751),P=k(8996),Te=k(9646),me=k(2088),Pe=k(8675),Xe=k(4482),j=k(5403);function De(){return(0,Xe.e)((i,e)=>{let t,s=!1;i.subscribe((0,j.x)(e,a=>{const g=t;t=a,s&&e.next([g,a]),s=!0}))})}var be,ye=k(4004),we=k(5026),Ve=k(1884),je=k(9300),at=k(2011),Mt=k(4755),Ge=(k(5054),k(6101)),_e=k(5861),mt=k(5752),dt=k(1617),vt=k(1877),pt=k(5578),Dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},We={},$t=$t||{},tt=Dt||self;function Ft(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function zt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Sn="closure_uid_"+(1e9*Math.random()>>>0),Et=0;function st(i,e,t){return i.call.apply(i.bind,arguments)}function Ye(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),i.apply(e,a)}}return function(){return i.apply(e,arguments)}}function Ue(i,e,t){return(Ue=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?st:Ye).apply(null,arguments)}function Qe(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function ut(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(s,a,g){for(var D=Array(arguments.length-2),U=2;U<arguments.length;U++)D[U-2]=arguments[U];return e.prototype[a].apply(s,D)}}function yt(){this.s=this.s,this.o=this.o}yt.prototype.s=!1,yt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Vt(i){Object.prototype.hasOwnProperty.call(i,Sn)&&i[Sn]||(i[Sn]=++Et)}(this)},yt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function mn(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function On(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Ft(s)){const a=i.length||0,g=s.length||0;i.length=a+g;for(let D=0;D<g;D++)i[a+D]=s[D]}else i.push(s)}}function St(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}St.prototype.h=function(){this.defaultPrevented=!0};var hn=function(){if(!tt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{tt.addEventListener("test",()=>{},e),tt.removeEventListener("test",()=>{},e)}catch{}return i}();function Yt(i){return/^[\s\xa0]*$/.test(i)}function ct(){var i=tt.navigator;return i&&(i=i.userAgent)?i:""}function Xt(i){return-1!=ct().indexOf(i)}function Tt(i){return Tt[" "](i),i}Tt[" "]=function(){};var Er,i,kn=Xt("Opera"),Xn=Xt("Trident")||Xt("MSIE"),lr=Xt("Edge"),cr=lr||Xn,bn=Xt("Gecko")&&!(-1!=ct().toLowerCase().indexOf("webkit")&&!Xt("Edge"))&&!(Xt("Trident")||Xt("MSIE"))&&!Xt("Edge"),Jn=-1!=ct().toLowerCase().indexOf("webkit")&&!Xt("Edge");function Qr(){var i=tt.document;return i?i.documentMode:void 0}e:{var Ht="",vn=(i=ct(),bn?/rv:([^\);]+)(\)|;)/.exec(i):lr?/Edge\/([\d\.]+)/.exec(i):Xn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Jn?/WebKit\/(\S+)/.exec(i):kn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(vn&&(Ht=vn?vn[1]:""),Xn){var ge=Qr();if(null!=ge&&ge>parseFloat(Ht)){Er=String(ge);break e}}Er=Ht}var Wn=tt.document&&Xn&&(Qr()||parseInt(Er,10))||void 0;function nn(i,e){if(St.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(bn){e:{try{Tt(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Wr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&nn.$.h.call(this)}}ut(nn,St);var Wr={2:"touch",3:"pen",4:"mouse"};nn.prototype.h=function(){nn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ei="closure_listenable_"+(1e6*Math.random()|0),qr=0;function xr(i,e,t,s,a){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++qr,this.fa=this.ia=!1}function Un(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Xr(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function Mi(i){const e={};for(const t in i)e[t]=i[t];return e}const Pi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jr(i,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)i[t]=s[t];for(let g=0;g<Pi.length;g++)t=Pi[g],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function Le(i){this.src=i,this.g={},this.h=0}function Ti(i,e){var t=e.type;if(t in i.g){var g,s=i.g[t],a=Nn(s,e);(g=0<=a)&&Array.prototype.splice.call(s,a,1),g&&(Un(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Pr(i,e,t,s){for(var a=0;a<i.length;++a){var g=i[a];if(!g.fa&&g.listener==e&&g.capture==!!t&&g.la==s)return a}return-1}Le.prototype.add=function(i,e,t,s,a){var g=i.toString();(i=this.g[g])||(i=this.g[g]=[],this.h++);var D=Pr(i,e,s,a);return-1<D?(e=i[D],t||(e.ia=!1)):((e=new xr(e,this.src,g,!!s,a)).ia=t,i.push(e)),e};var ai="closure_lm_"+(1e6*Math.random()|0),Gi={};function ti(i,e,t,s,a){if(s&&s.once)return Ee(i,e,t,s,a);if(Array.isArray(e)){for(var g=0;g<e.length;g++)ti(i,e[g],t,s,a);return null}return t=Ke(t),i&&i[ei]?i.O(e,t,zt(s)?!!s.capture:!!s,a):ui(i,e,t,!1,s,a)}function ui(i,e,t,s,a,g){if(!e)throw Error("Invalid event type");var D=zt(a)?!!a.capture:!!a,U=Se(i);if(U||(i[ai]=U=new Le(i)),(t=U.add(e,t,s,D,g)).proxy)return t;if(s=function lt(){const e=$e;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)hn||(a=D),void 0===a&&(a=!1),i.addEventListener(e.toString(),s,a);else if(i.attachEvent)i.attachEvent(X(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function Ee(i,e,t,s,a){if(Array.isArray(e)){for(var g=0;g<e.length;g++)Ee(i,e[g],t,s,a);return null}return t=Ke(t),i&&i[ei]?i.P(e,t,zt(s)?!!s.capture:!!s,a):ui(i,e,t,!0,s,a)}function te(i,e,t,s,a){if(Array.isArray(e))for(var g=0;g<e.length;g++)te(i,e[g],t,s,a);else s=zt(s)?!!s.capture:!!s,t=Ke(t),i&&i[ei]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Pr(g=i.g[e],t,s,a))&&(Un(g[t]),Array.prototype.splice.call(g,t,1),0==g.length&&(delete i.g[e],i.h--))):i&&(i=Se(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Pr(e,t,s,a)),(t=-1<i?e[i]:null)&&q(t))}function q(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[ei])Ti(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(X(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Se(e))?(Ti(t,i),0==t.h&&(t.src=null,e[ai]=null)):Un(i)}}}function X(i){return i in Gi?Gi[i]:Gi[i]="on"+i}function $e(i,e){if(i.fa)i=!0;else{e=new nn(e,this);var t=i.listener,s=i.la||i.src;i.ia&&q(i),i=t.call(s,e)}return i}function Se(i){return(i=i[ai])instanceof Le?i:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ke(i){return"function"==typeof i?i:(i[ve]||(i[ve]=function(e){return i.handleEvent(e)}),i[ve])}function It(){yt.call(this),this.i=new Le(this),this.S=this,this.J=null}function sn(i,e){var t,s=i.J;if(s)for(t=[];s;s=s.J)t.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new St(e,i);else if(e instanceof St)e.target=e.target||i;else{var a=e;jr(e=new St(s,i),a)}if(a=!0,t)for(var g=t.length-1;0<=g;g--){var D=e.g=t[g];a=tn(D,s,!0,e)&&a}if(a=tn(D=e.g=i,s,!0,e)&&a,a=tn(D,s,!1,e)&&a,t)for(g=0;g<t.length;g++)a=tn(D=e.g=t[g],s,!1,e)&&a}function tn(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,g=0;g<e.length;++g){var D=e[g];if(D&&!D.fa&&D.capture==t){var U=D.listener,ne=D.la||D.src;D.ia&&Ti(i.i,D),a=!1!==U.call(ne,s)&&a}}return a&&!s.defaultPrevented}ut(It,yt),It.prototype[ei]=!0,It.prototype.removeEventListener=function(i,e,t,s){te(this,i,e,t,s)},It.prototype.N=function(){if(It.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)Un(t[s]);delete i.g[e],i.h--}}this.J=null},It.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},It.prototype.P=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var Dn=tt.JSON.stringify;function nr(){var i=Fr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var an=new class rr{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Bt,i=>i.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gn(i){var e=1;i=i.split(":");const t=[];for(;0<e&&i.length;)t.push(i.shift()),e--;return i.length&&t.push(i.join(":")),t}function Kn(i){tt.setTimeout(()=>{throw i},0)}let dr,mr=!1,Fr=new class Or{constructor(){this.h=this.g=null}add(e,t){const s=an.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},_i=()=>{const i=tt.Promise.resolve(void 0);dr=()=>{i.then(Sr)}};var Sr=()=>{for(var i;i=nr();){try{i.h.call(i.g)}catch(t){Kn(t)}var e=an;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}mr=!1};function er(i,e){It.call(this),this.h=i||1,this.g=e||tt,this.j=Ue(this.qb,this),this.l=Date.now()}function Dr(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Bs(i,e,t){if("function"==typeof i)t&&(i=Ue(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ue(i.handleEvent,i)}return 2147483647<Number(e)?-1:tt.setTimeout(i,e||0)}function hi(i){i.g=Bs(()=>{i.g=null,i.i&&(i.i=!1,hi(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ut(er,It),(be=er.prototype).ga=!1,be.T=null,be.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),sn(this,"tick"),this.ga&&(Dr(this),this.start()))}},be.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},be.N=function(){er.$.N.call(this),Dr(this),delete this.g};class Z extends yt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hi(this)}N(){super.N(),this.g&&(tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wt(i){yt.call(this),this.h=i,this.g={}}ut(wt,yt);var J=[];function Pt(i,e,t,s){Array.isArray(t)||(t&&(J[0]=t.toString()),t=J);for(var a=0;a<t.length;a++){var g=ti(e,t[a],s||i.handleEvent,!1,i.h||i);if(!g)break;i.g[g.key]=g}}function Zt(i){Xr(i.g,function(e,t){this.g.hasOwnProperty(t)&&q(e)},i),i.g={}}function An(){this.g=!0}function ns(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ee(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var g=a[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var D=1;D<a.length;D++)a[D]=""}}}return Dn(t)}catch{return e}}(i,t)+(s?" "+s:"")})}wt.prototype.N=function(){wt.$.N.call(this),Zt(this)},wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},An.prototype.Ea=function(){this.g=!1},An.prototype.info=function(){};var se={},Ae=null;function he(){return Ae=Ae||new It}function He(i){St.call(this,se.Ta,i)}function Ze(i){const e=he();sn(e,new He(e))}function xt(i,e){St.call(this,se.STAT_EVENT,i),this.stat=e}function Lt(i){const e=he();sn(e,new xt(e,i))}function qt(i,e){St.call(this,se.Ua,i),this.size=e}function En(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return tt.setTimeout(function(){i()},e)}se.Ta="serverreachability",ut(He,St),se.STAT_EVENT="statevent",ut(xt,St),se.Ua="timingevent",ut(qt,St);var Bn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wr(){}function Js(){}wr.prototype.h=null;var $r,Us={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fi(){St.call(this,"d")}function zn(){St.call(this,"c")}function Vi(){}function ws(i,e,t,s){this.l=i,this.j=e,this.m=t,this.W=s||1,this.U=new wt(this),this.P=$s,this.V=new er(i=cr?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new uo}function uo(){this.i=null,this.g="",this.h=!1}ut(Fi,St),ut(zn,St),ut(Vi,wr),Vi.prototype.g=function(){return new XMLHttpRequest},Vi.prototype.i=function(){return{}},$r=new Vi;var $s=45e3,po={},Hi={};function Ys(i,e,t){i.L=1,i.v=nt(go(e)),i.s=t,i.S=!0,lo(i,null)}function lo(i,e){i.G=Date.now(),no(i),i.A=go(i.v);var t=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),ji(t.i,"t",s),i.C=0,t=i.l.J,i.h=new uo,i.g=si(i.l,t?e:null,!i.s),0<i.O&&(i.M=new Z(Ue(i.Pa,i,i.g),i.O)),Pt(i.U,i.g,"readystatechange",i.nb),e=i.I?Mi(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Ze(),function yr(i,e,t,s,a,g){i.info(function(){if(i.g)if(g)for(var D="",U=g.split("&"),ne=0;ne<U.length;ne++){var le=U[ne].split("=");if(1<le.length){var Oe=le[0];le=le[1];var _t=Oe.split("_");D=2<=_t.length&&"type"==_t[1]?D+(Oe+"=")+le+"&":D+(Oe+"=redacted&")}}else D=null;else D=g;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+D})}(i.j,i.u,i.A,i.m,i.W,i.s)}function ni(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function As(i,e,t){let a,s=!0;for(;!i.J&&i.C<t.length;){if(a=xo(i,t),a==Hi){4==e&&(i.o=4,Lt(14),s=!1),ns(i.j,i.m,null,"[Incomplete Response]");break}if(a==po){i.o=4,Lt(15),ns(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}ns(i.j,i.m,a,null),vi(i,a)}ni(i)&&a!=Hi&&a!=po&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Lt(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Xa(e),e.M=!0,Lt(11))):(ns(i.j,i.m,t,"[Invalid Chunked Response]"),ri(i),ro(i))}function xo(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?Hi:(t=Number(e.substring(t,s)),isNaN(t)?po:(s+=1)+t>e.length?Hi:(e=e.slice(s,s+t),i.C=s+t,e))}function no(i){i.Y=Date.now()+i.P,Wi(i,i.P)}function Wi(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=En(Ue(i.lb,i),e)}function Mo(i){i.B&&(tt.clearTimeout(i.B),i.B=null)}function ro(i){0==i.l.H||i.J||Ja(i.l,i)}function ri(i){Mo(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Dr(i.V),Zt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function vi(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||li(t.i,i)))if(!i.K&&li(t.i,i)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;Zu(t),ca(t)}Na(t),Lt(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=En(Ue(t.ib,t),6e3));if(1>=xi(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else _n(t,11)}else if((i.K||t.g==i)&&Zu(t),!Yt(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let le=a[e];if(t.V=le[0],le=le[1],2==t.H)if("c"==le[0]){t.K=le[1],t.pa=le[2];const Oe=le[3];null!=Oe&&(t.ra=Oe,t.l.info("VER="+t.ra));const _t=le[4];null!=_t&&(t.Ga=_t,t.l.info("SVER="+t.Ga));const un=le[5];null!=un&&"number"==typeof un&&0<un&&(t.L=s=1.5*un,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const Cn=i.g;if(Cn){const ir=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ir){var g=s.i;g.g||-1==ir.indexOf("spdy")&&-1==ir.indexOf("quic")&&-1==ir.indexOf("h2")||(g.j=g.l,g.g=new Set,g.h&&(ms(g,g.h),g.h=null))}if(s.F){const Br=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Br&&(s.Da=Br,ce(s.I,s.F,Br))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-i.G,t.l.info("Handshake RTT: "+t.S+"ms"));var D=i;if((s=t).wa=Ar(s,s.J?s.pa:null,s.Y),D.K){Ni(s.i,D);var U=D,ne=s.L;ne&&U.setTimeout(ne),U.B&&(Mo(U),no(U)),s.g=D}else Yl(s);0<t.j.length&&sl(t)}else"stop"!=le[0]&&"close"!=le[0]||_n(t,7);else 3==t.H&&("stop"==le[0]||"close"==le[0]?"stop"==le[0]?_n(t,7):Hs(t):"noop"!=le[0]&&t.h&&t.h.Aa(le),t.A=0)}Ze()}catch{}}function wo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ft(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Po(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Ft(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function Oa(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Ft(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),a=s.length,g=0;g<a;g++)e.call(void 0,s[g],t&&t[g],i)}(be=ws.prototype).setTimeout=function(i){this.P=i},be.nb=function(i){i=i.target;const e=this.M;e&&3==is(i)?e.l():this.Pa(i)},be.Pa=function(i){try{if(i==this.g)e:{const Oe=is(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Oe)&&(3!=Oe||cr||this.g&&(this.h.h||this.g.ja()||gi(this.g)))){this.J||4!=Oe||7==e||Ze(),Mo(this);var t=this.g.da();this.ca=t;t:if(ni(this)){var s=gi(this.g);i="";var a=s.length,g=4==is(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ri(this),ro(this);var D="";break t}this.h.i=new tt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:g&&e==a-1});s.splice(0,a),this.h.g+=i,this.C=0,D=this.h.g}else D=this.g.ja();if(this.i=200==t,function Kr(i,e,t,s,a,g,D){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+g+" "+D})}(this.j,this.u,this.A,this.m,this.W,Oe,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var U,ne=this.g;if((U=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yt(U)){var le=U;break t}}le=null}if(!(t=le)){this.i=!1,this.o=3,Lt(12),ri(this),ro(this);break e}ns(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vi(this,t)}this.S?(As(this,Oe,D),cr&&this.i&&3==Oe&&(Pt(this.U,this.V,"tick",this.mb),this.V.start())):(ns(this.j,this.m,D,null),vi(this,D)),4==Oe&&ri(this),this.i&&!this.J&&(4==Oe?Ja(this.l,this):(this.i=!1,no(this)))}else(function vo(i){const e={};i=(i.g&&2<=is(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(Yt(i[s]))continue;var t=gn(i[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const g=e[a]||[];e[a]=g,g.push(t)}!function Qi(i,e){for(const t in i)e.call(void 0,i[t],t,i)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<D.indexOf("Unknown SID")?(this.o=3,Lt(12)):(this.o=0,Lt(13)),ri(this),ro(this)}}}catch{}},be.mb=function(){if(this.g){var i=is(this.g),e=this.g.ja();this.C<e.length&&(Mo(this),As(this,i,e),this.i&&4!=i&&no(this))}},be.cancel=function(){this.J=!0,ri(this)},be.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Fs(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ze(),Lt(17)),ri(this),this.o=2,ro(this)):Wi(this,this.Y-i)};var io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yr(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Yr){this.h=i.h,Bo(this,i.j),this.s=i.s,this.g=i.g,Li(this,i.m),this.l=i.l;var e=i.i,t=new ii;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ce(this,t),this.o=i.o}else i&&(e=String(i).match(io))?(this.h=!1,Bo(this,e[1]||"",!0),this.s=gt(e[2]||""),this.g=gt(e[3]||"",!0),Li(this,e[4]),this.l=gt(e[5]||"",!0),Ce(this,e[6]||"",!0),this.o=gt(e[7]||"")):(this.h=!1,this.i=new ii(null,this.h))}function go(i){return new Yr(i)}function Bo(i,e,t){i.j=t?gt(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Li(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ce(i,e,t){e instanceof ii?(i.i=e,function Vs(i,e){e&&!i.j&&(rs(i),i.i=null,i.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Oi(this,s),ji(this,a,t))},i)),i.j=e}(i.i,i.h)):(t||(e=At(e,Gr)),i.i=new ii(e,i.h))}function ce(i,e,t){i.i.set(e,t)}function nt(i){return ce(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function gt(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function At(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,yn),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function yn(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Yr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(At(e,$n,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(At(e,$n,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(At(t,"/"==t.charAt(0)?fr:hr,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",At(t,mi)),i.join("")};var $n=/[#\/\?@]/g,hr=/[#\?:]/g,fr=/[#\?]/g,Gr=/[#\?@]/g,mi=/#/g;function ii(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function rs(i){i.g||(i.g=new Map,i.h=0,i.i&&function ea(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),a=null;if(0<=s){var g=i[t].substring(0,s);a=i[t].substring(s+1)}else g=i[t];e(g,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Oi(i,e){rs(i),e=Si(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Ns(i,e){return rs(i),e=Si(i,e),i.g.has(e)}function ji(i,e,t){Oi(i,e),0<t.length&&(i.i=null,i.g.set(Si(i,e),mn(t)),i.h+=t.length)}function Si(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function fi(i){this.l=i||Xi,i=tt.PerformanceNavigationTiming?0<(i=tt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(tt.g&&tt.g.Ka&&tt.g.Ka()&&tt.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(be=ii.prototype).add=function(i,e){rs(this),this.i=null,i=Si(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},be.forEach=function(i,e){rs(this),this.g.forEach(function(t,s){t.forEach(function(a){i.call(e,a,s,this)},this)},this)},be.ta=function(){rs(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=i[s];for(let g=0;g<a.length;g++)t.push(e[s])}return t},be.Z=function(i){rs(this);let e=[];if("string"==typeof i)Ns(this,i)&&(e=e.concat(this.g.get(Si(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},be.set=function(i,e){return rs(this),this.i=null,Ns(this,i=Si(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},be.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},be.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const g=encodeURIComponent(String(s)),D=this.Z(s);for(s=0;s<D.length;s++){var a=g;""!==D[s]&&(a+="="+encodeURIComponent(String(D[s]))),i.push(a)}}return this.i=i.join("&")};var Xi=10;function Ai(i){return!!i.h||!!i.g&&i.g.size>=i.j}function xi(i){return i.h?1:i.g?i.g.size:0}function li(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ms(i,e){i.g?i.g.add(e):i.h=e}function Ni(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Za(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return mn(i.i)}fi.prototype.cancel=function(){if(this.i=Za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Du=class{stringify(i){return tt.JSON.stringify(i,void 0)}parse(i){return tt.JSON.parse(i,void 0)}};function Uo(){this.g=new Du}function Ro(i,e,t){const s=t||"";try{wo(i,function(a,g){let D=a;zt(a)&&(D=Dn(a)),e.push(s+g+"="+encodeURIComponent(D))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function pi(i,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function Es(i){this.l=i.fc||null,this.j=i.ob||!1}function la(i,e){It.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=$o,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ut(Es,wr),Es.prototype.g=function(){return new la(this.l,this.j)},Es.prototype.i=function(i){return function(){return i}}({}),ut(la,It);var $o=0;function bo(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function T(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ie(i)}function ie(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(be=la.prototype).open=function(i,e){if(this.readyState!=$o)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ie(this)},be.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||tt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,T(this)),this.readyState=$o},be.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ie(this)),this.g&&(this.readyState=3,ie(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof tt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bo(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},be.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?T(this):ie(this),3==this.readyState&&bo(this)}},be.Za=function(i){this.g&&(this.response=this.responseText=i,T(this))},be.Ya=function(i){this.g&&(this.response=i,T(this))},be.ka=function(){this.g&&T(this)},be.setRequestHeader=function(i,e){this.v.append(i,e)},be.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},be.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(la.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var x=tt.JSON.parse;function C(i){It.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=M,this.L=this.M=!1}ut(C,It);var M="",L=/^https?$/i,fe=["POST","PUT"];function wn(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Zr(i),so(i)}function Zr(i){i.F||(i.F=!0,sn(i,"complete"),sn(i,"error"))}function Ii(i){if(i.h&&typeof $t<"u"&&(!i.C[1]||4!=is(i)||2!=i.da()))if(i.v&&4==is(i))Bs(i.La,0,i);else if(sn(i,"readystatechange"),4==is(i)){i.h=!1;try{const D=i.da();e:switch(D){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===D){var a=String(i.I).match(io)[1]||null;!a&&tt.self&&tt.self.location&&(a=tt.self.location.protocol.slice(0,-1)),s=!L.test(a?a.toLowerCase():"")}t=s}if(t)sn(i,"complete"),sn(i,"success");else{i.m=6;try{var g=2<is(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.da()+"]",Zr(i)}}finally{so(i)}}}function so(i,e){if(i.g){Vo(i);const t=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||sn(i,"ready");try{t.onreadystatechange=s}catch{}}}function Vo(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(tt.clearTimeout(i.A),i.A=null)}function is(i){return i.g?i.g.readyState:0}function gi(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case M:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Go(i){let e="";return Xr(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Bu(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Go(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):ce(i,e,t))}function To(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function ba(i){this.Ga=0,this.j=[],this.l=new An,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=To("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=To("baseRetryDelayMs",5e3,i),this.hb=To("retryDelaySeedMs",1e4,i),this.eb=To("forwardChannelMaxRetries",2,i),this.xa=To("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new fi(i&&i.concurrentRequestLimit),this.Ja=new Uo,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Hs(i){if(mo(i),3==i.H){var e=i.W++,t=go(i.I);if(ce(t,"SID",i.K),ce(t,"RID",e),ce(t,"TYPE","terminate"),ta(i,t),(e=new ws(i,i.l,e)).L=2,e.v=nt(go(t)),t=!1,tt.navigator&&tt.navigator.sendBeacon)try{t=tt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&tt.Image&&((new Image).src=e.v,t=!0),t||(e.g=si(e.l,null),e.g.ha(e.v)),e.G=Date.now(),no(e)}en(i)}function ca(i){i.g&&(Xa(i),i.g.cancel(),i.g=null)}function mo(i){ca(i),i.u&&(tt.clearTimeout(i.u),i.u=null),Zu(i),i.i.cancel(),i.m&&("number"==typeof i.m&&tt.clearTimeout(i.m),i.m=null)}function sl(i){if(!Ai(i.i)&&!i.m){i.m=!0;var e=i.Na;dr||_i(),mr||(dr(),mr=!0),Fr.add(e,i),i.C=0}}function Qa(i,e){var t;t=e?e.m:i.W++;const s=go(i.I);ce(s,"SID",i.K),ce(s,"RID",t),ce(s,"AID",i.V),ta(i,s),i.o&&i.s&&Bu(s,i.o,i.s),t=new ws(i,i.l,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.j=e.F.concat(i.j)),e=oo(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),ms(i.i,t),Ys(t,s,e)}function ta(i,e){i.na&&Xr(i.na,function(t,s){ce(e,s,t)}),i.h&&wo({},function(t,s){ce(e,s,t)})}function oo(i,e,t){t=Math.min(i.j.length,t);var s=i.h?Ue(i.h.Va,i.h,i):null;e:{var a=i.j;let g=-1;for(;;){const D=["count="+t];-1==g?0<t?(g=a[0].g,D.push("ofs="+g)):g=0:D.push("ofs="+g);let U=!0;for(let ne=0;ne<t;ne++){let le=a[ne].g;const Oe=a[ne].map;if(le-=g,0>le)g=Math.max(0,a[ne].g-100),U=!1;else try{Ro(Oe,D,"req"+le+"_")}catch{s&&s(Oe)}}if(U){s=D.join("&");break e}}}return i=i.j.splice(0,t),e.F=i,s}function Yl(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;dr||_i(),mr||(dr(),mr=!0),Fr.add(e,i),i.A=0}}function Na(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=En(Ue(i.Ma,i),Gt(i,i.A)),i.A++,0))}function Xa(i){null!=i.B&&(tt.clearTimeout(i.B),i.B=null)}function Uu(i){i.g=new ws(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=go(i.wa);ce(e,"RID","rpc"),ce(e,"SID",i.K),ce(e,"AID",i.V),ce(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&ce(e,"TO",i.qa),ce(e,"TYPE","xmlhttp"),ta(i,e),i.o&&i.s&&Bu(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var t=i.g;i=i.pa,t.L=1,t.v=nt(go(e)),t.s=null,t.S=!0,lo(t,i)}function Zu(i){null!=i.v&&(tt.clearTimeout(i.v),i.v=null)}function Ja(i,e){var t=null;if(i.g==e){Zu(i),Xa(i),i.g=null;var s=2}else{if(!li(i.i,e))return;t=e.F,Ni(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=i.C;sn(s=he(),new qt(s,t)),sl(i)}else Yl(i);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function Iu(i,e){return!(xi(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=En(Ue(i.Na,i,e),Gt(i,i.C)),i.C++,0)))}(i,e)||2==s&&Na(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),a){case 1:_n(i,5);break;case 4:_n(i,10);break;case 3:_n(i,6);break;default:_n(i,2)}}function Gt(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(t*=2),t*e}function _n(i,e){if(i.l.info("Error code "+e),2==e){var t=null;i.h&&(t=null);var s=Ue(i.pb,i);t||(t=new Yr("//www.google.com/images/cleardot.gif"),tt.location&&"http"==tt.location.protocol||Bo(t,"https"),nt(t)),function xs(i,e){const t=new An;if(tt.Image){const s=new Image;s.onload=Qe(pi,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Qe(pi,t,s,"TestLoadImage: error",!1,e),s.onabort=Qe(pi,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Qe(pi,t,s,"TestLoadImage: timeout",!1,e),tt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else Lt(2);i.H=0,i.h&&i.h.za(e),en(i),mo(i)}function en(i){if(i.H=0,i.ma=[],i.h){const e=Za(i.i);(0!=e.length||0!=i.j.length)&&(On(i.ma,e),On(i.ma,i.j),i.i.i.length=0,mn(i.j),i.j.length=0),i.h.ya()}}function Ar(i,e,t){var s=t instanceof Yr?go(t):new Yr(t);if(""!=s.g)e&&(s.g=e+"."+s.g),Li(s,s.m);else{var a=tt.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var g=new Yr(null);s&&Bo(g,s),e&&(g.g=e),a&&Li(g,a),t&&(g.l=t),s=g}return e=i.Da,(t=i.F)&&e&&ce(s,t,e),ce(s,"VER",i.ra),ta(i,s),s}function si(i,e,t){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new C(t&&i.Ha&&!i.va?new Es({ob:!0}):i.va)).Oa(i.J),e}function Zi(){}function js(){if(Xn&&!(10<=Number(Wn)))throw Error("Environmental error: no available transport.")}function Nr(i,e){It.call(this),this.g=new ba(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Yt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ir(this)}function na(i){Fi.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function eu(){zn.call(this),this.status=1}function Ir(i){this.g=i}function Oo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ta(i,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var g=i.g[3],D=(e=i.g[0])+(g^(t=i.g[1])&((a=i.g[2])^g))+s[0]+3614090360&4294967295;D=(t=(a=(g=(e=(t=(a=(g=(e=(t=(a=(g=(e=(t=(a=(g=(e=(t=(a=(g=(e=(t=(a=(g=(e=(t=(a=(g=(e=(t=(a=(g=(e=(t=(a=(g=(e=(t=(a=(g=(e=(t=(a=(g=(e=(t=(a=(g=(e=(t=(a=(g=(e=(t=(a=(g=(e=(t=(a=(g=(e=t+(D<<7&4294967295|D>>>25))+((D=g+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|D>>>20))+((D=a+(t^g&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|D>>>15))+((D=t+(e^a&(g^e))+s[3]+3250441966&4294967295)<<22&4294967295|D>>>10))+((D=e+(g^t&(a^g))+s[4]+4118548399&4294967295)<<7&4294967295|D>>>25))+((D=g+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|D>>>20))+((D=a+(t^g&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|D>>>15))+((D=t+(e^a&(g^e))+s[7]+4249261313&4294967295)<<22&4294967295|D>>>10))+((D=e+(g^t&(a^g))+s[8]+1770035416&4294967295)<<7&4294967295|D>>>25))+((D=g+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|D>>>20))+((D=a+(t^g&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|D>>>15))+((D=t+(e^a&(g^e))+s[11]+2304563134&4294967295)<<22&4294967295|D>>>10))+((D=e+(g^t&(a^g))+s[12]+1804603682&4294967295)<<7&4294967295|D>>>25))+((D=g+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|D>>>20))+((D=a+(t^g&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|D>>>15))+((D=t+(e^a&(g^e))+s[15]+1236535329&4294967295)<<22&4294967295|D>>>10))+((D=e+(a^g&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|D>>>27))+((D=g+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|D>>>23))+((D=a+(e^t&(g^e))+s[11]+643717713&4294967295)<<14&4294967295|D>>>18))+((D=t+(g^e&(a^g))+s[0]+3921069994&4294967295)<<20&4294967295|D>>>12))+((D=e+(a^g&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|D>>>27))+((D=g+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|D>>>23))+((D=a+(e^t&(g^e))+s[15]+3634488961&4294967295)<<14&4294967295|D>>>18))+((D=t+(g^e&(a^g))+s[4]+3889429448&4294967295)<<20&4294967295|D>>>12))+((D=e+(a^g&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|D>>>27))+((D=g+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|D>>>23))+((D=a+(e^t&(g^e))+s[3]+4107603335&4294967295)<<14&4294967295|D>>>18))+((D=t+(g^e&(a^g))+s[8]+1163531501&4294967295)<<20&4294967295|D>>>12))+((D=e+(a^g&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|D>>>27))+((D=g+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|D>>>23))+((D=a+(e^t&(g^e))+s[7]+1735328473&4294967295)<<14&4294967295|D>>>18))+((D=t+(g^e&(a^g))+s[12]+2368359562&4294967295)<<20&4294967295|D>>>12))+((D=e+(t^a^g)+s[5]+4294588738&4294967295)<<4&4294967295|D>>>28))+((D=g+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|D>>>21))+((D=a+(g^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|D>>>16))+((D=t+(a^g^e)+s[14]+4259657740&4294967295)<<23&4294967295|D>>>9))+((D=e+(t^a^g)+s[1]+2763975236&4294967295)<<4&4294967295|D>>>28))+((D=g+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|D>>>21))+((D=a+(g^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|D>>>16))+((D=t+(a^g^e)+s[10]+3200236656&4294967295)<<23&4294967295|D>>>9))+((D=e+(t^a^g)+s[13]+681279174&4294967295)<<4&4294967295|D>>>28))+((D=g+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|D>>>21))+((D=a+(g^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|D>>>16))+((D=t+(a^g^e)+s[6]+76029189&4294967295)<<23&4294967295|D>>>9))+((D=e+(t^a^g)+s[9]+3654602809&4294967295)<<4&4294967295|D>>>28))+((D=g+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|D>>>21))+((D=a+(g^e^t)+s[15]+530742520&4294967295)<<16&4294967295|D>>>16))+((D=t+(a^g^e)+s[2]+3299628645&4294967295)<<23&4294967295|D>>>9))+((D=e+(a^(t|~g))+s[0]+4096336452&4294967295)<<6&4294967295|D>>>26))+((D=g+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|D>>>22))+((D=a+(e^(g|~t))+s[14]+2878612391&4294967295)<<15&4294967295|D>>>17))+((D=t+(g^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|D>>>11))+((D=e+(a^(t|~g))+s[12]+1700485571&4294967295)<<6&4294967295|D>>>26))+((D=g+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|D>>>22))+((D=a+(e^(g|~t))+s[10]+4293915773&4294967295)<<15&4294967295|D>>>17))+((D=t+(g^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|D>>>11))+((D=e+(a^(t|~g))+s[8]+1873313359&4294967295)<<6&4294967295|D>>>26))+((D=g+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|D>>>22))+((D=a+(e^(g|~t))+s[6]+2734768916&4294967295)<<15&4294967295|D>>>17))+((D=t+(g^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|D>>>11))+((g=(e=t+((D=e+(a^(t|~g))+s[4]+4149444226&4294967295)<<6&4294967295|D>>>26))+((D=g+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|D>>>22))^((a=g+((D=a+(e^(g|~t))+s[2]+718787259&4294967295)<<15&4294967295|D>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(a+(D<<21&4294967295|D>>>11))&4294967295,i.g[2]=i.g[2]+a&4294967295,i.g[3]=i.g[3]+g&4294967295}function kr(i,e){this.h=e;for(var t=[],s=!0,a=i.length-1;0<=a;a--){var g=0|i[a];s&&g==e||(t[a]=g,s=!1)}this.g=t}(be=C.prototype).Oa=function(i){this.M=i},be.ha=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$r.g(),this.C=function $i(i){return i.h||(i.h=i.i())}(this.u?this.u:$r),this.g.onreadystatechange=Ue(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(g){return void wn(this,g)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const g of s.keys())t.set(g,s.get(g))}s=Array.from(t.keys()).find(g=>"content-type"==g.toLowerCase()),a=tt.FormData&&i instanceof tt.FormData,!(0<=Nn(fe,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[g,D]of t)this.g.setRequestHeader(g,D);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Vo(this),0<this.B&&((this.L=function Nt(i){return Xn&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ue(this.ua,this)):this.A=Bs(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(g){wn(this,g)}},be.ua=function(){typeof $t<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sn(this,"timeout"),this.abort(8))},be.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,sn(this,"complete"),sn(this,"abort"),so(this))},be.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),so(this,!0)),C.$.N.call(this)},be.La=function(){this.s||(this.G||this.v||this.l?Ii(this):this.kb())},be.kb=function(){Ii(this)},be.isActive=function(){return!!this.g},be.da=function(){try{return 2<is(this)?this.g.status:-1}catch{return-1}},be.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},be.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),x(e)}},be.Ia=function(){return this.m},be.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(be=ba.prototype).ra=8,be.H=1,be.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const a=new ws(this,this.l,i);let g=this.s;if(this.U&&(g?(g=Mi(g),jr(g,this.U)):g=this.U),null!==this.o||this.O||(a.I=g,g=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=oo(this,a,e),ce(t=go(this.I),"RID",i),ce(t,"CVER",22),this.F&&ce(t,"X-HTTP-Session-Id",this.F),ta(this,t),g&&(this.O?e="headers="+encodeURIComponent(String(Go(g)))+"&"+e:this.o&&Bu(t,this.o,g)),ms(this.i,a),this.bb&&ce(t,"TYPE","init"),this.P?(ce(t,"$req",e),ce(t,"SID","null"),a.aa=!0,Ys(a,t,null)):Ys(a,t,e),this.H=2}}else 3==this.H&&(i?Qa(this,i):0==this.j.length||Ai(this.i)||Qa(this))},be.Ma=function(){if(this.u=null,Uu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=En(Ue(this.jb,this),i)}},be.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Lt(10),ca(this),Uu(this))},be.ib=function(){null!=this.v&&(this.v=null,ca(this),Na(this),Lt(19))},be.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Lt(2)):(this.l.info("Failed to ping google.com"),Lt(1))},be.isActive=function(){return!!this.h&&this.h.isActive(this)},(be=Zi.prototype).Ba=function(){},be.Aa=function(){},be.za=function(){},be.ya=function(){},be.isActive=function(){return!0},be.Va=function(){},js.prototype.g=function(i,e){return new Nr(i,e)},ut(Nr,It),Nr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,t=this.h||void 0;Lt(0),i.Y=e,i.na=t||{},i.G=i.aa,i.I=Ar(i,null,i.Y),sl(i)},Nr.prototype.close=function(){Hs(this.g)},Nr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Dn(i),i=t);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&sl(e)},Nr.prototype.N=function(){this.g.h=null,delete this.j,Hs(this.g),delete this.g,Nr.$.N.call(this)},ut(na,Fi),ut(eu,zn),ut(Ir,Zi),Ir.prototype.Ba=function(){sn(this.g,"a")},Ir.prototype.Aa=function(i){sn(this.g,new na(i))},Ir.prototype.za=function(i){sn(this.g,new eu)},Ir.prototype.ya=function(){sn(this.g,"b")},ut(Oo,function Ha(){this.blockSize=-1}),Oo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Oo.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,s=this.m,a=this.h,g=0;g<e;){if(0==a)for(;g<=t;)Ta(this,i,g),g+=this.blockSize;if("string"==typeof i){for(;g<e;)if(s[a++]=i.charCodeAt(g++),a==this.blockSize){Ta(this,s),a=0;break}}else for(;g<e;)if(s[a++]=i[g++],a==this.blockSize){Ta(this,s),a=0;break}}this.h=a,this.i+=e},Oo.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)i[t++]=this.g[e]>>>s&255;return i};var tu={};function V(i){return-128<=i&&128>i?function Kt(i,e){var t=tu;return Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=e(i)}(i,function(e){return new kr([0|e],0>e?-1:0)}):new kr([0|i],0>i?-1:0)}function ue(i){if(isNaN(i)||!isFinite(i))return ot;if(0>i)return Gn(ue(-i));for(var e=[],t=1,s=0;i>=t;s++)e[s]=i/t|0,t*=Me;return new kr(e,0)}var Me=4294967296,ot=V(0),ln=V(1),Tn=V(16777216);function _r(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function ci(i){return-1==i.h}function Gn(i){for(var e=i.g.length,t=[],s=0;s<e;s++)t[s]=~i.g[s];return new kr(t,~i.h).add(ln)}function Bi(i,e){return i.add(Gn(e))}function Ei(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function ss(i,e){this.g=i,this.h=e}function ys(i,e){if(_r(e))throw Error("division by zero");if(_r(i))return new ss(ot,ot);if(ci(i))return e=ys(Gn(i),e),new ss(Gn(e.g),Gn(e.h));if(ci(e))return e=ys(i,Gn(e)),new ss(Gn(e.g),e.h);if(30<i.g.length){if(ci(i)||ci(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ln,s=e;0>=s.X(i);)t=zs(t),s=zs(s);var a=So(t,1),g=So(s,1);for(s=So(s,2),t=So(t,2);!_r(s);){var D=g.add(s);0>=D.X(i)&&(a=a.add(t),g=D),s=So(s,1),t=So(t,1)}return e=Bi(i,a.R(e)),new ss(a,e)}for(a=ot;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),D=(g=ue(t)).R(e);ci(D)||0<D.X(i);)D=(g=ue(t-=s)).R(e);_r(g)&&(g=ln),a=a.add(g),i=Bi(i,D)}return new ss(a,i)}function zs(i){for(var e=i.g.length+1,t=[],s=0;s<e;s++)t[s]=i.D(s)<<1|i.D(s-1)>>>31;return new kr(t,i.h)}function So(i,e){var t=e>>5;e%=32;for(var s=i.g.length-t,a=[],g=0;g<s;g++)a[g]=0<e?i.D(g+t)>>>e|i.D(g+t+1)<<32-e:i.D(g+t);return new kr(a,i.h)}(be=kr.prototype).ea=function(){if(ci(this))return-Gn(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);i+=(0<=s?s:Me+s)*e,e*=Me}return i},be.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(_r(this))return"0";if(ci(this))return"-"+Gn(this).toString(i);for(var e=ue(Math.pow(i,6)),t=this,s="";;){var a=ys(t,e).g,g=((0<(t=Bi(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(_r(t=a))return g+s;for(;6>g.length;)g="0"+g;s=g+s}},be.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},be.X=function(i){return ci(i=Bi(this,i))?-1:_r(i)?0:1},be.abs=function(){return ci(this)?Gn(this):this},be.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0,a=0;a<=e;a++){var g=s+(65535&this.D(a))+(65535&i.D(a)),D=(g>>>16)+(this.D(a)>>>16)+(i.D(a)>>>16);s=D>>>16,t[a]=(D&=65535)<<16|(g&=65535)}return new kr(t,-2147483648&t[t.length-1]?-1:0)},be.R=function(i){if(_r(this)||_r(i))return ot;if(ci(this))return ci(i)?Gn(this).R(Gn(i)):Gn(Gn(this).R(i));if(ci(i))return Gn(this.R(Gn(i)));if(0>this.X(Tn)&&0>i.X(Tn))return ue(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<i.g.length;a++){var g=this.D(s)>>>16,D=65535&this.D(s),U=i.D(a)>>>16,ne=65535&i.D(a);t[2*s+2*a]+=D*ne,Ei(t,2*s+2*a),t[2*s+2*a+1]+=g*ne,Ei(t,2*s+2*a+1),t[2*s+2*a+1]+=D*U,Ei(t,2*s+2*a+1),t[2*s+2*a+2]+=g*U,Ei(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new kr(t,0)},be.gb=function(i){return ys(this,i).h},be.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&i.D(s);return new kr(t,this.h&i.h)},be.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|i.D(s);return new kr(t,this.h|i.h)},be.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^i.D(s);return new kr(t,this.h^i.h)},js.prototype.createWebChannel=js.prototype.g,Nr.prototype.send=Nr.prototype.u,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,Bn.NO_ERROR=0,Bn.TIMEOUT=8,Bn.HTTP_ERROR=6,vr.COMPLETE="complete",Js.EventType=Us,Us.OPEN="a",Us.CLOSE="b",Us.ERROR="c",Us.MESSAGE="d",It.prototype.listen=It.prototype.O,C.prototype.listenOnce=C.prototype.P,C.prototype.getLastError=C.prototype.Sa,C.prototype.getLastErrorCode=C.prototype.Ia,C.prototype.getStatus=C.prototype.da,C.prototype.getResponseJson=C.prototype.Wa,C.prototype.getResponseText=C.prototype.ja,C.prototype.send=C.prototype.ha,C.prototype.setWithCredentials=C.prototype.Oa,Oo.prototype.digest=Oo.prototype.l,Oo.prototype.reset=Oo.prototype.reset,Oo.prototype.update=Oo.prototype.j,kr.prototype.add=kr.prototype.add,kr.prototype.multiply=kr.prototype.R,kr.prototype.modulo=kr.prototype.gb,kr.prototype.compare=kr.prototype.X,kr.prototype.toNumber=kr.prototype.ea,kr.prototype.toString=kr.prototype.toString,kr.prototype.getBits=kr.prototype.D,kr.fromNumber=ue,kr.fromString=function Y(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Gn(Y(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ue(Math.pow(e,8)),s=ot,a=0;a<i.length;a+=8){var g=Math.min(8,i.length-a),D=parseInt(i.substring(a,a+g),e);8>g?(g=ue(Math.pow(e,g)),s=s.R(g).add(ue(D))):s=(s=s.R(t)).add(ue(D))}return s};var co=We.createWebChannelTransport=function(){return new js},ka=We.getStatEventTarget=function(){return he()},fs=We.ErrorCode=Bn,nu=We.EventType=vr,ja=We.Event=se,da=We.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fn=We.FetchXmlHttpFactory=Es,Di=We.WebChannel=Js,Eo=We.XhrIo=C,Kl=We.Md5=Oo,Gs=We.Integer=kr;const Sl="@firebase/firestore";class yo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yo.UNAUTHENTICATED=new yo(null),yo.GOOGLE_CREDENTIALS=new yo("google-credentials-uid"),yo.FIRST_PARTY=new yo("first-party-uid"),yo.MOCK_USER=new yo("mock-user");let cs="9.23.0";const eo=new vt.Yd("@firebase/firestore");function ol(){return eo.logLevel}function Mn(i,...e){if(eo.logLevel<=vt.in.DEBUG){const t=e.map(ds);eo.debug(`Firestore (${cs}): ${i}`,...t)}}function Ms(i,...e){if(eo.logLevel<=vt.in.ERROR){const t=e.map(ds);eo.error(`Firestore (${cs}): ${i}`,...t)}}function Ws(i,...e){if(eo.logLevel<=vt.in.WARN){const t=e.map(ds);eo.warn(`Firestore (${cs}): ${i}`,...t)}}function ds(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function ar(i="Unexpected state"){const e=`FIRESTORE (${cs}) INTERNAL ASSERTION FAILED: `+i;throw Ms(e),new Error(e)}function Cr(i,e){i||ar()}function sr(i,e){return i}const cn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pn extends pt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class No{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yo.UNAUTHENTICATED))}shutdown(){}}class fc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fu{constructor(e){this.t=e,this.currentUser=yo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const g=le=>this.i!==a?(a=this.i,t(le)):Promise.resolve();let D=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new Ji,e.enqueueRetryable(()=>g(this.currentUser))};const U=()=>{const le=D;e.enqueueRetryable((0,_e.Z)(function*(){yield le.promise,yield g(s.currentUser)}))},ne=le=>{Mn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=le,this.auth.addAuthTokenListener(this.o),U()};this.t.onInit(le=>ne(le)),setTimeout(()=>{if(!this.auth){const le=this.t.getImmediate({optional:!0});le?ne(le):(Mn("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new Ji)}},0),U()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Mn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Cr("string"==typeof s.accessToken),new hu(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Cr(null===e||"string"==typeof e),new yo(e)}}class za{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=yo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Qu{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new za(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(yo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ke{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=g=>{null!=g.error&&Mn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const D=g.token!==this.T;return this.T=g.token,Mn("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?t(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>s(g))};const a=g=>{Mn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.I.onInit(g=>a(g)),setTimeout(()=>{if(!this.appCheck){const g=this.I.getImmediate({optional:!0});g?a(g):Mn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Cr("string"==typeof t.token),this.T=t.token,new Cu(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Al(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class Ui{static A(){const t=62*Math.floor(256/62);let s="";for(;s.length<20;){const a=Al(40);for(let g=0;g<a.length;++g)s.length<20&&a[g]<t&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[g]%62))}return s}}function qn(i,e){return i<e?-1:i>e?1:0}function pu(i,e,t){return i.length===e.length&&i.every((s,a)=>t(s,e[a]))}function Zl(i){return i+"\0"}class es{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pn(cn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pn(cn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pn(cn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pn(cn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return es.fromMillis(Date.now())}static fromDate(e){return es.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new es(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qn(this.nanoseconds,e.nanoseconds):qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class br{constructor(e){this.timestamp=e}static fromTimestamp(e){return new br(e)}static min(){return new br(new es(0,0))}static max(){return new br(new es(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ds{constructor(e,t,s){void 0===t?t=0:t>e.length&&ar(),void 0===s?s=e.length-t:s>e.length-t&&ar(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Ds.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ds?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const g=e.get(a),D=t.get(a);if(g<D)return-1;if(g>D)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hs extends Ds{construct(e,t,s){return new hs(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Pn(cn.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new hs(t)}static emptyPath(){return new hs([])}}const $u=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ho extends Ds{construct(e,t,s){return new ho(e,t,s)}static isValidIdentifier(e){return $u.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ho.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ho(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const g=()=>{if(0===s.length)throw new Pn(cn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let D=!1;for(;a<e.length;){const U=e[a];if("\\"===U){if(a+1===e.length)throw new Pn(cn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const ne=e[a+1];if("\\"!==ne&&"."!==ne&&"`"!==ne)throw new Pn(cn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=ne,a+=2}else"`"===U?(D=!D,a++):"."!==U||D?(s+=U,a++):(g(),a++)}if(g(),D)throw new Pn(cn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ho(t)}static emptyPath(){return new ho([])}}class or{constructor(e){this.path=e}static fromPath(e){return new or(hs.fromString(e))}static fromName(e){return new or(hs.fromString(e).popFirst(5))}static empty(){return new or(hs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new or(new hs(e.slice()))}}class ra{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function Vu(i){return i.fields.find(e=>2===e.kind)}function gu(i){return i.fields.filter(e=>2!==e.kind)}ra.UNKNOWN_ID=-1;class xl{constructor(e,t){this.fieldPath=e,this.kind=t}}class ga{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ga(0,b.min())}}function R(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=br.fromTimestamp(1e9===s?new es(t+1,0):new es(t,s));return new b(a,or.empty(),e)}function $(i){return new b(i.readTime,i.key,-1)}class b{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new b(br.min(),or.empty(),-1)}static max(){return new b(br.max(),or.empty(),-1)}}function G(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=or.comparator(i.documentKey,e.documentKey),0!==t?t:qn(i.largestBatchId,e.largestBatchId))}const ae="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Be(i){return Wt.apply(this,arguments)}function Wt(){return Wt=(0,_e.Z)(function*(i){if(i.code!==cn.FAILED_PRECONDITION||i.message!==ae)throw i;Mn("LocalStore","Unexpectedly lost primary lease")}),Wt.apply(this,arguments)}class rt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ar(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new rt((s,a)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(s,a)},this.catchCallback=g=>{this.wrapFailure(t,g).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof rt?t:rt.resolve(t)}catch(t){return rt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):rt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):rt.reject(t)}static resolve(e){return new rt((t,s)=>{t(e)})}static reject(e){return new rt((t,s)=>{s(e)})}static waitFor(e){return new rt((t,s)=>{let a=0,g=0,D=!1;e.forEach(U=>{++a,U.next(()=>{++g,D&&g===a&&t()},ne=>s(ne))}),D=!0,g===a&&t()})}static or(e){let t=rt.resolve(!1);for(const s of e)t=t.next(a=>a?rt.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,g)=>{s.push(t.call(this,a,g))}),this.waitFor(s)}static mapArray(e,t){return new rt((s,a)=>{const g=e.length,D=new Array(g);let U=0;for(let ne=0;ne<g;ne++){const le=ne;t(e[le]).next(Oe=>{D[le]=Oe,++U,U===g&&s(D)},Oe=>a(Oe))}})}static doWhile(e,t){return new rt((s,a)=>{const g=()=>{!0===e()?t().next(()=>{g()},a):s()};g()})}}class Vr{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ji,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new ko(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const a=iu(s.target.error);this.v.reject(new ko(e,a))}}static open(e,t,s,a){try{return new Vr(t,e.transaction(a,s))}catch(g){throw new ko(t,g)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Mn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new bu(t)}}class Mr{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===Mr.S((0,pt.z$)())&&Ms("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Mn("SimpleDb","Removing database:",e),qo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,pt.hl)())return!1;if(Mr.C())return!0;const e=(0,pt.z$)(),t=Mr.S(e),s=0<t&&t<10,a=Mr.N(e),g=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||g)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Mn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const g=indexedDB.open(t.name,t.version);g.onsuccess=D=>{s(D.target.result)},g.onblocked=()=>{a(new ko(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=D=>{const U=D.target.error;a("VersionError"===U.name?new Pn(cn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===U.name?new Pn(cn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+U):new ko(e,U))},g.onupgradeneeded=D=>{Mn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',D.oldVersion),t.V.O(D.target.result,g.transaction,D.oldVersion,t.version).next(()=>{Mn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var g=this;return(0,_e.Z)(function*(){const D="readonly"===t;let U=0;for(;;){++U;try{g.db=yield g.$(e);const ne=Vr.open(g.db,e,D?"readonly":"readwrite",s),le=a(ne).next(Oe=>(ne.P(),Oe)).catch(Oe=>(ne.abort(Oe),rt.reject(Oe))).toPromise();return le.catch(()=>{}),yield ne.R,le}catch(ne){const le=ne,Oe="FirebaseError"!==le.name&&U<3;if(Mn("SimpleDb","Transaction failed with error:",le.message,"Retrying:",Oe),g.close(),!Oe)return Promise.reject(le)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Is{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return qo(this.L.delete())}}class ko extends Pn{constructor(e,t){super(cn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ha(i){return"IndexedDbTransactionError"===i.name}class bu{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Mn("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Mn("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),qo(s)}add(e){return Mn("SimpleDb","ADD",this.store.name,e,e),qo(this.store.add(e))}get(e){return qo(this.store.get(e)).next(t=>(void 0===t&&(t=null),Mn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Mn("SimpleDb","DELETE",this.store.name,e),qo(this.store.delete(e))}count(){return Mn("SimpleDb","COUNT",this.store.name),qo(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),g=[];return this.W(a,(D,U)=>{g.push(U)}).next(()=>g)}{const a=this.store.getAll(s.range);return new rt((g,D)=>{a.onerror=U=>{D(U.target.error)},a.onsuccess=U=>{g(U.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new rt((a,g)=>{s.onerror=D=>{g(D.target.error)},s.onsuccess=D=>{a(D.target.result)}})}J(e,t){Mn("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const a=this.cursor(s);return this.W(a,(g,D,U)=>U.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.W(a,t)}Z(e){const t=this.cursor({});return new rt((s,a)=>{t.onerror=g=>{const D=iu(g.target.error);a(D)},t.onsuccess=g=>{const D=g.target.result;D?e(D.primaryKey,D.value).next(U=>{U?D.continue():s()}):s()}})}W(e,t){const s=[];return new rt((a,g)=>{e.onerror=D=>{g(D.target.error)},e.onsuccess=D=>{const U=D.target.result;if(!U)return void a();const ne=new Is(U),le=t(U.primaryKey,U.value,ne);if(le instanceof rt){const Oe=le.catch(_t=>(ne.done(),rt.reject(_t)));s.push(Oe)}ne.isDone?a():null===ne.K?U.continue():U.continue(ne.K)}}).next(()=>rt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function qo(i){return new rt((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const a=iu(s.target.error);t(a)}})}let Hu=!1;function iu(i){const e=Mr.S((0,pt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new Pn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Hu||(Hu=!0,setTimeout(()=>{throw s},0)),s}}return i}class Ql{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Mn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_e.Z)(function*(){t.task=null;try{Mn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){ha(s)?Mn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Be(s)}yield t.et(6e4)}))}}class Fa{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,_e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let a=t,g=!0;return rt.doWhile(()=>!0===g&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(D=>{if(null!==D&&!s.has(D))return Mn("IndexBackiller",`Processing collection: ${D}`),this.it(e,D,a).next(U=>{a-=U,s.add(D)});g=!1})).next(()=>t-a)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(g=>{const D=g.changes;return this.localStore.indexManager.updateIndexEntries(e,D).next(()=>this.rt(a,g)).next(U=>(Mn("IndexBackiller",`Updating offset: ${U}`),this.localStore.indexManager.updateCollectionGroup(e,t,U))).next(()=>D.size)}))}rt(e,t){let s=e;return t.changes.forEach((a,g)=>{const D=$(g);G(D,s)>0&&(s=D)}),new b(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Fo=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function La(i){return null==i}function al(i){return 0===i&&1/i==-1/0}function kc(i){return"number"==typeof i&&Number.isInteger(i)&&!al(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Ks(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=ju(e)),e=Ga(i.get(t),e);return ju(e)}function Ga(i,e){let t=e;const s=i.length;for(let a=0;a<s;a++){const g=i.charAt(a);switch(g){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=g}}return t}function ju(i){return i+"\x01\x01"}function _s(i){const e=i.length;if(Cr(e>=2),2===e)return Cr("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),hs.emptyPath();const t=e-2,s=[];let a="";for(let g=0;g<e;){const D=i.indexOf("\x01",g);switch((D<0||D>t)&&ar(),i.charAt(D+1)){case"\x01":const U=i.substring(g,D);let ne;0===a.length?ne=U:(a+=U,ne=a,a=""),s.push(ne);break;case"\x10":a+=i.substring(g,D),a+="\0";break;case"\x11":a+=i.substring(g,D+1);break;default:ar()}g=D+2}return new hs(s)}const zu=["userId","batchId"];function Xl(i,e){return[i,Ks(e)]}function Ml(i,e,t){return[i,Ks(e),t]}const ul={},Tu=["prefixPath","collectionGroup","readTime","documentId"],gc=["prefixPath","collectionGroup","documentId"],Md=["collectionGroup","readTime","prefixPath","documentId"],Su=["canonicalId","targetId"],nh=["targetId","path"],rh=["path","targetId"],Do=["collectionId","parent"],Gu=["indexId","uid"],Fc=["uid","sequenceNumber"],Wu=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mc=["indexId","uid","orderedDocumentKey"],Au=["userId","collectionPath","documentId"],Pl=["userId","collectionPath","largestBatchId"],yc=["userId","collectionGroup","largestBatchId"],Lo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Jl=[...Lo,"documentOverlays"],cd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Lc=cd,ll=[...Lc,"indexConfiguration","indexState","indexEntries"];class mu extends Ne{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Io(i,e){const t=sr(i);return Mr.M(t.ht,e)}function cl(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function xu(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Mu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class bs{constructor(e,t){this.comparator=e,this.root=t||ia.EMPTY}insert(e,t){return new bs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ia.BLACK,null,null))}remove(e){return new bs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ia.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new su(this.root,e,this.comparator,!1)}getReverseIterator(){return new su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new su(this.root,e,this.comparator,!0)}}class su{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=t?s(e.key,t):1,t&&a&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ia{constructor(e,t,s,a,g){this.key=e,this.value=t,this.color=s??ia.RED,this.left=a??ia.EMPTY,this.right=g??ia.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,g){return new ia(e??this.key,t??this.value,s??this.color,a??this.left,g??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const g=s(e,a.key);return a=g<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===g?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ia.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ia.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ia.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ia.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ar();const e=this.left.check();if(e!==this.right.check())throw ar();return e+(this.isRed()?0:1)}}ia.EMPTY=null,ia.RED=!0,ia.BLACK=!1,ia.EMPTY=new class{constructor(){this.size=0}get key(){throw ar()}get value(){throw ar()}get color(){throw ar()}get left(){throw ar()}get right(){throw ar()}copy(i,e,t,s,a){return this}insert(i,e,t){return new ia(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ps{constructor(e){this.comparator=e,this.data=new bs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dl(this.data.getIterator())}getIteratorFrom(e){return new dl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ps)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,g=s.getNext().key;if(0!==this.comparator(a,g))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ps(this.comparator);return t.data=e,t}}class dl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function yu(i){return i.hasNext()?i.getNext():void 0}class Sa{constructor(e){this.fields=e,e.sort(ho.comparator)}static empty(){return new Sa([])}unionWith(e){let t=new Ps(ho.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Sa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pu(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Bc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ao{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Bc("Invalid base64 string: "+a):a}}(e);return new Ao(t)}static fromUint8Array(e){const t=function(s){let a="";for(let g=0;g<s.length;++g)a+=String.fromCharCode(s[g]);return a}(e);return new Ao(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ao.EMPTY_BYTE_STRING=new Ao("");const hl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(i){if(Cr(!!i),"string"==typeof i){let e=0;const t=hl.exec(i);if(Cr(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:qs(i.seconds),nanos:qs(i.nanos)}}function qs(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ma(i){return"string"==typeof i?Ao.fromBase64String(i):Ao.fromUint8Array(i)}function Ol(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Aa(i){const e=i.mapValue.fields.__previous_value__;return Ol(e)?Aa(e):e}function ya(i){const e=_o(i.mapValue.fields.__local_write_time__.timestampValue);return new es(e.seconds,e.nanos)}class Nl{constructor(e,t,s,a,g,D,U,ne,le){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=g,this.forceLongPolling=D,this.autoDetectLongPolling=U,this.longPollingOptions=ne,this.useFetchStreams=le}}class ou{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ou("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}const xa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_u={nullValue:"NULL_VALUE"};function Pu(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ol(i)?4:pr(i)?9007199254740991:10:ar()}function Ma(i,e){if(i===e)return!0;const t=Pu(i);if(t!==Pu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ya(i).isEqual(ya(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const g=_o(s.timestampValue),D=_o(a.timestampValue);return g.seconds===D.seconds&&g.nanos===D.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return a=e,ma(i.bytesValue).isEqual(ma(a.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,a){return qs(s.geoPointValue.latitude)===qs(a.geoPointValue.latitude)&&qs(s.geoPointValue.longitude)===qs(a.geoPointValue.longitude)}(i,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return qs(s.integerValue)===qs(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const g=qs(s.doubleValue),D=qs(a.doubleValue);return g===D?al(g)===al(D):isNaN(g)&&isNaN(D)}return!1}(i,e);case 9:return pu(i.arrayValue.values||[],e.arrayValue.values||[],Ma);case 10:return function(s,a){const g=s.mapValue.fields||{},D=a.mapValue.fields||{};if(cl(g)!==cl(D))return!1;for(const U in g)if(g.hasOwnProperty(U)&&(void 0===D[U]||!Ma(g[U],D[U])))return!1;return!0}(i,e);default:return ar()}var a}function Ru(i,e){return void 0!==(i.values||[]).find(t=>Ma(t,e))}function Ho(i,e){if(i===e)return 0;const t=Pu(i),s=Pu(e);if(t!==s)return qn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return qn(i.booleanValue,e.booleanValue);case 2:return function(a,g){const D=qs(a.integerValue||a.doubleValue),U=qs(g.integerValue||g.doubleValue);return D<U?-1:D>U?1:D===U?0:isNaN(D)?isNaN(U)?0:-1:1}(i,e);case 3:return fl(i.timestampValue,e.timestampValue);case 4:return fl(ya(i),ya(e));case 5:return qn(i.stringValue,e.stringValue);case 6:return function(a,g){const D=ma(a),U=ma(g);return D.compareTo(U)}(i.bytesValue,e.bytesValue);case 7:return function(a,g){const D=a.split("/"),U=g.split("/");for(let ne=0;ne<D.length&&ne<U.length;ne++){const le=qn(D[ne],U[ne]);if(0!==le)return le}return qn(D.length,U.length)}(i.referenceValue,e.referenceValue);case 8:return function(a,g){const D=qn(qs(a.latitude),qs(g.latitude));return 0!==D?D:qn(qs(a.longitude),qs(g.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(a,g){const D=a.values||[],U=g.values||[];for(let ne=0;ne<D.length&&ne<U.length;++ne){const le=Ho(D[ne],U[ne]);if(le)return le}return qn(D.length,U.length)}(i.arrayValue,e.arrayValue);case 10:return function(a,g){if(a===xa.mapValue&&g===xa.mapValue)return 0;if(a===xa.mapValue)return 1;if(g===xa.mapValue)return-1;const D=a.fields||{},U=Object.keys(D),ne=g.fields||{},le=Object.keys(ne);U.sort(),le.sort();for(let Oe=0;Oe<U.length&&Oe<le.length;++Oe){const _t=qn(U[Oe],le[Oe]);if(0!==_t)return _t;const un=Ho(D[U[Oe]],ne[le[Oe]]);if(0!==un)return un}return qn(U.length,le.length)}(i.mapValue,e.mapValue);default:throw ar()}}function fl(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return qn(i,e);const t=_o(i),s=_o(e),a=qn(t.seconds,s.seconds);return 0!==a?a:qn(t.nanos,s.nanos)}function vu(i){return pl(i)}function pl(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const a=_o(s);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ma(i.bytesValue).toBase64():"referenceValue"in i?or.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let a="[",g=!0;for(const D of s.values||[])g?g=!1:a+=",",a+=pl(D);return a+"]"}(i.arrayValue):"mapValue"in i?function(s){const a=Object.keys(s.fields||{}).sort();let g="{",D=!0;for(const U of a)D?D=!1:g+=",",g+=`${U}:${pl(s.fields[U])}`;return g+"}"}(i.mapValue):ar();var e}function F(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function W(i){return!!i&&"integerValue"in i}function de(i){return!!i&&"arrayValue"in i}function et(i){return!!i&&"nullValue"in i}function Rt(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Qt(i){return!!i&&"mapValue"in i}function fn(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return xu(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=fn(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fn(i.arrayValue.values[t]);return e}return Object.assign({},i)}function pr(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function ur(i){return"nullValue"in i?_u:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?F(ou.empty(),or.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:ar()}function Hr(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?F(ou.empty(),or.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?xa:ar()}function wi(i,e){const t=Ho(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function di(i,e){const t=Ho(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class qi{constructor(e){this.value=e}static empty(){return new qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Qt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fn(t)}setAll(e){let t=ho.emptyPath(),s={},a=[];e.forEach((D,U)=>{if(!t.isImmediateParentOf(U)){const ne=this.getFieldsMap(t);this.applyChanges(ne,s,a),s={},a=[],t=U.popLast()}D?s[U.lastSegment()]=fn(D):a.push(U.lastSegment())});const g=this.getFieldsMap(t);this.applyChanges(g,s,a)}delete(e){const t=this.field(e.popLast());Qt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ma(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Qt(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){xu(t,(a,g)=>e[a]=g);for(const a of s)delete e[a]}clone(){return new qi(fn(this.value))}}function fo(i){const e=[];return xu(i.fields,(t,s)=>{const a=new ho([t]);if(Qt(s)){const g=fo(s.mapValue).fields;if(0===g.length)e.push(a);else for(const D of g)e.push(a.child(D))}else e.push(a)}),new Sa(e)}class Cs{constructor(e,t,s,a,g,D,U){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=g,this.data=D,this.documentState=U}static newInvalidDocument(e){return new Cs(e,0,br.min(),br.min(),br.min(),qi.empty(),0)}static newFoundDocument(e,t,s,a){return new Cs(e,1,t,br.min(),s,a,0)}static newNoDocument(e,t){return new Cs(e,2,t,br.min(),br.min(),qi.empty(),0)}static newUnknownDocument(e,t){return new Cs(e,3,t,br.min(),br.min(),qi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(br.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=br.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pa{constructor(e,t){this.position=e,this.inclusive=t}}function au(i,e,t){let s=0;for(let a=0;a<i.position.length;a++){const g=e[a],D=i.position[a];if(s=g.field.isKeyField()?or.comparator(or.fromName(D.referenceValue),t.key):Ho(D,t.data.field(g.field)),"desc"===g.dir&&(s*=-1),0!==s)break}return s}function Ba(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ma(i.position[t],e.position[t]))return!1;return!0}class Yo{constructor(e,t="asc"){this.field=e,this.dir=t}}function Wa(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class kl{}class os extends kl{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new hd(e,t,s):"array-contains"===t?new E(e,s):"in"===t?new I(e,s):"not-in"===t?new B(e,s):"array-contains-any"===t?new pe(e,s):new os(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Uc(e,s):new Dp(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ho(t,this.value)):null!==t&&Pu(this.value)===Pu(t)&&this.matchesComparison(Ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ar()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ts extends kl{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ts(e,t)}matches(e){return Ou(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ou(i){return"and"===i.op}function qu(i){return"or"===i.op}function Pd(i){return _c(i)&&Ou(i)}function _c(i){for(const e of i.filters)if(e instanceof Ts)return!1;return!0}function vc(i){if(i instanceof os)return i.field.canonicalString()+i.op.toString()+vu(i.value);if(Pd(i))return i.filters.map(e=>vc(e)).join(",");{const e=i.filters.map(t=>vc(t)).join(",");return`${i.op}(${e})`}}function Vh(i,e){return i instanceof os?(t=i,(s=e)instanceof os&&t.op===s.op&&t.field.isEqual(s.field)&&Ma(t.value,s.value)):i instanceof Ts?function(t,s){return s instanceof Ts&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,g,D)=>a&&Vh(g,s.filters[D]),!0)}(i,e):void ar();var t,s}function dd(i,e){const t=i.filters.concat(e);return Ts.create(t,i.op)}function ih(i){return i instanceof os?`${(e=i).field.canonicalString()} ${e.op} ${vu(e.value)}`:i instanceof Ts?function(e){return e.op.toString()+" {"+e.getFilters().map(ih).join(" ,")+"}"}(i):"Filter";var e}class hd extends os{constructor(e,t,s){super(e,t,s),this.key=or.fromName(s.referenceValue)}matches(e){const t=or.comparator(e.key,this.key);return this.matchesComparison(t)}}class Uc extends os{constructor(e,t){super(e,"in",t),this.keys=O(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Dp extends os{constructor(e,t){super(e,"not-in",t),this.keys=O(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function O(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>or.fromName(s.referenceValue))}class E extends os{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return de(t)&&Ru(t.arrayValue,this.value)}}class I extends os{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ru(this.value.arrayValue,t)}}class B extends os{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ru(this.value.arrayValue,t)}}class pe extends os{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!de(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ru(this.value.arrayValue,s))}}class Fe{constructor(e,t=null,s=[],a=[],g=null,D=null,U=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=g,this.startAt=D,this.endAt=U,this.dt=null}}function Ut(i,e=null,t=[],s=[],a=null,g=null,D=null){return new Fe(i,e,t,s,a,g,D)}function dn(i){const e=sr(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>vc(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),La(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>vu(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>vu(s)).join(",")),e.dt=t}return e.dt}function Qn(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Wa(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Vh(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ba(i.startAt,e.startAt)&&Ba(i.endAt,e.endAt)}function Tr(i){return or.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Ur(i,e){return i.filters.filter(t=>t instanceof os&&t.field.isEqual(e))}function ps(i,e,t){let s=_u,a=!0;for(const g of Ur(i,e)){let D=_u,U=!0;switch(g.op){case"<":case"<=":D=ur(g.value);break;case"==":case"in":case">=":D=g.value;break;case">":D=g.value,U=!1;break;case"!=":case"not-in":D=_u}wi({value:s,inclusive:a},{value:D,inclusive:U})<0&&(s=D,a=U)}if(null!==t)for(let g=0;g<i.orderBy.length;++g)if(i.orderBy[g].field.isEqual(e)){const D=t.position[g];wi({value:s,inclusive:a},{value:D,inclusive:t.inclusive})<0&&(s=D,a=t.inclusive);break}return{value:s,inclusive:a}}function _a(i,e,t){let s=xa,a=!0;for(const g of Ur(i,e)){let D=xa,U=!0;switch(g.op){case">=":case">":D=Hr(g.value),U=!1;break;case"==":case"in":case"<=":D=g.value;break;case"<":D=g.value,U=!1;break;case"!=":case"not-in":D=xa}di({value:s,inclusive:a},{value:D,inclusive:U})>0&&(s=D,a=U)}if(null!==t)for(let g=0;g<i.orderBy.length;++g)if(i.orderBy[g].field.isEqual(e)){const D=t.position[g];di({value:s,inclusive:a},{value:D,inclusive:t.inclusive})>0&&(s=D,a=t.inclusive);break}return{value:s,inclusive:a}}class jo{constructor(e,t=null,s=[],a=[],g=null,D="F",U=null,ne=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=g,this.limitType=D,this.startAt=U,this.endAt=ne,this.wt=null,this._t=null}}function Fl(i,e,t,s,a,g,D,U){return new jo(i,e,t,s,a,g,D,U)}function Ko(i){return new jo(i)}function Ec(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function ec(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function tc(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Nu(i){return null!==i.collectionGroup}function Xu(i){const e=sr(i);if(null===e.wt){e.wt=[];const t=tc(e),s=ec(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new Yo(t)),e.wt.push(new Yo(ho.keyField(),"asc"));else{let a=!1;for(const g of e.explicitOrderBy)e.wt.push(g),g.field.isKeyField()&&(a=!0);if(!a){const g=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Yo(ho.keyField(),g))}}}return e.wt}function Zo(i){const e=sr(i);if(!e._t)if("F"===e.limitType)e._t=Ut(e.path,e.collectionGroup,Xu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const g of Xu(e))t.push(new Yo(g.field,"desc"===g.dir?"asc":"desc"));const s=e.endAt?new Pa(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Pa(e.startAt.position,e.startAt.inclusive):null;e._t=Ut(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function Ll(i,e){e.getFirstInequalityField(),tc(i);const t=i.filters.concat([e]);return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function va(i,e,t){return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Bl(i,e){return Qn(Zo(i),Zo(e))&&i.limitType===e.limitType}function $c(i){return`${dn(Zo(i))}|lt:${i.limitType}`}function fd(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>ih(s)).join(", ")}]`),La(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>vu(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>vu(s)).join(",")),`Target(${t})`}(Zo(i))}; limitType=${i.limitType})`}function Vc(i,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):or.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(i,e)&&function(t,s){for(const a of Xu(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(i,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(a,g,D){const U=au(a,g,D);return a.inclusive?U<=0:U<0}(t.startAt,Xu(t),s)||t.endAt&&!function(a,g,D){const U=au(a,g,D);return a.inclusive?U>=0:U>0}(t.endAt,Xu(t),s)));var t,s}function Hc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function nc(i){return(e,t)=>{let s=!1;for(const a of Xu(i)){const g=Hh(a,e,t);if(0!==g)return g;s=s||a.field.isKeyField()}return 0}}function Hh(i,e,t){const s=i.field.isKeyField()?or.comparator(e.key,t.key):function(a,g,D){const U=g.data.field(a),ne=D.data.field(a);return null!==U&&null!==ne?Ho(U,ne):ar()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ar()}}class rc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,g]of s)if(this.equalsFn(a,e))return g}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let g=0;g<a.length;g++)if(this.equalsFn(a[g][0],e))return void(a[g]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){xu(this.inner,(t,s)=>{for(const[a,g]of s)e(a,g)})}isEmpty(){return Mu(this.inner)}size(){return this.innerSize}}const Ip=new bs(or.comparator);function ku(){return Ip}const bf=new bs(or.comparator);function qa(...i){let e=bf;for(const t of i)e=e.insert(t.key,t);return e}function gl(i){let e=bf;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ju(){return sa()}function jc(){return sa()}function sa(){return new rc(i=>i.toString(),(i,e)=>i.isEqual(e))}const zc=new bs(or.comparator),ml=new Ps(or.comparator);function Zn(...i){let e=ml;for(const t of i)e=e.add(t);return e}const jh=new Ps(qn);function Gc(){return jh}function Ul(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:al(e)?"-0":e}}function Tf(i){return{integerValue:""+i}}function Dc(i,e){return kc(e)?Tf(e):Ul(i,e)}class Rd{constructor(){this._=void 0}}function uu(i,e,t){return i instanceof yl?function(s,a){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Ol(a)&&(a=Aa(a)),a&&(g.fields.__previous_value__=a),{mapValue:g}}(t,e):i instanceof Ic?Cc(i,e):i instanceof pd?wp(i,e):function(s,a){const g=sh(s,a),D=_l(g)+_l(s.gt);return W(g)&&W(s.gt)?Tf(D):Ul(s.serializer,D)}(i,e)}function Cp(i,e,t){return i instanceof Ic?Cc(i,e):i instanceof pd?wp(i,e):t}function sh(i,e){return i instanceof ic?W(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class yl extends Rd{}class Ic extends Rd{constructor(e){super(),this.elements=e}}function Cc(i,e){const t=Ya(e);for(const s of i.elements)t.some(a=>Ma(a,s))||t.push(s);return{arrayValue:{values:t}}}class pd extends Rd{constructor(e){super(),this.elements=e}}function wp(i,e){let t=Ya(e);for(const s of i.elements)t=t.filter(a=>!Ma(a,s));return{arrayValue:{values:t}}}class ic extends Rd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function _l(i){return qs(i.integerValue||i.doubleValue)}function Ya(i){return de(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class vl{constructor(e,t){this.field=e,this.transform=t}}class ah{constructor(e,t){this.version=e,this.transformResults=t}}class Co{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Co}static exists(e){return new Co(void 0,e)}static updateTime(e){return new Co(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Ea{}function Od(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new gd(i.key,Co.none()):new Kc(i.key,i.data,Co.none());{const t=i.data,s=qi.empty();let a=new Ps(ho.comparator);for(let g of e.fields)if(!a.has(g)){let D=t.field(g);null===D&&g.length>1&&(g=g.popLast(),D=t.field(g)),null===D?s.delete(g):s.set(g,D),a=a.add(g)}return new el(i.key,s,new Sa(a.toArray()),Co.none())}}function wc(i,e,t){i instanceof Kc?function(s,a,g){const D=s.value.clone(),U=Sf(s.fieldTransforms,a,g.transformResults);D.setAll(U),a.convertToFoundDocument(g.version,D).setHasCommittedMutations()}(i,e,t):i instanceof el?function(s,a,g){if(!Wc(s.precondition,a))return void a.convertToUnknownDocument(g.version);const D=Sf(s.fieldTransforms,a,g.transformResults),U=a.data;U.setAll(sc(s)),U.setAll(D),a.convertToFoundDocument(g.version,U).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function qc(i,e,t,s){return i instanceof Kc?function(a,g,D,U){if(!Wc(a.precondition,g))return D;const ne=a.value.clone(),le=zh(a.fieldTransforms,U,g);return ne.setAll(le),g.convertToFoundDocument(g.version,ne).setHasLocalMutations(),null}(i,e,t,s):i instanceof el?function(a,g,D,U){if(!Wc(a.precondition,g))return D;const ne=zh(a.fieldTransforms,U,g),le=g.data;return le.setAll(sc(a)),le.setAll(ne),g.convertToFoundDocument(g.version,le).setHasLocalMutations(),null===D?null:D.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(Oe=>Oe.field))}(i,e,t,s):(D=t,Wc(i.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):D);var g,D}function El(i,e){let t=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),g=sh(s.transform,a||null);null!=g&&(null===t&&(t=qi.empty()),t.set(s.field,g))}return t||null}function Yc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&pu(t,s,(a,g)=>function oh(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof Ic&&s instanceof Ic||t instanceof pd&&s instanceof pd?pu(t.elements,s.elements,Ma):t instanceof ic&&s instanceof ic?Ma(t.gt,s.gt):t instanceof yl&&s instanceof yl);var t,s}(a,g))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class Kc extends Ea{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class el extends Ea{constructor(e,t,s,a,g=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function sc(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function Sf(i,e,t){const s=new Map;Cr(i.length===t.length);for(let a=0;a<t.length;a++){const g=i[a],D=g.transform,U=e.data.field(g.field);s.set(g.field,Cp(D,U,t[a]))}return s}function zh(i,e,t){const s=new Map;for(const a of i){const g=a.transform,D=t.data.field(a.field);s.set(a.field,uu(g,D,e))}return s}class gd extends Ea{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $l extends Ea{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nd{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const g=this.mutations[a];g.key.isEqual(e.key)&&wc(g,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=qc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=qc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=jc();return this.mutations.forEach(a=>{const g=e.get(a.key),D=g.overlayedDocument;let U=this.applyToLocalView(D,g.mutatedFields);U=t.has(a.key)?null:U;const ne=Od(D,U);null!==ne&&s.set(a.key,ne),D.isValidDocument()||D.convertToNoDocument(br.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zn())}isEqual(e){return this.batchId===e.batchId&&pu(this.mutations,e.mutations,(t,s)=>Yc(t,s))&&pu(this.baseMutations,e.baseMutations,(t,s)=>Yc(t,s))}}class oc{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Cr(e.mutations.length===s.length);let a=zc;const g=e.mutations;for(let D=0;D<g.length;D++)a=a.insert(g[D].key,s[D].version);return new oc(e,t,s,a)}}class uh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kd{constructor(e,t){this.count=e,this.unchangedNames=t}}var ao,zi;function Gh(i){switch(i){default:return ar();case cn.CANCELLED:case cn.UNKNOWN:case cn.DEADLINE_EXCEEDED:case cn.RESOURCE_EXHAUSTED:case cn.INTERNAL:case cn.UNAVAILABLE:case cn.UNAUTHENTICATED:return!1;case cn.INVALID_ARGUMENT:case cn.NOT_FOUND:case cn.ALREADY_EXISTS:case cn.PERMISSION_DENIED:case cn.FAILED_PRECONDITION:case cn.ABORTED:case cn.OUT_OF_RANGE:case cn.UNIMPLEMENTED:case cn.DATA_LOSS:return!0}}function ch(i){if(void 0===i)return Ms("GRPC error has no .code"),cn.UNKNOWN;switch(i){case ao.OK:return cn.OK;case ao.CANCELLED:return cn.CANCELLED;case ao.UNKNOWN:return cn.UNKNOWN;case ao.DEADLINE_EXCEEDED:return cn.DEADLINE_EXCEEDED;case ao.RESOURCE_EXHAUSTED:return cn.RESOURCE_EXHAUSTED;case ao.INTERNAL:return cn.INTERNAL;case ao.UNAVAILABLE:return cn.UNAVAILABLE;case ao.UNAUTHENTICATED:return cn.UNAUTHENTICATED;case ao.INVALID_ARGUMENT:return cn.INVALID_ARGUMENT;case ao.NOT_FOUND:return cn.NOT_FOUND;case ao.ALREADY_EXISTS:return cn.ALREADY_EXISTS;case ao.PERMISSION_DENIED:return cn.PERMISSION_DENIED;case ao.FAILED_PRECONDITION:return cn.FAILED_PRECONDITION;case ao.ABORTED:return cn.ABORTED;case ao.OUT_OF_RANGE:return cn.OUT_OF_RANGE;case ao.UNIMPLEMENTED:return cn.UNIMPLEMENTED;case ao.DATA_LOSS:return cn.DATA_LOSS;default:return ar()}}(zi=ao||(ao={}))[zi.OK=0]="OK",zi[zi.CANCELLED=1]="CANCELLED",zi[zi.UNKNOWN=2]="UNKNOWN",zi[zi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zi[zi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zi[zi.NOT_FOUND=5]="NOT_FOUND",zi[zi.ALREADY_EXISTS=6]="ALREADY_EXISTS",zi[zi.PERMISSION_DENIED=7]="PERMISSION_DENIED",zi[zi.UNAUTHENTICATED=16]="UNAUTHENTICATED",zi[zi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zi[zi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zi[zi.ABORTED=10]="ABORTED",zi[zi.OUT_OF_RANGE=11]="OUT_OF_RANGE",zi[zi.UNIMPLEMENTED=12]="UNIMPLEMENTED",zi[zi.INTERNAL=13]="INTERNAL",zi[zi.UNAVAILABLE=14]="UNAVAILABLE",zi[zi.DATA_LOSS=15]="DATA_LOSS";class dh{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Fd}static getOrCreateInstance(){return null===Fd&&(Fd=new dh),Fd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Fd=null;function hh(){return new TextEncoder}const Af=new Gs([4294967295,4294967295],0);function Fu(i){const e=hh().encode(i),t=new Kl;return t.update(e),new Uint8Array(t.digest())}function md(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),g=e.getUint32(12,!0);return[new Gs([t,s],0),new Gs([a,g],0)]}class Wh{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new yd(`Invalid padding: ${t}`);if(s<0)throw new yd(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new yd(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new yd(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Gs.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(Gs.fromNumber(s)));return 1===a.compare(Af)&&(a=new Gs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Fu(e),[s,a]=md(t);for(let g=0;g<this.hashCount;g++){const D=this.Et(s,a,g);if(!this.At(D))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,g=new Uint8Array(Math.ceil(e/8)),D=new Wh(g,a,t);return s.forEach(U=>D.insert(U)),D}insert(e){if(0===this.It)return;const t=Fu(e),[s,a]=md(t);for(let g=0;g<this.hashCount;g++){const D=this.Et(s,a,g);this.Rt(D)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class yd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zc{constructor(e,t,s,a,g){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,_d.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Zc(br.min(),a,new bs(qn),ku(),Zn())}}class _d{constructor(e,t,s,a,g){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new _d(s,t,Zn(),Zn(),Zn())}}class Ld{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class vd{constructor(e,t){this.targetId=e,this.Vt=t}}class xf{constructor(e,t,s=Ao.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class qh{constructor(){this.St=0,this.Dt=Tp(),this.Ct=Ao.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Zn(),t=Zn(),s=Zn();return this.Dt.forEach((a,g)=>{switch(g){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:ar()}}),new _d(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=Tp()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Mg{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ku(),this.zt=bp(),this.Wt=new bs(qn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:ar()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,g=this.se(s);if(g){const D=g.target;if(Tr(D))if(0===a){const U=new or(D.path);this.Yt(s,U,Cs.newNoDocument(U,br.min()))}else Cr(1===a);else{const U=this.ie(s);if(U!==a){const ne=this.re(e,U);0!==ne&&(this.ee(s),this.Wt=this.Wt.insert(s,2===ne?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=dh.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(le,Oe,_t){var un,Cn,ir,Br,zr,vs;const Ls={localCacheCount:Oe,existenceFilterCount:_t.count},ts=_t.unchangedNames;return ts&&(Ls.bloomFilter={applied:0===le,hashCount:null!==(un=ts?.hashCount)&&void 0!==un?un:0,bitmapLength:null!==(Br=null===(ir=null===(Cn=ts?.bits)||void 0===Cn?void 0:Cn.bitmap)||void 0===ir?void 0:ir.length)&&void 0!==Br?Br:0,padding:null!==(vs=null===(zr=ts?.bits)||void 0===zr?void 0:zr.padding)&&void 0!==vs?vs:0}),Ls}(ne,U,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:g="",padding:D=0},hashCount:U=0}=s;let ne,le;try{ne=ma(g).toUint8Array()}catch(Oe){if(Oe instanceof Bc)return Ws("Decoding the base64 bloom filter in existence filter failed ("+Oe.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Oe}try{le=new Wh(ne,D,U)}catch(Oe){return Ws(Oe instanceof yd?"BloomFilter error: ":"Applying bloom filter failed: ",Oe),1}return 0===le.It?1:a!==t-this.oe(e.targetId,le)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(g=>{const D=this.Gt.ue(),U=`projects/${D.projectId}/databases/${D.database}/documents/${g.path.canonicalString()}`;t.vt(U)||(this.Yt(e,g,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((g,D)=>{const U=this.se(D);if(U){if(g.current&&Tr(U.target)){const ne=new or(U.target.path);null!==this.jt.get(ne)||this.ae(D,ne)||this.Yt(D,ne,Cs.newNoDocument(ne,e))}g.Mt&&(t.set(D,g.Ot()),g.Ft())}});let s=Zn();this.zt.forEach((g,D)=>{let U=!0;D.forEachWhile(ne=>{const le=this.se(ne);return!le||"TargetPurposeLimboResolution"===le.purpose||(U=!1,!1)}),U&&(s=s.add(g))}),this.jt.forEach((g,D)=>D.setReadTime(e));const a=new Zc(e,t,this.Wt,this.jt,s);return this.jt=ku(),this.zt=bp(),this.Wt=new bs(qn),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new qh,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ps(qn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Mn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new qh),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function bp(){return new bs(or.comparator)}function Tp(){return new bs(or.comparator)}const Mf={asc:"ASCENDING",desc:"DESCENDING"},Sp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yh={and:"AND",or:"OR"};class Pf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qc(i,e){return i.useProto3Json||La(e)?e:{value:e}}function Bd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ap(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Vl(i,e){return Bd(i,e.toTimestamp())}function Da(i){return Cr(!!i),br.fromTimestamp(function(e){const t=_o(e);return new es(t.seconds,t.nanos)}(i))}function fh(i,e){return(t=i,new hs(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Dl(i){const e=hs.fromString(i);return Cr(mh(e)),e}function ac(i,e){return fh(i.databaseId,e.path)}function Lu(i,e){const t=Dl(e);if(t.get(1)!==i.databaseId.projectId)throw new Pn(cn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Pn(cn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new or(ph(t))}function Ud(i,e){return fh(i.databaseId,e)}function Rf(i){const e=Dl(i);return 4===e.length?hs.emptyPath():ph(e)}function Ed(i){return new hs(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ph(i){return Cr(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Xc(i,e,t){return{name:ac(i,e),fields:t.value.mapValue.fields}}function xp(i,e,t){const s=Lu(i,e.name),a=Da(e.updateTime),g=e.createTime?Da(e.createTime):br.min(),D=new qi({mapValue:{fields:e.fields}}),U=Cs.newFoundDocument(s,a,g,D);return t&&U.setHasCommittedMutations(),t?U.setHasCommittedMutations():U}function gh(i,e){let t;if(e instanceof Kc)t={update:Xc(i,e.key,e.value)};else if(e instanceof gd)t={delete:ac(i,e.key)};else if(e instanceof el)t={update:Xc(i,e.key,e.data),updateMask:Om(e.fieldMask)};else{if(!(e instanceof $l))return ar();t={verify:ac(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,g){const D=g.transform;if(D instanceof yl)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Ic)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof pd)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof ic)return{fieldPath:g.field.canonicalString(),increment:D.gt};throw ar()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Vl(i,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:ar()),t;var a}function Of(i,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Co.updateTime(Da(a.updateTime)):void 0!==a.exists?Co.exists(a.exists):Co.none():Co.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(g,D){let U=null;"setToServerValue"in D?(Cr("REQUEST_TIME"===D.setToServerValue),U=new yl):"appendMissingElements"in D?U=new Ic(D.appendMissingElements.values||[]):"removeAllFromArray"in D?U=new pd(D.removeAllFromArray.values||[]):"increment"in D?U=new ic(g,D.increment):ar();const ne=ho.fromServerFormat(D.fieldPath);return new vl(ne,U)}(i,a)):[];var a;if(e.update){const a=Lu(i,e.update.name),g=new qi({mapValue:{fields:e.update.fields}});if(e.updateMask){const D=new Sa((e.updateMask.fieldPaths||[]).map(le=>ho.fromServerFormat(le)));return new el(a,g,D,t,s)}return new Kc(a,g,t,s)}if(e.delete){const a=Lu(i,e.delete);return new gd(a,t)}if(e.verify){const a=Lu(i,e.verify);return new $l(a,t)}return ar()}function ed(i,e){return{documents:[Ud(i,e.path)]}}function Nf(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Ud(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ud(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(ne){if(0!==ne.length)return kg(Ts.create(ne,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const g=function(ne){if(0!==ne.length)return ne.map(le=>{return{field:td((Oe=le).field),direction:Og(Oe.dir)};var Oe})}(e.orderBy);g&&(t.structuredQuery.orderBy=g);const D=Qc(i,e.limit);var U,ne;return null!==D&&(t.structuredQuery.limit=D),e.startAt&&(t.structuredQuery.startAt={before:(U=e.startAt).inclusive,values:U.position}),e.endAt&&(t.structuredQuery.endAt={before:!(ne=e.endAt).inclusive,values:ne.position}),t}function Pp(i){let e=Rf(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Cr(1===s);const Oe=t.from[0];Oe.allDescendants?a=Oe.collectionId:e=e.child(Oe.collectionId)}let g=[];t.where&&(g=function(Oe){const _t=Rp(Oe);return _t instanceof Ts&&Pd(_t)?_t.getFilters():[_t]}(t.where));let D=[];t.orderBy&&(D=t.orderBy.map(Oe=>{return new Yo($d((_t=Oe).field),function(un){switch(un){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_t.direction));var _t}));let U=null;t.limit&&(U=function(Oe){let _t;return _t="object"==typeof Oe?Oe.value:Oe,La(_t)?null:_t}(t.limit));let ne=null;var Oe;t.startAt&&(ne=new Pa((Oe=t.startAt).values||[],!!Oe.before));let le=null;return t.endAt&&(le=function(Oe){return new Pa(Oe.values||[],!Oe.before)}(t.endAt)),Fl(e,a,D,g,U,"F",ne,le)}function Rp(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=$d(e.unaryFilter.field);return os.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=$d(e.unaryFilter.field);return os.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=$d(e.unaryFilter.field);return os.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=$d(e.unaryFilter.field);return os.create(g,"!=",{nullValue:"NULL_VALUE"});default:return ar()}}(i):void 0!==i.fieldFilter?os.create($d((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ar()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Ts.create(e.compositeFilter.filters.map(t=>Rp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ar()}}(e.compositeFilter.op))}(i):ar();var e}function Og(i){return Mf[i]}function Ng(i){return Sp[i]}function Op(i){return Yh[i]}function td(i){return{fieldPath:i.canonicalString()}}function $d(i){return ho.fromServerFormat(i.fieldPath)}function kg(i){return i instanceof os?function(e){if("=="===e.op){if(Rt(e.value))return{unaryFilter:{field:td(e.field),op:"IS_NAN"}};if(et(e.value))return{unaryFilter:{field:td(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Rt(e.value))return{unaryFilter:{field:td(e.field),op:"IS_NOT_NAN"}};if(et(e.value))return{unaryFilter:{field:td(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:td(e.field),op:Ng(e.op),value:e.value}}}(i):i instanceof Ts?function(e){const t=e.getFilters().map(s=>kg(s));return 1===t.length?t[0]:{compositeFilter:{op:Op(e.op),filters:t}}}(i):ar()}function Om(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mh(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Ua{constructor(e,t,s,a,g=br.min(),D=br.min(),U=Ao.EMPTY_BYTE_STRING,ne=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=U,this.expectedCount=ne}withSequenceNumber(e){return new Ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Dd{constructor(e){this.fe=e}}function Ff(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:yh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:ac(a=i.fe,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:Bd(a,g.version.toTimestamp()),createTime:Bd(a,g.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Vd(e.version)};else{if(!e.isUnknownDocument())return ar();s.unknownDocument={path:t.path.toArray(),version:Vd(e.version)}}var a,g;return s}function yh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Vd(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Hd(i){const e=new es(i.seconds,i.nanoseconds);return br.fromTimestamp(e)}function tl(i,e){const t=(e.baseMutations||[]).map(g=>Of(i.fe,g));for(let g=0;g<e.mutations.length-1;++g)g+1<e.mutations.length&&void 0!==e.mutations[g+1].transform&&(e.mutations[g].updateTransforms=e.mutations[g+1].transform.fieldTransforms,e.mutations.splice(g+1,1),++g);const s=e.mutations.map(g=>Of(i.fe,g)),a=es.fromMillis(e.localWriteTimeMs);return new Nd(e.batchId,a,t,s)}function oa(i){const e=Hd(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Hd(i.lastLimboFreeSnapshotVersion):br.min();let s;var a;return void 0!==i.query.documents?(Cr(1===(a=i.query).documents.length),s=Zo(Ko(Rf(a.documents[0])))):s=Zo(Pp(i.query)),new Ua(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,Ao.fromBase64String(i.resumeToken))}function Eu(i,e){const t=Vd(e.snapshotVersion),s=Vd(e.lastLimboFreeSnapshotVersion);let a;a=Tr(e.target)?ed(i.fe,e.target):Nf(i.fe,e.target);const g=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dn(e.target),readTime:t,resumeToken:g,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function Id(i){const e=Pp({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?va(e,e.limit,"L"):e}function Np(i,e){return new uh(e.largestBatchId,Of(i.fe,e.overlayMutation))}function jd(i,e){const t=e.path.lastSegment();return[i,Ks(e.path.popLast()),t]}function kp(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Vd(s.readTime),documentKey:Ks(s.documentKey.path),largestBatchId:s.largestBatchId}}class Fg{getBundleMetadata(e,t){return Fp(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Hd(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Fp(e).put({bundleId:(s=t).id,createTime:Vd(Da(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Lp(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Id(a.bundledQuery),readTime:Hd(a.readTime)};var a})}saveNamedQuery(e,t){return Lp(e).put({name:(s=t).name,readTime:Vd(Da(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Fp(i){return Io(i,"bundles")}function Lp(i){return Io(i,"namedQueries")}class zd{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new zd(e,t.uid||"")}getOverlay(e,t){return bc(e).get(jd(this.userId,t)).next(s=>s?Np(this.serializer,s):null)}getOverlays(e,t){const s=Ju();return rt.forEach(t,a=>this.getOverlay(e,a).next(g=>{null!==g&&s.set(a,g)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((g,D)=>{const U=new uh(t,D);a.push(this.we(e,U))}),rt.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(D=>a.add(Ks(D.getCollectionPath())));const g=[];return a.forEach(D=>{const U=IDBKeyRange.bound([this.userId,D,s],[this.userId,D,s+1],!1,!0);g.push(bc(e).J("collectionPathOverlayIndex",U))}),rt.waitFor(g)}getOverlaysForCollection(e,t,s){const a=Ju(),g=Ks(t),D=IDBKeyRange.bound([this.userId,g,s],[this.userId,g,Number.POSITIVE_INFINITY],!0);return bc(e).j("collectionPathOverlayIndex",D).next(U=>{for(const ne of U){const le=Np(this.serializer,ne);a.set(le.getKey(),le)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const g=Ju();let D;const U=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bc(e).X({index:"collectionGroupOverlayIndex",range:U},(ne,le,Oe)=>{const _t=Np(this.serializer,le);g.size()<a||_t.largestBatchId===D?(g.set(_t.getKey(),_t),D=_t.largestBatchId):Oe.done()}).next(()=>g)}we(e,t){return bc(e).put(function(s,a,g){const[D,U,ne]=jd(a,g.mutation.key);return{userId:a,collectionPath:U,documentId:ne,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:gh(s.fe,g.mutation)}}(this.serializer,this.userId,t))}}function bc(i){return Io(i,"documentOverlays")}class Tc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(qs(e.integerValue));else if("doubleValue"in e){const s=qs(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),al(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ma(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?pr(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ar()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),or.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Kh(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Gd(i){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const g=Kh(255&t[a]);if(s+=g,8!==g)break}return s}(i);return Math.ceil(e/8)}Tc.Ve=new Tc;class Ia{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),s=Gd(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),s=Gd(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,a,!1),new Uint8Array(g.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Bp{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Lg{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Cd{constructor(){this.je=new Ia,this.ze=new Bp(this.je),this.We=new Lg(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class uc{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new uc(this.indexId,this.documentKey,this.arrayValue,s)}}function Sc(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Lf(i.arrayValue,e.arrayValue),0!==t?t:(t=Lf(i.directionalValue,e.directionalValue),0!==t?t:or.comparator(i.documentKey,e.documentKey)))}function Lf(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class Up{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){Cr(e.collectionGroup===this.collectionId);const t=Vu(e);if(void 0!==t&&!this.en(t))return!1;const s=gu(e);let a=new Set,g=0,D=0;for(;g<s.length&&this.en(s[g]);++g)a=a.add(s[g].fieldPath.canonicalString());if(g===s.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const U=s[g];if(!this.nn(this.Ze,U)||!this.sn(this.Ye[D++],U))return!1}++g}for(;g<s.length;++g)if(D>=this.Ye.length||!this.sn(this.Ye[D++],s[g]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Bf(i){var e,t;if(Cr(i instanceof os||i instanceof Ts),i instanceof os){if(i instanceof I){const a=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(g=>os.create(i.field,"==",g)))||[];return Ts.create(a,"or")}return i}const s=i.filters.map(a=>Bf(a));return Ts.create(s,i.op)}function $p(i){if(0===i.getFilters().length)return[];const e=Rs(Bf(i));return Cr(Wd(e)),Uf(e)||Vp(e)?[e]:e.getFilters()}function Uf(i){return i instanceof os}function Vp(i){return i instanceof Ts&&Pd(i)}function Wd(i){return Uf(i)||Vp(i)||function(e){if(e instanceof Ts&&qu(e)){for(const t of e.getFilters())if(!Uf(t)&&!Vp(t))return!1;return!0}return!1}(i)}function Rs(i){if(Cr(i instanceof os||i instanceof Ts),i instanceof os)return i;if(1===i.filters.length)return Rs(i.filters[0]);const e=i.filters.map(s=>Rs(s));let t=Ts.create(e,i.op);return t=_h(t),Wd(t)?t:(Cr(t instanceof Ts),Cr(Ou(t)),Cr(t.filters.length>1),t.filters.reduce((s,a)=>wd(s,a)))}function wd(i,e){let t;return Cr(i instanceof os||i instanceof Ts),Cr(e instanceof os||e instanceof Ts),t=i instanceof os?e instanceof os?Ts.create([i,e],"and"):$f(i,e):e instanceof os?$f(e,i):function(s,a){if(Cr(s.filters.length>0&&a.filters.length>0),Ou(s)&&Ou(a))return dd(s,a.getFilters());const g=qu(s)?s:a,D=qu(s)?a:s,U=g.filters.map(ne=>wd(ne,D));return Ts.create(U,"or")}(i,e),_h(t)}function $f(i,e){if(Ou(e))return dd(e,i.getFilters());{const t=e.filters.map(s=>wd(i,s));return Ts.create(t,"or")}}function _h(i){if(Cr(i instanceof os||i instanceof Ts),i instanceof os)return i;const e=i.getFilters();if(1===e.length)return _h(e[0]);if(_c(i))return i;const t=e.map(a=>_h(a)),s=[];return t.forEach(a=>{a instanceof os?s.push(a):a instanceof Ts&&(a.op===i.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:Ts.create(s,i.op)}class Hp{constructor(){this.rn=new vh}addToCollectionParentIndex(e,t){return this.rn.add(t),rt.resolve()}getCollectionParents(e,t){return rt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return rt.resolve()}deleteFieldIndex(e,t){return rt.resolve()}getDocumentsMatchingTarget(e,t){return rt.resolve(null)}getIndexType(e,t){return rt.resolve(0)}getFieldIndexes(e,t){return rt.resolve([])}getNextCollectionGroupToUpdate(e){return rt.resolve(null)}getMinOffset(e,t){return rt.resolve(b.min())}getMinOffsetFromCollectionGroup(e,t){return rt.resolve(b.min())}updateCollectionGroup(e,t,s){return rt.resolve()}updateIndexEntries(e,t){return rt.resolve()}}class vh{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Ps(hs.comparator),g=!a.has(s);return this.index[t]=a.add(s),g}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ps(hs.comparator)).toArray()}}const Zh=new Uint8Array(0);class jp{constructor(e,t){this.user=e,this.databaseId=t,this.on=new vh,this.un=new rc(s=>dn(s),(s,a)=>Qn(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const g={collectionId:s,parent:Ks(a)};return Vf(e).put(g)}return rt.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Zl(t),""],!1,!0);return Vf(e).j(a).next(g=>{for(const D of g){if(D.collectionId!==t)break;s.push(_s(D.parent))}return s})}addFieldIndex(e,t){const s=d(e),a={indexId:(D=t).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(U=>[U.fieldPath.canonicalString(),U.kind])};var D;delete a.indexId;const g=s.add(a);if(t.indexState){const D=c(e);return g.next(U=>{D.put(kp(U,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return g.next()}deleteFieldIndex(e,t){const s=d(e),a=c(e),g=p(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>g.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=p(e);let a=!0;const g=new Map;return rt.forEach(this.cn(t),D=>this.an(e,D).next(U=>{a&&(a=!!U),g.set(D,U)})).next(()=>{if(a){let D=Zn();const U=[];return rt.forEach(g,(ne,le)=>{var Oe;Mn("IndexedDbIndexManager",`Using index ${Oe=ne,`id=${Oe.indexId}|cg=${Oe.collectionGroup}|f=${Oe.fields.map(ts=>`${ts.fieldPath}:${ts.kind}`).join(",")}`} to execute ${dn(t)}`);const _t=function(ts,Va){const pa=Vu(Va);if(void 0===pa)return null;for(const ua of Ur(ts,pa.fieldPath))switch(ua.op){case"array-contains-any":return ua.value.arrayValue.values||[];case"array-contains":return[ua.value]}return null}(le,ne),un=function(ts,Va){const pa=new Map;for(const ua of gu(Va))for(const il of Ur(ts,ua.fieldPath))switch(il.op){case"==":case"in":pa.set(ua.fieldPath.canonicalString(),il.value);break;case"not-in":case"!=":return pa.set(ua.fieldPath.canonicalString(),il.value),Array.from(pa.values())}return null}(le,ne),Cn=function(ts,Va){const pa=[];let ua=!0;for(const il of gu(Va)){const Cf=0===il.kind?ps(ts,il.fieldPath,ts.startAt):_a(ts,il.fieldPath,ts.startAt);pa.push(Cf.value),ua&&(ua=Cf.inclusive)}return new Pa(pa,ua)}(le,ne),ir=function(ts,Va){const pa=[];let ua=!0;for(const il of gu(Va)){const Cf=0===il.kind?_a(ts,il.fieldPath,ts.endAt):ps(ts,il.fieldPath,ts.endAt);pa.push(Cf.value),ua&&(ua=Cf.inclusive)}return new Pa(pa,ua)}(le,ne),Br=this.hn(ne,le,Cn),zr=this.hn(ne,le,ir),vs=this.ln(ne,le,un),Ls=this.fn(ne.indexId,_t,Br,Cn.inclusive,zr,ir.inclusive,vs);return rt.forEach(Ls,ts=>s.H(ts,t.limit).next(Va=>{Va.forEach(pa=>{const ua=or.fromSegments(pa.documentKey);D.has(ua)||(D=D.add(ua),U.push(ua))})}))}).next(()=>U)}return rt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:$p(Ts.create(e.filters,"and")).map(s=>Ut(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,a,g,D,U){const ne=(null!=t?t.length:1)*Math.max(s.length,g.length),le=ne/(null!=t?t.length:1),Oe=[];for(let _t=0;_t<ne;++_t){const un=t?this.dn(t[_t/le]):Zh,Cn=this.wn(e,un,s[_t%le],a),ir=this._n(e,un,g[_t%le],D),Br=U.map(zr=>this.wn(e,un,zr,!0));Oe.push(...this.createRange(Cn,ir,Br))}return Oe}wn(e,t,s,a){const g=new uc(e,or.empty(),t,s);return a?g:g.Je()}_n(e,t,s,a){const g=new uc(e,or.empty(),t,s);return a?g.Je():g}an(e,t){const s=new Up(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(g=>{let D=null;for(const U of g)s.tn(U)&&(!D||U.fields.length>D.fields.length)&&(D=U);return D})}getIndexType(e,t){let s=2;const a=this.cn(t);return rt.forEach(a,g=>this.an(e,g).next(D=>{D?0!==s&&D.fields.length<function(U){let ne=new Ps(ho.comparator),le=!1;for(const Oe of U.filters)for(const _t of Oe.getFlattenedFilters())_t.field.isKeyField()||("array-contains"===_t.op||"array-contains-any"===_t.op?le=!0:ne=ne.add(_t.field));for(const Oe of U.orderBy)Oe.field.isKeyField()||(ne=ne.add(Oe.field));return ne.size+(le?1:0)}(g)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}mn(e,t){const s=new Cd;for(const a of gu(e)){const g=t.data.field(a.fieldPath);if(null==g)return null;const D=s.He(a.kind);Tc.Ve._e(g,D)}return s.Qe()}dn(e){const t=new Cd;return Tc.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new Cd;return Tc.Ve._e(F(this.databaseId,t),s.He(function(a){const g=gu(a);return 0===g.length?0:g[g.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let a=[];a.push(new Cd);let g=0;for(const D of gu(e)){const U=s[g++];for(const ne of a)if(this.yn(t,D.fieldPath)&&de(U))a=this.pn(a,D,U);else{const le=ne.He(D.kind);Tc.Ve._e(U,le)}}return this.In(a)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const a=[...e],g=[];for(const D of s.arrayValue.values||[])for(const U of a){const ne=new Cd;ne.seed(U.Qe()),Tc.Ve._e(D,ne.He(t.kind)),g.push(ne)}return g}yn(e,t){return!!e.filters.find(s=>s instanceof os&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=d(e),a=c(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(g=>{const D=[];return rt.forEach(g,U=>a.get([U.indexId,this.uid]).next(ne=>{D.push(function(le,Oe){const _t=Oe?new ga(Oe.sequenceNumber,new b(Hd(Oe.readTime),new or(_s(Oe.documentKey)),Oe.largestBatchId)):ga.empty(),un=le.fields.map(([Cn,ir])=>new xl(ho.fromServerFormat(Cn),ir));return new ra(le.indexId,le.collectionGroup,un,_t)}(U,ne))})).next(()=>D)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const g=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==g?g:qn(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=d(e),g=c(e);return this.Tn(e).next(D=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(U=>rt.forEach(U,ne=>g.put(kp(ne.indexId,this.user,D,s)))))}updateIndexEntries(e,t){const s=new Map;return rt.forEach(t,(a,g)=>{const D=s.get(a.collectionGroup);return(D?rt.resolve(D):this.getFieldIndexes(e,a.collectionGroup)).next(U=>(s.set(a.collectionGroup,U),rt.forEach(U,ne=>this.En(e,a,ne).next(le=>{const Oe=this.An(g,ne);return le.isEqual(Oe)?rt.resolve():this.vn(e,g,ne,le,Oe)}))))})}Rn(e,t,s,a){return p(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,a){return p(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const a=p(e);let g=new Ps(Sc);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(D,U)=>{g=g.add(new uc(s.indexId,t,U.arrayValue,U.directionalValue))}).next(()=>g)}An(e,t){let s=new Ps(Sc);const a=this.mn(t,e);if(null==a)return s;const g=Vu(t);if(null!=g){const D=e.data.field(g.fieldPath);if(de(D))for(const U of D.arrayValue.values||[])s=s.add(new uc(t.indexId,e.key,this.dn(U),a))}else s=s.add(new uc(t.indexId,e.key,Zh,a));return s}vn(e,t,s,a,g){Mn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const D=[];return function(U,ne,le,Oe,_t){const un=U.getIterator(),Cn=ne.getIterator();let ir=yu(un),Br=yu(Cn);for(;ir||Br;){let zr=!1,vs=!1;if(ir&&Br){const Ls=le(ir,Br);Ls<0?vs=!0:Ls>0&&(zr=!0)}else null!=ir?vs=!0:zr=!0;zr?(Oe(Br),Br=yu(Cn)):vs?(_t(ir),ir=yu(un)):(ir=yu(un),Br=yu(Cn))}}(a,g,Sc,U=>{D.push(this.Rn(e,t,s,U))},U=>{D.push(this.Pn(e,t,s,U))}),rt.waitFor(D)}Tn(e){let t=1;return c(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,g)=>{g.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((D,U)=>Sc(D,U)).filter((D,U,ne)=>!U||0!==Sc(D,ne[U-1]));const a=[];a.push(e);for(const D of s){const U=Sc(D,e),ne=Sc(D,t);if(0===U)a[0]=e.Je();else if(U>0&&ne<0)a.push(D),a.push(D.Je());else if(ne>0)break}a.push(t);const g=[];for(let D=0;D<a.length;D+=2){if(this.bn(a[D],a[D+1]))return[];g.push(IDBKeyRange.bound([a[D].indexId,this.uid,a[D].arrayValue,a[D].directionalValue,Zh,[]],[a[D+1].indexId,this.uid,a[D+1].arrayValue,a[D+1].directionalValue,Zh,[]]))}return g}bn(e,t){return Sc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(v)}getMinOffset(e,t){return rt.mapArray(this.cn(t),s=>this.an(e,s).next(a=>a||ar())).next(v)}}function Vf(i){return Io(i,"collectionParents")}function p(i){return Io(i,"indexEntries")}function d(i){return Io(i,"indexConfiguration")}function c(i){return Io(i,"indexState")}function v(i){Cr(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const a=i[s].indexState.offset;G(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new b(e.readTime,e.documentKey,t)}const A={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class H{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new H(e,H.DEFAULT_COLLECTION_PERCENTILE,H.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function re(i,e,t){const s=i.store("mutations"),a=i.store("documentMutations"),g=[],D=IDBKeyRange.only(t.batchId);let U=0;const ne=s.X({range:D},(Oe,_t,un)=>(U++,un.delete()));g.push(ne.next(()=>{Cr(1===U)}));const le=[];for(const Oe of t.mutations){const _t=Ml(e,Oe.key.path,t.batchId);g.push(a.delete(_t)),le.push(Oe.key)}return rt.waitFor(g).next(()=>le)}function xe(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw ar();e=i.noDocument}return JSON.stringify(e).length}H.DEFAULT_COLLECTION_PERCENTILE=10,H.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,H.DEFAULT=new H(41943040,H.DEFAULT_COLLECTION_PERCENTILE,H.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),H.DISABLED=new H(-1,0,0);class Je{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.Vn={}}static de(e,t,s,a){Cr(""!==e.uid);const g=e.isAuthenticated()?e.uid:"";return new Je(g,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pn(e).X({index:"userMutationsIndex",range:s},(a,g,D)=>{t=!1,D.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const g=In(e),D=pn(e);return D.add({}).next(U=>{Cr("number"==typeof U);const ne=new Nd(U,t,s,a),le=function(un,Cn,ir){const Br=ir.baseMutations.map(vs=>gh(un.fe,vs)),zr=ir.mutations.map(vs=>gh(un.fe,vs));return{userId:Cn,batchId:ir.batchId,localWriteTimeMs:ir.localWriteTime.toMillis(),baseMutations:Br,mutations:zr}}(this.serializer,this.userId,ne),Oe=[];let _t=new Ps((un,Cn)=>qn(un.canonicalString(),Cn.canonicalString()));for(const un of a){const Cn=Ml(this.userId,un.key.path,U);_t=_t.add(un.key.path.popLast()),Oe.push(D.put(le)),Oe.push(g.put(Cn,ul))}return _t.forEach(un=>{Oe.push(this.indexManager.addToCollectionParentIndex(e,un))}),e.addOnCommittedListener(()=>{this.Vn[U]=ne.keys()}),rt.waitFor(Oe).next(()=>ne)})}lookupMutationBatch(e,t){return pn(e).get(t).next(s=>s?(Cr(s.userId===this.userId),tl(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?rt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let g=null;return pn(e).X({index:"userMutationsIndex",range:a},(D,U,ne)=>{U.userId===this.userId&&(Cr(U.batchId>=s),g=tl(this.serializer,U)),ne.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return pn(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,g,D)=>{s=g.batchId,D.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pn(e).j("userMutationsIndex",t).next(s=>s.map(a=>tl(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Xl(this.userId,t.path),a=IDBKeyRange.lowerBound(s),g=[];return In(e).X({range:a},(D,U,ne)=>{const[le,Oe,_t]=D,un=_s(Oe);if(le===this.userId&&t.path.isEqual(un))return pn(e).get(_t).next(Cn=>{if(!Cn)throw ar();Cr(Cn.userId===this.userId),g.push(tl(this.serializer,Cn))});ne.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ps(qn);const a=[];return t.forEach(g=>{const D=Xl(this.userId,g.path),U=IDBKeyRange.lowerBound(D),ne=In(e).X({range:U},(le,Oe,_t)=>{const[un,Cn,ir]=le,Br=_s(Cn);un===this.userId&&g.path.isEqual(Br)?s=s.add(ir):_t.done()});a.push(ne)}),rt.waitFor(a).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,g=Xl(this.userId,s),D=IDBKeyRange.lowerBound(g);let U=new Ps(qn);return In(e).X({range:D},(ne,le,Oe)=>{const[_t,un,Cn]=ne,ir=_s(un);_t===this.userId&&s.isPrefixOf(ir)?ir.length===a&&(U=U.add(Cn)):Oe.done()}).next(()=>this.Dn(e,U))}Dn(e,t){const s=[],a=[];return t.forEach(g=>{a.push(pn(e).get(g).next(D=>{if(null===D)throw ar();Cr(D.userId===this.userId),s.push(tl(this.serializer,D))}))}),rt.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return re(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),rt.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return rt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return In(e).X({range:s},(g,D,U)=>{if(g[0]===this.userId){const ne=_s(g[1]);a.push(ne)}else U.done()}).next(()=>{Cr(0===a.length)})})}containsKey(e,t){return ft(e,this.userId,t)}xn(e){return Rn(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ft(i,e,t){const s=Xl(e,t.path),a=s[1],g=IDBKeyRange.lowerBound(s);let D=!1;return In(i).X({range:g,Y:!0},(U,ne,le)=>{const[Oe,_t,un]=U;Oe===e&&_t===a&&(D=!0),le.done()}).next(()=>D)}function pn(i){return Io(i,"mutations")}function In(i){return Io(i,"documentMutations")}function Rn(i){return Io(i,"mutationQueues")}class gr{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new gr(0)}static Mn(){return new gr(-1)}}class Jr{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new gr(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>br.fromTimestamp(new es(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>as(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(Cr(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let a=0;const g=[];return as(e).X((D,U)=>{const ne=oa(U);ne.sequenceNumber<=t&&null===s.get(ne.targetId)&&(a++,g.push(this.removeTargetData(e,ne)))}).next(()=>rt.waitFor(g)).next(()=>a)}forEachTarget(e,t){return as(e).X((s,a)=>{const g=oa(a);t(g)})}$n(e){return Qo(e).get("targetGlobalKey").next(t=>(Cr(null!==t),t))}On(e,t){return Qo(e).put("targetGlobalKey",t)}Fn(e,t){return as(e).put(Eu(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=dn(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let g=null;return as(e).X({range:a,index:"queryTargetsIndex"},(D,U,ne)=>{const le=oa(U);Qn(t,le.target)&&(g=le,ne.done())}).next(()=>g)}addMatchingKeys(e,t,s){const a=[],g=lu(e);return t.forEach(D=>{const U=Ks(D.path);a.push(g.put({targetId:s,path:U})),a.push(this.referenceDelegate.addReference(e,s,D))}),rt.waitFor(a)}removeMatchingKeys(e,t,s){const a=lu(e);return rt.forEach(t,g=>{const D=Ks(g.path);return rt.waitFor([a.delete([s,D]),this.referenceDelegate.removeReference(e,s,g)])})}removeMatchingKeysForTargetId(e,t){const s=lu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=lu(e);let g=Zn();return a.X({range:s,Y:!0},(D,U,ne)=>{const le=_s(D[1]),Oe=new or(le);g=g.add(Oe)}).next(()=>g)}containsKey(e,t){const s=Ks(t.path),a=IDBKeyRange.bound([s],[Zl(s)],!1,!0);let g=0;return lu(e).X({index:"documentTargetsIndex",Y:!0,range:a},([D,U],ne,le)=>{0!==D&&(g++,le.done())}).next(()=>g>0)}le(e,t){return as(e).get(t).next(s=>s?oa(s):null)}}function as(i){return Io(i,"targets")}function Qo(i){return Io(i,"targetGlobal")}function lu(i){return Io(i,"targetDocuments")}function lc([i,e],[t,s]){const a=qn(i,t);return 0===a?qn(e,s):a}class Ac{constructor(e){this.Ln=e,this.buffer=new Ps(lc),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();lc(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nd{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Mn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_e.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){ha(s)?Mn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Be(s)}yield t.Qn(3e5)}))}}class Ly{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return rt.resolve(Fo.ct);const s=new Ac(t);return this.jn.forEachTarget(e,a=>s.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>s.Kn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Mn("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(A)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Mn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,a,g,D,U,ne,le;const Oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_t=>(_t>this.params.maximumSequenceNumbersToCollect?(Mn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_t}`),a=this.params.maximumSequenceNumbersToCollect):a=_t,D=Date.now(),this.nthSequenceNumber(e,a))).next(_t=>(s=_t,U=Date.now(),this.removeTargets(e,s,t))).next(_t=>(g=_t,ne=Date.now(),this.removeOrphanedDocuments(e,s))).next(_t=>(le=Date.now(),ol()<=vt.in.DEBUG&&Mn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${D-Oe}ms\n\tDetermined least recently used ${a} in `+(U-D)+`ms\n\tRemoved ${g} targets in `+(ne-U)+`ms\n\tRemoved ${_t} documents in `+(le-ne)+`ms\nTotal Duration: ${le-Oe}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:g,documentsRemoved:_t})))}}class By{constructor(e,t){this.db=e,this.garbageCollector=function Nm(i,e){return new Ly(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,a)=>t(a))}addReference(e,t,s){return Qh(e,s)}removeReference(e,t,s){return Qh(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Qh(e,t)}Xn(e,t){return function(s,a){let g=!1;return Rn(s).Z(D=>ft(s,D,a).next(U=>(U&&(g=!0),rt.resolve(!U)))).next(()=>g)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let g=0;return this.Yn(e,(D,U)=>{if(U<=t){const ne=this.Xn(e,D).next(le=>{if(!le)return g++,s.getEntry(e,D).next(()=>(s.removeEntry(D,br.min()),lu(e).delete([0,Ks(D.path)])))});a.push(ne)}}).next(()=>rt.waitFor(a)).next(()=>s.apply(e)).next(()=>g)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Qh(e,t)}Yn(e,t){const s=lu(e);let a,g=Fo.ct;return s.X({index:"documentTargetsIndex"},([D,U],{path:ne,sequenceNumber:le})=>{0===D?(g!==Fo.ct&&t(new or(_s(a)),g),g=le,a=ne):g=Fo.ct}).next(()=>{g!==Fo.ct&&t(new or(_s(a)),g)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qh(i,e){return lu(i).put((s=i.currentSequenceNumber,{targetId:0,path:Ks(e.path),sequenceNumber:s}));var s}class Bg{constructor(){this.changes=new rc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?rt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Uy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Xh(e).put(s)}removeEntry(e,t,s){return Xh(e).delete(function(a,g){const D=a.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],yh(g),D[D.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=Cs.newInvalidDocument(t);return Xh(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Hf(t))},(a,g)=>{s=this.ts(t,g)}).next(()=>s)}es(e,t){let s={size:0,document:Cs.newInvalidDocument(t)};return Xh(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Hf(t))},(a,g)=>{s={document:this.ts(t,g),size:xe(g)}}).next(()=>s)}getEntries(e,t){let s=ku();return this.ns(e,t,(a,g)=>{const D=this.ts(a,g);s=s.insert(a,D)}).next(()=>s)}ss(e,t){let s=ku(),a=new bs(or.comparator);return this.ns(e,t,(g,D)=>{const U=this.ts(g,D);s=s.insert(g,U),a=a.insert(g,xe(D))}).next(()=>({documents:s,rs:a}))}ns(e,t,s){if(t.isEmpty())return rt.resolve();let a=new Ps(xc);t.forEach(ne=>a=a.add(ne));const g=IDBKeyRange.bound(Hf(a.first()),Hf(a.last())),D=a.getIterator();let U=D.getNext();return Xh(e).X({index:"documentKeyIndex",range:g},(ne,le,Oe)=>{const _t=or.fromSegments([...le.prefixPath,le.collectionGroup,le.documentId]);for(;U&&xc(U,_t)<0;)s(U,null),U=D.getNext();U&&U.isEqual(_t)&&(s(U,le),U=D.hasNext()?D.getNext():null),U?Oe.G(Hf(U)):Oe.done()}).next(()=>{for(;U;)s(U,null),U=D.hasNext()?D.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const g=t.path,D=[g.popLast().toArray(),g.lastSegment(),yh(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],U=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xh(e).j(IDBKeyRange.bound(D,U,!0)).next(ne=>{let le=ku();for(const Oe of ne){const _t=this.ts(or.fromSegments(Oe.prefixPath.concat(Oe.collectionGroup,Oe.documentId)),Oe);_t.isFoundDocument()&&(Vc(t,_t)||a.has(_t.key))&&(le=le.insert(_t.key,_t))}return le})}getAllFromCollectionGroup(e,t,s,a){let g=ku();const D=km(t,s),U=km(t,b.max());return Xh(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(D,U,!0)},(ne,le,Oe)=>{const _t=this.ts(or.fromSegments(le.prefixPath.concat(le.collectionGroup,le.documentId)),le);g=g.insert(_t.key,_t),g.size===a&&Oe.done()}).next(()=>g)}newChangeBuffer(e){return new $g(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return $y(e).get("remoteDocumentGlobalKey").next(t=>(Cr(!!t),t))}Zn(e,t){return $y(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function kf(i,e){let t;if(e.document)t=xp(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=or.fromSegments(e.noDocument.path),a=Hd(e.noDocument.readTime);t=Cs.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ar();{const s=or.fromSegments(e.unknownDocument.path),a=Hd(e.unknownDocument.version);t=Cs.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new es(s[0],s[1]);return br.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(br.min()))return s}return Cs.newInvalidDocument(e)}}function Ug(i){return new Uy(i)}class $g extends Bg{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new rc(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Ps((g,D)=>qn(g.canonicalString(),D.canonicalString()));return this.changes.forEach((g,D)=>{const U=this.us.get(g);if(t.push(this.os.removeEntry(e,g,U.readTime)),D.isValidDocument()){const ne=Ff(this.os.serializer,D);a=a.add(g.path.popLast());const le=xe(ne);s+=le-U.size,t.push(this.os.addEntry(e,g,ne))}else if(s-=U.size,this.trackRemovals){const ne=Ff(this.os.serializer,D.convertToNoDocument(br.min()));t.push(this.os.addEntry(e,g,ne))}}),a.forEach(g=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,g))}),t.push(this.os.updateMetadata(e,s)),rt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:a})=>(a.forEach((g,D)=>{this.us.set(g,{size:D,readTime:s.get(g).readTime})}),s))}}function $y(i){return Io(i,"remoteDocumentGlobal")}function Xh(i){return Io(i,"remoteDocumentsV14")}function Hf(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function km(i,e){const t=e.documentKey.path.toArray();return[i,yh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function xc(i,e){const t=i.path.toArray(),s=e.path.toArray();let a=0;for(let g=0;g<t.length-2&&g<s.length-2;++g)if(a=qn(t[g],s[g]),a)return a;return a=qn(t.length,s.length),a||(a=qn(t[t.length-2],s[s.length-2]),a||qn(t[t.length-1],s[s.length-1]))}class V_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jf{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&qc(s.mutation,a,Sa.empty(),es.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Zn()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Zn()){const a=Ju();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(g=>{let D=qa();return g.forEach((U,ne)=>{D=D.insert(U,ne.overlayedDocument)}),D}))}getOverlayedDocuments(e,t){const s=Ju();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Zn()))}populateOverlays(e,t,s){const a=[];return s.forEach(g=>{t.has(g)||a.push(g)}),this.documentOverlayCache.getOverlays(e,a).next(g=>{g.forEach((D,U)=>{t.set(D,U)})})}computeViews(e,t,s,a){let g=ku();const D=sa(),U=sa();return t.forEach((ne,le)=>{const Oe=s.get(le.key);a.has(le.key)&&(void 0===Oe||Oe.mutation instanceof el)?g=g.insert(le.key,le):void 0!==Oe?(D.set(le.key,Oe.mutation.getFieldMask()),qc(Oe.mutation,le,Oe.mutation.getFieldMask(),es.now())):D.set(le.key,Sa.empty())}),this.recalculateAndSaveOverlays(e,g).next(ne=>(ne.forEach((le,Oe)=>D.set(le,Oe)),t.forEach((le,Oe)=>{var _t;return U.set(le,new V_(Oe,null!==(_t=D.get(le))&&void 0!==_t?_t:null))}),U))}recalculateAndSaveOverlays(e,t){const s=sa();let a=new bs((D,U)=>D-U),g=Zn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(D=>{for(const U of D)U.keys().forEach(ne=>{const le=t.get(ne);if(null===le)return;let Oe=s.get(ne)||Sa.empty();Oe=U.applyToLocalView(le,Oe),s.set(ne,Oe);const _t=(a.get(U.batchId)||Zn()).add(ne);a=a.insert(U.batchId,_t)})}).next(()=>{const D=[],U=a.getReverseIterator();for(;U.hasNext();){const ne=U.getNext(),le=ne.key,Oe=ne.value,_t=jc();Oe.forEach(un=>{if(!g.has(un)){const Cn=Od(t.get(un),s.get(un));null!==Cn&&_t.set(un,Cn),g=g.add(un)}}),D.push(this.documentOverlayCache.saveOverlays(e,le,_t))}return rt.waitFor(D)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return or.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Nu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(g=>{const D=a-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-g.size):rt.resolve(Ju());let U=-1,ne=g;return D.next(le=>rt.forEach(le,(Oe,_t)=>(U<_t.largestBatchId&&(U=_t.largestBatchId),g.get(Oe)?rt.resolve():this.remoteDocumentCache.getEntry(e,Oe).next(un=>{ne=ne.insert(Oe,un)}))).next(()=>this.populateOverlays(e,le,g)).next(()=>this.computeViews(e,ne,le,Zn())).next(Oe=>({batchId:U,changes:gl(Oe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new or(t)).next(s=>{let a=qa();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let g=qa();return this.indexManager.getCollectionParents(e,a).next(D=>rt.forEach(D,U=>{const ne=(le=t,Oe=U.child(a),new jo(Oe,null,le.explicitOrderBy.slice(),le.filters.slice(),le.limit,le.limitType,le.startAt,le.endAt));var le,Oe;return this.getDocumentsMatchingCollectionQuery(e,ne,s).next(le=>{le.forEach((Oe,_t)=>{g=g.insert(Oe,_t)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(g=>(a=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(g=>{a.forEach((U,ne)=>{const le=ne.getKey();null===g.get(le)&&(g=g.insert(le,Cs.newInvalidDocument(le)))});let D=qa();return g.forEach((U,ne)=>{const le=a.get(U);void 0!==le&&qc(le.mutation,ne,Sa.empty(),es.now()),Vc(t,ne)&&(D=D.insert(U,ne))}),D})}}class Eh{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return rt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Da(s.createTime)}),rt.resolve()}getNamedQuery(e,t){return rt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:Id(s.bundledQuery),readTime:Da(s.readTime)}),rt.resolve();var s}}class us{constructor(){this.overlays=new bs(or.comparator),this.ls=new Map}getOverlay(e,t){return rt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ju();return rt.forEach(t,a=>this.getOverlay(e,a).next(g=>{null!==g&&s.set(a,g)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,g)=>{this.we(e,t,g)}),rt.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(g=>this.overlays=this.overlays.remove(g)),this.ls.delete(s)),rt.resolve()}getOverlaysForCollection(e,t,s){const a=Ju(),g=t.length+1,D=new or(t.child("")),U=this.overlays.getIteratorFrom(D);for(;U.hasNext();){const ne=U.getNext().value,le=ne.getKey();if(!t.isPrefixOf(le.path))break;le.path.length===g&&ne.largestBatchId>s&&a.set(ne.getKey(),ne)}return rt.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let g=new bs((le,Oe)=>le-Oe);const D=this.overlays.getIterator();for(;D.hasNext();){const le=D.getNext().value;if(le.getKey().getCollectionGroup()===t&&le.largestBatchId>s){let Oe=g.get(le.largestBatchId);null===Oe&&(Oe=Ju(),g=g.insert(le.largestBatchId,Oe)),Oe.set(le.getKey(),le)}}const U=Ju(),ne=g.getIterator();for(;ne.hasNext()&&(ne.getNext().value.forEach((le,Oe)=>U.set(le,Oe)),!(U.size()>=a)););return rt.resolve(U)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const D=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,D)}this.overlays=this.overlays.insert(s.key,new uh(t,s));let g=this.ls.get(t);void 0===g&&(g=Zn(),this.ls.set(t,g)),this.ls.set(t,g.add(s.key))}}class zf{constructor(){this.fs=new Ps(Zs.ds),this.ws=new Ps(Zs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new Zs(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new Zs(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new or(new hs([])),s=new Zs(t,e),a=new Zs(t,e+1),g=[];return this.ws.forEachInRange([s,a],D=>{this.ys(D),g.push(D.key)}),g}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new or(new hs([])),s=new Zs(t,e),a=new Zs(t,e+1);let g=Zn();return this.ws.forEachInRange([s,a],D=>{g=g.add(D.key)}),g}containsKey(e){const t=new Zs(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Zs{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return or.comparator(e.key,t.key)||qn(e.As,t.As)}static _s(e,t){return qn(e.As,t.As)||or.comparator(e.key,t.key)}}class Ca{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ps(Zs.ds)}checkEmpty(e){return rt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const g=this.vs;this.vs++;const D=new Nd(g,t,s,a);this.mutationQueue.push(D);for(const U of a)this.Rs=this.Rs.add(new Zs(U.key,g)),this.indexManager.addToCollectionParentIndex(e,U.key.path.popLast());return rt.resolve(D)}lookupMutationBatch(e,t){return rt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),g=a<0?0:a;return rt.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Zs(t,0),a=new Zs(t,Number.POSITIVE_INFINITY),g=[];return this.Rs.forEachInRange([s,a],D=>{const U=this.Ps(D.As);g.push(U)}),rt.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ps(qn);return t.forEach(a=>{const g=new Zs(a,0),D=new Zs(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([g,D],U=>{s=s.add(U.As)})}),rt.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let g=s;or.isDocumentKey(g)||(g=g.child(""));const D=new Zs(new or(g),0);let U=new Ps(qn);return this.Rs.forEachWhile(ne=>{const le=ne.key.path;return!!s.isPrefixOf(le)&&(le.length===a&&(U=U.add(ne.As)),!0)},D),rt.resolve(this.Vs(U))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Cr(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return rt.forEach(t.mutations,a=>{const g=new Zs(a.key,t.batchId);return s=s.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new Zs(t,0),a=this.Rs.firstAfterOrEqual(s);return rt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return rt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vg{constructor(e){this.Ds=e,this.docs=new bs(or.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),g=a?a.size:0,D=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:D}),this.size+=D-g,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return rt.resolve(s?s.document.mutableCopy():Cs.newInvalidDocument(t))}getEntries(e,t){let s=ku();return t.forEach(a=>{const g=this.docs.get(a);s=s.insert(a,g?g.document.mutableCopy():Cs.newInvalidDocument(a))}),rt.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let g=ku();const D=t.path,U=new or(D.child("")),ne=this.docs.getIteratorFrom(U);for(;ne.hasNext();){const{key:le,value:{document:Oe}}=ne.getNext();if(!D.isPrefixOf(le.path))break;le.path.length>D.length+1||G($(Oe),s)<=0||(a.has(Oe.key)||Vc(t,Oe))&&(g=g.insert(Oe.key,Oe.mutableCopy()))}return rt.resolve(g)}getAllFromCollectionGroup(e,t,s,a){ar()}Cs(e,t){return rt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new cc(this)}getSize(e){return rt.resolve(this.size)}}class cc extends Bg{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),rt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class zp{constructor(e){this.persistence=e,this.xs=new rc(t=>dn(t),Qn),this.lastRemoteSnapshotVersion=br.min(),this.highestTargetId=0,this.Ns=0,this.ks=new zf,this.targetCount=0,this.Ms=gr.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),rt.resolve()}getLastRemoteSnapshotVersion(e){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return rt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),rt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new gr(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,rt.resolve()}updateTargetData(e,t){return this.Fn(t),rt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,rt.resolve()}removeTargets(e,t,s){let a=0;const g=[];return this.xs.forEach((D,U)=>{U.sequenceNumber<=t&&null===s.get(U.targetId)&&(this.xs.delete(D),g.push(this.removeMatchingKeysForTargetId(e,U.targetId)),a++)}),rt.waitFor(g).next(()=>a)}getTargetCount(e){return rt.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return rt.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),rt.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,g=[];return a&&t.forEach(D=>{g.push(a.markPotentiallyOrphaned(e,D))}),rt.waitFor(g)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),rt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return rt.resolve(s)}containsKey(e,t){return rt.resolve(this.ks.containsKey(t))}}class Dh{constructor(e,t){this.$s={},this.overlays={},this.Os=new Fo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new zp(this),this.indexManager=new Hp,this.remoteDocumentCache=new Vg(s=>this.referenceDelegate.Ls(s)),this.serializer=new Dd(t),this.qs=new Eh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new us,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new Ca(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){Mn("MemoryPersistence","Starting transaction:",e);const a=new Fm(this.Os.next());return this.referenceDelegate.Us(),s(a).next(g=>this.referenceDelegate.Ks(a).next(()=>g)).toPromise().then(g=>(a.raiseOnCommittedEvent(),g))}Gs(e,t){return rt.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class Fm extends Ne{constructor(e){super(),this.currentSequenceNumber=e}}class Jh{constructor(e){this.persistence=e,this.Qs=new zf,this.js=null}static zs(e){return new Jh(e)}get Ws(){if(this.js)return this.js;throw ar()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),rt.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),rt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),rt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(g=>this.Ws.add(g.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.Ws,s=>{const a=or.fromPath(s);return this.Hs(e,a).next(g=>{g||t.removeEntry(a,br.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return rt.or([()=>rt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Lm{constructor(e){this.serializer=e}O(e,t,s,a){const g=new Vr("createOrUpgrade",t);var U;s<1&&a>=1&&(e.createObjectStore("owner"),(U=e).createObjectStore("mutationQueues",{keyPath:"userId"}),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zu,{unique:!0}),U.createObjectStore("documentMutations"),Gp(e),function(U){U.createObjectStore("remoteDocuments")}(e));let D=rt.resolve();return s<3&&a>=3&&(0!==s&&(function(U){U.deleteObjectStore("targetDocuments"),U.deleteObjectStore("targets"),U.deleteObjectStore("targetGlobal")}(e),Gp(e)),D=D.next(()=>function(U){const ne=U.store("targetGlobal"),le={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:br.min().toTimestamp(),targetCount:0};return ne.put("targetGlobalKey",le)}(g))),s<4&&a>=4&&(0!==s&&(D=D.next(()=>function(U,ne){return ne.store("mutations").j().next(le=>{U.deleteObjectStore("mutations"),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zu,{unique:!0});const Oe=ne.store("mutations"),_t=le.map(un=>Oe.put(un));return rt.waitFor(_t)})}(e,g))),D=D.next(()=>{!function(U){U.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(D=D.next(()=>this.Ys(g))),s<6&&a>=6&&(D=D.next(()=>(function(U){U.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(g)))),s<7&&a>=7&&(D=D.next(()=>this.Zs(g))),s<8&&a>=8&&(D=D.next(()=>this.ti(e,g))),s<9&&a>=9&&(D=D.next(()=>{!function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(D=D.next(()=>this.ei(g))),s<11&&a>=11&&(D=D.next(()=>{(function(U){U.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(U){U.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(D=D.next(()=>{!function(U){const ne=U.createObjectStore("documentOverlays",{keyPath:Au});ne.createIndex("collectionPathOverlayIndex",Pl,{unique:!1}),ne.createIndex("collectionGroupOverlayIndex",yc,{unique:!1})}(e)})),s<13&&a>=13&&(D=D.next(()=>function(U){const ne=U.createObjectStore("remoteDocumentsV14",{keyPath:Tu});ne.createIndex("documentKeyIndex",gc),ne.createIndex("collectionGroupIndex",Md)}(e)).next(()=>this.ni(e,g)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(D=D.next(()=>this.si(e,g))),s<15&&a>=15&&(D=D.next(()=>function(U){U.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),U.createObjectStore("indexState",{keyPath:Gu}).createIndex("sequenceNumberIndex",Fc,{unique:!1}),U.createObjectStore("indexEntries",{keyPath:Wu}).createIndex("documentKeyIndex",mc,{unique:!1})}(e))),D}Xs(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=xe(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(a=>rt.forEach(a,g=>{const D=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",D).next(U=>rt.forEach(U,ne=>{Cr(ne.userId===g.userId);const le=tl(this.serializer,ne);return re(e,g.userId,le).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const g=[];return s.X((D,U)=>{const ne=new hs(D),le=[0,Ks(ne)];g.push(t.get(le).next(Oe=>Oe?rt.resolve():t.put({targetId:0,path:Ks(ne),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>rt.waitFor(g))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Do});const s=t.store("collectionParents"),a=new vh,g=D=>{if(a.add(D)){const U=D.lastSegment(),ne=D.popLast();return s.put({collectionId:U,parent:Ks(ne)})}};return t.store("remoteDocuments").X({Y:!0},(D,U)=>{const ne=new hs(D);return g(ne.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([D,U,ne],le)=>{const Oe=_s(U);return g(Oe.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,a)=>{const g=oa(a),D=Eu(this.serializer,g);return t.put(D)})}ni(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((g,D)=>{const U=t.store("remoteDocumentsV14"),ne=(le=D,le.document?new or(hs.fromString(le.document.name).popFirst(5)):le.noDocument?or.fromSegments(le.noDocument.path):le.unknownDocument?or.fromSegments(le.unknownDocument.path):ar()).path.toArray();var le;const Oe={prefixPath:ne.slice(0,ne.length-2),collectionGroup:ne[ne.length-2],documentId:ne[ne.length-1],readTime:D.readTime||[0,0],unknownDocument:D.unknownDocument,noDocument:D.noDocument,document:D.document,hasCommittedMutations:!!D.hasCommittedMutations};a.push(U.put(Oe))}).next(()=>rt.waitFor(a))}si(e,t){const s=t.store("mutations"),a=Ug(this.serializer),g=new Dh(Jh.zs,this.serializer.fe);return s.j().next(D=>{const U=new Map;return D.forEach(ne=>{var le;let Oe=null!==(le=U.get(ne.userId))&&void 0!==le?le:Zn();tl(this.serializer,ne).keys().forEach(_t=>Oe=Oe.add(_t)),U.set(ne.userId,Oe)}),rt.forEach(U,(ne,le)=>{const Oe=new yo(le),_t=zd.de(this.serializer,Oe),un=g.getIndexManager(Oe),Cn=Je.de(Oe,this.serializer,un,g.referenceDelegate);return new jf(a,Cn,_t,un).recalculateAndSaveOverlaysForDocumentKeys(new mu(t,Fo.ct),ne).next()})})}}function Gp(i){i.createObjectStore("targetDocuments",{keyPath:nh}).createIndex("documentTargetsIndex",rh,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Su,{unique:!0}),i.createObjectStore("targetGlobal")}const Hl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Gf{constructor(e,t,s,a,g,D,U,ne,le,Oe,_t=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=g,this.window=D,this.document=U,this.ri=le,this.oi=Oe,this.ui=_t,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=un=>Promise.resolve(),!Gf.D())throw new Pn(cn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new By(this,a),this.di=t+"main",this.serializer=new Dd(ne),this.wi=new Mr(this.di,this.ui,new Lm(this.serializer)),this.Bs=new Jr(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ug(this.serializer),this.qs=new Fg,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Oe&&Ms("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pn(cn.FAILED_PRECONDITION,Hl);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Fo(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,_e.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,_e.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xo(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ha(e))return Mn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Mn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return qd(e).get("owner").next(t=>rt.resolve(this.Ri(t)))}Pi(e){return Xo(e).delete(this.clientId)}bi(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Io(s,"clientMetadata");return a.j().next(g=>{const D=e.Si(g,18e5),U=g.filter(ne=>-1===D.indexOf(ne));return rt.forEach(U,ne=>a.delete(ne.clientId)).next(()=>U)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?rt.resolve(!0):qd(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Pn(cn.FAILED_PRECONDITION,Hl);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xo(e).j().next(s=>void 0===this.Si(s,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Mn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new mu(t,Fo.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Xo(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Je.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jp(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return zd.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){Mn("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",g=15===(D=this.ui)?ll:14===D?Lc:13===D?cd:12===D?Jl:11===D?Lo:void ar();var D;let U;return this.wi.runTransaction(e,a,g,ne=>(U=new mu(ne,this.Os?this.Os.next():Fo.ct),"readwrite-primary"===t?this.Ti(U).next(le=>!!le||this.Ei(U)).next(le=>{if(!le)throw Ms(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Pn(cn.FAILED_PRECONDITION,ae);return s(U)}).next(le=>this.vi(U).next(()=>le)):this.Oi(U).next(()=>s(U)))).then(ne=>(U.raiseOnCommittedEvent(),ne))}Oi(e){return qd(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Pn(cn.FAILED_PRECONDITION,Hl)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qd(e).put("owner",t)}static D(){return Mr.D()}Ai(e){const t=qd(e);return t.get("owner").next(s=>this.Ri(s)?(Mn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):rt.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Ms(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,pt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Mn("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ms("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Ms("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qd(i){return Io(i,"owner")}function Xo(i){return Io(i,"clientMetadata")}function aa(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Wf{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=Zn(),a=Zn();for(const g of t.docChanges)switch(g.type){case 0:s=s.add(g.doc.key);break;case 1:a=a.add(g.doc.key)}return new Wf(e,t.fromCache,s,a)}}class Bm{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(g=>g||this.Gi(e,t,a,s)).next(g=>g||this.Qi(e,t))}Ki(e,t){if(Ec(t))return rt.resolve(null);let s=Zo(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=va(t,null,"F"),s=Zo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(g=>{const D=Zn(...g);return this.Ui.getDocuments(e,D).next(U=>this.indexManager.getMinOffset(e,s).next(ne=>{const le=this.ji(t,U);return this.zi(t,le,D,ne.readTime)?this.Ki(e,va(t,null,"F")):this.Wi(e,le,t,ne)}))})))}Gi(e,t,s,a){return Ec(t)||a.isEqual(br.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(g=>{const D=this.ji(t,g);return this.zi(t,D,s,a)?this.Qi(e,t):(ol()<=vt.in.DEBUG&&Mn("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),fd(t)),this.Wi(e,D,t,R(a,-1)))})}ji(e,t){let s=new Ps(nc(e));return t.forEach((a,g)=>{Vc(e,g)&&(s=s.add(g))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const g="F"===e.limitType?t.last():t.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(a)>0)}Qi(e,t){return ol()<=vt.in.DEBUG&&Mn("QueryEngine","Using full collection scan to execute query:",fd(t)),this.Ui.getDocumentsMatchingQuery(e,t,b.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(g=>(t.forEach(D=>{g=g.insert(D.key,D)}),g))}}class Vy{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new bs(qn),this.Yi=new rc(g=>dn(g),Qn),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Hy(i,e,t,s){return new Vy(i,e,t,s)}function Um(i,e){return qf.apply(this,arguments)}function qf(){return qf=(0,_e.Z)(function*(i,e){const t=sr(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(g=>(a=g,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(g=>{const D=[],U=[];let ne=Zn();for(const le of a){D.push(le.batchId);for(const Oe of le.mutations)ne=ne.add(Oe.key)}for(const le of g){U.push(le.batchId);for(const Oe of le.mutations)ne=ne.add(Oe.key)}return t.localDocuments.getDocuments(s,ne).next(le=>({er:le,removedBatchIds:D,addedBatchIds:U}))})})}),qf.apply(this,arguments)}function jg(i){const e=sr(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function tf(i,e,t){let s=Zn(),a=Zn();return t.forEach(g=>s=s.add(g)),e.getEntries(i,s).next(g=>{let D=ku();return t.forEach((U,ne)=>{const le=g.get(U);ne.isFoundDocument()!==le.isFoundDocument()&&(a=a.add(U)),ne.isNoDocument()&&ne.version.isEqual(br.min())?(e.removeEntry(U,ne.readTime),D=D.insert(U,ne)):!le.isValidDocument()||ne.version.compareTo(le.version)>0||0===ne.version.compareTo(le.version)&&le.hasPendingWrites?(e.addEntry(ne),D=D.insert(U,ne)):Mn("LocalStore","Ignoring outdated watch update for ",U,". Current version:",le.version," Watch version:",ne.version)}),{nr:D,sr:a}})}function Wp(i,e){const t=sr(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ch(i,e){const t=sr(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(g=>g?(a=g,rt.resolve(a)):t.Bs.allocateTargetId(s).next(D=>(a=new Ua(e,D,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function rd(i,e,t){return nl.apply(this,arguments)}function nl(){return nl=(0,_e.Z)(function*(i,e,t){const s=sr(i),a=s.Ji.get(e),g=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",g,D=>s.persistence.referenceDelegate.removeTarget(D,a)))}catch(D){if(!ha(D))throw D;Mn("LocalStore",`Failed to update sequence numbers for target ${e}: ${D}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),nl.apply(this,arguments)}function id(i,e,t){const s=sr(i);let a=br.min(),g=Zn();return s.persistence.runTransaction("Execute query","readonly",D=>function(U,ne,le){const Oe=sr(U),_t=Oe.Yi.get(le);return void 0!==_t?rt.resolve(Oe.Ji.get(_t)):Oe.Bs.getTargetData(ne,le)}(s,D,Zo(e)).next(U=>{if(U)return a=U.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(D,U.targetId).next(ne=>{g=ne})}).next(()=>s.Hi.getDocumentsMatchingQuery(D,e,t?a:br.min(),t?g:Zn())).next(U=>(Yf(s,Hc(e),U),{documents:U,ir:g})))}function jy(i,e){const t=sr(i),s=sr(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",g=>s.le(g,e).next(D=>D?D.target:null))}function $m(i,e){const t=sr(i),s=t.Xi.get(e)||br.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,R(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Yf(t,e,a),a))}function Yf(i,e,t){let s=i.Xi.get(e)||br.min();t.forEach((a,g)=>{g.readTime.compareTo(s)>0&&(s=g.readTime)}),i.Xi.set(e,s)}function Yd(){return Yd=(0,_e.Z)(function*(i,e,t,s){const a=sr(i);let g=Zn(),D=ku();for(const le of t){const Oe=e.rr(le.metadata.name);le.document&&(g=g.add(Oe));const _t=e.ur(le);_t.setReadTime(e.cr(le.metadata.readTime)),D=D.insert(Oe,_t)}const U=a.Zi.newChangeBuffer({trackRemovals:!0}),ne=yield Ch(a,(le=s,Zo(Ko(hs.fromString(`__bundle__/docs/${le}`)))));var le;return a.persistence.runTransaction("Apply bundle documents","readwrite",le=>tf(le,U,D).next(Oe=>(U.apply(le),Oe)).next(Oe=>a.Bs.removeMatchingKeysForTargetId(le,ne.targetId).next(()=>a.Bs.addMatchingKeys(le,g,ne.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(le,Oe.nr,Oe.sr)).next(()=>Oe.nr)))}),Yd.apply(this,arguments)}function nf(i,e){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,_e.Z)(function*(i,e,t=Zn()){const s=yield Ch(i,Zo(Id(e.bundledQuery))),a=sr(i);return a.persistence.runTransaction("Save named query","readwrite",g=>{const D=Da(e.readTime);if(s.snapshotVersion.compareTo(D)>=0)return a.qs.saveNamedQuery(g,e);const U=s.withResumeToken(Ao.EMPTY_BYTE_STRING,D);return a.Ji=a.Ji.insert(U.targetId,U),a.Bs.updateTargetData(g,U).next(()=>a.Bs.removeMatchingKeysForTargetId(g,s.targetId)).next(()=>a.Bs.addMatchingKeys(g,t,s.targetId)).next(()=>a.qs.saveNamedQuery(g,e))})}),Mc.apply(this,arguments)}function gs(i,e){return`firestore_clients_${i}_${e}`}function zg(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Il(i,e){return`firestore_targets_${i}_${e}`}class Kf{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static ar(e,t,s){const a=JSON.parse(s);let g,D="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return D&&a.error&&(D="string"==typeof a.error.message&&"string"==typeof a.error.code,D&&(g=new Pn(a.error.code,a.error.message))),D?new Kf(e,t,a.state,g):(Ms("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rf{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let a,g="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return g&&s.error&&(g="string"==typeof s.error.message&&"string"==typeof s.error.code,g&&(a=new Pn(s.error.code,s.error.message))),g?new rf(e,s.state,a):(Ms("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class to{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,g=Gc();for(let D=0;a&&D<s.activeTargetIds.length;++D)a=kc(s.activeTargetIds[D]),g=g.add(s.activeTargetIds[D]);return a?new to(e,g):(Ms("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Zf{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Zf(t.clientId,t.onlineState):(Ms("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Kd{constructor(){this.activeTargetIds=Gc()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wh{constructor(e,t,s,a,g){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new bs(qn),this.started=!1,this.yr=[];const D=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.pr=gs(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Kd),this.Tr=new RegExp(`^firestore_clients_${D}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${D}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${D}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(U){return`firestore_bundle_loaded_v2_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const g=e.getItem(gs(e.persistenceKey,a));if(g){const D=to.ar(a,g);D&&(e.gr=e.gr.insert(D.clientId,D))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const a=e.br(s);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Il(this.persistenceKey,e));if(s){const a=rf.ar(e,s);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Il(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Mn("SharedClientState","READ",e,t),t}setItem(e,t){Mn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Mn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Mn("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void Ms("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const a=t.Or(s.key);return t.Fr(a,null)}{const a=t.Br(s.key,s.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const a=t.Lr(s.key,s.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const a=t.Ur(s.key,s.newValue);if(a)return t.Kr(a)}}else if(s.key===t.vr){if(null!==s.newValue){const a=t.br(s.newValue);if(a)return t.Vr(a)}}else if(s.key===t.Ir){const a=function(g){let D=Fo.ct;if(null!=g)try{const U=JSON.parse(g);Cr("number"==typeof U),D=U}catch(U){Ms("SharedClientState","Failed to read sequence number from WebStorage",U)}return D}(s.newValue);a!==Fo.ct&&t.sequenceNumberHandler(a)}else if(s.key===t.Rr){const a=t.Gr(s.newValue);yield Promise.all(a.map(g=>t.syncEngine.Qr(g)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const a=new Kf(this.currentUser,e,t,s),g=zg(this.persistenceKey,this.currentUser,e);this.setItem(g,a.hr())}Cr(e){const t=zg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const a=Il(this.persistenceKey,e),g=new rf(e,t,s);this.setItem(a,g.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return to.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),a=Number(s[1]);return Kf.ar(new yo(void 0!==s[2]?s[2]:null),a,t)}Ur(e,t){const s=this.Ar.exec(e),a=Number(s[1]);return rf.ar(a,t)}br(e){return Zf.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Mn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),g=this.Sr(s),D=[],U=[];return g.forEach(ne=>{a.has(ne)||D.push(ne)}),a.forEach(ne=>{g.has(ne)||U.push(ne)}),this.syncEngine.Wr(D,U).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Gc();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Gy{constructor(){this.Hr=new Kd,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Kd,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gg{Yr(e){}shutdown(){}}class bh{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Mn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Mn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Th=null;function qp(){return null===Th?Th=268435456+Math.round(2147483648*Math.random()):Th++,"0x"+Th.toString(16)}const Vm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wy{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Yu="WebChannelConnection";class qy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,g){const D=qp(),U=this.To(e,t);Mn("RestConnection",`Sending RPC '${e}' ${D}:`,U,s);const ne={};return this.Eo(ne,a,g),this.Ao(e,U,ne,s).then(le=>(Mn("RestConnection",`Received RPC '${e}' ${D}: `,le),le),le=>{throw Ws("RestConnection",`RPC '${e}' ${D} failed with error: `,le,"url: ",U,"request:",s),le})}vo(e,t,s,a,g,D){return this.Io(e,t,s,a,g)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+cs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,g)=>e[g]=a),s&&s.headers.forEach((a,g)=>e[g]=a)}To(e,t){return`${this.mo}/v1/${t}:${Vm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const g=qp();return new Promise((D,U)=>{const ne=new Eo;ne.setWithCredentials(!0),ne.listenOnce(nu.COMPLETE,()=>{try{switch(ne.getLastErrorCode()){case fs.NO_ERROR:const Oe=ne.getResponseJson();Mn(Yu,`XHR for RPC '${e}' ${g} received:`,JSON.stringify(Oe)),D(Oe);break;case fs.TIMEOUT:Mn(Yu,`RPC '${e}' ${g} timed out`),U(new Pn(cn.DEADLINE_EXCEEDED,"Request time out"));break;case fs.HTTP_ERROR:const _t=ne.getStatus();if(Mn(Yu,`RPC '${e}' ${g} failed with status:`,_t,"response text:",ne.getResponseText()),_t>0){let un=ne.getResponseJson();Array.isArray(un)&&(un=un[0]);const Cn=un?.error;if(Cn&&Cn.status&&Cn.message){const ir=function(Br){const zr=Br.toLowerCase().replace(/_/g,"-");return Object.values(cn).indexOf(zr)>=0?zr:cn.UNKNOWN}(Cn.status);U(new Pn(ir,Cn.message))}else U(new Pn(cn.UNKNOWN,"Server responded with status "+ne.getStatus()))}else U(new Pn(cn.UNAVAILABLE,"Connection failed."));break;default:ar()}}finally{Mn(Yu,`RPC '${e}' ${g} completed.`)}});const le=JSON.stringify(a);Mn(Yu,`RPC '${e}' ${g} sending request:`,a),ne.send(t,"POST",le,s,15)})}Ro(e,t,s){const a=qp(),g=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],D=co(),U=ka(),ne={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},le=this.longPollingOptions.timeoutSeconds;void 0!==le&&(ne.longPollingTimeout=Math.round(1e3*le)),this.useFetchStreams&&(ne.xmlHttpFactory=new Fn({})),this.Eo(ne.initMessageHeaders,t,s),ne.encodeInitMessageHeaders=!0;const Oe=g.join("");Mn(Yu,`Creating RPC '${e}' stream ${a}: ${Oe}`,ne);const _t=D.createWebChannel(Oe,ne);let un=!1,Cn=!1;const ir=new Wy({ro:zr=>{Cn?Mn(Yu,`Not sending because RPC '${e}' stream ${a} is closed:`,zr):(un||(Mn(Yu,`Opening RPC '${e}' stream ${a} transport.`),_t.open(),un=!0),Mn(Yu,`RPC '${e}' stream ${a} sending:`,zr),_t.send(zr))},oo:()=>_t.close()}),Br=(zr,vs,Ls)=>{zr.listen(vs,ts=>{try{Ls(ts)}catch(Va){setTimeout(()=>{throw Va},0)}})};return Br(_t,Di.EventType.OPEN,()=>{Cn||Mn(Yu,`RPC '${e}' stream ${a} transport opened.`)}),Br(_t,Di.EventType.CLOSE,()=>{Cn||(Cn=!0,Mn(Yu,`RPC '${e}' stream ${a} transport closed`),ir.wo())}),Br(_t,Di.EventType.ERROR,zr=>{Cn||(Cn=!0,Ws(Yu,`RPC '${e}' stream ${a} transport errored:`,zr),ir.wo(new Pn(cn.UNAVAILABLE,"The operation could not be completed")))}),Br(_t,Di.EventType.MESSAGE,zr=>{var vs;if(!Cn){const Ls=zr.data[0];Cr(!!Ls);const Va=Ls.error||(null===(vs=Ls[0])||void 0===vs?void 0:vs.error);if(Va){Mn(Yu,`RPC '${e}' stream ${a} received error:`,Va);const pa=Va.status;let ua=function(Cf){const N_=ao[Cf];if(void 0!==N_)return ch(N_)}(pa),il=Va.message;void 0===ua&&(ua=cn.INTERNAL,il="Unknown error status: "+pa+" with message "+Va.message),Cn=!0,ir.wo(new Pn(ua,il)),_t.close()}else Mn(Yu,`RPC '${e}' stream ${a} received:`,Ls),ir._o(Ls)}}),Br(U,ja.STAT_EVENT,zr=>{zr.stat===da.PROXY?Mn(Yu,`RPC '${e}' stream ${a} detected buffering proxy`):zr.stat===da.NOPROXY&&Mn(Yu,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{ir.fo()},0),ir}}function Hm(){return typeof window<"u"?window:null}function Yp(){return typeof document<"u"?document:null}function Qf(i){return new Pf(i,!0)}class Kp{constructor(e,t,s=1e3,a=1.5,g=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=g,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&Mn("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class bd{constructor(e,t,s,a,g,D,U,ne){this.ii=e,this.$o=s,this.Oo=a,this.connection=g,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=U,this.listener=ne,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Kp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,_e.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,_e.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,_e.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===cn.RESOURCE_EXHAUSTED?(Ms(t.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===cn.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new Pn(cn.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,_e.Z)(function*(){e.state=0,e.start()}))}tu(e){return Mn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Mn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Td extends bd{constructor(e,t,s,a,g,D){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,D),this.serializer=g}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Mp(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(ne=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ne?1:"REMOVE"===ne?2:"CURRENT"===ne?3:"RESET"===ne?4:ar(),a=e.targetChange.targetIds||[],g=function(ne,le){return ne.useProto3Json?(Cr(void 0===le||"string"==typeof le),Ao.fromBase64String(le||"")):(Cr(void 0===le||le instanceof Uint8Array),Ao.fromUint8Array(le||new Uint8Array))}(i,e.targetChange.resumeToken),D=e.targetChange.cause,U=D&&function(ne){const le=void 0===ne.code?cn.UNKNOWN:ch(ne.code);return new Pn(le,ne.message||"")}(D);t=new xf(s,a,g,U||null)}else if("documentChange"in e){const s=e.documentChange,a=Lu(i,s.document.name),g=Da(s.document.updateTime),D=s.document.createTime?Da(s.document.createTime):br.min(),U=new qi({mapValue:{fields:s.document.fields}}),ne=Cs.newFoundDocument(a,g,D,U);t=new Ld(s.targetIds||[],s.removedTargetIds||[],ne.key,ne)}else if("documentDelete"in e){const s=e.documentDelete,a=Lu(i,s.document),g=s.readTime?Da(s.readTime):br.min(),D=Cs.newNoDocument(a,g);t=new Ld([],s.removedTargetIds||[],D.key,D)}else if("documentRemove"in e){const s=e.documentRemove,a=Lu(i,s.document);t=new Ld([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return ar();{const s=e.filter,{count:a=0,unchangedNames:g}=s,D=new kd(a,g);t=new vd(s.targetId,D)}}var ne;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return br.min();const g=a.targetChange;return g.targetIds&&g.targetIds.length?br.min():g.readTime?Da(g.readTime):br.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=Ed(this.serializer),t.addTarget=function(a,g){let D;const U=g.target;if(D=Tr(U)?{documents:ed(a,U)}:{query:Nf(a,U)},D.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){D.resumeToken=Ap(a,g.resumeToken);const ne=Qc(a,g.expectedCount);null!==ne&&(D.expectedCount=ne)}else if(g.snapshotVersion.compareTo(br.min())>0){D.readTime=Bd(a,g.snapshotVersion.toTimestamp());const ne=Qc(a,g.expectedCount);null!==ne&&(D.expectedCount=ne)}return D}(this.serializer,e);const s=function Rg(i,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ar()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=Ed(this.serializer),t.removeTarget=e,this.Wo(t)}}class jm extends bd{constructor(e,t,s,a,g,D){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,D),this.serializer=g,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Cr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Jc(i,e){return i&&i.length>0?(Cr(void 0!==e),i.map(t=>function(s,a){let g=Da(s.updateTime?s.updateTime:a);return g.isEqual(br.min())&&(g=Da(a)),new ah(g,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Da(e.commitTime);return this.listener.cu(s,t)}return Cr(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ed(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>gh(this.serializer,s))};this.Wo(t)}}class Yy extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Pn(cn.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,g])=>this.connection.Io(e,t,s,a,g)).catch(a=>{throw"FirebaseError"===a.name?(a.code===cn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pn(cn.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,D])=>this.connection.vo(e,t,s,g,D,a)).catch(g=>{throw"FirebaseError"===g.name?(g.code===cn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Pn(cn.UNKNOWN,g.toString())})}terminate(){this.lu=!0}}class cu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ms(t),this.mu=!1):Mn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class jl{constructor(e,t,s,a,g){var D=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=g,this.Pu.Yr(U=>{s.enqueueAndForget((0,_e.Z)(function*(){var ne;Sd(D)&&(Mn("RemoteStore","Restarting streams for network reachability change."),yield(ne=(0,_e.Z)(function*(le){const Oe=sr(le);Oe.vu.add(4),yield Sh(Oe),Oe.bu.set("Unknown"),Oe.vu.delete(4),yield sf(Oe)}),function(le){return ne.apply(this,arguments)})(D))}))}),this.bu=new cu(s,a)}}function sf(i){return af.apply(this,arguments)}function af(){return af=(0,_e.Z)(function*(i){if(Sd(i))for(const e of i.Ru)yield e(!0)}),af.apply(this,arguments)}function Sh(i){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,_e.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),Xf.apply(this,arguments)}function Jf(i,e){const t=sr(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Wg(t)?Gm(t):uf(t).Ko()&&Zp(t,e))}function Yi(i,e){const t=sr(i),s=uf(t);t.Au.delete(e),s.Ko()&&Qp(t,e),0===t.Au.size&&(s.Ko()?s.jo():Sd(t)&&t.bu.set("Unknown"))}function Zp(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(br.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}uf(i).su(e)}function Qp(i,e){i.Vu.qt(e),uf(i).iu(e)}function Gm(i){i.Vu=new Mg({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),uf(i).start(),i.bu.gu()}function Wg(i){return Sd(i)&&!uf(i).Uo()&&i.Au.size>0}function Sd(i){return 0===sr(i).vu.size}function qg(i){i.Vu=void 0}function Wm(i){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,_e.Z)(function*(i){i.Au.forEach((e,t)=>{Zp(i,e)})}),Xp.apply(this,arguments)}function Ky(i,e){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,_e.Z)(function*(i,e){qg(i),Wg(i)?(i.bu.Iu(e),Gm(i)):i.bu.set("Unknown")}),Jp.apply(this,arguments)}function Zy(i,e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,_e.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof xf&&2===e.state&&e.cause)try{yield(s=(0,_e.Z)(function*(a,g){const D=g.cause;for(const U of g.targetIds)a.Au.has(U)&&(yield a.remoteSyncer.rejectListen(U,D),a.Au.delete(U),a.Vu.removeTarget(U))}),function(a,g){return s.apply(this,arguments)})(i,e)}catch(s){Mn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Yg(i,s)}else if(e instanceof Ld?i.Vu.Ht(e):e instanceof vd?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(br.min()))try{const s=yield jg(i.localStore);t.compareTo(s)>=0&&(yield function(a,g){const D=a.Vu.ce(g);return D.targetChanges.forEach((U,ne)=>{if(U.resumeToken.approximateByteSize()>0){const le=a.Au.get(ne);le&&a.Au.set(ne,le.withResumeToken(U.resumeToken,g))}}),D.targetMismatches.forEach((U,ne)=>{const le=a.Au.get(U);if(!le)return;a.Au.set(U,le.withResumeToken(Ao.EMPTY_BYTE_STRING,le.snapshotVersion)),Qp(a,U);const Oe=new Ua(le.target,U,ne,le.sequenceNumber);Zp(a,Oe)}),a.remoteSyncer.applyRemoteEvent(D)}(i,t))}catch(s){Mn("RemoteStore","Failed to raise snapshot:",s),yield Yg(i,s)}var s}),Zd.apply(this,arguments)}function Yg(i,e,t){return eg.apply(this,arguments)}function eg(){return eg=(0,_e.Z)(function*(i,e,t){if(!ha(e))throw e;i.vu.add(1),yield Sh(i),i.bu.set("Offline"),t||(t=()=>jg(i.localStore)),i.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Mn("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield sf(i)}))}),eg.apply(this,arguments)}function Kg(i,e){return e().catch(t=>Yg(i,t,e))}function zl(i){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,_e.Z)(function*(i){const e=sr(i),t=Xd(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Zg(e);)try{const a=yield Wp(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,qm(e,a)}catch(a){yield Yg(e,a)}ep(e)&&Ah(e)}),Qd.apply(this,arguments)}function Zg(i){return Sd(i)&&i.Eu.length<10}function qm(i,e){i.Eu.push(e);const t=Xd(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function ep(i){return Sd(i)&&!Xd(i).Uo()&&i.Eu.length>0}function Ah(i){Xd(i).start()}function Qg(i){return xh.apply(this,arguments)}function xh(){return xh=(0,_e.Z)(function*(i){Xd(i).hu()}),xh.apply(this,arguments)}function Ym(i){return tp.apply(this,arguments)}function tp(){return tp=(0,_e.Z)(function*(i){const e=Xd(i);for(const t of i.Eu)e.uu(t.mutations)}),tp.apply(this,arguments)}function Xg(i,e,t){return np.apply(this,arguments)}function np(){return np=(0,_e.Z)(function*(i,e,t){const s=i.Eu.shift(),a=oc.from(s,e,t);yield Kg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),yield zl(i)}),np.apply(this,arguments)}function Km(i,e){return rp.apply(this,arguments)}function rp(){return rp=(0,_e.Z)(function*(i,e){var t;e&&Xd(i).ou&&(yield(t=(0,_e.Z)(function*(s,a){if(Gh(g=a.code)&&g!==cn.ABORTED){const D=s.Eu.shift();Xd(s).Qo(),yield Kg(s,()=>s.remoteSyncer.rejectFailedWrite(D.batchId,a)),yield zl(s)}var g}),function(s,a){return t.apply(this,arguments)})(i,e)),ep(i)&&Ah(i)}),rp.apply(this,arguments)}function Zm(i,e){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,_e.Z)(function*(i,e){const t=sr(i);t.asyncQueue.verifyOperationInProgress(),Mn("RemoteStore","RemoteStore received new credentials");const s=Sd(t);t.vu.add(3),yield Sh(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield sf(t)}),Jg.apply(this,arguments)}function em(i,e){return tg.apply(this,arguments)}function tg(){return tg=(0,_e.Z)(function*(i,e){const t=sr(i);e?(t.vu.delete(2),yield sf(t)):e||(t.vu.add(2),yield Sh(t),t.bu.set("Unknown"))}),tg.apply(this,arguments)}function uf(i){return i.Su||(i.Su=function(e,t,s){const a=sr(e);return a.fu(),new Td(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{uo:Wm.bind(null,i),ao:Ky.bind(null,i),nu:Zy.bind(null,i)}),i.Ru.push(function(){var e=(0,_e.Z)(function*(t){t?(i.Su.Qo(),Wg(i)?Gm(i):i.bu.set("Unknown")):(yield i.Su.stop(),qg(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function Xd(i){return i.Du||(i.Du=function(e,t,s){const a=sr(e);return a.fu(),new jm(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{uo:Qg.bind(null,i),ao:Km.bind(null,i),au:Ym.bind(null,i),cu:Xg.bind(null,i)}),i.Ru.push(function(){var e=(0,_e.Z)(function*(t){t?(i.Du.Qo(),yield zl(i)):(yield i.Du.stop(),i.Eu.length>0&&(Mn("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class tm{constructor(e,t,s,a,g){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=g,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(e,t,s,a,g){const D=Date.now()+s,U=new tm(e,t,D,a,g);return U.start(s),U}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pn(cn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lf(i,e){if(Ms("AsyncQueue",`${e}: ${i}`),ha(i))return new Pn(cn.UNAVAILABLE,`${e}: ${i}`);throw i}class Mh{constructor(e){this.comparator=e?(t,s)=>e(t,s)||or.comparator(t.key,s.key):(t,s)=>or.comparator(t.key,s.key),this.keyedMap=qa(),this.sortedSet=new bs(this.comparator)}static emptySet(e){return new Mh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,g=s.getNext().key;if(!a.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Mh;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class nm{constructor(){this.Cu=new bs(or.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ar():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class cf{constructor(e,t,s,a,g,D,U,ne,le){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=g,this.fromCache=D,this.syncStateChanged=U,this.excludesMetadataChanges=ne,this.hasCachedResults=le}static fromInitialDocuments(e,t,s,a,g){const D=[];return t.forEach(U=>{D.push({type:0,doc:U})}),new cf(e,t,Mh.emptySet(t),D,s,a,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class Qy{constructor(){this.Nu=void 0,this.listeners=[]}}class Gl{constructor(){this.queries=new rc(e=>$c(e),Bl),this.onlineState="Unknown",this.ku=new Set}}function rm(i,e){return im.apply(this,arguments)}function im(){return im=(0,_e.Z)(function*(i,e){const t=sr(i),s=e.query;let a=!1,g=t.queries.get(s);if(g||(a=!0,g=new Qy),a)try{g.Nu=yield t.onListen(s)}catch(D){const U=lf(D,`Initialization of query '${fd(e.query)}' failed`);return void e.onError(U)}t.queries.set(s,g),g.listeners.push(e),e.Mu(t.onlineState),g.Nu&&e.$u(g.Nu)&&om(t)}),im.apply(this,arguments)}function ng(i,e){return df.apply(this,arguments)}function df(){return df=(0,_e.Z)(function*(i,e){const t=sr(i),s=e.query;let a=!1;const g=t.queries.get(s);if(g){const D=g.listeners.indexOf(e);D>=0&&(g.listeners.splice(D,1),a=0===g.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),df.apply(this,arguments)}function sm(i,e){const t=sr(i);let s=!1;for(const a of e){const D=t.queries.get(a.query);if(D){for(const U of D.listeners)U.$u(a)&&(s=!0);D.Nu=a}}s&&om(t)}function Xy(i,e,t){const s=sr(i),a=s.queries.get(e);if(a)for(const g of a.listeners)g.onError(t);s.queries.delete(e)}function om(i){i.ku.forEach(e=>{e.next()})}class am{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new cf(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=cf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class rg{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Qm{constructor(e){this.serializer=e}rr(e){return Lu(this.serializer,e)}ur(e){return e.metadata.exists?xp(this.serializer,e.document,!1):Cs.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Da(e)}}class Jy{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ig(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=hs.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new Qm(this.serializer);for(const a of e)if(a.metadata.queries){const g=s.rr(a.metadata.name);for(const D of a.metadata.queries){const U=(t.get(D)||Zn()).add(g);t.set(D,U)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function zy(i,e,t,s){return Yd.apply(this,arguments)}(e.localStore,new Qm(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const a of e.queries)yield nf(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function ig(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class rl{constructor(e){this.key=e}}class sg{constructor(e){this.key=e}}class Xm{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Zn(),this.mutatedKeys=Zn(),this.tc=nc(e),this.ec=new Mh(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new nm,a=t?t.ec:this.ec;let g=t?t.mutatedKeys:this.mutatedKeys,D=a,U=!1;const ne="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,le="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((Oe,_t)=>{const un=a.get(Oe),Cn=Vc(this.query,_t)?_t:null,ir=!!un&&this.mutatedKeys.has(un.key),Br=!!Cn&&(Cn.hasLocalMutations||this.mutatedKeys.has(Cn.key)&&Cn.hasCommittedMutations);let zr=!1;un&&Cn?un.data.isEqual(Cn.data)?ir!==Br&&(s.track({type:3,doc:Cn}),zr=!0):this.rc(un,Cn)||(s.track({type:2,doc:Cn}),zr=!0,(ne&&this.tc(Cn,ne)>0||le&&this.tc(Cn,le)<0)&&(U=!0)):!un&&Cn?(s.track({type:0,doc:Cn}),zr=!0):un&&!Cn&&(s.track({type:1,doc:un}),zr=!0,(ne||le)&&(U=!0)),zr&&(Cn?(D=D.add(Cn),g=Br?g.add(Oe):g.delete(Oe)):(D=D.delete(Oe),g=g.delete(Oe)))}),null!==this.query.limit)for(;D.size>this.query.limit;){const Oe="F"===this.query.limitType?D.last():D.first();D=D.delete(Oe.key),g=g.delete(Oe.key),s.track({type:1,doc:Oe})}return{ec:D,ic:s,zi:U,mutatedKeys:g}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const g=e.ic.xu();g.sort((le,Oe)=>function(_t,un){const Cn=ir=>{switch(ir){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ar()}};return Cn(_t)-Cn(un)}(le.type,Oe.type)||this.tc(le.doc,Oe.doc)),this.oc(s);const D=t?this.uc():[],U=0===this.Zu.size&&this.current?1:0,ne=U!==this.Xu;return this.Xu=U,0!==g.length||ne?{snapshot:new cf(this.query,e.ec,a,g,e.mutatedKeys,0===U,ne,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:D}:{cc:D}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new nm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Zn(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new sg(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new rl(s))}),t}hc(e){this.Yu=e.ir,this.Zu=Zn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return cf.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class e_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class t_{constructor(e){this.key=e,this.fc=!1}}class sd{constructor(e,t,s,a,g,D){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=g,this.maxConcurrentLimboResolutions=D,this.dc={},this.wc=new rc(U=>$c(U),Bl),this._c=new Map,this.mc=new Set,this.gc=new bs(or.comparator),this.yc=new Map,this.Ic=new zf,this.Tc={},this.Ec=new Map,this.Ac=gr.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function ip(i,e){return um.apply(this,arguments)}function um(){return um=(0,_e.Z)(function*(i,e){const t=oi(i);let s,a;const g=t.wc.get(e);if(g)s=g.targetId,t.sharedClientState.addLocalQueryTarget(s),a=g.view.lc();else{const D=yield Ch(t.localStore,Zo(e)),U=t.sharedClientState.addLocalQueryTarget(D.targetId);s=D.targetId,a=yield hf(t,e,s,"current"===U,D.resumeToken),t.isPrimaryClient&&Jf(t.remoteStore,D)}return a}),um.apply(this,arguments)}function hf(i,e,t,s,a){return lm.apply(this,arguments)}function lm(){return lm=(0,_e.Z)(function*(i,e,t,s,a){i.Rc=(_t,un,Cn)=>{return(ir=(0,_e.Z)(function*(Br,zr,vs,Ls){let ts=zr.view.sc(vs);ts.zi&&(ts=yield id(Br.localStore,zr.query,!1).then(({documents:ua})=>zr.view.sc(ua,ts)));const Va=Ls&&Ls.targetChanges.get(zr.targetId),pa=zr.view.applyChanges(ts,Br.isPrimaryClient,Va);return _m(Br,zr.targetId,pa.cc),pa.snapshot}),function(Br,zr,vs,Ls){return ir.apply(this,arguments)})(i,_t,un,Cn);var ir};const g=yield id(i.localStore,e,!0),D=new Xm(e,g.ir),U=D.sc(g.documents),ne=_d.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,a),le=D.applyChanges(U,i.isPrimaryClient,ne);_m(i,t,le.cc);const Oe=new e_(e,t,D);return i.wc.set(e,Oe),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),le.snapshot}),lm.apply(this,arguments)}function Jm(i,e){return og.apply(this,arguments)}function og(){return og=(0,_e.Z)(function*(i,e){const t=sr(i),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(g=>!Bl(g,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield rd(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Yi(t.remoteStore,s.targetId),sp(t,s.targetId)}).catch(Be))):(sp(t,s.targetId),yield rd(t.localStore,s.targetId,!0))}),og.apply(this,arguments)}function ff(){return ff=(0,_e.Z)(function*(i,e,t){const s=Ri(i);try{const a=yield function(g,D){const U=sr(g),ne=es.now(),le=D.reduce((un,Cn)=>un.add(Cn.key),Zn());let Oe,_t;return U.persistence.runTransaction("Locally write mutations","readwrite",un=>{let Cn=ku(),ir=Zn();return U.Zi.getEntries(un,le).next(Br=>{Cn=Br,Cn.forEach((zr,vs)=>{vs.isValidDocument()||(ir=ir.add(zr))})}).next(()=>U.localDocuments.getOverlayedDocuments(un,Cn)).next(Br=>{Oe=Br;const zr=[];for(const vs of D){const Ls=El(vs,Oe.get(vs.key).overlayedDocument);null!=Ls&&zr.push(new el(vs.key,Ls,fo(Ls.value.mapValue),Co.exists(!0)))}return U.mutationQueue.addMutationBatch(un,ne,zr,D)}).next(Br=>{_t=Br;const zr=Br.applyToLocalDocumentSet(Oe,ir);return U.documentOverlayCache.saveOverlays(un,Br.batchId,zr)})}).then(()=>({batchId:_t.batchId,changes:gl(Oe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(g,D,U){let ne=g.Tc[g.currentUser.toKey()];ne||(ne=new bs(qn)),ne=ne.insert(D,U),g.Tc[g.currentUser.toKey()]=ne}(s,a.batchId,t),yield dc(s,a.changes),yield zl(s.remoteStore)}catch(a){const g=lf(a,"Failed to persist write");t.reject(g)}}),ff.apply(this,arguments)}function n_(i,e){return ug.apply(this,arguments)}function ug(){return ug=(0,_e.Z)(function*(i,e){const t=sr(i);try{const s=yield function ef(i,e){const t=sr(i),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const D=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const U=[];e.targetChanges.forEach((Oe,_t)=>{const un=a.get(_t);if(!un)return;U.push(t.Bs.removeMatchingKeys(g,Oe.removedDocuments,_t).next(()=>t.Bs.addMatchingKeys(g,Oe.addedDocuments,_t)));let Cn=un.withSequenceNumber(g.currentSequenceNumber);var ir,Br,zr;null!==e.targetMismatches.get(_t)?Cn=Cn.withResumeToken(Ao.EMPTY_BYTE_STRING,br.min()).withLastLimboFreeSnapshotVersion(br.min()):Oe.resumeToken.approximateByteSize()>0&&(Cn=Cn.withResumeToken(Oe.resumeToken,s)),a=a.insert(_t,Cn),Br=Cn,zr=Oe,(0===(ir=un).resumeToken.approximateByteSize()||Br.snapshotVersion.toMicroseconds()-ir.snapshotVersion.toMicroseconds()>=3e8||zr.addedDocuments.size+zr.modifiedDocuments.size+zr.removedDocuments.size>0)&&U.push(t.Bs.updateTargetData(g,Cn))});let ne=ku(),le=Zn();if(e.documentUpdates.forEach(Oe=>{e.resolvedLimboDocuments.has(Oe)&&U.push(t.persistence.referenceDelegate.updateLimboDocument(g,Oe))}),U.push(tf(g,D,e.documentUpdates).next(Oe=>{ne=Oe.nr,le=Oe.sr})),!s.isEqual(br.min())){const Oe=t.Bs.getLastRemoteSnapshotVersion(g).next(_t=>t.Bs.setTargetsMetadata(g,g.currentSequenceNumber,s));U.push(Oe)}return rt.waitFor(U).next(()=>D.apply(g)).next(()=>t.localDocuments.getLocalViewOfDocuments(g,ne,le)).next(()=>ne)}).then(g=>(t.Ji=a,g))}(t.localStore,e);e.targetChanges.forEach((a,g)=>{const D=t.yc.get(g);D&&(Cr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?D.fc=!0:a.modifiedDocuments.size>0?Cr(D.fc):a.removedDocuments.size>0&&(Cr(D.fc),D.fc=!1))}),yield dc(t,s,e)}catch(s){yield Be(s)}}),ug.apply(this,arguments)}function cm(i,e,t){const s=sr(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((g,D)=>{const U=D.view.Mu(e);U.snapshot&&a.push(U.snapshot)}),function(g,D){const U=sr(g);U.onlineState=D;let ne=!1;U.queries.forEach((le,Oe)=>{for(const _t of Oe.listeners)_t.Mu(D)&&(ne=!0)}),ne&&om(U)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function lg(i,e,t){return pf.apply(this,arguments)}function pf(){return pf=(0,_e.Z)(function*(i,e,t){const s=sr(i);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),g=a&&a.key;if(g){let D=new bs(or.comparator);D=D.insert(g,Cs.newNoDocument(g,br.min()));const U=Zn().add(g),ne=new Zc(br.min(),new Map,new bs(qn),D,U);yield n_(s,ne),s.gc=s.gc.remove(g),s.yc.delete(e),Ph(s)}else yield rd(s.localStore,e,!1).then(()=>sp(s,e,t)).catch(Be)}),pf.apply(this,arguments)}function dm(i,e){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,_e.Z)(function*(i,e){const t=sr(i),s=e.batch.batchId;try{const a=yield function Hg(i,e){const t=sr(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),g=t.Zi.newChangeBuffer({trackRemovals:!0});return function(D,U,ne,le){const Oe=ne.batch,_t=Oe.keys();let un=rt.resolve();return _t.forEach(Cn=>{un=un.next(()=>le.getEntry(U,Cn)).next(ir=>{const Br=ne.docVersions.get(Cn);Cr(null!==Br),ir.version.compareTo(Br)<0&&(Oe.applyToRemoteDocument(ir,ne),ir.isValidDocument()&&(ir.setReadTime(ne.commitVersion),le.addEntry(ir)))})}),un.next(()=>D.mutationQueue.removeMutationBatch(U,Oe))}(t,s,e,g).next(()=>g.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(D){let U=Zn();for(let ne=0;ne<D.mutationResults.length;++ne)D.mutationResults[ne].transformResults.length>0&&(U=U.add(D.batch.mutations[ne].key));return U}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);mm(t,s,null),gm(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield dc(t,a)}catch(a){yield Be(a)}}),Pc.apply(this,arguments)}function r_(i,e,t){return hm.apply(this,arguments)}function hm(){return hm=(0,_e.Z)(function*(i,e,t){const s=sr(i);try{const a=yield function(g,D){const U=sr(g);return U.persistence.runTransaction("Reject batch","readwrite-primary",ne=>{let le;return U.mutationQueue.lookupMutationBatch(ne,D).next(Oe=>(Cr(null!==Oe),le=Oe.keys(),U.mutationQueue.removeMutationBatch(ne,Oe))).next(()=>U.mutationQueue.performConsistencyCheck(ne)).next(()=>U.documentOverlayCache.removeOverlaysForBatchId(ne,le,D)).next(()=>U.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ne,le)).next(()=>U.localDocuments.getDocuments(ne,le))})}(s.localStore,e);mm(s,e,t),gm(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield dc(s,a)}catch(a){yield Be(a)}}),hm.apply(this,arguments)}function pm(){return pm=(0,_e.Z)(function*(i,e){const t=sr(i);Sd(t.remoteStore)||Mn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(g){const D=sr(g);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>D.mutationQueue.getHighestUnacknowledgedBatchId(U))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Ec.get(s)||[];a.push(e),t.Ec.set(s,a)}catch(s){const a=lf(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),pm.apply(this,arguments)}function gm(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function mm(i,e,t){const s=sr(i);let a=s.Tc[s.currentUser.toKey()];if(a){const g=a.get(e);g&&(t?g.reject(t):g.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function sp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i._c.get(e))i.wc.delete(s),t&&i.dc.Pc(s,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(s=>{i.Ic.containsKey(s)||ym(i,s)})}function ym(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(Yi(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),Ph(i))}function _m(i,e,t){for(const s of t)s instanceof rl?(i.Ic.addReference(s.key,e),cg(i,s)):s instanceof sg?(Mn("SyncEngine","Document no longer in limbo: "+s.key),i.Ic.removeReference(s.key,e),i.Ic.containsKey(s.key)||ym(i,s.key)):ar()}function cg(i,e){const t=e.key,s=t.path.canonicalString();i.gc.get(t)||i.mc.has(s)||(Mn("SyncEngine","New document in limbo: "+t),i.mc.add(s),Ph(i))}function Ph(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new or(hs.fromString(e)),s=i.Ac.next();i.yc.set(s,new t_(t)),i.gc=i.gc.insert(t,s),Jf(i.remoteStore,new Ua(Zo(Ko(t.path)),s,"TargetPurposeLimboResolution",Fo.ct))}}function dc(i,e,t){return ey.apply(this,arguments)}function ey(){return ey=(0,_e.Z)(function*(i,e,t){const s=sr(i),a=[],g=[],D=[];var U;s.wc.isEmpty()||(s.wc.forEach((U,ne)=>{D.push(s.Rc(ne,e,t).then(le=>{if((le||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(ne.targetId,le?.fromCache?"not-current":"current"),le){a.push(le);const Oe=Wf.Li(ne.targetId,le);g.push(Oe)}}))}),yield Promise.all(D),s.dc.nu(a),yield(U=(0,_e.Z)(function*(ne,le){const Oe=sr(ne);try{yield Oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",_t=>rt.forEach(le,un=>rt.forEach(un.Fi,Cn=>Oe.persistence.referenceDelegate.addReference(_t,un.targetId,Cn)).next(()=>rt.forEach(un.Bi,Cn=>Oe.persistence.referenceDelegate.removeReference(_t,un.targetId,Cn)))))}catch(_t){if(!ha(_t))throw _t;Mn("LocalStore","Failed to update sequence numbers: "+_t)}for(const _t of le){const un=_t.targetId;if(!_t.fromCache){const Cn=Oe.Ji.get(un),Br=Cn.withLastLimboFreeSnapshotVersion(Cn.snapshotVersion);Oe.Ji=Oe.Ji.insert(un,Br)}}}),function(ne,le){return U.apply(this,arguments)})(s.localStore,g))}),ey.apply(this,arguments)}function i_(i,e){return gf.apply(this,arguments)}function gf(){return gf=(0,_e.Z)(function*(i,e){const t=sr(i);if(!t.currentUser.isEqual(e)){Mn("SyncEngine","User change. New user:",e.toKey());const s=yield Um(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(D=>{D.forEach(U=>{U.reject(new Pn(cn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield dc(t,s.er)}var a}),gf.apply(this,arguments)}function s_(i,e){const t=sr(i),s=t.yc.get(e);if(s&&s.fc)return Zn().add(s.key);{let a=Zn();const g=t._c.get(e);if(!g)return a;for(const D of g){const U=t.wc.get(D);a=a.unionWith(U.view.nc)}return a}}function o_(i,e){return vm.apply(this,arguments)}function vm(){return vm=(0,_e.Z)(function*(i,e){const t=sr(i),s=yield id(t.localStore,e.query,!0),a=e.view.hc(s);return t.isPrimaryClient&&_m(t,e.targetId,a.cc),a}),vm.apply(this,arguments)}function Em(i,e){return l.apply(this,arguments)}function l(){return l=(0,_e.Z)(function*(i,e){const t=sr(i);return $m(t.localStore,e).then(s=>dc(t,s))}),l.apply(this,arguments)}function m(i,e,t,s){return S.apply(this,arguments)}function S(){return S=(0,_e.Z)(function*(i,e,t,s){const a=sr(i),g=yield function(D,U){const ne=sr(D),le=sr(ne.mutationQueue);return ne.persistence.runTransaction("Lookup mutation documents","readonly",Oe=>le.Sn(Oe,U).next(_t=>_t?ne.localDocuments.getDocuments(Oe,_t):rt.resolve(null)))}(a.localStore,e);var U;null!==g?("pending"===t?yield zl(a.remoteStore):"acknowledged"===t||"rejected"===t?(mm(a,e,s||null),gm(a,e),U=e,sr(sr(a.localStore).mutationQueue).Cn(U)):ar(),yield dc(a,g)):Mn("SyncEngine","Cannot apply mutation batch with id: "+e)}),S.apply(this,arguments)}function Ie(){return Ie=(0,_e.Z)(function*(i,e){const t=sr(i);if(oi(t),Ri(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield qe(t,s.toArray());t.vc=!0,yield em(t.remoteStore,!0);for(const g of a)Jf(t.remoteStore,g)}else if(!1===e&&!1!==t.vc){const s=[];let a=Promise.resolve();t._c.forEach((g,D)=>{t.sharedClientState.isLocalQueryTarget(D)?s.push(D):a=a.then(()=>(sp(t,D),rd(t.localStore,D,!0))),Yi(t.remoteStore,D)}),yield a,yield qe(t,s),function(g){const D=sr(g);D.yc.forEach((U,ne)=>{Yi(D.remoteStore,ne)}),D.Ic.Ts(),D.yc=new Map,D.gc=new bs(or.comparator)}(t),t.vc=!1,yield em(t.remoteStore,!1)}}),Ie.apply(this,arguments)}function qe(i,e,t){return Ct.apply(this,arguments)}function Ct(){return Ct=(0,_e.Z)(function*(i,e,t){const s=sr(i),a=[],g=[];for(const D of e){let U;const ne=s._c.get(D);if(ne&&0!==ne.length){U=yield Ch(s.localStore,Zo(ne[0]));for(const le of ne){const Oe=s.wc.get(le),_t=yield o_(s,Oe);_t.snapshot&&g.push(_t.snapshot)}}else{const le=yield jy(s.localStore,D);U=yield Ch(s.localStore,le),yield hf(s,kt(le),D,!1,U.resumeToken)}a.push(U)}return s.dc.nu(g),a}),Ct.apply(this,arguments)}function kt(i){return Fl(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function rn(i){const e=sr(i);return sr(sr(e.localStore).persistence).$i()}function Hn(i,e,t,s){return Vn.apply(this,arguments)}function Vn(){return Vn=(0,_e.Z)(function*(i,e,t,s){const a=sr(i);if(a.vc)return void Mn("SyncEngine","Ignoring unexpected query state notification.");const g=a._c.get(e);if(g&&g.length>0)switch(t){case"current":case"not-current":{const D=yield $m(a.localStore,Hc(g[0])),U=Zc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ao.EMPTY_BYTE_STRING);yield dc(a,D,U);break}case"rejected":yield rd(a.localStore,e,!0),sp(a,e,s);break;default:ar()}}),Vn.apply(this,arguments)}function Yn(i,e,t){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,_e.Z)(function*(i,e,t){const s=oi(i);if(s.vc){for(const a of e){if(s._c.has(a)){Mn("SyncEngine","Adding an already active target "+a);continue}const g=yield jy(s.localStore,a),D=yield Ch(s.localStore,g);yield hf(s,kt(g),D.targetId,!1,D.resumeToken),Jf(s.remoteStore,D)}for(const a of t)s._c.has(a)&&(yield rd(s.localStore,a,!1).then(()=>{Yi(s.remoteStore,a),sp(s,a)}).catch(Be))}}),Lr.apply(this,arguments)}function oi(i){const e=sr(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=n_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lg.bind(null,e),e.dc.nu=sm.bind(null,e.eventManager),e.dc.Pc=Xy.bind(null,e.eventManager),e}function Ri(i){const e=sr(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r_.bind(null,e),e}class bi{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.serializer=Qf(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Hy(this.persistence,new Bm,e.initialUser,this.serializer)}createPersistence(e){return new Dh(Jh.zs,this.serializer)}createSharedClientState(e){return new Gy}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Os extends bi{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,_e.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield Ri(s.Vc.syncEngine),yield zl(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Hy(this.persistence,new Bm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new nd(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new Fa(t,this.persistence);return new Ql(e.asyncQueue,s)}createPersistence(e){const t=aa(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?H.withCacheSize(this.cacheSizeBytes):H.DEFAULT;return new Gf(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Hm(),Yp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Gy}}class Cl extends Os{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,_e.Z)(function*(){yield t().call(s,e);const a=s.Vc.syncEngine;s.sharedClientState instanceof wh&&(s.sharedClientState.syncEngine={jr:m.bind(null,a),zr:Hn.bind(null,a),Wr:Yn.bind(null,a),$i:rn.bind(null,a),Qr:Em.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var g=(0,_e.Z)(function*(D){yield function Q(i,e){return Ie.apply(this,arguments)}(s.Vc.syncEngine,D),s.gcScheduler&&(D&&!s.gcScheduler.started?s.gcScheduler.start():D||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(D&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():D||s.indexBackfillerScheduler.stop())});return function(D){return g.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Hm();if(!wh.D(t))throw new Pn(cn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=aa(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wh(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Ra{initialize(e,t){var s=this;return(0,_e.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>cm(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=i_.bind(null,s.syncEngine),yield em(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Gl}createDatastore(e){const t=Qf(e.databaseInfo.databaseId),s=new qy(e.databaseInfo);return new Yy(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,g=U=>cm(this.syncEngine,U,0),D=bh.D()?new bh:new Gg,new jl(t,s,a,g,D);var t,s,a,g,D}createSyncEngine(e,t){return function(s,a,g,D,U,ne,le){const Oe=new sd(s,a,g,D,U,ne);return le&&(Oe.vc=!0),Oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const s=sr(t);Mn("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield Sh(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function wl(i,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class fa{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Rc{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Ji,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),a=Number(s);isNaN(a)&&e.Mc(`length string (${s}) is not valid number`);const g=yield e.$c(a);return new rg(JSON.parse(g),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,_e.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Ad{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Pn(cn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,_e.Z)(function*(g,D){const U=sr(g),ne=Ed(U.serializer)+"/documents",le={documents:D.map(Cn=>ac(U.serializer,Cn))},Oe=yield U.vo("BatchGetDocuments",ne,le,D.length),_t=new Map;Oe.forEach(Cn=>{const ir=function Pg(i,e){return"found"in e?function(t,s){Cr(!!s.found);const a=Lu(t,s.found.name),g=Da(s.found.updateTime),D=s.found.createTime?Da(s.found.createTime):br.min(),U=new qi({mapValue:{fields:s.found.fields}});return Cs.newFoundDocument(a,g,D,U)}(i,e):"missing"in e?function(t,s){Cr(!!s.missing),Cr(!!s.readTime);const a=Lu(t,s.missing),g=Da(s.readTime);return Cs.newNoDocument(a,g)}(i,e):ar()}(U.serializer,Cn);_t.set(ir.key.toString(),ir)});const un=[];return D.forEach(Cn=>{const ir=_t.get(Cn.toString());Cr(!!ir),un.push(ir)}),un}),function(g,D){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new gd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const g=or.fromPath(a);e.mutations.push(new $l(g,e.precondition(g)))}),yield(s=(0,_e.Z)(function*(a,g){const D=sr(a),U=Ed(D.serializer)+"/documents",ne={writes:g.map(le=>gh(D.serializer,le))};yield D.Io("Commit",U,ne)}),function(a,g){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ar();t=br.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Pn(cn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(br.min())?Co.exists(!1):Co.updateTime(t):Co.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(br.min()))throw new Pn(cn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Co.updateTime(t)}return Co.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ty{constructor(e,t,s,a,g){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=g,this.Bc=s.maxAttempts,this.qo=new Kp(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,_e.Z)(function*(){const t=new Ad(e.datastore),s=e.qc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(g=>{e.Uc(g)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!La(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Gh(t)}return!1}}class e0{constructor(e,t,s,a){var g=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=yo.UNAUTHENTICATED,this.clientId=Ui.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var D=(0,_e.Z)(function*(U){Mn("FirestoreClient","Received user=",U.uid),yield g.authCredentialListener(U),g.user=U});return function(U){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(s,D=>(Mn("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pn(cn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=lf(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function ny(i,e){return ry.apply(this,arguments)}function ry(){return ry=(0,_e.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Mn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var a=(0,_e.Z)(function*(g){s.isEqual(g)||(yield Um(e.localStore,g),s=g)});return function(g){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),ry.apply(this,arguments)}function iy(i,e){return a_.apply(this,arguments)}function a_(){return a_=(0,_e.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield sy(i);Mn("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(a=>Zm(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,g)=>Zm(e.remoteStore,g)),i._onlineComponents=e}),a_.apply(this,arguments)}function t0(i){return"FirebaseError"===i.name?i.code===cn.FAILED_PRECONDITION||i.code===cn.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function sy(i){return j_.apply(this,arguments)}function j_(){return j_=(0,_e.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Mn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ny(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!t0(t))throw t;Ws("Error using user provided cache. Falling back to memory cache: "+t),yield ny(i,new bi)}}else Mn("FirestoreClient","Using default OfflineComponentProvider"),yield ny(i,new bi);return i._offlineComponents}),j_.apply(this,arguments)}function op(i){return u_.apply(this,arguments)}function u_(){return u_=(0,_e.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Mn("FirestoreClient","Using user provided OnlineComponentProvider"),yield iy(i,i._uninitializedComponentsProvider._online)):(Mn("FirestoreClient","Using default OnlineComponentProvider"),yield iy(i,new Ra))),i._onlineComponents}),u_.apply(this,arguments)}function z_(i){return sy(i).then(e=>e.persistence)}function dg(i){return sy(i).then(e=>e.localStore)}function G_(i){return op(i).then(e=>e.remoteStore)}function od(i){return op(i).then(e=>e.syncEngine)}function du(i){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,_e.Z)(function*(i){const e=yield op(i),t=e.eventManager;return t.onListen=ip.bind(null,e.syncEngine),t.onUnlisten=Jm.bind(null,e.syncEngine),t}),Rh.apply(this,arguments)}function ap(i,e,t={}){const s=new Ji;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(a,g,D,U,ne){const le=new fa({next:_t=>{g.enqueueAndForget(()=>ng(a,Oe));const un=_t.docs.has(D);!un&&_t.fromCache?ne.reject(new Pn(cn.UNAVAILABLE,"Failed to get document because the client is offline.")):un&&_t.fromCache&&U&&"server"===U.source?ne.reject(new Pn(cn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ne.resolve(_t)},error:_t=>ne.reject(_t)}),Oe=new am(Ko(D.path),le,{includeMetadataChanges:!0,Ku:!0});return rm(a,Oe)}(yield du(i),i.asyncQueue,e,t,s)})),s.promise}function up(i,e,t={}){const s=new Ji;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(a,g,D,U,ne){const le=new fa({next:_t=>{g.enqueueAndForget(()=>ng(a,Oe)),_t.fromCache&&"server"===U.source?ne.reject(new Pn(cn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ne.resolve(_t)},error:_t=>ne.reject(_t)}),Oe=new am(D,le,{includeMetadataChanges:!0,Ku:!0});return rm(a,Oe)}(yield du(i),i.asyncQueue,e,t,s)})),s.promise}function lp(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const cp=new Map;function ay(i,e,t){if(!t)throw new Pn(cn.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function c_(i,e,t,s){if(!0===e&&!0===s)throw new Pn(cn.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function d_(i){if(!or.isDocumentKey(i))throw new Pn(cn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function h_(i){if(or.isDocumentKey(i))throw new Pn(cn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Dm(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":ar()}function Qs(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Pn(cn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Dm(i);throw new Pn(cn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function f_(i,e){if(e<=0)throw new Pn(cn.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class p_{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Pn(cn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pn(cn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=lp(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Pn(cn.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Pn(cn.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Pn(cn.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _g{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pn(cn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pn(cn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new No;switch(t.type){case"firstParty":return new Qu(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Pn(cn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=cp.get(e);t&&(Mn("ComponentProvider","Removing Datastore"),cp.delete(e),t.terminate())}(this),Promise.resolve()}}class wa{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wa(this.firestore,e,this._key)}}class bl{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bl(this.firestore,e,this._query)}}class Oh extends bl{constructor(e,t,s){super(e,t,Ko(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wa(this.firestore,null,new or(e))}withConverter(e){return new Oh(this.firestore,e,this._path)}}function W_(i,e,...t){if(i=(0,pt.m9)(i),ay("collection","path",e),i instanceof _g){const s=hs.fromString(e,...t);return h_(s),new Oh(i,null,s)}{if(!(i instanceof wa||i instanceof Oh))throw new Pn(cn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(hs.fromString(e,...t));return h_(s),new Oh(i.firestore,null,s)}}function g_(i,e,...t){if(i=(0,pt.m9)(i),1===arguments.length&&(e=Ui.A()),ay("doc","path",e),i instanceof _g){const s=hs.fromString(e,...t);return d_(s),new wa(i,null,new or(s))}{if(!(i instanceof wa||i instanceof Oh))throw new Pn(cn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(hs.fromString(e,...t));return d_(s),new wa(i.firestore,i instanceof Oh?i.converter:null,new or(s))}}function q_(i,e){return i=(0,pt.m9)(i),e=(0,pt.m9)(e),(i instanceof wa||i instanceof Oh)&&(e instanceof wa||e instanceof Oh)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Y_(i,e){return i=(0,pt.m9)(i),e=(0,pt.m9)(e),i instanceof bl&&e instanceof bl&&i.firestore===e.firestore&&Bl(i._query,e._query)&&i.converter===e.converter}class r0{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Kp(this,"async_queue_retry"),this.Xc=()=>{const t=Yp();t&&Mn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Yp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Yp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ji;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ha(t))throw t;Mn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,Ms("INTERNAL UNHANDLED ERROR: ",function(g){let D=g.message||"";return g.stack&&(D=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),D}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=tm.createAndSchedule(this,e,t,s,g=>this.na(g));return this.zc.push(a),a}Zc(){this.Wc&&ar()}verifyOperationInProgress(){}sa(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function m_(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(i)}class s0{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ji,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class zo extends _g{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new r0,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vg(this),this._firestoreClient.terminate()}}function Ka(i){return i._firestoreClient||vg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function vg(i){var e,t,s;const a=i._freezeSettings(),g=(U=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Nl(i._databaseId,U,i._persistenceKey,(le=a).host,le.ssl,le.experimentalForceLongPolling,le.experimentalAutoDetectLongPolling,lp(le.experimentalLongPollingOptions),le.useFetchStreams));var U,le;i._firestoreClient=new e0(i._authCredentials,i._appCheckCredentials,i._queue,g),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Eg(i,e,t){const s=new Ji;return i.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield ny(i,t),yield iy(i,e),s.resolve()}catch(a){const g=a;if(!t0(g))throw g;Ws("Error enabling indexeddb cache. Falling back to memory cache: "+g),s.reject(g)}})).then(()=>s.promise)}function d0(i){if(i._initialized||i._terminated)throw new Pn(cn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ud{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ud(Ao.fromBase64String(e))}catch(t){throw new Pn(cn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ud(Ao.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Nh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Pn(cn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ho(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dp{constructor(e){this._methodName=e}}class dy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pn(cn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pn(cn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qn(this._lat,e._lat)||qn(this._long,e._long)}}const X_=/^__.*__$/;class J_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new el(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kc(e,this.data,t,this.fieldTransforms)}}class v_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new el(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ev(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ar()}}class hy{constructor(e,t,s,a,g,D){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===g&&this.ua(),this.fieldTransforms=g||[],this.fieldMask=D||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new hy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Cg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(ev(this.ca)&&X_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class p0{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Qf(e)}ya(e,t,s,a=!1){return new hy({ca:e,methodName:t,ga:s,path:ho.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mf(i){const e=i._freezeSettings(),t=Qf(i._databaseId);return new p0(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Dg(i,e,t,s,a,g={}){const D=i.ya(g.merge||g.mergeFields?2:0,e,t,a);gy("Data must be an object, but it was:",D,s);const U=Cm(s,D);let ne,le;if(g.merge)ne=new Sa(D.fieldMask),le=D.fieldTransforms;else if(g.mergeFields){const Oe=[];for(const _t of g.mergeFields){const un=wm(e,_t,t);if(!D.contains(un))throw new Pn(cn.INVALID_ARGUMENT,`Field '${un}' is specified in your field mask but missing from your input data.`);C_(Oe,un)||Oe.push(un)}ne=new Sa(Oe),le=D.fieldTransforms.filter(_t=>ne.covers(_t.field))}else ne=null,le=D.fieldTransforms;return new J_(new qi(U),ne,le)}class hp extends dp{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hp}}function tv(i,e,t){return new hy({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ig extends dp{_toFieldTransform(e){return new vl(e.path,new yl)}isEqual(e){return e instanceof Ig}}class fy extends dp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=tv(this,e,!0),s=this.pa.map(g=>Jd(g,t)),a=new Ic(s);return new vl(e.path,a)}isEqual(e){return this===e}}class E_ extends dp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=tv(this,e,!0),s=this.pa.map(g=>Jd(g,t)),a=new pd(s);return new vl(e.path,a)}isEqual(e){return this===e}}class nv extends dp{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new ic(e.serializer,Dc(e.serializer,this.Ia));return new vl(e.path,t)}isEqual(e){return this===e}}function D_(i,e,t,s){const a=i.ya(1,e,t);gy("Data must be an object, but it was:",a,s);const g=[],D=qi.empty();xu(s,(ne,le)=>{const Oe=bm(e,ne,t);le=(0,pt.m9)(le);const _t=a.da(Oe);if(le instanceof hp)g.push(Oe);else{const un=Jd(le,_t);null!=un&&(g.push(Oe),D.set(Oe,un))}});const U=new Sa(g);return new v_(D,U,a.fieldTransforms)}function I_(i,e,t,s,a,g){const D=i.ya(1,e,t),U=[wm(e,s,t)],ne=[a];if(g.length%2!=0)throw new Pn(cn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let un=0;un<g.length;un+=2)U.push(wm(e,g[un])),ne.push(g[un+1]);const le=[],Oe=qi.empty();for(let un=U.length-1;un>=0;--un)if(!C_(le,U[un])){const Cn=U[un];let ir=ne[un];ir=(0,pt.m9)(ir);const Br=D.da(Cn);if(ir instanceof hp)le.push(Cn);else{const zr=Jd(ir,Br);null!=zr&&(le.push(Cn),Oe.set(Cn,zr))}}const _t=new Sa(le);return new v_(Oe,_t,D.fieldTransforms)}function rv(i,e,t,s=!1){return Jd(t,i.ya(s?4:3,e))}function Jd(i,e){if(py(i=(0,pt.m9)(i)))return gy("Unsupported field value:",e,i),Cm(i,e);if(i instanceof dp)return function(t,s){if(!ev(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let g=0;for(const D of t){let U=Jd(D,s.wa(g));null==U&&(U={nullValue:"NULL_VALUE"}),a.push(U),g++}return{arrayValue:{values:a}}}(i,e)}return function(t,s){if(null===(t=(0,pt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Dc(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=es.fromDate(t);return{timestampValue:Bd(s.serializer,a)}}if(t instanceof es){const a=new es(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Bd(s.serializer,a)}}if(t instanceof dy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ud)return{bytesValue:Ap(s.serializer,t._byteString)};if(t instanceof wa){const a=s.databaseId,g=t.firestore._databaseId;if(!g.isEqual(a))throw s._a(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:fh(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${Dm(t)}`)}(i,e)}function Cm(i,e){const t={};return Mu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xu(i,(s,a)=>{const g=Jd(a,e.ha(s));null!=g&&(t[s]=g)}),{mapValue:{fields:t}}}function py(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof es||i instanceof dy||i instanceof ud||i instanceof wa||i instanceof dp)}function gy(i,e,t){if(!py(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Dm(t);throw e._a("an object"===s?i+" a custom object":i+" "+s)}var s}function wm(i,e,t){if((e=(0,pt.m9)(e))instanceof Nh)return e._internalPath;if("string"==typeof e)return bm(i,e);throw Cg("Field path arguments must be of type string or ",i,!1,void 0,t)}const g0=new RegExp("[~\\*/\\[\\]]");function bm(i,e,t){if(e.search(g0)>=0)throw Cg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Nh(...e.split("."))._internalPath}catch{throw Cg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Cg(i,e,t,s,a){const g=s&&!s.isEmpty(),D=void 0!==a;let U=`Function ${e}() called with invalid data`;t&&(U+=" (via `toFirestore()`)"),U+=". ";let ne="";return(g||D)&&(ne+=" (found",g&&(ne+=` in field ${s}`),D&&(ne+=` in document ${a}`),ne+=")"),new Pn(cn.INVALID_ARGUMENT,U+i+ne)}function C_(i,e){return i.some(t=>t.isEqual(e))}class fp{constructor(e,t,s,a,g){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new wa(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new iv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(my("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class iv extends fp{data(){return super.data()}}function my(i,e){return"string"==typeof e?bm(i,e):e instanceof Nh?e._internalPath:e._delegate._internalPath}function w_(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Pn(cn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yy{}class wg extends yy{}function kh(i,e,...t){let s=[];e instanceof yy&&s.push(e),s=s.concat(t),function(a){const g=a.filter(U=>U instanceof pp).length,D=a.filter(U=>U instanceof Tm).length;if(g>1||g>0&&D>0)throw new Pn(cn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class Tm extends wg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Tm(e,t,s)}_apply(e){const t=this._parse(e);return Ey(e._query,t),new bl(e.firestore,e.converter,Ll(e._query,t))}_parse(e){const t=mf(e.firestore);return function(a,g,D,U,ne,le,Oe){let _t;if(ne.isKeyField()){if("array-contains"===le||"array-contains-any"===le)throw new Pn(cn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${le}' queries on documentId().`);if("in"===le||"not-in"===le){_f(Oe,le);const un=[];for(const Cn of Oe)un.push(vy(U,a,Cn));_t={arrayValue:{values:un}}}else _t=vy(U,a,Oe)}else"in"!==le&&"not-in"!==le&&"array-contains-any"!==le||_f(Oe,le),_t=rv(D,"where",Oe,"in"===le||"not-in"===le);return os.create(ne,le,_t)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class pp extends yy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pp(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Ts.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let g=s;const D=a.getFlattenedFilters();for(const U of D)Ey(g,U),g=Ll(g,U)}(e._query,t),new bl(e.firestore,e.converter,Ll(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _y extends wg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _y(e,t)}_apply(e){const t=function(s,a,g){if(null!==s.startAt)throw new Pn(cn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Pn(cn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const D=new Yo(a,g);return function(U,ne){if(null===ec(U)){const le=tc(U);null!==le&&fv(0,le,ne.field)}}(s,D),D}(e._query,this._field,this._direction);return new bl(e.firestore,e.converter,function(s,a){const g=s.explicitOrderBy.concat([a]);return new jo(s.path,s.collectionGroup,g,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Sm extends wg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Sm(e,t,s)}_apply(e){return new bl(e.firestore,e.converter,va(e._query,this._limit,this._limitType))}}class Am extends wg{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Am(e,t,s)}_apply(e){const t=hv(e,this.type,this._docOrFields,this._inclusive);return new bl(e.firestore,e.converter,(a=t,new jo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class gp extends wg{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new gp(e,t,s)}_apply(e){const t=hv(e,this.type,this._docOrFields,this._inclusive);return new bl(e.firestore,e.converter,(a=t,new jo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function hv(i,e,t,s){if(t[0]=(0,pt.m9)(t[0]),t[0]instanceof fp)return function(a,g,D,U,ne){if(!U)throw new Pn(cn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const le=[];for(const Oe of Xu(a))if(Oe.field.isKeyField())le.push(F(g,U.key));else{const _t=U.data.field(Oe.field);if(Ol(_t))throw new Pn(cn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Oe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_t){const un=Oe.field.canonicalString();throw new Pn(cn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${un}' (used as the orderBy) does not exist.`)}le.push(_t)}return new Pa(le,ne)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const a=mf(i.firestore);return function(g,D,U,ne,le,Oe){const _t=g.explicitOrderBy;if(le.length>_t.length)throw new Pn(cn.INVALID_ARGUMENT,`Too many arguments provided to ${ne}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const un=[];for(let Cn=0;Cn<le.length;Cn++){const ir=le[Cn];if(_t[Cn].field.isKeyField()){if("string"!=typeof ir)throw new Pn(cn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ne}(), but got a ${typeof ir}`);if(!Nu(g)&&-1!==ir.indexOf("/"))throw new Pn(cn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ne}() must be a plain document ID, but '${ir}' contains a slash.`);const Br=g.path.child(hs.fromString(ir));if(!or.isDocumentKey(Br))throw new Pn(cn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ne}() must result in a valid document path, but '${Br}' is not because it contains an odd number of segments.`);const zr=new or(Br);un.push(F(D,zr))}else{const Br=rv(U,ne,ir);un.push(Br)}}return new Pa(un,Oe)}(i._query,i.firestore._databaseId,a,e,t,s)}}function vy(i,e,t){if("string"==typeof(t=(0,pt.m9)(t))){if(""===t)throw new Pn(cn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nu(e)&&-1!==t.indexOf("/"))throw new Pn(cn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(hs.fromString(t));if(!or.isDocumentKey(s))throw new Pn(cn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return F(i,new or(s))}if(t instanceof wa)return F(i,t._key);throw new Pn(cn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dm(t)}.`)}function _f(i,e){if(!Array.isArray(i)||0===i.length)throw new Pn(cn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ey(i,e){if(e.isInequality()){const s=tc(i),a=e.field;if(null!==s&&!s.isEqual(a))throw new Pn(cn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const g=ec(i);null!==g&&fv(0,a,g)}const t=function(s,a){for(const g of s)for(const D of g.getFlattenedFilters())if(a.indexOf(D.op)>=0)return D.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Pn(cn.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function fv(i,e,t){if(!t.isEqual(e))throw new Pn(cn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class pv{convertValue(e,t="none"){switch(Pu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ar()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return xu(e,(a,g)=>{s[a]=this.convertValue(g,t)}),s}convertGeoPoint(e){return new dy(qs(e.latitude),qs(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Aa(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ya(e));default:return null}}convertTimestamp(e){const t=_o(e);return new es(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=hs.fromString(e);Cr(mh(s));const a=new ou(s.get(1),s.get(3)),g=new or(s.popFirst(5));return a.isEqual(t)||Ms(`Document ${g} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),g}}function T_(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class y0 extends pv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ud(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wa(this.firestore,null,t)}}class mp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fh extends fp{constructor(e,t,s,a,g,D){super(e,t,s,a,D),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(my("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class bg extends Fh{data(e={}){return super.data(e)}}class vf{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new mp(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new bg(this._firestore,this._userDataWriter,s.key,s,new mp(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pn(cn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let g=0;return s._snapshot.docChanges.map(D=>({type:"added",doc:new bg(s._firestore,s._userDataWriter,D.doc.key,D.doc,new mp(s._snapshot.mutatedKeys.has(D.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:g++}))}{let g=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(D=>a||3!==D.type).map(D=>{const U=new bg(s._firestore,s._userDataWriter,D.doc.key,D.doc,new mp(s._snapshot.mutatedKeys.has(D.doc.key),s._snapshot.fromCache),s.query.converter);let ne=-1,le=-1;return 0!==D.type&&(ne=g.indexOf(D.doc.key),g=g.delete(D.doc.key)),1!==D.type&&(g=g.add(D.doc),le=g.indexOf(D.doc.key)),{type:gv(D.type),doc:U,oldIndex:ne,newIndex:le}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ar()}}function S_(i,e){return i instanceof Fh&&e instanceof Fh?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof vf&&e instanceof vf&&i._firestore===e._firestore&&Y_(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Ef extends pv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ud(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wa(this.firestore,null,t)}}function A_(i,e,t){i=Qs(i,wa);const s=Qs(i.firestore,zo),a=T_(i.converter,e,t);return Tl(s,[Dg(mf(s),"setDoc",i._key,a,null!==i.converter,t).toMutation(i._key,Co.none())])}function Iy(i,e,t,...s){i=Qs(i,wa);const a=Qs(i.firestore,zo),g=mf(a);let D;return D="string"==typeof(e=(0,pt.m9)(e))||e instanceof Nh?I_(g,"updateDoc",i._key,e,t,s):D_(g,"updateDoc",i._key,e),Tl(a,[D.toMutation(i._key,Co.exists(!0))])}function x_(i,...e){var t,s,a;i=(0,pt.m9)(i);let g={includeMetadataChanges:!1},D=0;"object"!=typeof e[D]||m_(e[D])||(g=e[D],D++);const U={includeMetadataChanges:g.includeMetadataChanges};if(m_(e[D])){const _t=e[D];e[D]=null===(t=_t.next)||void 0===t?void 0:t.bind(_t),e[D+1]=null===(s=_t.error)||void 0===s?void 0:s.bind(_t),e[D+2]=null===(a=_t.complete)||void 0===a?void 0:a.bind(_t)}let ne,le,Oe;if(i instanceof wa)le=Qs(i.firestore,zo),Oe=Ko(i._key.path),ne={next:_t=>{e[D]&&e[D](Oc(le,i,_t))},error:e[D+1],complete:e[D+2]};else{const _t=Qs(i,bl);le=Qs(_t.firestore,zo),Oe=_t._query;const un=new Ef(le);ne={next:Cn=>{e[D]&&e[D](new vf(le,un,_t,Cn))},error:e[D+1],complete:e[D+2]},w_(i._query)}return function(_t,un,Cn,ir){const Br=new fa(ir),zr=new am(un,Br,Cn);return _t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return rm(yield du(_t),zr)})),()=>{Br.Dc(),_t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return ng(yield du(_t),zr)}))}}(Ka(le),Oe,U,ne)}function Tl(i,e){return function(t,s){const a=new Ji;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function ag(i,e,t){return ff.apply(this,arguments)}(yield od(t),s,a)})),a.promise}(Ka(i),e)}function Oc(i,e,t){const s=t.docs.get(e._key),a=new Ef(i);return new Fh(i,a,e._key,s,new mp(t.hasPendingWrites,t.fromCache),e.converter)}const wy={maxAttempts:5};class Dv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=mf(e)}set(e,t,s){this._verifyNotCommitted();const a=Lh(e,this._firestore),g=T_(a.converter,t,s),D=Dg(this._dataReader,"WriteBatch.set",a._key,g,null!==a.converter,s);return this._mutations.push(D.toMutation(a._key,Co.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const g=Lh(e,this._firestore);let D;return D="string"==typeof(t=(0,pt.m9)(t))||t instanceof Nh?I_(this._dataReader,"WriteBatch.update",g._key,t,s,a):D_(this._dataReader,"WriteBatch.update",g._key,t),this._mutations.push(D.toMutation(g._key,Co.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lh(e,this._firestore);return this._mutations=this._mutations.concat(new gd(t._key,Co.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pn(cn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lh(i,e){if((i=(0,pt.m9)(i)).firestore!==e)throw new Pn(cn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Iv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=mf(e)}get(e){const t=Lh(e,this._firestore),s=new y0(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return ar();const g=a[0];if(g.isFoundDocument())return new fp(this._firestore,s,g.key,g,t.converter);if(g.isNoDocument())return new fp(this._firestore,s,t._key,null,t.converter);throw ar()})}set(e,t,s){const a=Lh(e,this._firestore),g=T_(a.converter,t,s),D=Dg(this._dataReader,"Transaction.set",a._key,g,null!==a.converter,s);return this._transaction.set(a._key,D),this}update(e,t,s,...a){const g=Lh(e,this._firestore);let D;return D="string"==typeof(t=(0,pt.m9)(t))||t instanceof Nh?I_(this._dataReader,"Transaction.update",g._key,t,s,a):D_(this._dataReader,"Transaction.update",g._key,t),this._transaction.update(g._key,D),this}delete(e){const t=Lh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lh(e,this._firestore),s=new Ef(this._firestore);return super.get(e).then(a=>new Fh(this._firestore,s,t._key,a._document,new mp(!1,!1),t.converter))}}function Ty(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pn("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function R_(){if(typeof Uint8Array>"u")throw new Pn("unimplemented","Uint8Arrays are not available in this environment.")}function Sv(){if(!function Rl(){return typeof atob<"u"}())throw new Pn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){cs=mt.SDK_VERSION,(0,mt._registerComponent)(new dt.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const g=t.getProvider("app").getImmediate(),D=new zo(new fu(t.getProvider("auth-internal")),new ke(t.getProvider("app-check-internal")),function(U,ne){if(!Object.prototype.hasOwnProperty.apply(U.options,["projectId"]))throw new Pn(cn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(U.options.projectId,ne)}(g,s),g);return a=Object.assign({useFetchStreams:e},a),D._setSettings(a),D},"PUBLIC").setMultipleInstances(!0)),(0,mt.registerVersion)(Sl,"3.13.0",i),(0,mt.registerVersion)(Sl,"3.13.0","esm2017")}();class xm{constructor(e){this._delegate=e}static fromBase64String(e){return Sv(),new xm(ud.fromBase64String(e))}static fromUint8Array(e){return R_(),new xm(ud.fromUint8Array(e))}toBase64(){return Sv(),this._delegate.toBase64()}toUint8Array(){return R_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function O_(i){return function L0(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(i,["next","error","complete"])}class B0{enableIndexedDbPersistence(e,t){return function Z_(i,e){d0(i=Qs(i,zo));const t=Ka(i);if(t._uninitializedComponentsProvider)throw new Pn(cn.FAILED_PRECONDITION,"SDK cache is already specified.");Ws("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),a=new Ra;return Eg(t,a,new Os(a,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function o0(i){d0(i=Qs(i,zo));const e=Ka(i);if(e._uninitializedComponentsProvider)throw new Pn(cn.FAILED_PRECONDITION,"SDK cache is already specified.");Ws("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),s=new Ra;return Eg(e,s,new Cl(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function a0(i){if(i._initialized&&!i._terminated)throw new Pn(cn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ji;return i._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(s){if(!Mr.D())return Promise.resolve();const a=s+"main";yield Mr.delete(a)}),function(s){return t.apply(this,arguments)})(aa(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Av{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof ou||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ws("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function uy(i,e,t,s={}){var a;const g=(i=Qs(i,_g))._getSettings(),D=`${e}:${t}`;if("firestore.googleapis.com"!==g.host&&g.host!==D&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},g),{host:D,ssl:!1})),s.mockUserToken){let U,ne;if("string"==typeof s.mockUserToken)U=s.mockUserToken,ne=yo.MOCK_USER;else{U=(0,pt.Sg)(s.mockUserToken,null===(a=i._app)||void 0===a?void 0:a.options.projectId);const le=s.mockUserToken.sub||s.mockUserToken.user_id;if(!le)throw new Pn(cn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ne=new yo(le)}i._authCredentials=new fc(new hu(U,ne))}}(this._delegate,e,t,s)}enableNetwork(){return function l0(i){return function oy(i){return i.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield z_(i),t=yield G_(i);return e.setNetworkEnabled(!0),function(s){const a=sr(s);return a.vu.delete(0),sf(a)}(t)}))}(Ka(i=Qs(i,zo)))}(this._delegate)}disableNetwork(){return function c0(i){return function ad(i){return i.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield z_(i),t=yield G_(i);return e.setNetworkEnabled(!1),(s=(0,_e.Z)(function*(a){const g=sr(a);g.vu.add(0),yield Sh(g),g.bu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(Ka(i=Qs(i,zo)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,c_("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function u0(i){return function(e){const t=new Ji;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function fm(i,e){return pm.apply(this,arguments)}(yield od(e),t)})),t.promise}(Ka(i=Qs(i,zo)))}(this._delegate)}onSnapshotsInSync(e){return function th(i,e){return function pg(i,e){const t=new fa(e);return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return s=yield du(i),a=t,sr(s).ku.add(a),void a.next();var s,a})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return s=yield du(i),a=t,void sr(s).ku.delete(a);var s,a}))}}(Ka(i=Qs(i,zo)),m_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Pn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _p(this,W_(this._delegate,e))}catch(t){throw Wl(t,"collection()","Firestore.collection()")}}doc(e){try{return new ld(this,g_(this._delegate,e))}catch(t){throw Wl(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ql(this,function n0(i,e){if(i=Qs(i,_g),ay("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pn(cn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bl(i,null,(t=e,new jo(hs.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Wl(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Cv(i,e,t){i=Qs(i,zo);const s=Object.assign(Object.assign({},wy),t);return function(a){if(a.maxAttempts<1)throw new Pn(cn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,g,D){const U=new Ji;return a.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const ne=yield function hg(i){return op(i).then(e=>e.datastore)}(a);new ty(a.asyncQueue,ne,D,g,U).run()})),U.promise}(Ka(i),a=>e(new Iv(i,a)),s)}(this._delegate,t=>e(new xv(this,t)))}batch(){return Ka(this._delegate),new Mv(new Dv(this._delegate,e=>Tl(this._delegate,e)))}loadBundle(e){return function ly(i,e){const t=Ka(i=Qs(i,zo)),s=new s0;return function gg(i,e,t,s){const a=function(g,D){let U;return U="string"==typeof g?hh().encode(g):g,ne=function(ne,le){if(ne instanceof Uint8Array)return wl(ne,void 0);if(ne instanceof ArrayBuffer)return wl(new Uint8Array(ne),void 0);if(ne instanceof ReadableStream)return ne.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new Rc(ne,D);var ne}(t,Qf(e));i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function Ss(i,e,t){const s=sr(i);var a;(a=(0,_e.Z)(function*(g,D,U){try{const ne=yield D.getMetadata();if(yield function(un,Cn){const ir=sr(un),Br=Da(Cn.createTime);return ir.persistence.runTransaction("hasNewerBundle","readonly",zr=>ir.qs.getBundleMetadata(zr,Cn.id)).then(zr=>!!zr&&zr.createTime.compareTo(Br)>=0)}(g.localStore,ne))return yield D.close(),U._completeWith({taskState:"Success",documentsLoaded:(un=ne).totalDocuments,bytesLoaded:un.totalBytes,totalDocuments:un.totalDocuments,totalBytes:un.totalBytes}),Promise.resolve(new Set);U._updateProgress(ig(ne));const le=new Jy(ne,g.localStore,D.serializer);let Oe=yield D.bc();for(;Oe;){const un=yield le.zu(Oe);un&&U._updateProgress(un),Oe=yield D.bc()}const _t=yield le.complete();return yield dc(g,_t.Ju,void 0),yield function(un,Cn){const ir=sr(un);return ir.persistence.runTransaction("Save bundle","readwrite",Br=>ir.qs.saveBundleMetadata(Br,Cn))}(g.localStore,ne),U._completeWith(_t.progress),Promise.resolve(_t.Hu)}catch(ne){return Ws("SyncEngine",`Loading bundle failed with ${ne}`),U._failWith(ne),Promise.resolve(new Set)}var un}),function(g,D,U){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield od(i),a,s)}))}(t,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function cy(i,e){return function mg(i,e){return i.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,s){const a=sr(t);return a.persistence.runTransaction("Get named query","readonly",g=>a.qs.getNamedQuery(g,s))}(yield dg(i),e)}))}(Ka(i=Qs(i,zo)),e).then(t=>t?new bl(i,null,t.query):null)}(this._delegate,e).then(t=>t?new ql(this,t):null)}}class Sy extends pv{constructor(e){super(),this.firestore=e}convertBytes(e){return new xm(new ud(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ld.forKey(t,this.firestore,null)}}class xv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Sy(e)}get(e){const t=Df(e);return this._delegate.get(t).then(s=>new Mm(this._firestore,new Fh(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=Df(e);return s?(Ty("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const g=Df(e);return 2===arguments.length?this._delegate.update(g,t):this._delegate.update(g,t,s,...a),this}delete(e){const t=Df(e);return this._delegate.delete(t),this}}class Mv{constructor(e){this._delegate=e}set(e,t,s){const a=Df(e);return s?(Ty("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const g=Df(e);return 2===arguments.length?this._delegate.update(g,t):this._delegate.update(g,t,s,...a),this}delete(e){const t=Df(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class yp{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new bg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Pm(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=yp.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let g=a.get(t);return g||(g=new yp(e,new Sy(e),t),a.set(t,g)),g}}yp.INSTANCES=new WeakMap;class ld{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sy(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Pn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ld(t,new wa(t._delegate,s,new or(e)))}static forKey(e,t,s){return new ld(t,new wa(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new _p(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _p(this.firestore,W_(this._delegate,e))}catch(t){throw Wl(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,pt.m9)(e))instanceof wa&&q_(this._delegate,e)}set(e,t){t=Ty("DocumentReference.set",t);try{return t?A_(this._delegate,e,t):A_(this._delegate,e)}catch(s){throw Wl(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?Iy(this._delegate,e):Iy(this._delegate,e,t,...s)}catch(a){throw Wl(a,"updateDoc()","DocumentReference.update()")}}delete(){return function eh(i){return Tl(Qs(i.firestore,zo),[new gd(i._key,Co.none())])}(this._delegate)}onSnapshot(...e){const t=Pv(e),s=Rv(e,a=>new Mm(this.firestore,new Fh(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return x_(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function D0(i){i=Qs(i,wa);const e=Qs(i.firestore,zo),t=Ka(e),s=new Ef(e);return function l_(i,e){const t=new Ji;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(s=(0,_e.Z)(function*(a,g,D){try{const U=yield function(ne,le){const Oe=sr(ne);return Oe.persistence.runTransaction("read document","readonly",_t=>Oe.localDocuments.getDocument(_t,le))}(a,g);U.isFoundDocument()?D.resolve(U):U.isNoDocument()?D.resolve(null):D.reject(new Pn(cn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const ne=lf(U,`Failed to get document '${g} from cache`);D.reject(ne)}}),function(a,g,D){return s.apply(this,arguments)})(yield dg(i),e,t);var s})),t.promise}(t,i._key).then(a=>new Fh(e,s,i._key,a,new mp(null!==a&&a.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function mv(i){i=Qs(i,wa);const e=Qs(i.firestore,zo);return ap(Ka(e),i._key,{source:"server"}).then(t=>Oc(e,i,t))}(this._delegate):function Tg(i){i=Qs(i,wa);const e=Qs(i.firestore,zo);return ap(Ka(e),i._key).then(t=>Oc(e,i,t))}(this._delegate),t.then(s=>new Mm(this.firestore,new Fh(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new ld(this.firestore,this._delegate.withConverter(e?yp.getInstance(this.firestore,e):null))}}function Wl(i,e,t){return i.message=i.message.replace(e,t),i}function Pv(i){for(const e of i)if("object"==typeof e&&!O_(e))return e;return{}}function Rv(i,e){var t,s;let a;return a=O_(i[0])?i[0]:O_(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:g=>{a.next&&a.next(e(g))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class Mm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ld(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return S_(this._delegate,e._delegate)}}class Pm extends Mm{data(e){const t=this._delegate.data(e);return function Wo(i,e){i||ar()}(void 0!==t),t}}class ql{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sy(e)}where(e,t,s){try{return new ql(this.firestore,kh(this._delegate,function sv(i,e,t){const s=e,a=my("where",i);return Tm._create(a,s,t)}(e,t,s)))}catch(a){throw Wl(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ql(this.firestore,kh(this._delegate,function av(i,e="asc"){const t=e,s=my("orderBy",i);return _y._create(s,t)}(e,t)))}catch(s){throw Wl(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ql(this.firestore,kh(this._delegate,function uv(i){return f_("limit",i),Sm._create("limit",i,"F")}(e)))}catch(t){throw Wl(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ql(this.firestore,kh(this._delegate,function lv(i){return f_("limitToLast",i),Sm._create("limitToLast",i,"L")}(e)))}catch(t){throw Wl(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ql(this.firestore,kh(this._delegate,function cv(...i){return Am._create("startAt",i,!0)}(...e)))}catch(t){throw Wl(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ql(this.firestore,kh(this._delegate,function dv(...i){return Am._create("startAfter",i,!1)}(...e)))}catch(t){throw Wl(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ql(this.firestore,kh(this._delegate,function yf(...i){return gp._create("endBefore",i,!1)}(...e)))}catch(t){throw Wl(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ql(this.firestore,kh(this._delegate,function m0(...i){return gp._create("endAt",i,!0)}(...e)))}catch(t){throw Wl(t,"endAt()","Query.endAt()")}}isEqual(e){return Y_(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function yv(i){i=Qs(i,bl);const e=Qs(i.firestore,zo),t=Ka(e),s=new Ef(e);return function fg(i,e){const t=new Ji;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(s=(0,_e.Z)(function*(a,g,D){try{const U=yield id(a,g,!0),ne=new Xm(g,U.ir),le=ne.sc(U.documents),Oe=ne.applyChanges(le,!1);D.resolve(Oe.snapshot)}catch(U){const ne=lf(U,`Failed to execute query '${g} against cache`);D.reject(ne)}}),function(a,g,D){return s.apply(this,arguments)})(yield dg(i),e,t);var s})),t.promise}(t,i._query).then(a=>new vf(e,s,i,a))}(this._delegate):"server"===e?.source?function ME(i){i=Qs(i,bl);const e=Qs(i.firestore,zo),t=Ka(e),s=new Ef(e);return up(t,i._query,{source:"server"}).then(a=>new vf(e,s,i,a))}(this._delegate):function I0(i){i=Qs(i,bl);const e=Qs(i.firestore,zo),t=Ka(e),s=new Ef(e);return w_(i._query),up(t,i._query).then(a=>new vf(e,s,i,a))}(this._delegate),t.then(s=>new Ay(this.firestore,new vf(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Pv(e),s=Rv(e,a=>new Ay(this.firestore,new vf(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return x_(this._delegate,t,s)}withConverter(e){return new ql(this.firestore,this._delegate.withConverter(e?yp.getInstance(this.firestore,e):null))}}class Ov{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Pm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ay{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ql(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Pm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ov(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Pm(this._firestore,s))})}isEqual(e){return S_(this._delegate,e._delegate)}}class _p extends ql{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ld(this.firestore,e):null}doc(e){try{return new ld(this.firestore,void 0===e?g_(this._delegate):g_(this._delegate,e))}catch(t){throw Wl(t,"doc()","CollectionReference.doc()")}}add(e){return function C0(i,e){const t=Qs(i.firestore,zo),s=g_(i),a=T_(i.converter,e);return Tl(t,[Dg(mf(i.firestore),"addDoc",s._key,a,null!==i.converter,{}).toMutation(s._key,Co.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new ld(this.firestore,t))}isEqual(e){return q_(this._delegate,e._delegate)}withConverter(e){return new _p(this.firestore,this._delegate.withConverter(e?yp.getInstance(this.firestore,e):null))}}function Df(i){return Qs(i,wa)}class xy{constructor(...e){this._delegate=new Nh(...e)}static documentId(){return new xy(ho.keyField().canonicalString())}isEqual(e){return(e=(0,pt.m9)(e))instanceof Nh&&this._delegate._internalPath.isEqual(e._internalPath)}}class If{constructor(e){this._delegate=e}static serverTimestamp(){const e=function N0(){return new Ig("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new If(e)}static delete(){const e=function O0(){return new hp("deleteField")}();return e._methodName="FieldValue.delete",new If(e)}static arrayUnion(...e){const t=function M_(...i){return new fy("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new If(t)}static arrayRemove(...e){const t=function by(...i){return new E_("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new If(t)}static increment(e){const t=function wv(i){return new nv("increment",i)}(e);return t._methodName="FieldValue.increment",new If(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Nv={Firestore:Av,GeoPoint:dy,Timestamp:es,Blob:xm,Transaction:xv,WriteBatch:Mv,DocumentReference:ld,DocumentSnapshot:Mm,Query:ql,QueryDocumentSnapshot:Pm,QuerySnapshot:Ay,CollectionReference:_p,FieldPath:xy,FieldValue:If,setLogLevel:function U0(i){!function xd(i){eo.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Fv(i){(function kv(i,e){i.INTERNAL.registerComponent(new dt.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(s,a)},"PUBLIC").setServiceProps(Object.assign({},Nv)))})(i,(e,t)=>new Av(e,t,new B0)),i.registerVersion("@firebase/firestore-compat","0.3.12")}(Ge.Z);var Bh=k(1205),Lv=k(1432),vp=k(1274);function Bv(i,e){return function $0(i,e=h.z){return new K.y(t=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},t)}):s=i.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(i,e)}function Uv(i,e){return Bv(i,e).pipe((0,ye.U)(t=>({payload:t,type:"query"})))}function Ag(i,e){return Uv(i,e).pipe((0,Pe.O)(void 0),De(),(0,ye.U)(([t,s])=>{const a=s.payload.docChanges(),g=a.map(D=>({type:D.type,payload:D}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((D,U)=>{const ne=a.find(Oe=>Oe.doc.ref.isEqual(D.ref)),le=t?.payload.docs.find(Oe=>Oe.ref.isEqual(D.ref));ne&&JSON.stringify(ne.doc.metadata)===JSON.stringify(D.metadata)||!ne&&le&&JSON.stringify(le.metadata)===JSON.stringify(D.metadata)||g.push({type:"modified",payload:{oldIndex:U,newIndex:U,type:"modified",doc:D}})}),g}))}function V0(i,e,t){return Ag(i,t).pipe((0,we.R)((s,a)=>function $v(i,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(i=function RE(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return My(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return My(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return My(i,e.oldIndex,1)}return i}(i,s))}),i}(s,a.map(g=>g.payload),e),[]),(0,Ve.x)(),(0,ye.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function My(i,e,t,...s){const a=i.slice();return a.splice(e,t,...s),a}function ki(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Vv{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Ag(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ye.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,Pe.O)(void 0),De(),(0,je.h)(([s,a])=>a.length>0||!s),(0,ye.U)(([s,a])=>a),me.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,we.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=ki(e);return V0(this.query,t,this.afs.schedulers.outsideAngular).pipe(me.iC)}valueChanges(e={}){return Uv(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),me.iC)}get(e){return(0,P.D)(this.query.get(e)).pipe(me.iC)}add(e){return this.ref.add(e)}doc(e){return new Hv(this.ref.doc(e),this.afs)}}class Hv{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:g}=$a(s,t);return new Vv(a,g,this.afs)}snapshotChanges(){return function Sg(i,e){return Bv(i,e).pipe((0,Pe.O)(void 0),De(),(0,ye.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(me.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ye.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,P.D)(this.ref.get(e)).pipe(me.iC)}}class H0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Ag(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,je.h)(t=>t.length>0),me.iC):Ag(this.query,this.afs.schedulers.outsideAngular).pipe(me.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,we.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=ki(e);return V0(this.query,t,this.afs.schedulers.outsideAngular).pipe(me.iC)}valueChanges(e={}){return Uv(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),me.iC)}get(e){return(0,P.D)(this.query.get(e)).pipe(me.iC)}}const Ep=new y.OlP("angularfire2.enableFirestorePersistence"),jv=new y.OlP("angularfire2.firestore.persistenceSettings"),Py=new y.OlP("angularfire2.firestore.settings"),Ry=new y.OlP("angularfire2.firestore.use-emulator");function $a(i,e=(t=>t)){return{query:e(i),ref:i}}let j0=(()=>{class i{constructor(t,s,a,g,D,U,ne,le,Oe,_t,un,Cn,ir,Br,zr,vs,Ls){this.schedulers=ne;const ts=(0,at.on)(t,U,s),Va=Oe;_t&&(0,Bh.nw)(ts,U,un,ir,Br,zr,Cn,vs),[this.firestore,this.persistenceEnabled$]=(0,at.cc)(`${ts.name}.firestore`,"AngularFirestore",ts.name,()=>{const pa=U.runOutsideAngular(()=>ts.firestore());if(g&&pa.settings(g),Va&&pa.useEmulator(...Va),a&&!(0,Mt.PM)(D)){const ua=()=>{try{return(0,P.D)(pa.enablePersistence(le||void 0).then(()=>!0,()=>!1))}catch(il){return typeof console<"u"&&console.warn(il),(0,Te.of)(!1)}};return[pa,U.runOutsideAngular(ua)]}return[pa,(0,Te.of)(!1)]},[g,Va,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:g,query:D}=$a(a,s),U=this.schedulers.ngZone.run(()=>g);return new Vv(U,D,this)}collectionGroup(t,s){const a=s||(D=>D),g=this.firestore.collectionGroup(t);return new H0(a(g),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new Hv(a,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(at.Dh),y.LFG(at.xv,8),y.LFG(Ep,8),y.LFG(Py,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(me.HU),y.LFG(jv,8),y.LFG(Ry,8),y.LFG(Bh.zQ,8),y.LFG(Bh.Qv,8),y.LFG(Bh.L6,8),y.LFG(Bh._Q,8),y.LFG(Bh.rT,8),y.LFG(Bh.lh,8),y.LFG(Bh.f7,8),y.LFG(Lv.nm,8))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),zv=(()=>{class i{constructor(){vp.Z.registerVersion("angularfire",me.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Ep,useValue:!0},{provide:jv,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({providers:[j0]}),i})()},2011:(xn,bt,k)=>{"use strict";k.d(bt,{Dh:()=>Xe,GT:()=>me,cc:()=>je,hO:()=>Ve,on:()=>De,pX:()=>Te,xv:()=>j});var y=k(2223),h=k(1274),K=k(2088);xn=k.hmd(xn);const P=["ngOnDestroy"],Te=(Ge,_e,mt,dt={})=>new Proxy(Ge,{get:(vt,pt)=>mt.runOutsideAngular(()=>{var Dt;if(Ge[pt])return!(null===(Dt=dt?.spy)||void 0===Dt)&&Dt.get&&dt.spy.get(pt,Ge[pt]),Ge[pt];if(P.indexOf(pt)>-1)return()=>{};const We=_e.toPromise().then(be=>{const $t=be&&be[pt];return"function"==typeof $t?$t.bind(be):$t&&$t.then?$t.then(tt=>mt.run(()=>tt)):mt.run(()=>$t)});return new Proxy(()=>{},{get:(be,$t)=>We[$t],apply:(be,$t,tt)=>We.then(Ft=>{var zt;const Vt=Ft&&Ft(...tt);return!(null===(zt=dt?.spy)||void 0===zt)&&zt.apply&&dt.spy.apply(pt,tt,Vt),Vt})})})}),me=(Ge,_e)=>{_e.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(dt=>{Object.defineProperty(Ge.prototype,dt,Object.getOwnPropertyDescriptor(mt.prototype||mt,dt))})})};class Pe{constructor(_e){return _e}}const Xe=new y.OlP("angularfire2.app.options"),j=new y.OlP("angularfire2.app.name");function De(Ge,_e,mt){const vt="object"==typeof mt&&mt||{};vt.name=vt.name||"string"==typeof mt&&mt||"[DEFAULT]";const Dt=h.Z.apps.filter(We=>We&&We.name===vt.name)[0]||_e.runOutsideAngular(()=>h.Z.initializeApp(Ge,vt));try{JSON.stringify(Ge)!==JSON.stringify(Dt.options)&&ye("error",`${Dt.name} Firebase App already initialized with different options${xn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Pe(Dt)}const ye=(Ge,..._e)=>{(0,y.X6Q)()&&typeof console<"u"&&console[Ge](..._e)},we={provide:Pe,useFactory:De,deps:[Xe,y.R0b,[new y.FiY,j]]};let Ve=(()=>{class Ge{constructor(mt){h.Z.registerVersion("angularfire",K.q4.full,"core"),h.Z.registerVersion("angularfire",K.q4.full,"app-compat"),h.Z.registerVersion("angular",y.q4F.full,mt.toString())}static initializeApp(mt,dt){return{ngModule:Ge,providers:[{provide:Xe,useValue:mt},{provide:j,useValue:dt}]}}}return Ge.\u0275fac=function(mt){return new(mt||Ge)(y.LFG(y.Lbi))},Ge.\u0275mod=y.oAB({type:Ge}),Ge.\u0275inj=y.cJS({providers:[we]}),Ge})();function je(Ge,_e,mt,dt,vt){const[,pt,Dt]=globalThis.\u0275AngularfireInstanceCache.find(We=>We[0]===Ge)||[];if(pt)return function at(Ge,_e){try{return Ge.toString()===_e.toString()}catch{return Ge===_e}}(vt,Dt)||(ze("error",`${_e} was already initialized on the ${mt} Firebase App with different settings.${Mt?" You may need to reload as Firebase is not HMR aware.":""}`),ze("warn",{is:vt,was:Dt})),pt;{const We=dt();return globalThis.\u0275AngularfireInstanceCache.push([Ge,We,vt]),We}}const Mt=!!xn.hot,ze=(Ge,..._e)=>{(0,y.X6Q)()&&typeof console<"u"&&console[Ge](..._e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7054:(xn,bt,k)=>{"use strict";k.d(bt,{oq:()=>mt,Jt:()=>pt,cF:()=>We,iH:()=>Ft,sf:()=>Et});var y=k(2088),Te=(k(2223),k(3692),k(8140),k(9362));const mt=(0,y.u3)(Te.oq,!0),pt=(0,y.u3)(Te.Jt,!0),We=(0,y.u3)(Te.cF,!0),Ft=(0,y.u3)(Te.iH,!0),Et=(0,y.u3)(Te.sf,!0)},2088:(xn,bt,k)=>{"use strict";k.d(bt,{q4:()=>Ps,iC:()=>fl,fc:()=>Ru,HU:()=>xa,vb:()=>Aa,JM:()=>Ol,u3:()=>Ci});var y=k(2223),h=k(8140),K=k(5861),P=k(5752),Te=k(5578),me=k(1617),Pe=k(1877);const Xe=(F,W)=>W.some(de=>F instanceof de);let j,De;const Ve=new WeakMap,je=new WeakMap,at=new WeakMap,Mt=new WeakMap,ze=new WeakMap;let mt={get(F,W,de){if(F instanceof IDBTransaction){if("done"===W)return je.get(F);if("objectStoreNames"===W)return F.objectStoreNames||at.get(F);if("store"===W)return de.objectStoreNames[1]?void 0:de.objectStore(de.objectStoreNames[0])}return Dt(F[W])},set:(F,W,de)=>(F[W]=de,!0),has:(F,W)=>F instanceof IDBTransaction&&("done"===W||"store"===W)||W in F};function pt(F){return"function"==typeof F?function vt(F){return F!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(F)?function(...W){return F.apply(We(this),W),Dt(Ve.get(this))}:function(...W){return Dt(F.apply(We(this),W))}:function(W,...de){const et=F.call(We(this),W,...de);return at.set(et,W.sort?W.sort():[W]),Dt(et)}}(F):(F instanceof IDBTransaction&&function _e(F){if(je.has(F))return;const W=new Promise((de,et)=>{const Rt=()=>{F.removeEventListener("complete",Qt),F.removeEventListener("error",fn),F.removeEventListener("abort",fn)},Qt=()=>{de(),Rt()},fn=()=>{et(F.error||new DOMException("AbortError","AbortError")),Rt()};F.addEventListener("complete",Qt),F.addEventListener("error",fn),F.addEventListener("abort",fn)});je.set(F,W)}(F),Xe(F,function ye(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(F,mt):F)}function Dt(F){if(F instanceof IDBRequest)return function Ge(F){const W=new Promise((de,et)=>{const Rt=()=>{F.removeEventListener("success",Qt),F.removeEventListener("error",fn)},Qt=()=>{de(Dt(F.result)),Rt()},fn=()=>{et(F.error),Rt()};F.addEventListener("success",Qt),F.addEventListener("error",fn)});return W.then(de=>{de instanceof IDBCursor&&Ve.set(de,F)}).catch(()=>{}),ze.set(W,F),W}(F);if(Mt.has(F))return Mt.get(F);const W=pt(F);return W!==F&&(Mt.set(F,W),ze.set(W,F)),W}const We=F=>ze.get(F),tt=["get","getKey","getAll","getAllKeys","count"],Ft=["put","add","delete","clear"],zt=new Map;function Vt(F,W){if(!(F instanceof IDBDatabase)||W in F||"string"!=typeof W)return;if(zt.get(W))return zt.get(W);const de=W.replace(/FromIndex$/,""),et=W!==de,Rt=Ft.includes(de);if(!(de in(et?IDBIndex:IDBObjectStore).prototype)||!Rt&&!tt.includes(de))return;const Qt=function(){var fn=(0,K.Z)(function*(pr,...ur){const Hr=this.transaction(pr,Rt?"readwrite":"readonly");let wi=Hr.store;return et&&(wi=wi.index(ur.shift())),(yield Promise.all([wi[de](...ur),Rt&&Hr.done]))[0]});return function(ur){return fn.apply(this,arguments)}}();return zt.set(W,Qt),Qt}!function dt(F){mt=F(mt)}(F=>({...F,get:(W,de,et)=>Vt(W,de)||F.get(W,de,et),has:(W,de)=>!!Vt(W,de)||F.has(W,de)}));const Sn="@firebase/installations",Et="0.6.4",st=1e4,Ye=`w:${Et}`,Ue="FIS_v2",Qe="https://firebaseinstallations.googleapis.com/v1",ut=36e5,mn=new Te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function On(F){return F instanceof Te.ZR&&F.code.includes("request-failed")}function St({projectId:F}){return`${Qe}/projects/${F}/installations`}function hn(F){return{token:F.token,requestStatus:2,expiresIn:Xn(F.expiresIn),creationTime:Date.now()}}function Yt(F,W){return ct.apply(this,arguments)}function ct(){return(ct=(0,K.Z)(function*(F,W){const et=(yield W.json()).error;return mn.create("request-failed",{requestName:F,serverCode:et.code,serverMessage:et.message,serverStatus:et.status})})).apply(this,arguments)}function Xt({apiKey:F}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F})}function Kt(F){return kn.apply(this,arguments)}function kn(){return(kn=(0,K.Z)(function*(F){const W=yield F();return W.status>=500&&W.status<600?F():W})).apply(this,arguments)}function Xn(F){return Number(F.replace("s","000"))}function bn(){return(bn=(0,K.Z)(function*({appConfig:F,heartbeatServiceProvider:W},{fid:de}){const et=St(F),Rt=Xt(F),Qt=W.getImmediate({optional:!0});if(Qt){const Hr=yield Qt.getHeartbeatsHeader();Hr&&Rt.append("x-firebase-client",Hr)}const pr={method:"POST",headers:Rt,body:JSON.stringify({fid:de,authVersion:Ue,appId:F.appId,sdkVersion:Ye})},ur=yield Kt(()=>fetch(et,pr));if(ur.ok){const Hr=yield ur.json();return{fid:Hr.fid||de,registrationStatus:2,refreshToken:Hr.refreshToken,authToken:hn(Hr.authToken)}}throw yield Yt("Create Installation",ur)})).apply(this,arguments)}function Jn(F){return new Promise(W=>{setTimeout(W,F)})}const Er=/^[cdef][\w-]{21}$/,Ht="";function vn(){try{const F=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(F),F[0]=112+F[0]%16;const de=function ge(F){return function Qr(F){return btoa(String.fromCharCode(...F)).replace(/\+/g,"-").replace(/\//g,"_")}(F).substr(0,22)}(F);return Er.test(de)?de:Ht}catch{return Ht}}function ht(F){return`${F.appName}!${F.appId}`}const Ot=new Map;function Wn(F,W){const de=ht(F);ei(de,W),function qr(F,W){const de=function Un(){return!xr&&"BroadcastChannel"in self&&(xr=new BroadcastChannel("[Firebase] FID Change"),xr.onmessage=F=>{ei(F.data.key,F.data.fid)}),xr}();de&&de.postMessage({key:F,fid:W}),function Xr(){0===Ot.size&&xr&&(xr.close(),xr=null)}()}(de,W)}function ei(F,W){const de=Ot.get(F);if(de)for(const et of de)et(W)}let xr=null;const Qi="firebase-installations-database",Mi=1,Pi="firebase-installations-store";let jr=null;function Le(){return jr||(jr=function be(F,W,{blocked:de,upgrade:et,blocking:Rt,terminated:Qt}={}){const fn=indexedDB.open(F,W),pr=Dt(fn);return et&&fn.addEventListener("upgradeneeded",ur=>{et(Dt(fn.result),ur.oldVersion,ur.newVersion,Dt(fn.transaction))}),de&&fn.addEventListener("blocked",()=>de()),pr.then(ur=>{Qt&&ur.addEventListener("close",()=>Qt()),Rt&&ur.addEventListener("versionchange",()=>Rt())}).catch(()=>{}),pr}(Qi,Mi,{upgrade:(F,W)=>{0===W&&F.createObjectStore(Pi)}})),jr}function Ti(F,W){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,K.Z)(function*(F,W){const de=ht(F),Rt=(yield Le()).transaction(Pi,"readwrite"),Qt=Rt.objectStore(Pi),fn=yield Qt.get(de);return yield Qt.put(W,de),yield Rt.done,(!fn||fn.fid!==W.fid)&&Wn(F,W.fid),W})).apply(this,arguments)}function ai(F){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,K.Z)(function*(F){const W=ht(F),et=(yield Le()).transaction(Pi,"readwrite");yield et.objectStore(Pi).delete(W),yield et.done})).apply(this,arguments)}function ti(F,W){return ui.apply(this,arguments)}function ui(){return(ui=(0,K.Z)(function*(F,W){const de=ht(F),Rt=(yield Le()).transaction(Pi,"readwrite"),Qt=Rt.objectStore(Pi),fn=yield Qt.get(de),pr=W(fn);return void 0===pr?yield Qt.delete(de):yield Qt.put(pr,de),yield Rt.done,pr&&(!fn||fn.fid!==pr.fid)&&Wn(F,pr.fid),pr})).apply(this,arguments)}function lt(F){return Ee.apply(this,arguments)}function Ee(){return Ee=(0,K.Z)(function*(F){let W;const de=yield ti(F.appConfig,et=>{const Rt=function te(F){return It(F||{fid:vn(),registrationStatus:0})}(et),Qt=function q(F,W){if(0===W.registrationStatus){if(!navigator.onLine)return{installationEntry:W,registrationPromise:Promise.reject(mn.create("app-offline"))};const de={fid:W.fid,registrationStatus:1,registrationTime:Date.now()},et=function X(F,W){return $e.apply(this,arguments)}(F,de);return{installationEntry:de,registrationPromise:et}}return 1===W.registrationStatus?{installationEntry:W,registrationPromise:Se(F)}:{installationEntry:W}}(F,Rt);return W=Qt.registrationPromise,Qt.installationEntry});return de.fid===Ht?{installationEntry:yield W}:{installationEntry:de,registrationPromise:W}}),Ee.apply(this,arguments)}function $e(){return $e=(0,K.Z)(function*(F,W){try{const de=yield function cr(F,W){return bn.apply(this,arguments)}(F,W);return Ti(F.appConfig,de)}catch(de){throw On(de)&&409===de.customData.serverCode?yield ai(F.appConfig):yield Ti(F.appConfig,{fid:W.fid,registrationStatus:0}),de}}),$e.apply(this,arguments)}function Se(F){return ve.apply(this,arguments)}function ve(){return(ve=(0,K.Z)(function*(F){let W=yield Ke(F.appConfig);for(;1===W.registrationStatus;)yield Jn(100),W=yield Ke(F.appConfig);if(0===W.registrationStatus){const{installationEntry:de,registrationPromise:et}=yield lt(F);return et||de}return W})).apply(this,arguments)}function Ke(F){return ti(F,W=>{if(!W)throw mn.create("installation-not-found");return It(W)})}function It(F){return function sn(F){return 1===F.registrationStatus&&F.registrationTime+st<Date.now()}(F)?{fid:F.fid,registrationStatus:0}:F}function Dn(){return(Dn=(0,K.Z)(function*({appConfig:F,heartbeatServiceProvider:W},de){const et=function rr(F,{fid:W}){return`${St(F)}/${W}/authTokens:generate`}(F,de),Rt=function Tt(F,{refreshToken:W}){const de=Xt(F);return de.append("Authorization",function lr(F){return`${Ue} ${F}`}(W)),de}(F,de),Qt=W.getImmediate({optional:!0});if(Qt){const Hr=yield Qt.getHeartbeatsHeader();Hr&&Rt.append("x-firebase-client",Hr)}const pr={method:"POST",headers:Rt,body:JSON.stringify({installation:{sdkVersion:Ye,appId:F.appId}})},ur=yield Kt(()=>fetch(et,pr));if(ur.ok)return hn(yield ur.json());throw yield Yt("Generate Auth Token",ur)})).apply(this,arguments)}function nr(F){return Or.apply(this,arguments)}function Or(){return Or=(0,K.Z)(function*(F,W=!1){let de;const et=yield ti(F.appConfig,Qt=>{if(!mr(Qt))throw mn.create("not-registered");const fn=Qt.authToken;if(!W&&function Fr(F){return 2===F.requestStatus&&!function _i(F){const W=Date.now();return W<F.creationTime||F.creationTime+F.expiresIn<W+ut}(F)}(fn))return Qt;if(1===fn.requestStatus)return de=function an(F,W){return Bt.apply(this,arguments)}(F,W),Qt;{if(!navigator.onLine)throw mn.create("app-offline");const pr=function Sr(F){const W={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},F),{authToken:W})}(Qt);return de=function Kn(F,W){return dr.apply(this,arguments)}(F,pr),pr}});return de?yield de:et.authToken}),Or.apply(this,arguments)}function Bt(){return(Bt=(0,K.Z)(function*(F,W){let de=yield gn(F.appConfig);for(;1===de.authToken.requestStatus;)yield Jn(100),de=yield gn(F.appConfig);const et=de.authToken;return 0===et.requestStatus?nr(F,W):et})).apply(this,arguments)}function gn(F){return ti(F,W=>{if(!mr(W))throw mn.create("not-registered");return function er(F){return 1===F.requestStatus&&F.requestTime+st<Date.now()}(W.authToken)?Object.assign(Object.assign({},W),{authToken:{requestStatus:0}}):W})}function dr(){return dr=(0,K.Z)(function*(F,W){try{const de=yield function tn(F,W){return Dn.apply(this,arguments)}(F,W),et=Object.assign(Object.assign({},W),{authToken:de});return yield Ti(F.appConfig,et),de}catch(de){if(!On(de)||401!==de.customData.serverCode&&404!==de.customData.serverCode){const et=Object.assign(Object.assign({},W),{authToken:{requestStatus:0}});yield Ti(F.appConfig,et)}else yield ai(F.appConfig);throw de}}),dr.apply(this,arguments)}function mr(F){return void 0!==F&&2===F.registrationStatus}function Bs(){return(Bs=(0,K.Z)(function*(F){const W=F,{installationEntry:de,registrationPromise:et}=yield lt(W);return et?et.catch(console.error):nr(W).catch(console.error),de.fid})).apply(this,arguments)}function Z(){return Z=(0,K.Z)(function*(F,W=!1){const de=F;return yield function wt(F){return J.apply(this,arguments)}(de),(yield nr(de,W)).token}),Z.apply(this,arguments)}function J(){return(J=(0,K.Z)(function*(F){const{registrationPromise:W}=yield lt(F);W&&(yield W)})).apply(this,arguments)}function se(F){return mn.create("missing-app-config-values",{valueName:F})}const Ae="installations",He=F=>{const W=F.getProvider("app").getImmediate(),de=function ee(F){if(!F||!F.options)throw se("App Configuration");if(!F.name)throw se("App Name");const W=["projectId","apiKey","appId"];for(const de of W)if(!F.options[de])throw se(de);return{appName:F.name,projectId:F.options.projectId,apiKey:F.options.apiKey,appId:F.options.appId}}(W);return{app:W,appConfig:de,heartbeatServiceProvider:(0,P._getProvider)(W,"heartbeat"),_delete:()=>Promise.resolve()}},Ze=F=>{const W=F.getProvider("app").getImmediate(),de=(0,P._getProvider)(W,Ae).getImmediate();return{getId:()=>function Dr(F){return Bs.apply(this,arguments)}(de),getToken:Rt=>function hi(F){return Z.apply(this,arguments)}(de,Rt)}};(function xt(){(0,P._registerComponent)(new me.wA(Ae,He,"PUBLIC")),(0,P._registerComponent)(new me.wA("installations-internal",Ze,"PRIVATE"))})(),(0,P.registerVersion)(Sn,Et),(0,P.registerVersion)(Sn,Et,"esm2017");const Lt="@firebase/remote-config",wr=new Te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Mo{constructor(W,de,et,Rt){this.client=W,this.storage=de,this.storageCache=et,this.logger=Rt}isCachedDataFresh(W,de){if(!de)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const et=Date.now()-de,Rt=et<=W;return this.logger.debug(`Config fetch cache check. Cache age millis: ${et}. Cache max age millis (minimumFetchIntervalMillis setting): ${W}. Is cache hit: ${Rt}.`),Rt}fetch(W){var de=this;return(0,K.Z)(function*(){const[et,Rt]=yield Promise.all([de.storage.getLastSuccessfulFetchTimestampMillis(),de.storage.getLastSuccessfulFetchResponse()]);if(Rt&&de.isCachedDataFresh(W.cacheMaxAgeMillis,et))return Rt;W.eTag=Rt&&Rt.eTag;const Qt=yield de.client.fetch(W),fn=[de.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Qt.status&&fn.push(de.storage.setLastSuccessfulFetchResponse(Qt)),yield Promise.all(fn),Qt})()}}function ro(F=navigator){return F.languages&&F.languages[0]||F.language}class ri{constructor(W,de,et,Rt,Qt,fn){this.firebaseInstallations=W,this.sdkVersion=de,this.namespace=et,this.projectId=Rt,this.apiKey=Qt,this.appId=fn}fetch(W){var de=this;return(0,K.Z)(function*(){const[et,Rt]=yield Promise.all([de.firebaseInstallations.getId(),de.firebaseInstallations.getToken()]),fn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${de.projectId}/namespaces/${de.namespace}:fetch?key=${de.apiKey}`,pr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":W.eTag||"*"},ur={sdk_version:de.sdkVersion,app_instance_id:et,app_instance_id_token:Rt,app_id:de.appId,language_code:ro()},Hr={method:"POST",headers:pr,body:JSON.stringify(ur)},wi=fetch(fn,Hr),di=new Promise((Ba,Yo)=>{W.signal.addEventListener(()=>{const Wa=new Error("The operation was aborted.");Wa.name="AbortError",Yo(Wa)})});let qi;try{yield Promise.race([wi,di]),qi=yield wi}catch(Ba){let Yo="fetch-client-network";throw"AbortError"===Ba?.name&&(Yo="fetch-timeout"),wr.create(Yo,{originalErrorMessage:Ba?.message})}let fo=qi.status;const Cs=qi.headers.get("ETag")||void 0;let Pa,au;if(200===qi.status){let Ba;try{Ba=yield qi.json()}catch(Yo){throw wr.create("fetch-client-parse",{originalErrorMessage:Yo?.message})}Pa=Ba.entries,au=Ba.state}if("INSTANCE_STATE_UNSPECIFIED"===au?fo=500:"NO_CHANGE"===au?fo=304:("NO_TEMPLATE"===au||"EMPTY_CONFIG"===au)&&(Pa={}),304!==fo&&200!==fo)throw wr.create("fetch-status",{httpStatus:fo});return{status:fo,eTag:Cs,config:Pa}})()}}class Po{constructor(W,de){this.client=W,this.storage=de}fetch(W){var de=this;return(0,K.Z)(function*(){const et=(yield de.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return de.attemptFetch(W,et)})()}attemptFetch(W,{throttleEndTimeMillis:de,backoffCount:et}){var Rt=this;return(0,K.Z)(function*(){yield function vi(F,W){return new Promise((de,et)=>{const Rt=Math.max(W-Date.now(),0),Qt=setTimeout(de,Rt);F.addEventListener(()=>{clearTimeout(Qt),et(wr.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(W.signal,de);try{const Qt=yield Rt.client.fetch(W);return yield Rt.storage.deleteThrottleMetadata(),Qt}catch(Qt){if(!function Oa(F){if(!(F instanceof Te.ZR&&F.customData))return!1;const W=Number(F.customData.httpStatus);return 429===W||500===W||503===W||504===W}(Qt))throw Qt;const fn={throttleEndTimeMillis:Date.now()+(0,Te.$s)(et),backoffCount:et+1};return yield Rt.storage.setThrottleMetadata(fn),Rt.attemptFetch(W,fn)}})()}}class ea{constructor(W,de,et,Rt,Qt){this.app=W,this._client=de,this._storageCache=et,this._storage=Rt,this._logger=Qt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Yr(F,W){const de=F.target.error||void 0;return wr.create(W,{originalErrorMessage:de&&de?.message})}const go="app_namespace_store";class ce{constructor(W,de,et,Rt=function Ce(){return new Promise((F,W)=>{try{const de=indexedDB.open("firebase_remote_config",1);de.onerror=et=>{W(Yr(et,"storage-open"))},de.onsuccess=et=>{F(et.target.result)},de.onupgradeneeded=et=>{0===et.oldVersion&&et.target.result.createObjectStore(go,{keyPath:"compositeKey"})}}catch(de){W(wr.create("storage-open",{originalErrorMessage:de?.message}))}})}()){this.appId=W,this.appName=de,this.namespace=et,this.openDbPromise=Rt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(W){return this.set("last_fetch_status",W)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(W){return this.set("last_successful_fetch_timestamp_millis",W)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(W){return this.set("last_successful_fetch_response",W)}getActiveConfig(){return this.get("active_config")}setActiveConfig(W){return this.set("active_config",W)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(W){return this.set("active_config_etag",W)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(W){return this.set("throttle_metadata",W)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(W){var de=this;return(0,K.Z)(function*(){const et=yield de.openDbPromise;return new Promise((Rt,Qt)=>{const pr=et.transaction([go],"readonly").objectStore(go),ur=de.createCompositeKey(W);try{const Hr=pr.get(ur);Hr.onerror=wi=>{Qt(Yr(wi,"storage-get"))},Hr.onsuccess=wi=>{const di=wi.target.result;Rt(di?di.value:void 0)}}catch(Hr){Qt(wr.create("storage-get",{originalErrorMessage:Hr?.message}))}})})()}set(W,de){var et=this;return(0,K.Z)(function*(){const Rt=yield et.openDbPromise;return new Promise((Qt,fn)=>{const ur=Rt.transaction([go],"readwrite").objectStore(go),Hr=et.createCompositeKey(W);try{const wi=ur.put({compositeKey:Hr,value:de});wi.onerror=di=>{fn(Yr(di,"storage-set"))},wi.onsuccess=()=>{Qt()}}catch(wi){fn(wr.create("storage-set",{originalErrorMessage:wi?.message}))}})})()}delete(W){var de=this;return(0,K.Z)(function*(){const et=yield de.openDbPromise;return new Promise((Rt,Qt)=>{const pr=et.transaction([go],"readwrite").objectStore(go),ur=de.createCompositeKey(W);try{const Hr=pr.delete(ur);Hr.onerror=wi=>{Qt(Yr(wi,"storage-delete"))},Hr.onsuccess=()=>{Rt()}}catch(Hr){Qt(wr.create("storage-delete",{originalErrorMessage:Hr?.message}))}})})()}createCompositeKey(W){return[this.appId,this.appName,this.namespace,W].join()}}class nt{constructor(W){this.storage=W}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var W=this;return(0,K.Z)(function*(){const de=W.storage.getLastFetchStatus(),et=W.storage.getLastSuccessfulFetchTimestampMillis(),Rt=W.storage.getActiveConfig(),Qt=yield de;Qt&&(W.lastFetchStatus=Qt);const fn=yield et;fn&&(W.lastSuccessfulFetchTimestampMillis=fn);const pr=yield Rt;pr&&(W.activeConfig=pr)})()}setLastFetchStatus(W){return this.lastFetchStatus=W,this.storage.setLastFetchStatus(W)}setLastSuccessfulFetchTimestampMillis(W){return this.lastSuccessfulFetchTimestampMillis=W,this.storage.setLastSuccessfulFetchTimestampMillis(W)}setActiveConfig(W){return this.activeConfig=W,this.storage.setActiveConfig(W)}}function $n(){return hr.apply(this,arguments)}function hr(){return(hr=(0,K.Z)(function*(){if(!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}!function gt(){(0,P._registerComponent)(new me.wA("remote-config",function F(W,{instanceIdentifier:de}){const et=W.getProvider("app").getImmediate(),Rt=W.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wr.create("registration-window");if(!(0,Te.hl)())throw wr.create("indexed-db-unavailable");const{projectId:Qt,apiKey:fn,appId:pr}=et.options;if(!Qt)throw wr.create("registration-project-id");if(!fn)throw wr.create("registration-api-key");if(!pr)throw wr.create("registration-app-id");const ur=new ce(pr,et.name,de=de||"firebase"),Hr=new nt(ur),wi=new Pe.Yd(Lt);wi.logLevel=Pe.in.ERROR;const di=new ri(Rt,P.SDK_VERSION,de,Qt,fn,pr),qi=new Po(di,ur),fo=new Mo(qi,ur,Hr,wi),Cs=new ea(et,fo,Hr,ur,wi);return function $s(F){const W=(0,Te.m9)(F);W._initializePromise||(W._initializePromise=W._storageCache.loadFromStorage().then(()=>{W._isInitializationComplete=!0}))}(Cs),Cs},"PUBLIC").setMultipleInstances(!0)),(0,P.registerVersion)(Lt,"0.4.4"),(0,P.registerVersion)(Lt,"0.4.4","esm2017")}();const fr=(F,W)=>W.some(de=>F instanceof de);let Gr,mi;const Oi=new WeakMap,Ns=new WeakMap,ji=new WeakMap,Si=new WeakMap,Vs=new WeakMap;let Xi={get(F,W,de){if(F instanceof IDBTransaction){if("done"===W)return Ns.get(F);if("objectStoreNames"===W)return F.objectStoreNames||ji.get(F);if("store"===W)return de.objectStoreNames[1]?void 0:de.objectStore(de.objectStoreNames[0])}return ms(F[W])},set:(F,W,de)=>(F[W]=de,!0),has:(F,W)=>F instanceof IDBTransaction&&("done"===W||"store"===W)||W in F};function li(F){return"function"==typeof F?function xi(F){return F!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function rs(){return mi||(mi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(F)?function(...W){return F.apply(Ni(this),W),ms(Oi.get(this))}:function(...W){return ms(F.apply(Ni(this),W))}:function(W,...de){const et=F.call(Ni(this),W,...de);return ji.set(et,W.sort?W.sort():[W]),ms(et)}}(F):(F instanceof IDBTransaction&&function fi(F){if(Ns.has(F))return;const W=new Promise((de,et)=>{const Rt=()=>{F.removeEventListener("complete",Qt),F.removeEventListener("error",fn),F.removeEventListener("abort",fn)},Qt=()=>{de(),Rt()},fn=()=>{et(F.error||new DOMException("AbortError","AbortError")),Rt()};F.addEventListener("complete",Qt),F.addEventListener("error",fn),F.addEventListener("abort",fn)});Ns.set(F,W)}(F),fr(F,function ii(){return Gr||(Gr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(F,Xi):F)}function ms(F){if(F instanceof IDBRequest)return function ls(F){const W=new Promise((de,et)=>{const Rt=()=>{F.removeEventListener("success",Qt),F.removeEventListener("error",fn)},Qt=()=>{de(ms(F.result)),Rt()},fn=()=>{et(F.error),Rt()};F.addEventListener("success",Qt),F.addEventListener("error",fn)});return W.then(de=>{de instanceof IDBCursor&&Oi.set(de,F)}).catch(()=>{}),Vs.set(W,F),W}(F);if(Si.has(F))return Si.get(F);const W=li(F);return W!==F&&(Si.set(F,W),Vs.set(W,F)),W}const Ni=F=>Vs.get(F);function Za(F,W,{blocked:de,upgrade:et,blocking:Rt,terminated:Qt}={}){const fn=indexedDB.open(F,W),pr=ms(fn);return et&&fn.addEventListener("upgradeneeded",ur=>{et(ms(fn.result),ur.oldVersion,ur.newVersion,ms(fn.transaction))}),de&&fn.addEventListener("blocked",()=>de()),pr.then(ur=>{Qt&&ur.addEventListener("close",()=>Qt()),Rt&&ur.addEventListener("versionchange",()=>Rt())}).catch(()=>{}),pr}function Du(F,{blocked:W}={}){const de=indexedDB.deleteDatabase(F);return W&&de.addEventListener("blocked",()=>W()),ms(de).then(()=>{})}const Uo=["get","getKey","getAll","getAllKeys","count"],Ro=["put","add","delete","clear"],xs=new Map;function pi(F,W){if(!(F instanceof IDBDatabase)||W in F||"string"!=typeof W)return;if(xs.get(W))return xs.get(W);const de=W.replace(/FromIndex$/,""),et=W!==de,Rt=Ro.includes(de);if(!(de in(et?IDBIndex:IDBObjectStore).prototype)||!Rt&&!Uo.includes(de))return;const Qt=function(){var fn=(0,K.Z)(function*(pr,...ur){const Hr=this.transaction(pr,Rt?"readwrite":"readonly");let wi=Hr.store;return et&&(wi=wi.index(ur.shift())),(yield Promise.all([wi[de](...ur),Rt&&Hr.done]))[0]});return function(ur){return fn.apply(this,arguments)}}();return xs.set(W,Qt),Qt}!function Ai(F){Xi=F(Xi)}(F=>({...F,get:(W,de,et)=>pi(W,de)||F.get(W,de,et),has:(W,de)=>!!pi(W,de)||F.has(W,de)}));const Es="/firebase-messaging-sw.js",la="/firebase-cloud-messaging-push-scope",$o="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bo="https://fcmregistrations.googleapis.com/v1",T="google.c.a.c_id",ie="google.c.a.c_l",x="google.c.a.ts";var L=(()=>((L=L||{}).PUSH_RECEIVED="push-received",L.NOTIFICATION_CLICKED="notification-clicked",L))();function fe(F){const W=new Uint8Array(F);return btoa(String.fromCharCode(...W)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Nt(F){const de=(F+"=".repeat((4-F.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),et=atob(de),Rt=new Uint8Array(et.length);for(let Qt=0;Qt<et.length;++Qt)Rt[Qt]=et.charCodeAt(Qt);return Rt}const wn="fcm_token_details_db",Zr=5,Ii="fcm_token_object_Store";function Vo(){return Vo=(0,K.Z)(function*(F){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Qt=>Qt.name).includes(wn))return null;let W=null;return(yield Za(wn,Zr,{upgrade:(et=(0,K.Z)(function*(Rt,Qt,fn,pr){var ur;if(Qt<2||!Rt.objectStoreNames.contains(Ii))return;const Hr=pr.objectStore(Ii),wi=yield Hr.index("fcmSenderId").get(F);if(yield Hr.clear(),wi)if(2===Qt){const di=wi;if(!di.auth||!di.p256dh||!di.endpoint)return;W={token:di.fcmToken,createTime:null!==(ur=di.createTime)&&void 0!==ur?ur:Date.now(),subscriptionOptions:{auth:di.auth,p256dh:di.p256dh,endpoint:di.endpoint,swScope:di.swScope,vapidKey:"string"==typeof di.vapidKey?di.vapidKey:fe(di.vapidKey)}}}else if(3===Qt){const di=wi;W={token:di.fcmToken,createTime:di.createTime,subscriptionOptions:{auth:fe(di.auth),p256dh:fe(di.p256dh),endpoint:di.endpoint,swScope:di.swScope,vapidKey:fe(di.vapidKey)}}}else if(4===Qt){const di=wi;W={token:di.fcmToken,createTime:di.createTime,subscriptionOptions:{auth:fe(di.auth),p256dh:fe(di.p256dh),endpoint:di.endpoint,swScope:di.swScope,vapidKey:fe(di.vapidKey)}}}}),function(Qt,fn,pr,ur){return et.apply(this,arguments)})})).close(),yield Du(wn),yield Du("fcm_vapid_details_db"),yield Du("undefined"),function is(F){if(!F||!F.subscriptionOptions)return!1;const{subscriptionOptions:W}=F;return"number"==typeof F.createTime&&F.createTime>0&&"string"==typeof F.token&&F.token.length>0&&"string"==typeof W.auth&&W.auth.length>0&&"string"==typeof W.p256dh&&W.p256dh.length>0&&"string"==typeof W.endpoint&&W.endpoint.length>0&&"string"==typeof W.swScope&&W.swScope.length>0&&"string"==typeof W.vapidKey&&W.vapidKey.length>0}(W)?W:null;var et}),Vo.apply(this,arguments)}const gi="firebase-messaging-database",vo=1,Go="firebase-messaging-store";let Bu=null;function To(){return Bu||(Bu=Za(gi,vo,{upgrade:(F,W)=>{0===W&&F.createObjectStore(Go)}})),Bu}function ba(F){return Hs.apply(this,arguments)}function Hs(){return Hs=(0,K.Z)(function*(F){const W=Qa(F),et=yield(yield To()).transaction(Go).objectStore(Go).get(W);if(et)return et;{const Rt=yield function so(F){return Vo.apply(this,arguments)}(F.appConfig.senderId);if(Rt)return yield ca(F,Rt),Rt}}),Hs.apply(this,arguments)}function ca(F,W){return mo.apply(this,arguments)}function mo(){return(mo=(0,K.Z)(function*(F,W){const de=Qa(F),Rt=(yield To()).transaction(Go,"readwrite");return yield Rt.objectStore(Go).put(W,de),yield Rt.done,W})).apply(this,arguments)}function Iu(){return(Iu=(0,K.Z)(function*(F){const W=Qa(F),et=(yield To()).transaction(Go,"readwrite");yield et.objectStore(Go).delete(W),yield et.done})).apply(this,arguments)}function Qa({appConfig:F}){return F.appId}const oo=new Te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yl(F,W){return Na.apply(this,arguments)}function Na(){return(Na=(0,K.Z)(function*(F,W){const de=yield _n(F),et=Ar(W),Rt={method:"POST",headers:de,body:JSON.stringify(et)};let Qt;try{Qt=yield(yield fetch(Gt(F.appConfig),Rt)).json()}catch(fn){throw oo.create("token-subscribe-failed",{errorInfo:fn?.toString()})}if(Qt.error)throw oo.create("token-subscribe-failed",{errorInfo:Qt.error.message});if(!Qt.token)throw oo.create("token-subscribe-no-token");return Qt.token})).apply(this,arguments)}function Uu(){return(Uu=(0,K.Z)(function*(F,W){const de=yield _n(F),et=Ar(W.subscriptionOptions),Rt={method:"PATCH",headers:de,body:JSON.stringify(et)};let Qt;try{Qt=yield(yield fetch(`${Gt(F.appConfig)}/${W.token}`,Rt)).json()}catch(fn){throw oo.create("token-update-failed",{errorInfo:fn?.toString()})}if(Qt.error)throw oo.create("token-update-failed",{errorInfo:Qt.error.message});if(!Qt.token)throw oo.create("token-update-no-token");return Qt.token})).apply(this,arguments)}function Zu(F,W){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,K.Z)(function*(F,W){const et={method:"DELETE",headers:yield _n(F)};try{const Qt=yield(yield fetch(`${Gt(F.appConfig)}/${W}`,et)).json();if(Qt.error)throw oo.create("token-unsubscribe-failed",{errorInfo:Qt.error.message})}catch(Rt){throw oo.create("token-unsubscribe-failed",{errorInfo:Rt?.toString()})}})).apply(this,arguments)}function Gt({projectId:F}){return`${bo}/projects/${F}/registrations`}function _n(F){return en.apply(this,arguments)}function en(){return(en=(0,K.Z)(function*({appConfig:F,installations:W}){const de=yield W.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F.apiKey,"x-goog-firebase-installations-auth":`FIS ${de}`})})).apply(this,arguments)}function Ar({p256dh:F,auth:W,endpoint:de,vapidKey:et}){const Rt={web:{endpoint:de,auth:W,p256dh:F}};return et!==$o&&(Rt.web.applicationPubKey=et),Rt}const si=6048e5;function js(){return js=(0,K.Z)(function*(F){const W=yield function Ta(F,W){return kr.apply(this,arguments)}(F.swRegistration,F.vapidKey),de={vapidKey:F.vapidKey,swScope:F.swRegistration.scope,endpoint:W.endpoint,auth:fe(W.getKey("auth")),p256dh:fe(W.getKey("p256dh"))},et=yield ba(F.firebaseDependencies);if(et){if(function tu(F,W){return W.vapidKey===F.vapidKey&&W.endpoint===F.endpoint&&W.auth===F.auth&&W.p256dh===F.p256dh}(et.subscriptionOptions,de))return Date.now()>=et.createTime+si?function eu(F,W){return Ir.apply(this,arguments)}(F,{token:et.token,createTime:Date.now(),subscriptionOptions:de}):et.token;try{yield Zu(F.firebaseDependencies,et.token)}catch(Rt){console.warn(Rt)}return Ha(F.firebaseDependencies,de)}return Ha(F.firebaseDependencies,de)}),js.apply(this,arguments)}function na(){return na=(0,K.Z)(function*(F){const W=yield ba(F.firebaseDependencies);W&&(yield Zu(F.firebaseDependencies,W.token),yield function sl(F){return Iu.apply(this,arguments)}(F.firebaseDependencies));const de=yield F.swRegistration.pushManager.getSubscription();return!de||de.unsubscribe()}),na.apply(this,arguments)}function Ir(){return Ir=(0,K.Z)(function*(F,W){try{const de=yield function Xa(F,W){return Uu.apply(this,arguments)}(F.firebaseDependencies,W),et=Object.assign(Object.assign({},W),{token:de,createTime:Date.now()});return yield ca(F.firebaseDependencies,et),de}catch(de){throw yield function Nr(F){return na.apply(this,arguments)}(F),de}}),Ir.apply(this,arguments)}function Ha(F,W){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,K.Z)(function*(F,W){const et={token:yield Yl(F,W),createTime:Date.now(),subscriptionOptions:W};return yield ca(F,et),et.token})).apply(this,arguments)}function kr(){return(kr=(0,K.Z)(function*(F,W){return(yield F.pushManager.getSubscription())||F.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Nt(W)})})).apply(this,arguments)}function V(F){const W={from:F.from,collapseKey:F.collapse_key,messageId:F.fcmMessageId};return function ue(F,W){if(!W.notification)return;F.notification={};const de=W.notification.title;de&&(F.notification.title=de);const et=W.notification.body;et&&(F.notification.body=et);const Rt=W.notification.image;Rt&&(F.notification.image=Rt);const Qt=W.notification.icon;Qt&&(F.notification.icon=Qt)}(W,F),function Y(F,W){W.data&&(F.data=W.data)}(W,F),function Me(F,W){var de,et,Rt,Qt,fn;if(!(W.fcmOptions||null!==(de=W.notification)&&void 0!==de&&de.click_action))return;F.fcmOptions={};const pr=null!==(Rt=null===(et=W.fcmOptions)||void 0===et?void 0:et.link)&&void 0!==Rt?Rt:null===(Qt=W.notification)||void 0===Qt?void 0:Qt.click_action;pr&&(F.fcmOptions.link=pr);const ur=null===(fn=W.fcmOptions)||void 0===fn?void 0:fn.analytics_label;ur&&(F.fcmOptions.analyticsLabel=ur)}(W,F),W}function ln(F,W){const de=[];for(let et=0;et<F.length;et++)de.push(F.charAt(et)),et<W.length&&de.push(W.charAt(et));return de.join("")}function _r(F){return oo.create("missing-app-config-values",{valueName:F})}ln("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ln("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ci{constructor(W,de,et){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Rt=function Tn(F){if(!F||!F.options)throw _r("App Configuration Object");if(!F.name)throw _r("App Name");const W=["projectId","apiKey","appId","messagingSenderId"],{options:de}=F;for(const et of W)if(!de[et])throw _r(et);return{appName:F.name,projectId:de.projectId,apiKey:de.apiKey,appId:de.appId,senderId:de.messagingSenderId}}(W);this.firebaseDependencies={app:W,appConfig:Rt,installations:de,analyticsProvider:et}}_delete(){return Promise.resolve()}}function Bi(){return(Bi=(0,K.Z)(function*(F){try{F.swRegistration=yield navigator.serviceWorker.register(Es,{scope:la}),F.swRegistration.update().catch(()=>{})}catch(W){throw oo.create("failed-service-worker-registration",{browserErrorMessage:W?.message})}})).apply(this,arguments)}function ss(){return(ss=(0,K.Z)(function*(F,W){if(!W&&!F.swRegistration&&(yield function Gn(F){return Bi.apply(this,arguments)}(F)),W||!F.swRegistration){if(!(W instanceof ServiceWorkerRegistration))throw oo.create("invalid-sw-registration");F.swRegistration=W}})).apply(this,arguments)}function zs(){return(zs=(0,K.Z)(function*(F,W){W?F.vapidKey=W:F.vapidKey||(F.vapidKey=$o)})).apply(this,arguments)}function co(){return co=(0,K.Z)(function*(F,W){if(!navigator)throw oo.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw oo.create("permission-blocked");return yield function ys(F,W){return zs.apply(this,arguments)}(F,W?.vapidKey),yield function Ei(F,W){return ss.apply(this,arguments)}(F,W?.serviceWorkerRegistration),function Zi(F){return js.apply(this,arguments)}(F)}),co.apply(this,arguments)}function fs(){return(fs=(0,K.Z)(function*(F,W,de){const et=function nu(F){switch(F){case L.NOTIFICATION_CLICKED:return"notification_open";case L.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(W);(yield F.firebaseDependencies.analyticsProvider.get()).logEvent(et,{message_id:de[T],message_name:de[ie],message_time:de[x],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function da(){return da=(0,K.Z)(function*(F,W){const de=W.data;if(!de.isFirebaseMessaging)return;F.onMessageHandler&&de.messageType===L.PUSH_RECEIVED&&("function"==typeof F.onMessageHandler?F.onMessageHandler(V(de)):F.onMessageHandler.next(V(de)));const et=de.data;(function ot(F){return"object"==typeof F&&!!F&&T in F})(et)&&"1"===et["google.c.a.e"]&&(yield function ka(F,W,de){return fs.apply(this,arguments)}(F,de.messageType,et))}),da.apply(this,arguments)}const Fn="@firebase/messaging",Eo=F=>{const W=new ci(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),F.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",de=>function ja(F,W){return da.apply(this,arguments)}(W,de)),W},Kl=F=>{const W=F.getProvider("messaging").getImmediate();return{getToken:et=>function So(F,W){return co.apply(this,arguments)}(W,et)}};function Sl(){return yo.apply(this,arguments)}function yo(){return(yo=(0,K.Z)(function*(){try{yield(0,Te.eu)()}catch{return!1}return typeof window<"u"&&(0,Te.hl)()&&(0,Te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Gs(){(0,P._registerComponent)(new me.wA("messaging",Eo,"PUBLIC")),(0,P._registerComponent)(new me.wA("messaging-internal",Kl,"PRIVATE")),(0,P.registerVersion)(Fn,"0.12.4"),(0,P.registerVersion)(Fn,"0.12.4","esm2017")}();const ar="analytics",Cr="firebase_id",Wo="origin",sr=6e4,cn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pn="https://www.googletagmanager.com/gtag/js",Ji=new Pe.Yd("@firebase/analytics"),No=new Te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function fc(F){if(!F.startsWith(Pn)){const W=No.create("invalid-gtag-resource",{gtagURL:F});return Ji.warn(W.message),""}return F}function fu(F){return Promise.all(F.map(W=>W.catch(de=>de)))}function ru(){return(ru=(0,K.Z)(function*(F,W,de,et,Rt,Qt){const fn=et[Rt];try{if(fn)yield W[fn];else{const ur=(yield fu(de)).find(Hr=>Hr.measurementId===Rt);ur&&(yield W[ur.appId])}}catch(pr){Ji.error(pr)}F("config",Rt,Qt)})).apply(this,arguments)}function Ui(){return(Ui=(0,K.Z)(function*(F,W,de,et,Rt){try{let Qt=[];if(Rt&&Rt.send_to){let fn=Rt.send_to;Array.isArray(fn)||(fn=[fn]);const pr=yield fu(de);for(const ur of fn){const Hr=pr.find(di=>di.measurementId===ur),wi=Hr&&W[Hr.appId];if(!wi){Qt=[];break}Qt.push(wi)}}0===Qt.length&&(Qt=Object.values(W)),yield Promise.all(Qt),F("event",et,Rt||{})}catch(Qt){Ji.error(Qt)}})).apply(this,arguments)}const es=30,hs=new class Ds{constructor(W={},de=1e3){this.throttleMetadata=W,this.intervalMillis=de}getThrottleMetadata(W){return this.throttleMetadata[W]}setThrottleMetadata(W,de){this.throttleMetadata[W]=de}deleteThrottleMetadata(W){delete this.throttleMetadata[W]}};function $u(F){return new Headers({Accept:"application/json","x-goog-api-key":F})}function or(){return(or=(0,K.Z)(function*(F){var W;const{appId:de,apiKey:et}=F,Rt={method:"GET",headers:$u(et)},Qt=cn.replace("{app-id}",de),fn=yield fetch(Qt,Rt);if(200!==fn.status&&304!==fn.status){let pr="";try{const ur=yield fn.json();null!==(W=ur.error)&&void 0!==W&&W.message&&(pr=ur.error.message)}catch{}throw No.create("config-fetch-failed",{httpStatus:fn.status,responseMessage:pr})}return fn.json()})).apply(this,arguments)}function Vu(){return(Vu=(0,K.Z)(function*(F,W=hs,de){const{appId:et,apiKey:Rt,measurementId:Qt}=F.options;if(!et)throw No.create("no-app-id");if(!Rt){if(Qt)return{measurementId:Qt,appId:et};throw No.create("no-api-key")}const fn=W.getThrottleMetadata(et)||{backoffCount:0,throttleEndTimeMillis:Date.now()},pr=new ga;return setTimeout((0,K.Z)(function*(){pr.abort()}),void 0!==de?de:sr),gu({appId:et,apiKey:Rt,measurementId:Qt},fn,pr,W)})).apply(this,arguments)}function gu(F,W,de){return wu.apply(this,arguments)}function wu(){return wu=(0,K.Z)(function*(F,{throttleEndTimeMillis:W,backoffCount:de},et,Rt=hs){var Qt;const{appId:fn,measurementId:pr}=F;try{yield function xl(F,W){return new Promise((de,et)=>{const Rt=Math.max(W-Date.now(),0),Qt=setTimeout(de,Rt);F.addEventListener(()=>{clearTimeout(Qt),et(No.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(et,W)}catch(ur){if(pr)return Ji.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pr} provided in the "measurementId" field in the local Firebase config. [${ur?.message}]`),{appId:fn,measurementId:pr};throw ur}try{const ur=yield function ho(F){return or.apply(this,arguments)}(F);return Rt.deleteThrottleMetadata(fn),ur}catch(ur){const Hr=ur;if(!function pc(F){if(!(F instanceof Te.ZR&&F.customData))return!1;const W=Number(F.customData.httpStatus);return 429===W||500===W||503===W||504===W}(Hr)){if(Rt.deleteThrottleMetadata(fn),pr)return Ji.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pr} provided in the "measurementId" field in the local Firebase config. [${Hr?.message}]`),{appId:fn,measurementId:pr};throw ur}const wi=503===Number(null===(Qt=Hr?.customData)||void 0===Qt?void 0:Qt.httpStatus)?(0,Te.$s)(de,Rt.intervalMillis,es):(0,Te.$s)(de,Rt.intervalMillis),di={throttleEndTimeMillis:Date.now()+wi,backoffCount:de+1};return Rt.setThrottleMetadata(fn,di),Ji.debug(`Calling attemptFetch again in ${wi} millis`),gu(F,di,et,Rt)}}),wu.apply(this,arguments)}class ga{constructor(){this.listeners=[]}addEventListener(W){this.listeners.push(W)}abort(){this.listeners.forEach(W=>W())}}let R,ha;function b(){return(b=(0,K.Z)(function*(F,W,de,et,Rt){if(Rt&&Rt.global)F("event",de,et);else{const Qt=yield W;F("event",de,Object.assign(Object.assign({},et),{send_to:Qt}))}})).apply(this,arguments)}function iu(){return(iu=(0,K.Z)(function*(){if(!(0,Te.hl)())return Ji.warn(No.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Te.eu)()}catch(F){return Ji.warn(No.create("indexeddb-unavailable",{errorInfo:F?.toString()}).message),!1}return!0})).apply(this,arguments)}function Fa(){return Fa=(0,K.Z)(function*(F,W,de,et,Rt,Qt,fn){var pr;const ur=function ra(F){return Vu.apply(this,arguments)}(F);ur.then(fo=>{de[fo.measurementId]=fo.appId,F.options.measurementId&&fo.measurementId!==F.options.measurementId&&Ji.warn(`The measurement ID in the local Firebase config (${F.options.measurementId}) does not match the measurement ID fetched from the server (${fo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fo=>Ji.error(fo)),W.push(ur);const Hr=function Hu(){return iu.apply(this,arguments)}().then(fo=>{if(fo)return et.getId()}),[wi,di]=yield Promise.all([ur,Hr]);(function Zl(F){const W=window.document.getElementsByTagName("script");for(const de of Object.values(W))if(de.src&&de.src.includes(Pn)&&de.src.includes(F))return de;return null})(Qt)||function Qu(F,W){const de=function za(F,W){let de;return window.trustedTypes&&(de=window.trustedTypes.createPolicy(F,W)),de}("firebase-js-sdk-policy",{createScriptURL:fc}),et=document.createElement("script"),Rt=`${Pn}?l=${F}&id=${W}`;et.src=de?de?.createScriptURL(Rt):Rt,et.async=!0,document.head.appendChild(et)}(Qt,wi.measurementId),ha&&(Rt("consent","default",ha),function bu(F){ha=F}(void 0)),Rt("js",new Date);const qi=null!==(pr=fn?.config)&&void 0!==pr?pr:{};return qi[Wo]="firebase",qi.update=!0,null!=di&&(qi[Cr]=di),Rt("config",wi.measurementId,qi),R&&(Rt("set",R),function qo(F){R=F}(void 0)),wi.measurementId}),Fa.apply(this,arguments)}class Fo{constructor(W){this.app=W}_delete(){return delete La[this.app.options.appId],Promise.resolve()}}let La={},al=[];const kc={};let ju,_s,Ks="dataLayer",zu=!1;function ul(F,W,de){!function Ml(){const F=[];if((0,Te.ru)()&&F.push("This is a browser extension environment."),(0,Te.zI)()||F.push("Cookies are not available."),F.length>0){const W=F.map((et,Rt)=>`(${Rt+1}) ${et}`).join(" "),de=No.create("invalid-analytics-context",{errorInfo:W});Ji.warn(de.message)}}();const et=F.options.appId;if(!et)throw No.create("no-app-id");if(!F.options.apiKey){if(!F.options.measurementId)throw No.create("no-api-key");Ji.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${F.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=La[et])throw No.create("already-exists",{id:et});if(!zu){!function Cu(F){let W=[];Array.isArray(window[F])?W=window[F]:window[F]=W}(Ks);const{wrappedGtag:Qt,gtagCore:fn}=function pu(F,W,de,et,Rt){let Qt=function(...fn){window[et].push(arguments)};return window[Rt]&&"function"==typeof window[Rt]&&(Qt=window[Rt]),window[Rt]=function qn(F,W,de,et){function Qt(){return Qt=(0,K.Z)(function*(fn,...pr){try{if("event"===fn){const[ur,Hr]=pr;yield function Al(F,W,de,et,Rt){return Ui.apply(this,arguments)}(F,W,de,ur,Hr)}else if("config"===fn){const[ur,Hr]=pr;yield function ke(F,W,de,et,Rt,Qt){return ru.apply(this,arguments)}(F,W,de,et,ur,Hr)}else if("consent"===fn){const[ur]=pr;F("consent","update",ur)}else if("get"===fn){const[ur,Hr,wi]=pr;F("get",ur,Hr,wi)}else if("set"===fn){const[ur]=pr;F("set",ur)}else F(fn,...pr)}catch(ur){Ji.error(ur)}}),Qt.apply(this,arguments)}return function Rt(fn){return Qt.apply(this,arguments)}}(Qt,F,W,de),{gtagCore:Qt,wrappedGtag:window[Rt]}}(La,al,kc,Ks,"gtag");_s=Qt,ju=fn,zu=!0}return La[et]=function Ql(F,W,de,et,Rt,Qt,fn){return Fa.apply(this,arguments)}(F,al,kc,W,ju,Ks,de),new Fo(F)}function Md(){return Su.apply(this,arguments)}function Su(){return(Su=(0,K.Z)(function*(){if((0,Te.ru)()||!(0,Te.zI)()||!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}const yc="@firebase/analytics";!function Jl(){(0,P._registerComponent)(new me.wA(ar,(W,{options:de})=>ul(W.getProvider("app").getImmediate(),W.getProvider("installations-internal").getImmediate(),de),"PUBLIC")),(0,P._registerComponent)(new me.wA("analytics-internal",function F(W){try{const de=W.getProvider(ar).getImmediate();return{logEvent:(et,Rt,Qt)=>function Au(F,W,de,et){F=(0,Te.m9)(F),function $(F,W,de,et,Rt){return b.apply(this,arguments)}(_s,La[F.app.options.appId],W,de,et).catch(Rt=>Ji.error(Rt))}(de,et,Rt,Qt)}}catch(de){throw No.create("interop-component-reg-failed",{reason:de})}},"PRIVATE")),(0,P.registerVersion)(yc,"0.10.0"),(0,P.registerVersion)(yc,"0.10.0","esm2017")}();var cd=k(4408),ll=k(7565);const Io=new class mu extends ll.v{}(class Lc extends cd.o{constructor(W,de){super(W,de),this.scheduler=W,this.work=de}schedule(W,de=0){return de>0?super.schedule(W,de):(this.delay=de,this.state=W,this.scheduler.flush(this),this)}execute(W,de){return de>0||this.closed?super.execute(W,de):this._execute(W,de)}requestAsyncId(W,de,et=0){return null!=et&&et>0||null==et&&this.delay>0?super.requestAsyncId(W,de,et):(W.flush(this),0)}});var xu=k(4986),Mu=k(9751),bs=k(8505),su=k(5363),ia=k(9468);const Ps=new y.GfV("7.6.1"),dl="__angularfire_symbol__analyticsIsSupportedValue",yu="__angularfire_symbol__analyticsIsSupported",Sa="__angularfire_symbol__remoteConfigIsSupportedValue",Bc="__angularfire_symbol__remoteConfigIsSupported",Rl="__angularfire_symbol__messagingIsSupportedValue",Ao="__angularfire_symbol__messagingIsSupported";function Ol(F,W,de){if(W){if(1===W.length)return W[0];const Qt=W.filter(fn=>fn.app===de);if(1===Qt.length)return Qt[0]}return de.container.getProvider(F).getImmediate({optional:!0})}globalThis[yu]||(globalThis[yu]=Md().then(F=>globalThis[dl]=F).catch(()=>globalThis[dl]=!1)),globalThis[Ao]||(globalThis[Ao]=Sl().then(F=>globalThis[Rl]=F).catch(()=>globalThis[Rl]=!1)),globalThis[Bc]||(globalThis[Bc]=$n().then(F=>globalThis[Sa]=F).catch(()=>globalThis[Sa]=!1));const Aa=(F,W)=>{const de=W?[W]:(0,h.C6)(),et=[];return de.forEach(Rt=>{Rt.container.getProvider(F).instances.forEach(fn=>{et.includes(fn)||et.push(fn)})}),et};function ya(){}class Nl{constructor(W,de=Io){this.zone=W,this.delegate=de}now(){return this.delegate.now()}schedule(W,de,et){const Rt=this.zone;return this.delegate.schedule(function(fn){Rt.runGuarded(()=>{W.apply(this,[fn])})},de,et)}}class ou{constructor(W){this.zone=W,this.task=null}call(W,de){const et=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ya,{},ya,ya)),de.pipe((0,bs.b)({next:et,complete:et,error:et})).subscribe(W).add(et)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xa=(()=>{class F{constructor(de){this.ngZone=de,this.outsideAngular=de.runOutsideAngular(()=>new Nl(Zone.current)),this.insideAngular=de.run(()=>new Nl(Zone.current,xu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return F.\u0275fac=function(de){return new(de||F)(y.LFG(y.R0b))},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function _u(){const F=globalThis.\u0275AngularFireScheduler;if(!F)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return F}function Ma(F){return _u().ngZone.run(()=>F())}function Ru(F){return F.pipe((0,su.Q)(_u().outsideAngular))}function fl(F){return _u(),function vu(F){return function(de){return(de=de.lift(new ou(F.ngZone))).pipe((0,ia.R)(F.outsideAngular),(0,su.Q)(F.insideAngular))}}(_u())(F)}const pl=(F,W)=>function(){const et=arguments;return W&&setTimeout(()=>{"scheduled"===W.state&&W.invoke()},10),Ma(()=>F.apply(void 0,et))},Ci=(F,W)=>function(){let de;const et=arguments;for(let Qt=0;Qt<arguments.length;Qt++)"function"==typeof et[Qt]&&(W&&(de||(de=Ma(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ya,{},ya,ya)))),et[Qt]=pl(et[Qt],de));const Rt=function Pu(F){return _u().ngZone.runOutsideAngular(()=>F())}(()=>F.apply(this,et));if(!W){if(Rt instanceof Mu.y){const Qt=_u();return Rt.pipe((0,ia.R)(Qt.outsideAngular),(0,su.Q)(Qt.insideAngular))}return Ma(()=>Rt)}return Rt instanceof Mu.y?Rt.pipe(fl):Rt instanceof Promise?Ma(()=>new Promise((Qt,fn)=>Rt.then(pr=>Ma(()=>Qt(pr)),pr=>Ma(()=>fn(pr))))):"function"==typeof Rt&&de?function(){return setTimeout(()=>{de&&"scheduled"===de.state&&de.invoke()},10),Rt.apply(this,arguments)}:Ma(()=>Rt)}},9500:(xn,bt,k)=>{"use strict";k.d(bt,{$:()=>Es,A:()=>ye,D:()=>je,I:()=>Fs,J:()=>He,L:()=>Wi,N:()=>ti,P:()=>Ql,Q:()=>ce,R:()=>Ne,U:()=>yn,V:()=>$n,W:()=>hr,X:()=>At,Y:()=>ii,Z:()=>rs,_:()=>Vs,a:()=>ol,a0:()=>$o,a1:()=>T,a2:()=>M,a3:()=>Ii,a4:()=>Vo,a5:()=>gi,a6:()=>Go,a7:()=>To,a8:()=>Hs,a9:()=>mo,aA:()=>be,aB:()=>yu,aC:()=>ai,aD:()=>ui,aE:()=>bs,aF:()=>mc,aG:()=>Wu,aH:()=>An,aL:()=>Ms,aO:()=>Gr,aa:()=>sl,ab:()=>Qa,ac:()=>ta,ad:()=>Xa,ae:()=>Zu,af:()=>Gt,ai:()=>si,aj:()=>js,ak:()=>Nr,an:()=>xi,ao:()=>ue,aq:()=>zs,ar:()=>Fn,as:()=>tt,at:()=>It,au:()=>Se,av:()=>dt,aw:()=>di,ax:()=>Ao,ay:()=>sn,az:()=>vt,b:()=>cs,c:()=>_s,d:()=>ul,e:()=>Xl,f:()=>yc,g:()=>mu,h:()=>cd,i:()=>br,j:()=>xu,k:()=>au,l:()=>Mr,m:()=>Wa,p:()=>Xe,r:()=>ko,s:()=>rt,u:()=>Hu});var y=k(5861),h=k(5578),K=k(5752),P=k(655),Te=k(1877),me=k(1617);const Xe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ye={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const je=function we(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},at=function Ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Mt=new h.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new Te.Yd("@firebase/auth");function mt(O,...E){Ge.logLevel<=Te.in.ERROR&&Ge.error(`Auth (${K.SDK_VERSION}): ${O}`,...E)}function dt(O,...E){throw We(O,...E)}function vt(O,...E){return We(O,...E)}function pt(O,E,I){const B=Object.assign(Object.assign({},at()),{[E]:I});return new h.LL("auth","Firebase",B).create(E,{appName:O.name})}function Dt(O,E,I){if(!(E instanceof I))throw I.name!==E.constructor.name&&dt(O,"argument-error"),pt(O,"argument-error",`Type of ${E.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(O,...E){if("string"!=typeof O){const I=E[0],B=[...E.slice(1)];return B[0]&&(B[0].appName=O.name),O._errorFactory.create(I,...B)}return Mt.create(O,...E)}function be(O,E,...I){if(!O)throw We(E,...I)}function $t(O){const E="INTERNAL ASSERTION FAILED: "+O;throw mt(E),new Error(E)}function tt(O,E){O||$t(E)}function Ft(){var O;return typeof self<"u"&&(null===(O=self.location)||void 0===O?void 0:O.href)||""}function zt(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var O;return typeof self<"u"&&(null===(O=self.location)||void 0===O?void 0:O.protocol)||null}class st{constructor(E,I){this.shortDelay=E,this.longDelay=I,tt(I>E,"Short delay should be less than long delay!"),this.isMobile=(0,h.uI)()||(0,h.b$)()}get(){return function Sn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zt()||(0,h.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ye(O,E){tt(O.emulator,"Emulator should always be set here");const{url:I}=O.emulator;return E?`${I}${E.startsWith("/")?E.slice(1):E}`:I}class Ue{static initialize(E,I,B){this.fetchImpl=E,I&&(this.headersImpl=I),B&&(this.responseImpl=B)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $t("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $t("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $t("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ut=new st(3e4,6e4);function yt(O,E){return O.tenantId&&!E.tenantId?Object.assign(Object.assign({},E),{tenantId:O.tenantId}):E}function Jt(O,E,I,B){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,y.Z)(function*(O,E,I,B,pe={}){return mn(O,pe,(0,y.Z)(function*(){let Fe={},Ut={};B&&("GET"===E?Ut=B:Fe={body:JSON.stringify(B)});const dn=(0,h.xO)(Object.assign({key:O.config.apiKey},Ut)).slice(1),Qn=yield O._getAdditionalHeaders();return Qn["Content-Type"]="application/json",O.languageCode&&(Qn["X-Firebase-Locale"]=O.languageCode),Ue.fetch()(Yt(O,O.config.apiHost,I,dn),Object.assign({method:E,headers:Qn,referrerPolicy:"no-referrer"},Fe))}))})).apply(this,arguments)}function mn(O,E,I){return On.apply(this,arguments)}function On(){return(On=(0,y.Z)(function*(O,E,I){O._canInitEmulator=!1;const B=Object.assign(Object.assign({},Qe),E);try{const pe=new ct(O),Fe=yield Promise.race([I(),pe.promise]);pe.clearNetworkTimeout();const Ut=yield Fe.json();if("needConfirmation"in Ut)throw Xt(O,"account-exists-with-different-credential",Ut);if(Fe.ok&&!("errorMessage"in Ut))return Ut;{const dn=Fe.ok?Ut.errorMessage:Ut.error.message,[Qn,Tr]=dn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qn)throw Xt(O,"credential-already-in-use",Ut);if("EMAIL_EXISTS"===Qn)throw Xt(O,"email-already-in-use",Ut);if("USER_DISABLED"===Qn)throw Xt(O,"user-disabled",Ut);const Ur=B[Qn]||Qn.toLowerCase().replace(/[_\s]+/g,"-");if(Tr)throw pt(O,Ur,Tr);dt(O,Ur)}}catch(pe){if(pe instanceof h.ZR)throw pe;dt(O,"network-request-failed",{message:String(pe)})}})).apply(this,arguments)}function St(O,E,I,B){return hn.apply(this,arguments)}function hn(){return(hn=(0,y.Z)(function*(O,E,I,B,pe={}){const Fe=yield Jt(O,E,I,B,pe);return"mfaPendingCredential"in Fe&&dt(O,"multi-factor-auth-required",{_serverResponse:Fe}),Fe})).apply(this,arguments)}function Yt(O,E,I,B){const pe=`${E}${I}?${B}`;return O.config.emulator?Ye(O.config,pe):`${O.config.apiScheme}://${pe}`}class ct{constructor(E){this.auth=E,this.timer=null,this.promise=new Promise((I,B)=>{this.timer=setTimeout(()=>B(vt(this.auth,"network-request-failed")),ut.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xt(O,E,I){const B={appName:O.name};I.email&&(B.email=I.email),I.phoneNumber&&(B.phoneNumber=I.phoneNumber);const pe=vt(O,E,B);return pe.customData._tokenResponse=I,pe}function Kt(){return(Kt=(0,y.Z)(function*(O,E){return Jt(O,"POST","/v1/accounts:delete",E)})).apply(this,arguments)}function Xn(){return(Xn=(0,y.Z)(function*(O,E){return Jt(O,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function cr(){return(cr=(0,y.Z)(function*(O,E){return Jt(O,"POST","/v1/accounts:lookup",E)})).apply(this,arguments)}function bn(O){if(O)try{const E=new Date(Number(O));if(!isNaN(E.getTime()))return E.toUTCString()}catch{}}function Er(){return(Er=(0,y.Z)(function*(O,E=!1){const I=(0,h.m9)(O),B=yield I.getIdToken(E),pe=vn(B);be(pe&&pe.exp&&pe.auth_time&&pe.iat,I.auth,"internal-error");const Fe="object"==typeof pe.firebase?pe.firebase:void 0,Ut=Fe?.sign_in_provider;return{claims:pe,token:B,authTime:bn(Ht(pe.auth_time)),issuedAtTime:bn(Ht(pe.iat)),expirationTime:bn(Ht(pe.exp)),signInProvider:Ut||null,signInSecondFactor:Fe?.sign_in_second_factor||null}})).apply(this,arguments)}function Ht(O){return 1e3*Number(O)}function vn(O){const[E,I,B]=O.split(".");if(void 0===E||void 0===I||void 0===B)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const pe=(0,h.tV)(I);return pe?JSON.parse(pe):(mt("Failed to decode base64 JWT payload"),null)}catch(pe){return mt("Caught error parsing JWT payload as JSON",pe?.toString()),null}}function ht(O,E){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,y.Z)(function*(O,E,I=!1){if(I)return E;try{return yield E}catch(B){throw B instanceof h.ZR&&function Wn({code:O}){return"auth/user-disabled"===O||"auth/user-token-expired"===O}(B)&&O.auth.currentUser===O&&(yield O.auth.signOut()),B}})).apply(this,arguments)}class nn{constructor(E){this.user=E,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(E){var I;if(E){const B=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),B}{this.errorBackoff=3e4;const pe=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,pe)}}schedule(E=!1){var I=this;if(!this.isRunning)return;const B=this.getInterval(E);this.timerId=setTimeout((0,y.Z)(function*(){yield I.iteration()}),B)}iteration(){var E=this;return(0,y.Z)(function*(){try{yield E.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===I?.code&&E.schedule(!0))}E.schedule()})()}}class Wr{constructor(E,I){this.createdAt=E,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=bn(this.lastLoginAt),this.creationTime=bn(this.createdAt)}_copy(E){this.createdAt=E.createdAt,this.lastLoginAt=E.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ei(O){return qr.apply(this,arguments)}function qr(){return qr=(0,y.Z)(function*(O){var E;const I=O.auth,B=yield O.getIdToken(),pe=yield ht(O,function lr(O,E){return cr.apply(this,arguments)}(I,{idToken:B}));be(pe?.users.length,I,"internal-error");const Fe=pe.users[0];O._notifyReloadListener(Fe);const Ut=null!==(E=Fe.providerUserInfo)&&void 0!==E&&E.length?function Qi(O){return O.map(E=>{var{providerId:I}=E,B=(0,P._T)(E,["providerId"]);return{providerId:I,uid:B.rawId||"",displayName:B.displayName||null,email:B.email||null,phoneNumber:B.phoneNumber||null,photoURL:B.photoUrl||null}})}(Fe.providerUserInfo):[],dn=function Xr(O,E){return[...O.filter(B=>!E.some(pe=>pe.providerId===B.providerId)),...E]}(O.providerData,Ut),Ur=!!O.isAnonymous&&!(O.email&&Fe.passwordHash||dn?.length),ps={uid:Fe.localId,displayName:Fe.displayName||null,photoURL:Fe.photoUrl||null,email:Fe.email||null,emailVerified:Fe.emailVerified||!1,phoneNumber:Fe.phoneNumber||null,tenantId:Fe.tenantId||null,providerData:dn,metadata:new Wr(Fe.createdAt,Fe.lastLoginAt),isAnonymous:Ur};Object.assign(O,ps)}),qr.apply(this,arguments)}function Un(){return(Un=(0,y.Z)(function*(O){const E=(0,h.m9)(O);yield ei(E),yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)})).apply(this,arguments)}function Pi(){return(Pi=(0,y.Z)(function*(O,E){const I=yield mn(O,{},(0,y.Z)(function*(){const B=(0,h.xO)({grant_type:"refresh_token",refresh_token:E}).slice(1),{tokenApiHost:pe,apiKey:Fe}=O.config,Ut=Yt(O,pe,"/v1/token",`key=${Fe}`),dn=yield O._getAdditionalHeaders();return dn["Content-Type"]="application/x-www-form-urlencoded",Ue.fetch()(Ut,{method:"POST",headers:dn,body:B})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class jr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(E){be(E.idToken,"internal-error"),be(typeof E.idToken<"u","internal-error"),be(typeof E.refreshToken<"u","internal-error");const I="expiresIn"in E&&typeof E.expiresIn<"u"?Number(E.expiresIn):function ge(O){const E=vn(O);return be(E,"internal-error"),be(typeof E.exp<"u","internal-error"),be(typeof E.iat<"u","internal-error"),Number(E.exp)-Number(E.iat)}(E.idToken);this.updateTokensAndExpiration(E.idToken,E.refreshToken,I)}getToken(E,I=!1){var B=this;return(0,y.Z)(function*(){return be(!B.accessToken||B.refreshToken,E,"user-token-expired"),I||!B.accessToken||B.isExpired?B.refreshToken?(yield B.refresh(E,B.refreshToken),B.accessToken):null:B.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(E,I){var B=this;return(0,y.Z)(function*(){const{accessToken:pe,refreshToken:Fe,expiresIn:Ut}=yield function Mi(O,E){return Pi.apply(this,arguments)}(E,I);B.updateTokensAndExpiration(pe,Fe,Number(Ut))})()}updateTokensAndExpiration(E,I,B){this.refreshToken=I||null,this.accessToken=E||null,this.expirationTime=Date.now()+1e3*B}static fromJSON(E,I){const{refreshToken:B,accessToken:pe,expirationTime:Fe}=I,Ut=new jr;return B&&(be("string"==typeof B,"internal-error",{appName:E}),Ut.refreshToken=B),pe&&(be("string"==typeof pe,"internal-error",{appName:E}),Ut.accessToken=pe),Fe&&(be("number"==typeof Fe,"internal-error",{appName:E}),Ut.expirationTime=Fe),Ut}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(E){this.accessToken=E.accessToken,this.refreshToken=E.refreshToken,this.expirationTime=E.expirationTime}_clone(){return Object.assign(new jr,this.toJSON())}_performRefresh(){return $t("not implemented")}}function Le(O,E){be("string"==typeof O||typeof O>"u","internal-error",{appName:E})}class Ti{constructor(E){var{uid:I,auth:B,stsTokenManager:pe}=E,Fe=(0,P._T)(E,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=B,this.stsTokenManager=pe,this.accessToken=pe.accessToken,this.displayName=Fe.displayName||null,this.email=Fe.email||null,this.emailVerified=Fe.emailVerified||!1,this.phoneNumber=Fe.phoneNumber||null,this.photoURL=Fe.photoURL||null,this.isAnonymous=Fe.isAnonymous||!1,this.tenantId=Fe.tenantId||null,this.providerData=Fe.providerData?[...Fe.providerData]:[],this.metadata=new Wr(Fe.createdAt||void 0,Fe.lastLoginAt||void 0)}getIdToken(E){var I=this;return(0,y.Z)(function*(){const B=yield ht(I,I.stsTokenManager.getToken(I.auth,E));return be(B,I.auth,"internal-error"),I.accessToken!==B&&(I.accessToken=B,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),B})()}getIdTokenResult(E){return function Qr(O){return Er.apply(this,arguments)}(this,E)}reload(){return function xr(O){return Un.apply(this,arguments)}(this)}_assign(E){this!==E&&(be(this.uid===E.uid,this.auth,"internal-error"),this.displayName=E.displayName,this.photoURL=E.photoURL,this.email=E.email,this.emailVerified=E.emailVerified,this.phoneNumber=E.phoneNumber,this.isAnonymous=E.isAnonymous,this.tenantId=E.tenantId,this.providerData=E.providerData.map(I=>Object.assign({},I)),this.metadata._copy(E.metadata),this.stsTokenManager._assign(E.stsTokenManager))}_clone(E){const I=new Ti(Object.assign(Object.assign({},this),{auth:E,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload(E){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=E,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(E){this.reloadListener?this.reloadListener(E):this.reloadUserInfo=E}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(E,I=!1){var B=this;return(0,y.Z)(function*(){let pe=!1;E.idToken&&E.idToken!==B.stsTokenManager.accessToken&&(B.stsTokenManager.updateFromServerResponse(E),pe=!0),I&&(yield ei(B)),yield B.auth._persistUserIfCurrent(B),pe&&B.auth._notifyListenersIfCurrent(B)})()}delete(){var E=this;return(0,y.Z)(function*(){const I=yield E.getIdToken();return yield ht(E,function Tt(O,E){return Kt.apply(this,arguments)}(E.auth,{idToken:I})),E.stsTokenManager.clearRefreshToken(),E.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(E=>Object.assign({},E)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(E,I){var B,pe,Fe,Ut,dn,Qn,Tr,Ur;const ps=null!==(B=I.displayName)&&void 0!==B?B:void 0,_a=null!==(pe=I.email)&&void 0!==pe?pe:void 0,jo=null!==(Fe=I.phoneNumber)&&void 0!==Fe?Fe:void 0,Fl=null!==(Ut=I.photoURL)&&void 0!==Ut?Ut:void 0,Ko=null!==(dn=I.tenantId)&&void 0!==dn?dn:void 0,Ec=null!==(Qn=I._redirectEventId)&&void 0!==Qn?Qn:void 0,ec=null!==(Tr=I.createdAt)&&void 0!==Tr?Tr:void 0,tc=null!==(Ur=I.lastLoginAt)&&void 0!==Ur?Ur:void 0,{uid:Nu,emailVerified:Xu,isAnonymous:Zo,providerData:Ll,stsTokenManager:va}=I;be(Nu&&va,E,"internal-error");const Bl=jr.fromJSON(this.name,va);be("string"==typeof Nu,E,"internal-error"),Le(ps,E.name),Le(_a,E.name),be("boolean"==typeof Xu,E,"internal-error"),be("boolean"==typeof Zo,E,"internal-error"),Le(jo,E.name),Le(Fl,E.name),Le(Ko,E.name),Le(Ec,E.name),Le(ec,E.name),Le(tc,E.name);const $c=new Ti({uid:Nu,auth:E,email:_a,emailVerified:Xu,displayName:ps,isAnonymous:Zo,photoURL:Fl,phoneNumber:jo,tenantId:Ko,stsTokenManager:Bl,createdAt:ec,lastLoginAt:tc});return Ll&&Array.isArray(Ll)&&($c.providerData=Ll.map(fd=>Object.assign({},fd))),Ec&&($c._redirectEventId=Ec),$c}static _fromIdTokenResponse(E,I,B=!1){return(0,y.Z)(function*(){const pe=new jr;pe.updateFromServerResponse(I);const Fe=new Ti({uid:I.localId,auth:E,stsTokenManager:pe,isAnonymous:B});return yield ei(Fe),Fe})()}}const Pr=new Map;function ai(O){tt(O instanceof Function,"Expected a class definition");let E=Pr.get(O);return E?(tt(E instanceof O,"Instance stored in cache mismatched with class"),E):(E=new O,Pr.set(O,E),E)}const ti=(()=>{class O{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(I,B){var pe=this;return(0,y.Z)(function*(){pe.storage[I]=B})()}_get(I){var B=this;return(0,y.Z)(function*(){const pe=B.storage[I];return void 0===pe?null:pe})()}_remove(I){var B=this;return(0,y.Z)(function*(){delete B.storage[I]})()}_addListener(I,B){}_removeListener(I,B){}}return O.type="NONE",O})();function ui(O,E,I){return`firebase:${O}:${E}:${I}`}class lt{constructor(E,I,B){this.persistence=E,this.auth=I,this.userKey=B;const{config:pe,name:Fe}=this.auth;this.fullUserKey=ui(this.userKey,pe.apiKey,Fe),this.fullPersistenceKey=ui("persistence",pe.apiKey,Fe),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(E){return this.persistence._set(this.fullUserKey,E.toJSON())}getCurrentUser(){var E=this;return(0,y.Z)(function*(){const I=yield E.persistence._get(E.fullUserKey);return I?Ti._fromJSON(E.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(E){var I=this;return(0,y.Z)(function*(){if(I.persistence===E)return;const B=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=E,B?I.setCurrentUser(B):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(E,I,B="authUser"){return(0,y.Z)(function*(){if(!I.length)return new lt(ai(ti),E,B);const pe=(yield Promise.all(I.map(function(){var Tr=(0,y.Z)(function*(Ur){if(yield Ur._isAvailable())return Ur});return function(Ur){return Tr.apply(this,arguments)}}()))).filter(Tr=>Tr);let Fe=pe[0]||ai(ti);const Ut=ui(B,E.config.apiKey,E.name);let dn=null;for(const Tr of I)try{const Ur=yield Tr._get(Ut);if(Ur){const ps=Ti._fromJSON(E,Ur);Tr!==Fe&&(dn=ps),Fe=Tr;break}}catch{}const Qn=pe.filter(Tr=>Tr._shouldAllowMigration);return Fe._shouldAllowMigration&&Qn.length?(Fe=Qn[0],dn&&(yield Fe._set(Ut,dn.toJSON())),yield Promise.all(I.map(function(){var Tr=(0,y.Z)(function*(Ur){if(Ur!==Fe)try{yield Ur._remove(Ut)}catch{}});return function(Ur){return Tr.apply(this,arguments)}}())),new lt(Fe,E,B)):new lt(Fe,E,B)})()}}function Ee(O){const E=O.toLowerCase();if(E.includes("opera/")||E.includes("opr/")||E.includes("opios/"))return"Opera";if($e(E))return"IEMobile";if(E.includes("msie")||E.includes("trident/"))return"IE";if(E.includes("edge/"))return"Edge";if(te(E))return"Firefox";if(E.includes("silk/"))return"Silk";if(ve(E))return"Blackberry";if(Ke(E))return"Webos";if(q(E))return"Safari";if((E.includes("chrome/")||X(E))&&!E.includes("edge/"))return"Chrome";if(Se(E))return"Android";{const B=O.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===B?.length)return B[1]}return"Other"}function te(O=(0,h.z$)()){return/firefox\//i.test(O)}function q(O=(0,h.z$)()){const E=O.toLowerCase();return E.includes("safari/")&&!E.includes("chrome/")&&!E.includes("crios/")&&!E.includes("android")}function X(O=(0,h.z$)()){return/crios\//i.test(O)}function $e(O=(0,h.z$)()){return/iemobile/i.test(O)}function Se(O=(0,h.z$)()){return/android/i.test(O)}function ve(O=(0,h.z$)()){return/blackberry/i.test(O)}function Ke(O=(0,h.z$)()){return/webos/i.test(O)}function It(O=(0,h.z$)()){return/iphone|ipad|ipod/i.test(O)||/macintosh/i.test(O)&&/mobile/i.test(O)}function sn(O=(0,h.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(O)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(O)}function rr(O=(0,h.z$)()){return It(O)||Se(O)||Ke(O)||ve(O)||/windows phone/i.test(O)||$e(O)}function Or(O,E=[]){let I;switch(O){case"Browser":I=Ee((0,h.z$)());break;case"Worker":I=`${Ee((0,h.z$)())}-${O}`;break;default:I=O}const B=E.length?E.join(","):"FirebaseCore-web";return`${I}/JsCore/${K.SDK_VERSION}/${B}`}function Bt(){return(Bt=(0,y.Z)(function*(O){return(yield Jt(O,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gn(O,E){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,y.Z)(function*(O,E){return Jt(O,"GET","/v2/recaptchaConfig",yt(O,E))})).apply(this,arguments)}function dr(O){return void 0!==O&&void 0!==O.getResponse}function mr(O){return void 0!==O&&void 0!==O.enterprise}class Fr{constructor(E){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===E.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=E.recaptchaKey.split("/")[3],this.emailPasswordEnabled=E.recaptchaEnforcementState.some(I=>"EMAIL_PASSWORD_PROVIDER"===I.provider&&"OFF"!==I.enforcementState)}}function Sr(O){return new Promise((E,I)=>{const B=document.createElement("script");B.setAttribute("src",O),B.onload=E,B.onerror=pe=>{const Fe=vt("internal-error");Fe.customData=pe,I(Fe)},B.type="text/javascript",B.charset="UTF-8",function _i(){var O,E;return null!==(E=null===(O=document.getElementsByTagName("head"))||void 0===O?void 0:O[0])&&void 0!==E?E:document}().appendChild(B)})}function er(O){return`__${O}${Math.floor(1e6*Math.random())}`}class Z{constructor(E){this.type="recaptcha-enterprise",this.auth=An(E)}verify(E="verify",I=!1){var B=this;return(0,y.Z)(function*(){function Fe(){return Fe=(0,y.Z)(function*(dn){if(!I){if(null==dn.tenantId&&null!=dn._agentRecaptchaConfig)return dn._agentRecaptchaConfig.siteKey;if(null!=dn.tenantId&&void 0!==dn._tenantRecaptchaConfigs[dn.tenantId])return dn._tenantRecaptchaConfigs[dn.tenantId].siteKey}return new Promise(function(){var Qn=(0,y.Z)(function*(Tr,Ur){gn(dn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ps=>{if(void 0!==ps.recaptchaKey){const _a=new Fr(ps);return null==dn.tenantId?dn._agentRecaptchaConfig=_a:dn._tenantRecaptchaConfigs[dn.tenantId]=_a,Tr(_a.siteKey)}Ur(new Error("recaptcha Enterprise site key undefined"))}).catch(ps=>{Ur(ps)})});return function(Tr,Ur){return Qn.apply(this,arguments)}}())}),Fe.apply(this,arguments)}function Ut(dn,Qn,Tr){const Ur=window.grecaptcha;mr(Ur)?Ur.enterprise.ready(()=>{Ur.enterprise.execute(dn,{action:E}).then(ps=>{Qn(ps)}).catch(()=>{Qn("NO_RECAPTCHA")})}):Tr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((dn,Qn)=>{(function pe(dn){return Fe.apply(this,arguments)})(B.auth).then(Tr=>{if(!I&&mr(window.grecaptcha))Ut(Tr,dn,Qn);else{if(typeof window>"u")return void Qn(new Error("RecaptchaVerifier is only supported in browser"));Sr("https://www.google.com/recaptcha/enterprise.js?render="+Tr).then(()=>{Ut(Tr,dn,Qn)}).catch(Ur=>{Qn(Ur)})}}).catch(Tr=>{Qn(Tr)})})})()}}function wt(O,E,I){return J.apply(this,arguments)}function J(){return(J=(0,y.Z)(function*(O,E,I,B=!1){const pe=new Z(O);let Fe;try{Fe=yield pe.verify(I)}catch{Fe=yield pe.verify(I,!0)}const Ut=Object.assign({},E);return Object.assign(Ut,B?{captchaResp:Fe}:{captchaResponse:Fe}),Object.assign(Ut,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ut,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ut})).apply(this,arguments)}class Pt{constructor(E){this.auth=E,this.queue=[]}pushCallback(E,I){const B=Fe=>new Promise((Ut,dn)=>{try{Ut(E(Fe))}catch(Qn){dn(Qn)}});B.onAbort=I,this.queue.push(B);const pe=this.queue.length-1;return()=>{this.queue[pe]=()=>Promise.resolve()}}runMiddleware(E){var I=this;return(0,y.Z)(function*(){if(I.auth.currentUser===E)return;const B=[];try{for(const pe of I.queue)yield pe(E),pe.onAbort&&B.push(pe.onAbort)}catch(pe){B.reverse();for(const Fe of B)try{Fe()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:pe?.message})}})()}}class Zt{constructor(E,I,B,pe){this.app=E,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=B,this.config=pe,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yr(this),this.idTokenSubscription=new yr(this),this.beforeStateQueue=new Pt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=E.name,this.clientVersion=pe.sdkClientVersion}_initializeWithPersistence(E,I){var B=this;return I&&(this._popupRedirectResolver=ai(I)),this._initializationPromise=this.queue((0,y.Z)(function*(){var pe,Fe;if(!B._deleted&&(B.persistenceManager=yield lt.create(B,E),!B._deleted)){if(null!==(pe=B._popupRedirectResolver)&&void 0!==pe&&pe._shouldInitProactively)try{yield B._popupRedirectResolver._initialize(B)}catch{}yield B.initializeCurrentUser(I),B.lastNotifiedUid=(null===(Fe=B.currentUser)||void 0===Fe?void 0:Fe.uid)||null,!B._deleted&&(B._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var E=this;return(0,y.Z)(function*(){if(E._deleted)return;const I=yield E.assertedPersistence.getCurrentUser();if(E.currentUser||I){if(E.currentUser&&I&&E.currentUser.uid===I.uid)return E._currentUser._assign(I),void(yield E.currentUser.getIdToken());yield E._updateCurrentUser(I,!0)}})()}initializeCurrentUser(E){var I=this;return(0,y.Z)(function*(){var B;const pe=yield I.assertedPersistence.getCurrentUser();let Fe=pe,Ut=!1;if(E&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const dn=null===(B=I.redirectUser)||void 0===B?void 0:B._redirectEventId,Qn=Fe?._redirectEventId,Tr=yield I.tryRedirectSignIn(E);(!dn||dn===Qn)&&Tr?.user&&(Fe=Tr.user,Ut=!0)}if(!Fe)return I.directlySetCurrentUser(null);if(!Fe._redirectEventId){if(Ut)try{yield I.beforeStateQueue.runMiddleware(Fe)}catch(dn){Fe=pe,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(dn))}return Fe?I.reloadAndSetCurrentUserOrClear(Fe):I.directlySetCurrentUser(null)}return be(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===Fe._redirectEventId?I.directlySetCurrentUser(Fe):I.reloadAndSetCurrentUserOrClear(Fe)})()}tryRedirectSignIn(E){var I=this;return(0,y.Z)(function*(){let B=null;try{B=yield I._popupRedirectResolver._completeRedirectFn(I,E,!0)}catch{yield I._setRedirectUser(null)}return B})()}reloadAndSetCurrentUserOrClear(E){var I=this;return(0,y.Z)(function*(){try{yield ei(E)}catch(B){if("auth/network-request-failed"!==B?.code)return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(E)})()}useDeviceLanguage(){this.languageCode=function Et(){if(typeof navigator>"u")return null;const O=navigator;return O.languages&&O.languages[0]||O.language||null}()}_delete(){var E=this;return(0,y.Z)(function*(){E._deleted=!0})()}updateCurrentUser(E){var I=this;return(0,y.Z)(function*(){const B=E?(0,h.m9)(E):null;return B&&be(B.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(B&&B._clone(I))})()}_updateCurrentUser(E,I=!1){var B=this;return(0,y.Z)(function*(){if(!B._deleted)return E&&be(B.tenantId===E.tenantId,B,"tenant-id-mismatch"),I||(yield B.beforeStateQueue.runMiddleware(E)),B.queue((0,y.Z)(function*(){yield B.directlySetCurrentUser(E),B.notifyAuthListeners()}))})()}signOut(){var E=this;return(0,y.Z)(function*(){return yield E.beforeStateQueue.runMiddleware(null),(E.redirectPersistenceManager||E._popupRedirectResolver)&&(yield E._setRedirectUser(null)),E._updateCurrentUser(null,!0)})()}setPersistence(E){var I=this;return this.queue((0,y.Z)(function*(){yield I.assertedPersistence.setPersistence(ai(E))}))}initializeRecaptchaConfig(){var E=this;return(0,y.Z)(function*(){const I=yield gn(E,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),B=new Fr(I);null==E.tenantId?E._agentRecaptchaConfig=B:E._tenantRecaptchaConfigs[E.tenantId]=B,B.emailPasswordEnabled&&new Z(E).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(E){this._errorFactory=new h.LL("auth","Firebase",E())}onAuthStateChanged(E,I,B){return this.registerStateListener(this.authStateSubscription,E,I,B)}beforeAuthStateChanged(E,I){return this.beforeStateQueue.pushCallback(E,I)}onIdTokenChanged(E,I,B){return this.registerStateListener(this.idTokenSubscription,E,I,B)}toJSON(){var E;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(E=this._currentUser)||void 0===E?void 0:E.toJSON()}}_setRedirectUser(E,I){var B=this;return(0,y.Z)(function*(){const pe=yield B.getOrInitRedirectPersistenceManager(I);return null===E?pe.removeCurrentUser():pe.setCurrentUser(E)})()}getOrInitRedirectPersistenceManager(E){var I=this;return(0,y.Z)(function*(){if(!I.redirectPersistenceManager){const B=E&&ai(E)||I._popupRedirectResolver;be(B,I,"argument-error"),I.redirectPersistenceManager=yield lt.create(I,[ai(B._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(E){var I=this;return(0,y.Z)(function*(){var B,pe;return I._isInitialized&&(yield I.queue((0,y.Z)(function*(){}))),(null===(B=I._currentUser)||void 0===B?void 0:B._redirectEventId)===E?I._currentUser:(null===(pe=I.redirectUser)||void 0===pe?void 0:pe._redirectEventId)===E?I.redirectUser:null})()}_persistUserIfCurrent(E){var I=this;return(0,y.Z)(function*(){if(E===I.currentUser)return I.queue((0,y.Z)(function*(){return I.directlySetCurrentUser(E)}))})()}_notifyListenersIfCurrent(E){E===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var E,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const B=null!==(I=null===(E=this.currentUser)||void 0===E?void 0:E.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==B&&(this.lastNotifiedUid=B,this.authStateSubscription.next(this.currentUser))}registerStateListener(E,I,B,pe){if(this._deleted)return()=>{};const Fe="function"==typeof I?I:I.next.bind(I),Ut=this._isInitialized?Promise.resolve():this._initializationPromise;return be(Ut,this,"internal-error"),Ut.then(()=>Fe(this.currentUser)),"function"==typeof I?E.addObserver(I,B,pe):E.addObserver(I)}directlySetCurrentUser(E){var I=this;return(0,y.Z)(function*(){I.currentUser&&I.currentUser!==E&&I._currentUser._stopProactiveRefresh(),E&&I.isProactiveRefreshEnabled&&E._startProactiveRefresh(),I.currentUser=E,E?yield I.assertedPersistence.setCurrentUser(E):yield I.assertedPersistence.removeCurrentUser()})()}queue(E){return this.operations=this.operations.then(E,E),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(E){!E||this.frameworks.includes(E)||(this.frameworks.push(E),this.frameworks.sort(),this.clientVersion=Or(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var E=this;return(0,y.Z)(function*(){var I;const B={"X-Client-Version":E.clientVersion};E.app.options.appId&&(B["X-Firebase-gmpid"]=E.app.options.appId);const pe=yield null===(I=E.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();pe&&(B["X-Firebase-Client"]=pe);const Fe=yield E._getAppCheckToken();return Fe&&(B["X-Firebase-AppCheck"]=Fe),B})()}_getAppCheckToken(){var E=this;return(0,y.Z)(function*(){var I;const B=yield null===(I=E.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getToken();return B?.error&&function _e(O,...E){Ge.logLevel<=Te.in.WARN&&Ge.warn(`Auth (${K.SDK_VERSION}): ${O}`,...E)}(`Error while retrieving App Check token: ${B.error}`),B?.token})()}}function An(O){return(0,h.m9)(O)}class yr{constructor(E){this.auth=E,this.observer=null,this.addObserver=(0,h.ne)(I=>this.observer=I)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fs(O,E,I){const B=An(O);be(B._canInitEmulator,B,"emulator-config-failed"),be(/^https?:\/\//.test(E),B,"invalid-emulator-scheme");const pe=!!I?.disableWarnings,Fe=ee(E),{host:Ut,port:dn}=function se(O){const E=ee(O),I=/(\/\/)?([^?#/]+)/.exec(O.substr(E.length));if(!I)return{host:"",port:null};const B=I[2].split("@").pop()||"",pe=/^(\[[^\]]+\])(:|$)/.exec(B);if(pe){const Fe=pe[1];return{host:Fe,port:Ae(B.substr(Fe.length+1))}}{const[Fe,Ut]=B.split(":");return{host:Fe,port:Ae(Ut)}}}(E);B.config.emulator={url:`${Fe}//${Ut}${null===dn?"":`:${dn}`}/`},B.settings.appVerificationDisabledForTesting=!0,B.emulatorConfig=Object.freeze({host:Ut,port:dn,protocol:Fe.replace(":",""),options:Object.freeze({disableWarnings:pe})}),pe||function he(){function O(){const E=document.createElement("p"),I=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",O):O())}()}function ee(O){const E=O.indexOf(":");return E<0?"":O.substr(0,E+1)}function Ae(O){if(!O)return null;const E=Number(O);return isNaN(E)?null:E}class He{constructor(E,I){this.providerId=E,this.signInMethod=I}toJSON(){return $t("not implemented")}_getIdTokenResponse(E){return $t("not implemented")}_linkToIdToken(E,I){return $t("not implemented")}_getReauthenticationResolver(E){return $t("not implemented")}}function Ze(O,E){return xt.apply(this,arguments)}function xt(){return(xt=(0,y.Z)(function*(O,E){return Jt(O,"POST","/v1/accounts:resetPassword",yt(O,E))})).apply(this,arguments)}function Lt(O,E){return qt.apply(this,arguments)}function qt(){return(qt=(0,y.Z)(function*(O,E){return Jt(O,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function Bn(){return(Bn=(0,y.Z)(function*(O,E){return Jt(O,"POST","/v1/accounts:update",yt(O,E))})).apply(this,arguments)}function vr(O,E){return wr.apply(this,arguments)}function wr(){return(wr=(0,y.Z)(function*(O,E){return St(O,"POST","/v1/accounts:signInWithPassword",yt(O,E))})).apply(this,arguments)}function $i(O,E){return Js.apply(this,arguments)}function Js(){return(Js=(0,y.Z)(function*(O,E){return Jt(O,"POST","/v1/accounts:sendOobCode",yt(O,E))})).apply(this,arguments)}function Fi(){return(Fi=(0,y.Z)(function*(O,E){return $i(O,E)})).apply(this,arguments)}function zn(O,E){return $r.apply(this,arguments)}function $r(){return($r=(0,y.Z)(function*(O,E){return $i(O,E)})).apply(this,arguments)}function Vi(O,E){return ws.apply(this,arguments)}function ws(){return(ws=(0,y.Z)(function*(O,E){return $i(O,E)})).apply(this,arguments)}function $s(){return($s=(0,y.Z)(function*(O,E){return $i(O,E)})).apply(this,arguments)}function Hi(){return(Hi=(0,y.Z)(function*(O,E){return St(O,"POST","/v1/accounts:signInWithEmailLink",yt(O,E))})).apply(this,arguments)}function lo(){return(lo=(0,y.Z)(function*(O,E){return St(O,"POST","/v1/accounts:signInWithEmailLink",yt(O,E))})).apply(this,arguments)}class ni extends He{constructor(E,I,B,pe=null){super("password",B),this._email=E,this._password=I,this._tenantId=pe}static _fromEmailAndPassword(E,I){return new ni(E,I,"password")}static _fromEmailAndCode(E,I,B=null){return new ni(E,I,"emailLink",B)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(E){const I="string"==typeof E?JSON.parse(E):E;if(I?.email&&I?.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(E){var I=this;return(0,y.Z)(function*(){var B;switch(I.signInMethod){case"password":const pe={returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(B=E._getRecaptchaConfig())&&void 0!==B&&B.emailPasswordEnabled){const Fe=yield wt(E,pe,"signInWithPassword");return vr(E,Fe)}return vr(E,pe).catch(function(){var Fe=(0,y.Z)(function*(Ut){if("auth/missing-recaptcha-token"===Ut.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const dn=yield wt(E,pe,"signInWithPassword");return vr(E,dn)}return Promise.reject(Ut)});return function(Ut){return Fe.apply(this,arguments)}}());case"emailLink":return function po(O,E){return Hi.apply(this,arguments)}(E,{email:I._email,oobCode:I._password});default:dt(E,"internal-error")}})()}_linkToIdToken(E,I){var B=this;return(0,y.Z)(function*(){switch(B.signInMethod){case"password":return Lt(E,{idToken:I,returnSecureToken:!0,email:B._email,password:B._password});case"emailLink":return function Ys(O,E){return lo.apply(this,arguments)}(E,{idToken:I,email:B._email,oobCode:B._password});default:dt(E,"internal-error")}})()}_getReauthenticationResolver(E){return this._getIdTokenResponse(E)}}function As(O,E){return xo.apply(this,arguments)}function xo(){return(xo=(0,y.Z)(function*(O,E){return St(O,"POST","/v1/accounts:signInWithIdp",yt(O,E))})).apply(this,arguments)}class Wi extends He{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(E){const I=new Wi(E.providerId,E.signInMethod);return E.idToken||E.accessToken?(E.idToken&&(I.idToken=E.idToken),E.accessToken&&(I.accessToken=E.accessToken),E.nonce&&!E.pendingToken&&(I.nonce=E.nonce),E.pendingToken&&(I.pendingToken=E.pendingToken)):E.oauthToken&&E.oauthTokenSecret?(I.accessToken=E.oauthToken,I.secret=E.oauthTokenSecret):dt("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(E){const I="string"==typeof E?JSON.parse(E):E,{providerId:B,signInMethod:pe}=I,Fe=(0,P._T)(I,["providerId","signInMethod"]);if(!B||!pe)return null;const Ut=new Wi(B,pe);return Ut.idToken=Fe.idToken||void 0,Ut.accessToken=Fe.accessToken||void 0,Ut.secret=Fe.secret,Ut.nonce=Fe.nonce,Ut.pendingToken=Fe.pendingToken||null,Ut}_getIdTokenResponse(E){return As(E,this.buildRequest())}_linkToIdToken(E,I){const B=this.buildRequest();return B.idToken=I,As(E,B)}_getReauthenticationResolver(E){const I=this.buildRequest();return I.autoCreate=!1,As(E,I)}buildRequest(){const E={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)E.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),E.postBody=(0,h.xO)(I)}return E}}function ro(){return(ro=(0,y.Z)(function*(O,E){return Jt(O,"POST","/v1/accounts:sendVerificationCode",yt(O,E))})).apply(this,arguments)}function vi(){return(vi=(0,y.Z)(function*(O,E){return St(O,"POST","/v1/accounts:signInWithPhoneNumber",yt(O,E))})).apply(this,arguments)}function Po(){return(Po=(0,y.Z)(function*(O,E){const I=yield St(O,"POST","/v1/accounts:signInWithPhoneNumber",yt(O,E));if(I.temporaryProof)throw Xt(O,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const wo={USER_NOT_FOUND:"user-not-found"};function ea(){return(ea=(0,y.Z)(function*(O,E){return St(O,"POST","/v1/accounts:signInWithPhoneNumber",yt(O,Object.assign(Object.assign({},E),{operation:"REAUTH"})),wo)})).apply(this,arguments)}class Yr extends He{constructor(E){super("phone","phone"),this.params=E}static _fromVerification(E,I){return new Yr({verificationId:E,verificationCode:I})}static _fromTokenResponse(E,I){return new Yr({phoneNumber:E,temporaryProof:I})}_getIdTokenResponse(E){return function ri(O,E){return vi.apply(this,arguments)}(E,this._makeVerificationRequest())}_linkToIdToken(E,I){return function Oa(O,E){return Po.apply(this,arguments)}(E,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(E){return function io(O,E){return ea.apply(this,arguments)}(E,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:E,phoneNumber:I,verificationId:B,verificationCode:pe}=this.params;return E&&I?{temporaryProof:E,phoneNumber:I}:{sessionInfo:B,code:pe}}toJSON(){const E={providerId:this.providerId};return this.params.phoneNumber&&(E.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(E.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(E.verificationCode=this.params.verificationCode),this.params.verificationId&&(E.verificationId=this.params.verificationId),E}static fromJSON(E){"string"==typeof E&&(E=JSON.parse(E));const{verificationId:I,verificationCode:B,phoneNumber:pe,temporaryProof:Fe}=E;return B||I||pe||Fe?new Yr({verificationId:I,verificationCode:B,phoneNumber:pe,temporaryProof:Fe}):null}}class Li{constructor(E){var I,B,pe,Fe,Ut,dn;const Qn=(0,h.zd)((0,h.pd)(E)),Tr=null!==(I=Qn.apiKey)&&void 0!==I?I:null,Ur=null!==(B=Qn.oobCode)&&void 0!==B?B:null,ps=function go(O){switch(O){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(pe=Qn.mode)&&void 0!==pe?pe:null);be(Tr&&Ur&&ps,"argument-error"),this.apiKey=Tr,this.operation=ps,this.code=Ur,this.continueUrl=null!==(Fe=Qn.continueUrl)&&void 0!==Fe?Fe:null,this.languageCode=null!==(Ut=Qn.languageCode)&&void 0!==Ut?Ut:null,this.tenantId=null!==(dn=Qn.tenantId)&&void 0!==dn?dn:null}static parseLink(E){const I=function Bo(O){const E=(0,h.zd)((0,h.pd)(O)).link,I=E?(0,h.zd)((0,h.pd)(E)).deep_link_id:null,B=(0,h.zd)((0,h.pd)(O)).deep_link_id;return(B?(0,h.zd)((0,h.pd)(B)).link:null)||B||I||E||O}(E);try{return new Li(I)}catch{return null}}}let ce=(()=>{class O{constructor(){this.providerId=O.PROVIDER_ID}static credential(I,B){return ni._fromEmailAndPassword(I,B)}static credentialWithLink(I,B){const pe=Li.parseLink(B);return be(pe,"argument-error"),ni._fromEmailAndCode(I,pe.code,pe.tenantId)}}return O.PROVIDER_ID="password",O.EMAIL_PASSWORD_SIGN_IN_METHOD="password",O.EMAIL_LINK_SIGN_IN_METHOD="emailLink",O})();class nt{constructor(E){this.providerId=E,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(E){this.defaultLanguageCode=E}setCustomParameters(E){return this.customParameters=E,this}getCustomParameters(){return this.customParameters}}class gt extends nt{constructor(){super(...arguments),this.scopes=[]}addScope(E){return this.scopes.includes(E)||this.scopes.push(E),this}getScopes(){return[...this.scopes]}}class At extends gt{static credentialFromJSON(E){const I="string"==typeof E?JSON.parse(E):E;return be("providerId"in I&&"signInMethod"in I,"argument-error"),Wi._fromParams(I)}credential(E){return this._credential(Object.assign(Object.assign({},E),{nonce:E.rawNonce}))}_credential(E){return be(E.idToken||E.accessToken,"argument-error"),Wi._fromParams(Object.assign(Object.assign({},E),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(E){return At.oauthCredentialFromTaggedObject(E)}static credentialFromError(E){return At.oauthCredentialFromTaggedObject(E.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:I,oauthAccessToken:B,oauthTokenSecret:pe,pendingToken:Fe,nonce:Ut,providerId:dn}=E;if(!B&&!pe&&!I&&!Fe||!dn)return null;try{return new At(dn)._credential({idToken:I,accessToken:B,nonce:Ut,pendingToken:Fe})}catch{return null}}}let yn=(()=>{class O extends gt{constructor(){super("facebook.com")}static credential(I){return Wi._fromParams({providerId:O.PROVIDER_ID,signInMethod:O.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return O.credentialFromTaggedObject(I)}static credentialFromError(I){return O.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return O.credential(I.oauthAccessToken)}catch{return null}}}return O.FACEBOOK_SIGN_IN_METHOD="facebook.com",O.PROVIDER_ID="facebook.com",O})(),$n=(()=>{class O extends gt{constructor(){super("google.com"),this.addScope("profile")}static credential(I,B){return Wi._fromParams({providerId:O.PROVIDER_ID,signInMethod:O.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:B})}static credentialFromResult(I){return O.credentialFromTaggedObject(I)}static credentialFromError(I){return O.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:B,oauthAccessToken:pe}=I;if(!B&&!pe)return null;try{return O.credential(B,pe)}catch{return null}}}return O.GOOGLE_SIGN_IN_METHOD="google.com",O.PROVIDER_ID="google.com",O})(),hr=(()=>{class O extends gt{constructor(){super("github.com")}static credential(I){return Wi._fromParams({providerId:O.PROVIDER_ID,signInMethod:O.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return O.credentialFromTaggedObject(I)}static credentialFromError(I){return O.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return O.credential(I.oauthAccessToken)}catch{return null}}}return O.GITHUB_SIGN_IN_METHOD="github.com",O.PROVIDER_ID="github.com",O})();class Gr extends He{constructor(E,I){super(E,E),this.pendingToken=I}_getIdTokenResponse(E){return As(E,this.buildRequest())}_linkToIdToken(E,I){const B=this.buildRequest();return B.idToken=I,As(E,B)}_getReauthenticationResolver(E){const I=this.buildRequest();return I.autoCreate=!1,As(E,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(E){const I="string"==typeof E?JSON.parse(E):E,{providerId:B,signInMethod:pe,pendingToken:Fe}=I;return B&&pe&&Fe&&B===pe?new Gr(B,Fe):null}static _create(E,I){return new Gr(E,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ii extends nt{constructor(E){be(E.startsWith("saml."),"argument-error"),super(E)}static credentialFromResult(E){return ii.samlCredentialFromTaggedObject(E)}static credentialFromError(E){return ii.samlCredentialFromTaggedObject(E.customData||{})}static credentialFromJSON(E){const I=Gr.fromJSON(E);return be(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{pendingToken:I,providerId:B}=E;if(!I||!B)return null;try{return Gr._create(B,I)}catch{return null}}}let rs=(()=>{class O extends gt{constructor(){super("twitter.com")}static credential(I,B){return Wi._fromParams({providerId:O.PROVIDER_ID,signInMethod:O.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:B})}static credentialFromResult(I){return O.credentialFromTaggedObject(I)}static credentialFromError(I){return O.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:B,oauthTokenSecret:pe}=I;if(!B||!pe)return null;try{return O.credential(B,pe)}catch{return null}}}return O.TWITTER_SIGN_IN_METHOD="twitter.com",O.PROVIDER_ID="twitter.com",O})();function Oi(O,E){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,y.Z)(function*(O,E){return St(O,"POST","/v1/accounts:signUp",yt(O,E))})).apply(this,arguments)}class ji{constructor(E){this.user=E.user,this.providerId=E.providerId,this._tokenResponse=E._tokenResponse,this.operationType=E.operationType}static _fromIdTokenResponse(E,I,B,pe=!1){return(0,y.Z)(function*(){const Fe=yield Ti._fromIdTokenResponse(E,B,pe),Ut=Si(B);return new ji({user:Fe,providerId:Ut,_tokenResponse:B,operationType:I})})()}static _forOperation(E,I,B){return(0,y.Z)(function*(){yield E._updateTokensIfNecessary(B,!0);const pe=Si(B);return new ji({user:E,providerId:pe,_tokenResponse:B,operationType:I})})()}}function Si(O){return O.providerId?O.providerId:"phoneNumber"in O?"phone":null}function Vs(O){return ls.apply(this,arguments)}function ls(){return(ls=(0,y.Z)(function*(O){var E;const I=An(O);if(yield I._initializationPromise,null!==(E=I.currentUser)&&void 0!==E&&E.isAnonymous)return new ji({user:I.currentUser,providerId:null,operationType:"signIn"});const B=yield Oi(I,{returnSecureToken:!0}),pe=yield ji._fromIdTokenResponse(I,"signIn",B,!0);return yield I._updateCurrentUser(pe.user),pe})).apply(this,arguments)}class fi extends h.ZR{constructor(E,I,B,pe){var Fe;super(I.code,I.message),this.operationType=B,this.user=pe,Object.setPrototypeOf(this,fi.prototype),this.customData={appName:E.name,tenantId:null!==(Fe=E.tenantId)&&void 0!==Fe?Fe:void 0,_serverResponse:I.customData._serverResponse,operationType:B}}static _fromErrorAndOperation(E,I,B,pe){return new fi(E,I,B,pe)}}function Xi(O,E,I,B){return("reauthenticate"===E?I._getReauthenticationResolver(O):I._getIdTokenResponse(O)).catch(Fe=>{throw"auth/multi-factor-auth-required"===Fe.code?fi._fromErrorAndOperation(O,Fe,E,B):Fe})}function Ai(O){return new Set(O.map(({providerId:E})=>E).filter(E=>!!E))}function xi(O,E){return li.apply(this,arguments)}function li(){return li=(0,y.Z)(function*(O,E){const I=(0,h.m9)(O);yield Za(!0,I,E);const{providerUserInfo:B}=yield function kn(O,E){return Xn.apply(this,arguments)}(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[E]}),pe=Ai(B||[]);return I.providerData=I.providerData.filter(Fe=>pe.has(Fe.providerId)),pe.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I}),li.apply(this,arguments)}function ms(O,E){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,y.Z)(function*(O,E,I=!1){const B=yield ht(O,E._linkToIdToken(O.auth,yield O.getIdToken()),I);return ji._forOperation(O,"link",B)})).apply(this,arguments)}function Za(O,E,I){return Du.apply(this,arguments)}function Du(){return(Du=(0,y.Z)(function*(O,E,I){yield ei(E);const pe=!1===O?"provider-already-linked":"no-such-provider";be(Ai(E.providerData).has(I)===O,E.auth,pe)})).apply(this,arguments)}function Uo(O,E){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,y.Z)(function*(O,E,I=!1){const{auth:B}=O,pe="reauthenticate";try{const Fe=yield ht(O,Xi(B,pe,E,O),I);be(Fe.idToken,B,"internal-error");const Ut=vn(Fe.idToken);be(Ut,B,"internal-error");const{sub:dn}=Ut;return be(O.uid===dn,B,"user-mismatch"),ji._forOperation(O,pe,Fe)}catch(Fe){throw"auth/user-not-found"===Fe?.code&&dt(B,"user-mismatch"),Fe}})).apply(this,arguments)}function xs(O,E){return pi.apply(this,arguments)}function pi(){return(pi=(0,y.Z)(function*(O,E,I=!1){const B="signIn",pe=yield Xi(O,B,E),Fe=yield ji._fromIdTokenResponse(O,B,pe);return I||(yield O._updateCurrentUser(Fe.user)),Fe})).apply(this,arguments)}function Es(O,E){return la.apply(this,arguments)}function la(){return(la=(0,y.Z)(function*(O,E){return xs(An(O),E)})).apply(this,arguments)}function $o(O,E){return bo.apply(this,arguments)}function bo(){return(bo=(0,y.Z)(function*(O,E){const I=(0,h.m9)(O);return yield Za(!1,I,E.providerId),ms(I,E)})).apply(this,arguments)}function T(O,E){return ie.apply(this,arguments)}function ie(){return(ie=(0,y.Z)(function*(O,E){return Uo((0,h.m9)(O),E)})).apply(this,arguments)}function C(){return(C=(0,y.Z)(function*(O,E){return St(O,"POST","/v1/accounts:signInWithCustomToken",yt(O,E))})).apply(this,arguments)}function M(O,E){return L.apply(this,arguments)}function L(){return L=(0,y.Z)(function*(O,E){const I=An(O),B=yield function x(O,E){return C.apply(this,arguments)}(I,{token:E,returnSecureToken:!0}),pe=yield ji._fromIdTokenResponse(I,"signIn",B);return yield I._updateCurrentUser(pe.user),pe}),L.apply(this,arguments)}class fe{constructor(E,I){this.factorId=E,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(E,I){return"phoneInfo"in I?Nt._fromServerResponse(E,I):"totpInfo"in I?wn._fromServerResponse(E,I):dt(E,"internal-error")}}class Nt extends fe{constructor(E){super("phone",E),this.phoneNumber=E.phoneInfo}static _fromServerResponse(E,I){return new Nt(I)}}class wn extends fe{constructor(E){super("totp",E)}static _fromServerResponse(E,I){return new wn(I)}}function Zr(O,E,I){var B;be((null===(B=I.url)||void 0===B?void 0:B.length)>0,O,"invalid-continue-uri"),be(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,O,"invalid-dynamic-link-domain"),E.continueUrl=I.url,E.dynamicLinkDomain=I.dynamicLinkDomain,E.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(be(I.iOS.bundleId.length>0,O,"missing-ios-bundle-id"),E.iOSBundleId=I.iOS.bundleId),I.android&&(be(I.android.packageName.length>0,O,"missing-android-pkg-name"),E.androidInstallApp=I.android.installApp,E.androidMinimumVersionCode=I.android.minimumVersion,E.androidPackageName=I.android.packageName)}function Ii(O,E,I){return so.apply(this,arguments)}function so(){return so=(0,y.Z)(function*(O,E,I){var B;const pe=An(O),Fe={requestType:"PASSWORD_RESET",email:E,clientType:"CLIENT_TYPE_WEB"};if(null!==(B=pe._getRecaptchaConfig())&&void 0!==B&&B.emailPasswordEnabled){const Ut=yield wt(pe,Fe,"getOobCode",!0);I&&Zr(pe,Ut,I),yield zn(pe,Ut)}else I&&Zr(pe,Fe,I),yield zn(pe,Fe).catch(function(){var Ut=(0,y.Z)(function*(dn){if("auth/missing-recaptcha-token"!==dn.code)return Promise.reject(dn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Qn=yield wt(pe,Fe,"getOobCode",!0);I&&Zr(pe,Qn,I),yield zn(pe,Qn)}});return function(dn){return Ut.apply(this,arguments)}}())}),so.apply(this,arguments)}function Vo(O,E,I){return is.apply(this,arguments)}function is(){return(is=(0,y.Z)(function*(O,E,I){yield Ze((0,h.m9)(O),{oobCode:E,newPassword:I})})).apply(this,arguments)}function gi(O,E){return vo.apply(this,arguments)}function vo(){return vo=(0,y.Z)(function*(O,E){yield function En(O,E){return Bn.apply(this,arguments)}((0,h.m9)(O),{oobCode:E})}),vo.apply(this,arguments)}function Go(O,E){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,y.Z)(function*(O,E){const I=(0,h.m9)(O),B=yield Ze(I,{oobCode:E}),pe=B.requestType;switch(be(pe,I,"internal-error"),pe){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":be(B.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":be(B.mfaInfo,I,"internal-error");default:be(B.email,I,"internal-error")}let Fe=null;return B.mfaInfo&&(Fe=fe._fromServerResponse(An(I),B.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===B.requestType?B.newEmail:B.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===B.requestType?B.email:B.newEmail)||null,multiFactorInfo:Fe},operation:pe}})).apply(this,arguments)}function To(O,E){return ba.apply(this,arguments)}function ba(){return(ba=(0,y.Z)(function*(O,E){const{data:I}=yield Go((0,h.m9)(O),E);return I.email})).apply(this,arguments)}function Hs(O,E,I){return ca.apply(this,arguments)}function ca(){return ca=(0,y.Z)(function*(O,E,I){var B;const pe=An(O),Fe={returnSecureToken:!0,email:E,password:I,clientType:"CLIENT_TYPE_WEB"};let Ut;if(null!==(B=pe._getRecaptchaConfig())&&void 0!==B&&B.emailPasswordEnabled){const Tr=yield wt(pe,Fe,"signUpPassword");Ut=Oi(pe,Tr)}else Ut=Oi(pe,Fe).catch(function(){var Tr=(0,y.Z)(function*(Ur){if("auth/missing-recaptcha-token"===Ur.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ps=yield wt(pe,Fe,"signUpPassword");return Oi(pe,ps)}return Promise.reject(Ur)});return function(Ur){return Tr.apply(this,arguments)}}());const dn=yield Ut.catch(Tr=>Promise.reject(Tr)),Qn=yield ji._fromIdTokenResponse(pe,"signIn",dn);return yield pe._updateCurrentUser(Qn.user),Qn}),ca.apply(this,arguments)}function mo(O,E,I){return Es((0,h.m9)(O),ce.credential(E,I))}function sl(O,E,I){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,y.Z)(function*(O,E,I){var B;const pe=An(O),Fe={requestType:"EMAIL_SIGNIN",email:E,clientType:"CLIENT_TYPE_WEB"};function Ut(dn,Qn){be(Qn.handleCodeInApp,pe,"argument-error"),Qn&&Zr(pe,dn,Qn)}if(null!==(B=pe._getRecaptchaConfig())&&void 0!==B&&B.emailPasswordEnabled){const dn=yield wt(pe,Fe,"getOobCode",!0);Ut(dn,I),yield Vi(pe,dn)}else Ut(Fe,I),yield Vi(pe,Fe).catch(function(){var dn=(0,y.Z)(function*(Qn){if("auth/missing-recaptcha-token"!==Qn.code)return Promise.reject(Qn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Tr=yield wt(pe,Fe,"getOobCode",!0);Ut(Tr,I),yield Vi(pe,Tr)}});return function(Qn){return dn.apply(this,arguments)}}())}),Iu.apply(this,arguments)}function Qa(O,E){const I=Li.parseLink(E);return"EMAIL_SIGNIN"===I?.operation}function ta(O,E,I){return oo.apply(this,arguments)}function oo(){return(oo=(0,y.Z)(function*(O,E,I){const B=(0,h.m9)(O),pe=ce.credentialWithLink(E,I||Ft());return be(pe._tenantId===(B.tenantId||null),B,"tenant-id-mismatch"),Es(B,pe)})).apply(this,arguments)}function Na(){return(Na=(0,y.Z)(function*(O,E){return Jt(O,"POST","/v1/accounts:createAuthUri",yt(O,E))})).apply(this,arguments)}function Xa(O,E){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,y.Z)(function*(O,E){const B={identifier:E,continueUri:zt()?Ft():"http://localhost"},{signinMethods:pe}=yield function Yl(O,E){return Na.apply(this,arguments)}((0,h.m9)(O),B);return pe||[]}),Uu.apply(this,arguments)}function Zu(O,E){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,y.Z)(function*(O,E){const I=(0,h.m9)(O),pe={requestType:"VERIFY_EMAIL",idToken:yield O.getIdToken()};E&&Zr(I.auth,pe,E);const{email:Fe}=yield function Us(O,E){return Fi.apply(this,arguments)}(I.auth,pe);Fe!==O.email&&(yield O.reload())}),Ja.apply(this,arguments)}function Gt(O,E,I){return _n.apply(this,arguments)}function _n(){return _n=(0,y.Z)(function*(O,E,I){const B=(0,h.m9)(O),Fe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield O.getIdToken(),newEmail:E};I&&Zr(B.auth,Fe,I);const{email:Ut}=yield function uo(O,E){return $s.apply(this,arguments)}(B.auth,Fe);Ut!==O.email&&(yield O.reload())}),_n.apply(this,arguments)}function Ar(){return(Ar=(0,y.Z)(function*(O,E){return Jt(O,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function si(O,E){return Zi.apply(this,arguments)}function Zi(){return Zi=(0,y.Z)(function*(O,{displayName:E,photoURL:I}){if(void 0===E&&void 0===I)return;const B=(0,h.m9)(O),Fe={idToken:yield B.getIdToken(),displayName:E,photoUrl:I,returnSecureToken:!0},Ut=yield ht(B,function en(O,E){return Ar.apply(this,arguments)}(B.auth,Fe));B.displayName=Ut.displayName||null,B.photoURL=Ut.photoUrl||null;const dn=B.providerData.find(({providerId:Qn})=>"password"===Qn);dn&&(dn.displayName=B.displayName,dn.photoURL=B.photoURL),yield B._updateTokensIfNecessary(Ut)}),Zi.apply(this,arguments)}function js(O,E){return na((0,h.m9)(O),E,null)}function Nr(O,E){return na((0,h.m9)(O),null,E)}function na(O,E,I){return eu.apply(this,arguments)}function eu(){return(eu=(0,y.Z)(function*(O,E,I){const{auth:B}=O,Fe={idToken:yield O.getIdToken(),returnSecureToken:!0};E&&(Fe.email=E),I&&(Fe.password=I);const Ut=yield ht(O,Lt(B,Fe));yield O._updateTokensIfNecessary(Ut,!0)})).apply(this,arguments)}class Ha{constructor(E,I,B={}){this.isNewUser=E,this.providerId=I,this.profile=B}}class Oo extends Ha{constructor(E,I,B,pe){super(E,I,B),this.username=pe}}class Ta extends Ha{constructor(E,I){super(E,"facebook.com",I)}}class kr extends Oo{constructor(E,I){super(E,"github.com",I,"string"==typeof I?.login?I?.login:null)}}class tu extends Ha{constructor(E,I){super(E,"google.com",I)}}class V extends Oo{constructor(E,I,B){super(E,"twitter.com",I,B)}}function ue(O){const{user:E,_tokenResponse:I}=O;return E.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function Ir(O){var E,I;if(!O)return null;const{providerId:B}=O,pe=O.rawUserInfo?JSON.parse(O.rawUserInfo):{},Fe=O.isNewUser||"identitytoolkit#SignupNewUserResponse"===O.kind;if(!B&&O?.idToken){const Ut=null===(I=null===(E=vn(O.idToken))||void 0===E?void 0:E.firebase)||void 0===I?void 0:I.sign_in_provider;if(Ut)return new Ha(Fe,"anonymous"!==Ut&&"custom"!==Ut?Ut:null)}if(!B)return null;switch(B){case"facebook.com":return new Ta(Fe,pe);case"github.com":return new kr(Fe,pe);case"google.com":return new tu(Fe,pe);case"twitter.com":return new V(Fe,pe,O.screenName||null);case"custom":case"anonymous":return new Ha(Fe,null);default:return new Ha(Fe,B,pe)}}(I)}class ss{constructor(E,I,B){this.type=E,this.credential=I,this.auth=B}static _fromIdtoken(E,I){return new ss("enroll",E,I)}static _fromMfaPendingCredential(E){return new ss("signin",E)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(E){var I,B;if(E?.multiFactorSession){if(null!==(I=E.multiFactorSession)&&void 0!==I&&I.pendingCredential)return ss._fromMfaPendingCredential(E.multiFactorSession.pendingCredential);if(null!==(B=E.multiFactorSession)&&void 0!==B&&B.idToken)return ss._fromIdtoken(E.multiFactorSession.idToken)}return null}}class ys{constructor(E,I,B){this.session=E,this.hints=I,this.signInResolver=B}static _fromError(E,I){const B=An(E),pe=I.customData._serverResponse,Fe=(pe.mfaInfo||[]).map(dn=>fe._fromServerResponse(B,dn));be(pe.mfaPendingCredential,B,"internal-error");const Ut=ss._fromMfaPendingCredential(pe.mfaPendingCredential);return new ys(Ut,Fe,function(){var dn=(0,y.Z)(function*(Qn){const Tr=yield Qn._process(B,Ut);delete pe.mfaInfo,delete pe.mfaPendingCredential;const Ur=Object.assign(Object.assign({},pe),{idToken:Tr.idToken,refreshToken:Tr.refreshToken});switch(I.operationType){case"signIn":const ps=yield ji._fromIdTokenResponse(B,I.operationType,Ur);return yield B._updateCurrentUser(ps.user),ps;case"reauthenticate":return be(I.user,B,"internal-error"),ji._forOperation(I.user,I.operationType,Ur);default:dt(B,"internal-error")}});return function(Qn){return dn.apply(this,arguments)}}())}resolveSignIn(E){var I=this;return(0,y.Z)(function*(){return I.signInResolver(E)})()}}function zs(O,E){var I;const B=(0,h.m9)(O),pe=E;return be(E.customData.operationType,B,"argument-error"),be(null===(I=pe.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,B,"argument-error"),ys._fromError(B,pe)}class ja{constructor(E){this.user=E,this.enrolledFactors=[],E._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(B=>fe._fromServerResponse(E.auth,B)))})}static _fromUser(E){return new ja(E)}getSession(){var E=this;return(0,y.Z)(function*(){return ss._fromIdtoken(yield E.user.getIdToken(),E.user.auth)})()}enroll(E,I){var B=this;return(0,y.Z)(function*(){const pe=E,Fe=yield B.getSession(),Ut=yield ht(B.user,pe._process(B.user.auth,Fe,I));return yield B.user._updateTokensIfNecessary(Ut),B.user.reload()})()}unenroll(E){var I=this;return(0,y.Z)(function*(){const B="string"==typeof E?E:E.uid,pe=yield I.user.getIdToken();try{const Fe=yield ht(I.user,function nu(O,E){return Jt(O,"POST","/v2/accounts/mfaEnrollment:withdraw",yt(O,E))}(I.user.auth,{idToken:pe,mfaEnrollmentId:B}));I.enrolledFactors=I.enrolledFactors.filter(({uid:Ut})=>Ut!==B),yield I.user._updateTokensIfNecessary(Fe),yield I.user.reload()}catch(Fe){throw Fe}})()}}const da=new WeakMap;function Fn(O){const E=(0,h.m9)(O);return da.has(E)||da.set(E,ja._fromUser(E)),da.get(E)}const Di="__sak";class Eo{constructor(E,I){this.storageRetriever=E,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(Di,"1"),this.storage.removeItem(Di),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(E,I){return this.storage.setItem(E,JSON.stringify(I)),Promise.resolve()}_get(E){const I=this.storage.getItem(E);return Promise.resolve(I?JSON.parse(I):null)}_remove(E){return this.storage.removeItem(E),Promise.resolve()}get storage(){return this.storageRetriever()}}const cs=(()=>{class O extends Eo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,B)=>this.onStorageEvent(I,B),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Kl(){const O=(0,h.z$)();return q(O)||It(O)}()&&function nr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=rr(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const B of Object.keys(this.listeners)){const pe=this.storage.getItem(B),Fe=this.localCache[B];pe!==Fe&&I(B,Fe,pe)}}onStorageEvent(I,B=!1){if(!I.key)return void this.forAllChangedKeys((dn,Qn,Tr)=>{this.notifyListeners(dn,Tr)});const pe=I.key;if(B?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const dn=this.storage.getItem(pe);if(I.newValue!==dn)null!==I.newValue?this.storage.setItem(pe,I.newValue):this.storage.removeItem(pe);else if(this.localCache[pe]===I.newValue&&!B)return}const Fe=()=>{const dn=this.storage.getItem(pe);!B&&this.localCache[pe]===dn||this.notifyListeners(pe,dn)},Ut=this.storage.getItem(pe);!function Dn(){return(0,h.w1)()&&10===document.documentMode}()||Ut===I.newValue||I.newValue===I.oldValue?Fe():setTimeout(Fe,10)}notifyListeners(I,B){this.localCache[I]=B;const pe=this.listeners[I];if(pe)for(const Fe of Array.from(pe))Fe(B&&JSON.parse(B))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,B,pe)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:B,newValue:pe}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,B){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(B)}_removeListener(I,B){this.listeners[I]&&(this.listeners[I].delete(B),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,B){var pe=()=>super._set,Fe=this;return(0,y.Z)(function*(){yield pe().call(Fe,I,B),Fe.localCache[I]=JSON.stringify(B)})()}_get(I){var B=()=>super._get,pe=this;return(0,y.Z)(function*(){const Fe=yield B().call(pe,I);return pe.localCache[I]=JSON.stringify(Fe),Fe})()}_remove(I){var B=()=>super._remove,pe=this;return(0,y.Z)(function*(){yield B().call(pe,I),delete pe.localCache[I]})()}}return O.type="LOCAL",O})(),ol=(()=>{class O extends Eo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,B){}_removeListener(I,B){}}return O.type="SESSION",O})();let Mn=(()=>{class O{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const B=this.receivers.find(Fe=>Fe.isListeningto(I));if(B)return B;const pe=new O(I);return this.receivers.push(pe),pe}isListeningto(I){return this.eventTarget===I}handleEvent(I){var B=this;return(0,y.Z)(function*(){const pe=I,{eventId:Fe,eventType:Ut,data:dn}=pe.data,Qn=B.handlersMap[Ut];if(!Qn?.size)return;pe.ports[0].postMessage({status:"ack",eventId:Fe,eventType:Ut});const Tr=Array.from(Qn).map(function(){var ps=(0,y.Z)(function*(_a){return _a(pe.origin,dn)});return function(_a){return ps.apply(this,arguments)}}()),Ur=yield function xd(O){return Promise.all(O.map(function(){var E=(0,y.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(B){return{fulfilled:!1,reason:B}}});return function(I){return E.apply(this,arguments)}}()))}(Tr);pe.ports[0].postMessage({status:"done",eventId:Fe,eventType:Ut,response:Ur})})()}_subscribe(I,B){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(B)}_unsubscribe(I,B){this.handlersMap[I]&&B&&this.handlersMap[I].delete(B),(!B||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return O.receivers=[],O})();function Ms(O="",E=10){let I="";for(let B=0;B<E;B++)I+=Math.floor(10*Math.random());return O+I}class Ws{constructor(E){this.target=E,this.handlers=new Set}removeMessageHandler(E){E.messageChannel&&(E.messageChannel.port1.removeEventListener("message",E.onMessage),E.messageChannel.port1.close()),this.handlers.delete(E)}_send(E,I,B=50){var pe=this;return(0,y.Z)(function*(){const Fe=typeof MessageChannel<"u"?new MessageChannel:null;if(!Fe)throw new Error("connection_unavailable");let Ut,dn;return new Promise((Qn,Tr)=>{const Ur=Ms("",20);Fe.port1.start();const ps=setTimeout(()=>{Tr(new Error("unsupported_event"))},B);dn={messageChannel:Fe,onMessage(_a){const jo=_a;if(jo.data.eventId===Ur)switch(jo.data.status){case"ack":clearTimeout(ps),Ut=setTimeout(()=>{Tr(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ut),Qn(jo.data.response);break;default:clearTimeout(ps),clearTimeout(Ut),Tr(new Error("invalid_response"))}}},pe.handlers.add(dn),Fe.port1.addEventListener("message",dn.onMessage),pe.target.postMessage({eventType:E,eventId:Ur,data:I},[Fe.port2])}).finally(()=>{dn&&pe.removeMessageHandler(dn)})})()}}function ds(){return window}function Cr(){return typeof ds().WorkerGlobalScope<"u"&&"function"==typeof ds().importScripts}function sr(){return(sr=(0,y.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ji="firebaseLocalStorageDb",No="firebaseLocalStorage",fc="fbase_key";class fu{constructor(E){this.request=E}toPromise(){return new Promise((E,I)=>{this.request.addEventListener("success",()=>{E(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function za(O,E){return O.transaction([No],E?"readwrite":"readonly").objectStore(No)}function Cu(){const O=indexedDB.open(Ji,1);return new Promise((E,I)=>{O.addEventListener("error",()=>{I(O.error)}),O.addEventListener("upgradeneeded",()=>{const B=O.result;try{B.createObjectStore(No,{keyPath:fc})}catch(pe){I(pe)}}),O.addEventListener("success",(0,y.Z)(function*(){const B=O.result;B.objectStoreNames.contains(No)?E(B):(B.close(),yield function Qu(){const O=indexedDB.deleteDatabase(Ji);return new fu(O).toPromise()}(),E(yield Cu()))}))})}function ke(O,E,I){return ru.apply(this,arguments)}function ru(){return(ru=(0,y.Z)(function*(O,E,I){const B=za(O,!0).put({[fc]:E,value:I});return new fu(B).toPromise()})).apply(this,arguments)}function Ui(){return(Ui=(0,y.Z)(function*(O,E){const I=za(O,!1).get(E),B=yield new fu(I).toPromise();return void 0===B?null:B.value})).apply(this,arguments)}function qn(O,E){const I=za(O,!0).delete(E);return new fu(I).toPromise()}const br=(()=>{class O{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,y.Z)(function*(){return I.db||(I.db=yield Cu()),I.db})()}_withRetries(I){var B=this;return(0,y.Z)(function*(){let pe=0;for(;;)try{const Fe=yield B._openDb();return yield I(Fe)}catch(Fe){if(pe++>3)throw Fe;B.db&&(B.db.close(),B.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,y.Z)(function*(){return Cr()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,y.Z)(function*(){I.receiver=Mn._getInstance(function Pn(){return Cr()?self:null}()),I.receiver._subscribe("keyChanged",function(){var B=(0,y.Z)(function*(pe,Fe){return{keyProcessed:(yield I._poll()).includes(Fe.key)}});return function(pe,Fe){return B.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var B=(0,y.Z)(function*(pe,Fe){return["keyChanged"]});return function(pe,Fe){return B.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,y.Z)(function*(){var B,pe;if(I.activeServiceWorker=yield function Wo(){return sr.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new Ws(I.activeServiceWorker);const Fe=yield I.sender._send("ping",{},800);Fe&&null!==(B=Fe[0])&&void 0!==B&&B.fulfilled&&null!==(pe=Fe[0])&&void 0!==pe&&pe.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var B=this;return(0,y.Z)(function*(){if(B.sender&&B.activeServiceWorker&&function cn(){var O;return(null===(O=navigator?.serviceWorker)||void 0===O?void 0:O.controller)||null}()===B.activeServiceWorker)try{yield B.sender._send("keyChanged",{key:I},B.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const I=yield Cu();return yield ke(I,Di,"1"),yield qn(I,Di),!0}catch{}return!1})()}_withPendingWrite(I){var B=this;return(0,y.Z)(function*(){B.pendingWrites++;try{yield I()}finally{B.pendingWrites--}})()}_set(I,B){var pe=this;return(0,y.Z)(function*(){return pe._withPendingWrite((0,y.Z)(function*(){return yield pe._withRetries(Fe=>ke(Fe,I,B)),pe.localCache[I]=B,pe.notifyServiceWorker(I)}))})()}_get(I){var B=this;return(0,y.Z)(function*(){const pe=yield B._withRetries(Fe=>function Al(O,E){return Ui.apply(this,arguments)}(Fe,I));return B.localCache[I]=pe,pe})()}_remove(I){var B=this;return(0,y.Z)(function*(){return B._withPendingWrite((0,y.Z)(function*(){return yield B._withRetries(pe=>qn(pe,I)),delete B.localCache[I],B.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,y.Z)(function*(){const B=yield I._withRetries(Ut=>{const dn=za(Ut,!1).getAll();return new fu(dn).toPromise()});if(!B)return[];if(0!==I.pendingWrites)return[];const pe=[],Fe=new Set;for(const{fbase_key:Ut,value:dn}of B)Fe.add(Ut),JSON.stringify(I.localCache[Ut])!==JSON.stringify(dn)&&(I.notifyListeners(Ut,dn),pe.push(Ut));for(const Ut of Object.keys(I.localCache))I.localCache[Ut]&&!Fe.has(Ut)&&(I.notifyListeners(Ut,null),pe.push(Ut));return pe})()}notifyListeners(I,B){this.localCache[I]=B;const pe=this.listeners[I];if(pe)for(const Fe of Array.from(pe))Fe(B)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,B){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(B)}_removeListener(I,B){this.listeners[I]&&(this.listeners[I].delete(B),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return O.type="LOCAL",O})(),ra=1e12;class Vu{constructor(E){this.auth=E,this.counter=ra,this._widgets=new Map}render(E,I){const B=this.counter;return this._widgets.set(B,new gu(E,this.auth.name,I||{})),this.counter++,B}reset(E){var I;const B=E||ra;null===(I=this._widgets.get(B))||void 0===I||I.delete(),this._widgets.delete(B)}getResponse(E){var I;return(null===(I=this._widgets.get(E||ra))||void 0===I?void 0:I.getResponse())||""}execute(E){var I=this;return(0,y.Z)(function*(){var B;return null===(B=I._widgets.get(E||ra))||void 0===B||B.execute(),""})()}}class gu{constructor(E,I,B){this.params=B,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const pe="string"==typeof E?document.getElementById(E):E;be(pe,"argument-error",{appName:I}),this.container=pe,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wu(O){const E=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<O;B++)E.push(I.charAt(Math.floor(62*Math.random())));return E.join("")}(50);const{callback:E,"expired-callback":I}=this.params;if(E)try{E(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const xl=er("rcb"),pc=new st(3e4,6e4);class R{constructor(){var E;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(E=ds().grecaptcha)||void 0===E||!E.render)}load(E,I=""){return be(function $(O){return O.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(O)}(I),E,"argument-error"),this.shouldResolveImmediately(I)&&dr(ds().grecaptcha)?Promise.resolve(ds().grecaptcha):new Promise((B,pe)=>{const Fe=ds().setTimeout(()=>{pe(vt(E,"network-request-failed"))},pc.get());ds()[xl]=()=>{ds().clearTimeout(Fe),delete ds()[xl];const dn=ds().grecaptcha;if(!dn||!dr(dn))return void pe(vt(E,"internal-error"));const Qn=dn.render;dn.render=(Tr,Ur)=>{const ps=Qn(Tr,Ur);return this.counter++,ps},this.hostLanguage=I,B(dn)},Sr(`https://www.google.com/recaptcha/api.js??${(0,h.xO)({onload:xl,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(Fe),pe(vt(E,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(E){var I;return!(null===(I=ds().grecaptcha)||void 0===I||!I.render)&&(E===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class b{load(E){return(0,y.Z)(function*(){return new Vu(E)})()}clearedOneInstance(){}}const G="recaptcha",ae={theme:"light",type:"image"};class Ne{constructor(E,I=Object.assign({},ae),B){this.parameters=I,this.type=G,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=An(B),this.isInvisible="invisible"===this.parameters.size,be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const pe="string"==typeof E?document.getElementById(E):E;be(pe,this.auth,"argument-error"),this.container=pe,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new b:new R,this.validateStartingState()}verify(){var E=this;return(0,y.Z)(function*(){E.assertNotDestroyed();const I=yield E.render(),B=E.getAssertedRecaptcha();return B.getResponse(I)||new Promise(Fe=>{const Ut=dn=>{dn&&(E.tokenChangeListeners.delete(Ut),Fe(dn))};E.tokenChangeListeners.add(Ut),E.isInvisible&&B.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(E){return Promise.reject(E)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(E=>{throw this.renderPromise=null,E})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(E=>{this.container.removeChild(E)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(E){return I=>{if(this.tokenChangeListeners.forEach(B=>B(I)),"function"==typeof E)E(I);else if("string"==typeof E){const B=ds()[E];"function"==typeof B&&B(I)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var E=this;return(0,y.Z)(function*(){if(yield E.init(),!E.widgetId){let I=E.container;if(!E.isInvisible){const B=document.createElement("div");I.appendChild(B),I=B}E.widgetId=E.getAssertedRecaptcha().render(I,E.parameters)}return E.widgetId})()}init(){var E=this;return(0,y.Z)(function*(){be(zt()&&!Cr(),E.auth,"internal-error"),yield function Be(){let O=null;return new Promise(E=>{"complete"!==document.readyState?(O=()=>E(),window.addEventListener("load",O)):E()}).catch(E=>{throw O&&window.removeEventListener("load",O),E})}(),E.recaptcha=yield E._recaptchaLoader.load(E.auth,E.auth.languageCode||void 0);const I=yield function an(O){return Bt.apply(this,arguments)}(E.auth);be(I,E.auth,"internal-error"),E.parameters.sitekey=I})()}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wt{constructor(E,I){this.verificationId=E,this.onConfirmation=I}confirm(E){const I=Yr._fromVerification(this.verificationId,E);return this.onConfirmation(I)}}function rt(O,E,I){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,y.Z)(function*(O,E,I){const B=An(O),pe=yield bu(B,E,(0,h.m9)(I));return new Wt(pe,Fe=>Es(B,Fe))})).apply(this,arguments)}function Mr(O,E,I){return Is.apply(this,arguments)}function Is(){return(Is=(0,y.Z)(function*(O,E,I){const B=(0,h.m9)(O);yield Za(!1,B,"phone");const pe=yield bu(B.auth,E,(0,h.m9)(I));return new Wt(pe,Fe=>$o(B,Fe))})).apply(this,arguments)}function ko(O,E,I){return ha.apply(this,arguments)}function ha(){return(ha=(0,y.Z)(function*(O,E,I){const B=(0,h.m9)(O),pe=yield bu(B.auth,E,(0,h.m9)(I));return new Wt(pe,Fe=>T(B,Fe))})).apply(this,arguments)}function bu(O,E,I){return qo.apply(this,arguments)}function qo(){return qo=(0,y.Z)(function*(O,E,I){var B;const pe=yield I.verify();try{let Fe;if(be("string"==typeof pe,O,"argument-error"),be(I.type===G,O,"argument-error"),Fe="string"==typeof E?{phoneNumber:E}:E,"session"in Fe){const Ut=Fe.session;if("phoneNumber"in Fe)return be("enroll"===Ut.type,O,"internal-error"),(yield function So(O,E){return Jt(O,"POST","/v2/accounts/mfaEnrollment:start",yt(O,E))}(O,{idToken:Ut.credential,phoneEnrollmentInfo:{phoneNumber:Fe.phoneNumber,recaptchaToken:pe}})).phoneSessionInfo.sessionInfo;{be("signin"===Ut.type,O,"internal-error");const dn=(null===(B=Fe.multiFactorHint)||void 0===B?void 0:B.uid)||Fe.multiFactorUid;return be(dn,O,"missing-multi-factor-info"),(yield function Ds(O,E){return Jt(O,"POST","/v2/accounts/mfaSignIn:start",yt(O,E))}(O,{mfaPendingCredential:Ut.credential,mfaEnrollmentId:dn,phoneSignInInfo:{recaptchaToken:pe}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ut}=yield function Mo(O,E){return ro.apply(this,arguments)}(O,{phoneNumber:Fe.phoneNumber,recaptchaToken:pe});return Ut}}finally{I._reset()}}),qo.apply(this,arguments)}function Hu(O,E){return iu.apply(this,arguments)}function iu(){return(iu=(0,y.Z)(function*(O,E){yield ms((0,h.m9)(O),E)})).apply(this,arguments)}let Ql=(()=>{class O{constructor(I){this.providerId=O.PROVIDER_ID,this.auth=An(I)}verifyPhoneNumber(I,B){return bu(this.auth,I,(0,h.m9)(B))}static credential(I,B){return Yr._fromVerification(I,B)}static credentialFromResult(I){return O.credentialFromTaggedObject(I)}static credentialFromError(I){return O.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:B,temporaryProof:pe}=I;return B&&pe?Yr._fromTokenResponse(B,pe):null}}return O.PROVIDER_ID="phone",O.PHONE_SIGN_IN_METHOD="phone",O})();function Fa(O,E){return E?ai(E):(be(O._popupRedirectResolver,O,"argument-error"),O._popupRedirectResolver)}class Fo extends He{constructor(E){super("custom","custom"),this.params=E}_getIdTokenResponse(E){return As(E,this._buildIdpRequest())}_linkToIdToken(E,I){return As(E,this._buildIdpRequest(I))}_getReauthenticationResolver(E){return As(E,this._buildIdpRequest())}_buildIdpRequest(E){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return E&&(I.idToken=E),I}}function La(O){return xs(O.auth,new Fo(O),O.bypassAuthState)}function al(O){const{auth:E,user:I}=O;return be(I,E,"internal-error"),Uo(I,new Fo(O),O.bypassAuthState)}function kc(O){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,y.Z)(function*(O){const{auth:E,user:I}=O;return be(I,E,"internal-error"),ms(I,new Fo(O),O.bypassAuthState)})).apply(this,arguments)}class Ga{constructor(E,I,B,pe,Fe=!1){this.auth=E,this.resolver=B,this.user=pe,this.bypassAuthState=Fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var E=this;return new Promise(function(){var I=(0,y.Z)(function*(B,pe){E.pendingPromise={resolve:B,reject:pe};try{E.eventManager=yield E.resolver._initialize(E.auth),yield E.onExecution(),E.eventManager.registerConsumer(E)}catch(Fe){E.reject(Fe)}});return function(B,pe){return I.apply(this,arguments)}}())}onAuthEvent(E){var I=this;return(0,y.Z)(function*(){const{urlResponse:B,sessionId:pe,postBody:Fe,tenantId:Ut,error:dn,type:Qn}=E;if(dn)return void I.reject(dn);const Tr={auth:I.auth,requestUri:B,sessionId:pe,tenantId:Ut||void 0,postBody:Fe||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(Qn)(Tr))}catch(Ur){I.reject(Ur)}})()}onError(E){this.reject(E)}getIdpTask(E){switch(E){case"signInViaPopup":case"signInViaRedirect":return La;case"linkViaPopup":case"linkViaRedirect":return kc;case"reauthViaPopup":case"reauthViaRedirect":return al;default:dt(this.auth,"internal-error")}}resolve(E){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(E),this.unregisterAndCleanUp()}reject(E){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(E),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ju=new st(2e3,1e4);function _s(O,E,I){return zu.apply(this,arguments)}function zu(){return(zu=(0,y.Z)(function*(O,E,I){const B=An(O);Dt(O,E,nt);const pe=Fa(B,I);return new gc(B,"signInViaPopup",E,pe).executeNotNull()})).apply(this,arguments)}function Xl(O,E,I){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,y.Z)(function*(O,E,I){const B=(0,h.m9)(O);Dt(B.auth,E,nt);const pe=Fa(B.auth,I);return new gc(B.auth,"reauthViaPopup",E,pe,B).executeNotNull()})).apply(this,arguments)}function ul(O,E,I){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,y.Z)(function*(O,E,I){const B=(0,h.m9)(O);Dt(B.auth,E,nt);const pe=Fa(B.auth,I);return new gc(B.auth,"linkViaPopup",E,pe,B).executeNotNull()})).apply(this,arguments)}let gc=(()=>{class O extends Ga{constructor(I,B,pe,Fe,Ut){super(I,B,Fe,Ut),this.provider=pe,this.authWindow=null,this.pollId=null,O.currentPopupAction&&O.currentPopupAction.cancel(),O.currentPopupAction=this}executeNotNull(){var I=this;return(0,y.Z)(function*(){const B=yield I.execute();return be(B,I.auth,"internal-error"),B})()}onExecution(){var I=this;return(0,y.Z)(function*(){tt(1===I.filter.length,"Popup operations only handle one event");const B=Ms();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],B),I.authWindow.associatedEvent=B,I.resolver._originValidation(I.auth).catch(pe=>{I.reject(pe)}),I.resolver._isIframeWebStorageSupported(I.auth,pe=>{pe||I.reject(vt(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,O.currentPopupAction=null}pollUserCancellation(){const I=()=>{var B,pe;this.pollId=null!==(pe=null===(B=this.authWindow)||void 0===B?void 0:B.window)&&void 0!==pe&&pe.closed?window.setTimeout(()=>{this.pollId=null,this.reject(vt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(I,ju.get())};I()}}return O.currentPopupAction=null,O})();const Md="pendingRedirect",Su=new Map;class nh extends Ga{constructor(E,I,B=!1){super(E,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,B),this.eventId=null}execute(){var E=()=>super.execute,I=this;return(0,y.Z)(function*(){let B=Su.get(I.auth._key());if(!B){try{const Fe=(yield function rh(O,E){return Do.apply(this,arguments)}(I.resolver,I.auth))?yield E().call(I):null;B=()=>Promise.resolve(Fe)}catch(pe){B=()=>Promise.reject(pe)}Su.set(I.auth._key(),B)}return I.bypassAuthState||Su.set(I.auth._key(),()=>Promise.resolve(null)),B()})()}onAuthEvent(E){var I=()=>super.onAuthEvent,B=this;return(0,y.Z)(function*(){if("signInViaRedirect"===E.type)return I().call(B,E);if("unknown"!==E.type){if(E.eventId){const pe=yield B.auth._redirectUserForId(E.eventId);if(pe)return B.user=pe,I().call(B,E);B.resolve(null)}}else B.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function Do(){return(Do=(0,y.Z)(function*(O,E){const I=Pl(E),B=Au(O);if(!(yield B._isAvailable()))return!1;const pe="true"===(yield B._get(I));return yield B._remove(I),pe})).apply(this,arguments)}function Gu(O,E){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,y.Z)(function*(O,E){return Au(O)._set(Pl(E),"true")})).apply(this,arguments)}function Wu(){Su.clear()}function mc(O,E){Su.set(O._key(),E)}function Au(O){return ai(O._redirectPersistence)}function Pl(O){return ui(Md,O.config.apiKey,O.name)}function yc(O,E,I){return function Lo(O,E,I){return Jl.apply(this,arguments)}(O,E,I)}function Jl(){return(Jl=(0,y.Z)(function*(O,E,I){const B=An(O);Dt(O,E,nt),yield B._initializationPromise;const pe=Fa(B,I);return yield Gu(pe,B),pe._openRedirect(B,E,"signInViaRedirect")})).apply(this,arguments)}function cd(O,E,I){return function Lc(O,E,I){return ll.apply(this,arguments)}(O,E,I)}function ll(){return(ll=(0,y.Z)(function*(O,E,I){const B=(0,h.m9)(O);Dt(B.auth,E,nt),yield B.auth._initializationPromise;const pe=Fa(B.auth,I);yield Gu(pe,B.auth);const Fe=yield ia(B);return pe._openRedirect(B.auth,E,"reauthViaRedirect",Fe)})).apply(this,arguments)}function mu(O,E,I){return function Io(O,E,I){return cl.apply(this,arguments)}(O,E,I)}function cl(){return(cl=(0,y.Z)(function*(O,E,I){const B=(0,h.m9)(O);Dt(B.auth,E,nt),yield B.auth._initializationPromise;const pe=Fa(B.auth,I);yield Za(!1,B,E.providerId),yield Gu(pe,B.auth);const Fe=yield ia(B);return pe._openRedirect(B.auth,E,"linkViaRedirect",Fe)})).apply(this,arguments)}function xu(O,E){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,y.Z)(function*(O,E){return yield An(O)._initializationPromise,bs(O,E,!1)})).apply(this,arguments)}function bs(O,E){return su.apply(this,arguments)}function su(){return(su=(0,y.Z)(function*(O,E,I=!1){const B=An(O),pe=Fa(B,E),Ut=yield new nh(B,pe,I).execute();return Ut&&!I&&(delete Ut.user._redirectEventId,yield B._persistUserIfCurrent(Ut.user),yield B._setRedirectUser(null,E)),Ut})).apply(this,arguments)}function ia(O){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,y.Z)(function*(O){const E=Ms(`${O.uid}:::`);return O._redirectEventId=E,yield O.auth._setRedirectUser(O),yield O.auth._persistUserIfCurrent(O),E})).apply(this,arguments)}class yu{constructor(E){this.auth=E,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(E){this.consumers.add(E),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,E)&&(this.sendToConsumer(this.queuedRedirectEvent,E),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(E){this.consumers.delete(E)}onEvent(E){if(this.hasEventBeenHandled(E))return!1;let I=!1;return this.consumers.forEach(B=>{this.isEventForConsumer(E,B)&&(I=!0,this.sendToConsumer(E,B),this.saveEventToCache(E))}),this.hasHandledPotentialRedirect||!function Rl(O){switch(O.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bc(O);default:return!1}}(E)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=E,I=!0)),I}sendToConsumer(E,I){var B;if(E.error&&!Bc(E)){const pe=(null===(B=E.error.code)||void 0===B?void 0:B.split("auth/")[1])||"internal-error";I.onError(vt(this.auth,pe))}else I.onAuthEvent(E)}isEventForConsumer(E,I){const B=null===I.eventId||!!E.eventId&&E.eventId===I.eventId;return I.filter.includes(E.type)&&B}hasEventBeenHandled(E){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sa(E))}saveEventToCache(E){this.cachedEventUids.add(Sa(E)),this.lastProcessedEventTime=Date.now()}}function Sa(O){return[O.type,O.eventId,O.sessionId,O.tenantId].filter(E=>E).join("-")}function Bc({type:O,error:E}){return"unknown"===O&&"auth/no-auth-event"===E?.code}function Ao(O){return hl.apply(this,arguments)}function hl(){return(hl=(0,y.Z)(function*(O,E={}){return Jt(O,"GET","/v1/projects",E)})).apply(this,arguments)}const _o=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qs=/^https?/;function Ol(){return(Ol=(0,y.Z)(function*(O){if(O.config.emulator)return;const{authorizedDomains:E}=yield Ao(O);for(const I of E)try{if(Aa(I))return}catch{}dt(O,"unauthorized-domain")})).apply(this,arguments)}function Aa(O){const E=Ft(),{protocol:I,hostname:B}=new URL(E);if(O.startsWith("chrome-extension://")){const Ut=new URL(O);return""===Ut.hostname&&""===B?"chrome-extension:"===I&&O.replace("chrome-extension://","")===E.replace("chrome-extension://",""):"chrome-extension:"===I&&Ut.hostname===B}if(!qs.test(I))return!1;if(_o.test(O))return B===O;const pe=O.replace(/\./g,"\\.");return new RegExp("^(.+\\."+pe+"|"+pe+")$","i").test(B)}const ya=new st(3e4,6e4);function Nl(){const O=ds().___jsl;if(O?.H)for(const E of Object.keys(O.H))if(O.H[E].r=O.H[E].r||[],O.H[E].L=O.H[E].L||[],O.H[E].r=[...O.H[E].L],O.CP)for(let I=0;I<O.CP.length;I++)O.CP[I]=null}let xa=null;const Pu=new st(5e3,15e3),Ma="__/auth/iframe",Ru="emulator/auth/iframe",Ho={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vu(O){const E=O.config;be(E.authDomain,O,"auth-domain-config-required");const I=E.emulator?Ye(E,Ru):`https://${O.config.authDomain}/${Ma}`,B={apiKey:E.apiKey,appName:O.name,v:K.SDK_VERSION},pe=fl.get(O.config.apiHost);pe&&(B.eid=pe);const Fe=O._getFrameworks();return Fe.length&&(B.fw=Fe.join(",")),`${I}?${(0,h.xO)(B).slice(1)}`}function Ci(){return Ci=(0,y.Z)(function*(O){const E=yield function _u(O){return xa=xa||function ou(O){return new Promise((E,I)=>{var B,pe,Fe;function Ut(){Nl(),gapi.load("gapi.iframes",{callback:()=>{E(gapi.iframes.getContext())},ontimeout:()=>{Nl(),I(vt(O,"network-request-failed"))},timeout:ya.get()})}if(null!==(pe=null===(B=ds().gapi)||void 0===B?void 0:B.iframes)&&void 0!==pe&&pe.Iframe)E(gapi.iframes.getContext());else{if(null===(Fe=ds().gapi)||void 0===Fe||!Fe.load){const dn=er("iframefcb");return ds()[dn]=()=>{gapi.load?Ut():I(vt(O,"network-request-failed"))},Sr(`https://apis.google.com/js/api.js?onload=${dn}`).catch(Qn=>I(Qn))}Ut()}}).catch(E=>{throw xa=null,E})}(O),xa}(O),I=ds().gapi;return be(I,O,"internal-error"),E.open({where:document.body,url:vu(O),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ho,dontclear:!0},B=>new Promise(function(){var pe=(0,y.Z)(function*(Fe,Ut){yield B.restyle({setHideOnLeave:!1});const dn=vt(O,"network-request-failed"),Qn=ds().setTimeout(()=>{Ut(dn)},Pu.get());function Tr(){ds().clearTimeout(Qn),Fe(B)}B.ping(Tr).then(Tr,()=>{Ut(dn)})});return function(Fe,Ut){return pe.apply(this,arguments)}}()))}),Ci.apply(this,arguments)}const F={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qt{constructor(E){this.window=E,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ur="__/auth/handler",Hr="emulator/auth/handler",wi=encodeURIComponent("fac");function di(O,E,I,B,pe,Fe){return qi.apply(this,arguments)}function qi(){return(qi=(0,y.Z)(function*(O,E,I,B,pe,Fe){be(O.config.authDomain,O,"auth-domain-config-required"),be(O.config.apiKey,O,"invalid-api-key");const Ut={apiKey:O.config.apiKey,appName:O.name,authType:I,redirectUrl:B,v:K.SDK_VERSION,eventId:pe};if(E instanceof nt){E.setDefaultLanguage(O.languageCode),Ut.providerId=E.providerId||"",(0,h.xb)(E.getCustomParameters())||(Ut.customParameters=JSON.stringify(E.getCustomParameters()));for(const[Ur,ps]of Object.entries(Fe||{}))Ut[Ur]=ps}if(E instanceof gt){const Ur=E.getScopes().filter(ps=>""!==ps);Ur.length>0&&(Ut.scopes=Ur.join(","))}O.tenantId&&(Ut.tid=O.tenantId);const dn=Ut;for(const Ur of Object.keys(dn))void 0===dn[Ur]&&delete dn[Ur];const Qn=yield O._getAppCheckToken(),Tr=Qn?`#${wi}=${encodeURIComponent(Qn)}`:"";return`${function fo({config:O}){return O.emulator?Ye(O,Hr):`https://${O.authDomain}/${ur}`}(O)}?${(0,h.xO)(dn).slice(1)}${Tr}`})).apply(this,arguments)}const Cs="webStorageSupport",au=class Pa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ol,this._completeRedirectFn=bs,this._overrideRedirectResult=mc}_openPopup(E,I,B,pe){var Fe=this;return(0,y.Z)(function*(){var Ut;tt(null===(Ut=Fe.eventManagers[E._key()])||void 0===Ut?void 0:Ut.manager,"_initialize() not called before _openPopup()");const dn=yield di(E,I,B,Ft(),pe);return function fn(O,E,I,B=500,pe=600){const Fe=Math.max((window.screen.availHeight-pe)/2,0).toString(),Ut=Math.max((window.screen.availWidth-B)/2,0).toString();let dn="";const Qn=Object.assign(Object.assign({},F),{width:B.toString(),height:pe.toString(),top:Fe,left:Ut}),Tr=(0,h.z$)().toLowerCase();I&&(dn=X(Tr)?"_blank":I),te(Tr)&&(E=E||"http://localhost",Qn.scrollbars="yes");const Ur=Object.entries(Qn).reduce((_a,[jo,Fl])=>`${_a}${jo}=${Fl},`,"");if(function tn(O=(0,h.z$)()){var E;return It(O)&&!(null===(E=window.navigator)||void 0===E||!E.standalone)}(Tr)&&"_self"!==dn)return function pr(O,E){const I=document.createElement("a");I.href=O,I.target=E;const B=document.createEvent("MouseEvent");B.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(B)}(E||"",dn),new Qt(null);const ps=window.open(E||"",dn,Ur);be(ps,O,"popup-blocked");try{ps.focus()}catch{}return new Qt(ps)}(E,dn,Ms())})()}_openRedirect(E,I,B,pe){var Fe=this;return(0,y.Z)(function*(){return yield Fe._originValidation(E),function ar(O){ds().location.href=O}(yield di(E,I,B,Ft(),pe)),new Promise(()=>{})})()}_initialize(E){const I=E._key();if(this.eventManagers[I]){const{manager:pe,promise:Fe}=this.eventManagers[I];return pe?Promise.resolve(pe):(tt(Fe,"If manager is not set, promise should be"),Fe)}const B=this.initAndGetManager(E);return this.eventManagers[I]={promise:B},B.catch(()=>{delete this.eventManagers[I]}),B}initAndGetManager(E){var I=this;return(0,y.Z)(function*(){const B=yield function pl(O){return Ci.apply(this,arguments)}(E),pe=new yu(E);return B.register("authEvent",Fe=>(be(Fe?.authEvent,E,"invalid-auth-event"),{status:pe.onEvent(Fe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[E._key()]={manager:pe},I.iframes[E._key()]=B,pe})()}_isIframeWebStorageSupported(E,I){this.iframes[E._key()].send(Cs,{type:Cs},pe=>{var Fe;const Ut=null===(Fe=pe?.[0])||void 0===Fe?void 0:Fe[Cs];void 0!==Ut&&I(!!Ut),dt(E,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(E){const I=E._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function ma(O){return Ol.apply(this,arguments)}(E)),this.originValidationPromises[I]}get _shouldInitProactively(){return rr()||q()||It()}};class Ba{constructor(E){this.factorId=E}_process(E,I,B){switch(I.type){case"enroll":return this._finalizeEnroll(E,I.credential,B);case"signin":return this._finalizeSignIn(E,I.credential);default:return $t("unexpected MultiFactorSessionType")}}}class Yo extends Ba{constructor(E){super("phone"),this.credential=E}static _fromCredential(E){return new Yo(E)}_finalizeEnroll(E,I,B){return function co(O,E){return Jt(O,"POST","/v2/accounts/mfaEnrollment:finalize",yt(O,E))}(E,{idToken:I,displayName:B,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(E,I){return function hs(O,E){return Jt(O,"POST","/v2/accounts/mfaSignIn:finalize",yt(O,E))}(E,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wa=(()=>{class O{constructor(){}static assertion(I){return Yo._fromCredential(I)}}return O.FACTOR_ID="phone",O})();var qu="@firebase/auth";class _c{constructor(E){this.auth=E,this.internalListeners=new Map}getUid(){var E;return this.assertAuthConfigured(),(null===(E=this.auth.currentUser)||void 0===E?void 0:E.uid)||null}getToken(E){var I=this;return(0,y.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(E)}:null})()}addAuthTokenListener(E){if(this.assertAuthConfigured(),this.internalListeners.has(E))return;const I=this.auth.onIdTokenChanged(B=>{E(B?.stsTokenManager.accessToken||null)});this.internalListeners.set(E,I),this.updateProactiveRefresh()}removeAuthTokenListener(E){this.assertAuthConfigured();const I=this.internalListeners.get(E);I&&(this.internalListeners.delete(E),I(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,h.Pz)("authIdTokenMaxAge"),function Vh(O){(0,K._registerComponent)(new me.wA("auth",(E,{options:I})=>{const B=E.getProvider("app").getImmediate(),pe=E.getProvider("heartbeat"),Fe=E.getProvider("app-check-internal"),{apiKey:Ut,authDomain:dn}=B.options;be(Ut&&!Ut.includes(":"),"invalid-api-key",{appName:B.name});const Qn={apiKey:Ut,authDomain:dn,clientPlatform:O,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Or(O)},Tr=new Zt(B,pe,Fe,Qn);return function ns(O,E){const I=E?.persistence||[],B=(Array.isArray(I)?I:[I]).map(ai);E?.errorMap&&O._updateErrorMap(E.errorMap),O._initializeWithPersistence(B,E?.popupRedirectResolver)}(Tr,I),Tr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((E,I,B)=>{E.getProvider("auth-internal").initialize()})),(0,K._registerComponent)(new me.wA("auth-internal",E=>{const I=An(E.getProvider("auth").getImmediate());return new _c(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,K.registerVersion)(qu,"0.23.2",function vc(O){switch(O){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(O)),(0,K.registerVersion)(qu,"0.23.2","esm2017")}("Browser")},9362:(xn,bt,k)=>{"use strict";k.d(bt,{$Y:()=>hi,B0:()=>no,FN:()=>Bs,IX:()=>se,Jt:()=>vi,UJ:()=>xr,Ym:()=>Mo,a1:()=>ea,aF:()=>ri,bm:()=>Ht,cF:()=>io,g6:()=>wo,gE:()=>Et,gH:()=>tt,iH:()=>Po,oq:()=>Oa,pb:()=>ro,qm:()=>ge,sd:()=>Wi,sf:()=>xo,y4:()=>zt});var y=k(5861),h=k(5752),K=k(5578),P=k(1617);const Te="firebasestorage.googleapis.com",me="storageBucket";class De extends K.ZR{constructor(ce,nt,gt=0){super(we(ce),`Firebase Storage: ${nt} (${we(ce)})`),this.status_=gt,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,De.prototype)}get status(){return this.status_}set status(ce){this.status_=ce}_codeEquals(ce){return we(ce)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(ce){this.customData.serverResponse=ce,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ye=(()=>((ye=ye||{}).UNKNOWN="unknown",ye.OBJECT_NOT_FOUND="object-not-found",ye.BUCKET_NOT_FOUND="bucket-not-found",ye.PROJECT_NOT_FOUND="project-not-found",ye.QUOTA_EXCEEDED="quota-exceeded",ye.UNAUTHENTICATED="unauthenticated",ye.UNAUTHORIZED="unauthorized",ye.UNAUTHORIZED_APP="unauthorized-app",ye.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ye.INVALID_CHECKSUM="invalid-checksum",ye.CANCELED="canceled",ye.INVALID_EVENT_NAME="invalid-event-name",ye.INVALID_URL="invalid-url",ye.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ye.NO_DEFAULT_BUCKET="no-default-bucket",ye.CANNOT_SLICE_BLOB="cannot-slice-blob",ye.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ye.NO_DOWNLOAD_URL="no-download-url",ye.INVALID_ARGUMENT="invalid-argument",ye.INVALID_ARGUMENT_COUNT="invalid-argument-count",ye.APP_DELETED="app-deleted",ye.INVALID_ROOT_OPERATION="invalid-root-operation",ye.INVALID_FORMAT="invalid-format",ye.INTERNAL_ERROR="internal-error",ye.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ye))();function we(Ce){return"storage/"+Ce}function Ve(){return new De(ye.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function _e(){return new De(ye.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mt(){return new De(ye.CANCELED,"User canceled the upload/download.")}function Dt(){return new De(ye.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tt(Ce){return new De(ye.INVALID_ARGUMENT,Ce)}function Ft(){return new De(ye.APP_DELETED,"The Firebase app was deleted.")}function zt(Ce){return new De(ye.INVALID_ROOT_OPERATION,"The operation '"+Ce+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vt(Ce,ce){return new De(ye.INVALID_FORMAT,"String does not match format '"+Ce+"': "+ce)}function Sn(Ce){throw new De(ye.INTERNAL_ERROR,"Internal error: "+Ce)}class Et{constructor(ce,nt){this.bucket=ce,this.path_=nt}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const ce=encodeURIComponent;return"/b/"+ce(this.bucket)+"/o/"+ce(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(ce,nt){let gt;try{gt=Et.makeFromUrl(ce,nt)}catch{return new Et(ce,"")}if(""===gt.path)return gt;throw function vt(Ce){return new De(ye.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Ce+"'.")}(ce)}static makeFromUrl(ce,nt){let gt=null;const At="([A-Za-z0-9.\\-_]+)",hr=new RegExp("^gs://"+At+"(/(.*))?$","i");function Gr(Xi){Xi.path_=decodeURIComponent(Xi.path)}const ii=nt.replace(/[.]/g,"\\."),fi=[{regex:hr,indices:{bucket:1,path:3},postModify:function yn(Xi){"/"===Xi.path.charAt(Xi.path.length-1)&&(Xi.path_=Xi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${ii}/v[A-Za-z0-9_]+/b/${At}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Gr},{regex:new RegExp(`^https?://${nt===Te?"(?:storage.googleapis.com|storage.cloud.google.com)":nt}/${At}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Gr}];for(let Xi=0;Xi<fi.length;Xi++){const Ai=fi[Xi],xi=Ai.regex.exec(ce);if(xi){let ms=xi[Ai.indices.path];ms||(ms=""),gt=new Et(xi[Ai.indices.bucket],ms),Ai.postModify(gt);break}}if(null==gt)throw function dt(Ce){return new De(ye.INVALID_URL,"Invalid URL '"+Ce+"'.")}(ce);return gt}}class st{constructor(ce){this.promise_=Promise.reject(ce)}getPromise(){return this.promise_}cancel(ce=!1){}}function Jt(Ce){return"string"==typeof Ce||Ce instanceof String}function Nn(Ce){return mn()&&Ce instanceof Blob}function mn(){return typeof Blob<"u"&&!(0,K.UG)()}function On(Ce,ce,nt,gt){if(gt<ce)throw tt(`Invalid value for '${Ce}'. Expected ${ce} or greater.`);if(gt>nt)throw tt(`Invalid value for '${Ce}'. Expected ${nt} or less.`)}function St(Ce,ce,nt){let gt=ce;return null==nt&&(gt=`https://${ce}`),`${nt}://${gt}/v0${Ce}`}function hn(Ce){const ce=encodeURIComponent;let nt="?";for(const gt in Ce)Ce.hasOwnProperty(gt)&&(nt=nt+(ce(gt)+"=")+ce(Ce[gt])+"&");return nt=nt.slice(0,-1),nt}var Yt=(()=>((Yt=Yt||{})[Yt.NO_ERROR=0]="NO_ERROR",Yt[Yt.NETWORK_ERROR=1]="NETWORK_ERROR",Yt[Yt.ABORT=2]="ABORT",Yt))();function ct(Ce,ce){const nt=Ce>=500&&Ce<600,At=-1!==[408,429].indexOf(Ce),yn=-1!==ce.indexOf(Ce);return nt||At||yn}class Xt{constructor(ce,nt,gt,At,yn,$n,hr,fr,Gr,mi,ii,rs=!0){this.url_=ce,this.method_=nt,this.headers_=gt,this.body_=At,this.successCodes_=yn,this.additionalRetryCodes_=$n,this.callback_=hr,this.errorCallback_=fr,this.timeout_=Gr,this.progressCallback_=mi,this.connectionFactory_=ii,this.retry=rs,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Oi,Ns)=>{this.resolve_=Oi,this.reject_=Ns,this.start_()})}start_(){const nt=(gt,At)=>{const yn=this.resolve_,$n=this.reject_,hr=At.connection;if(At.wasSuccessCode)try{const fr=this.callback_(hr,hr.getResponse());!function Qe(Ce){return void 0!==Ce}(fr)?yn():yn(fr)}catch(fr){$n(fr)}else if(null!==hr){const fr=Ve();fr.serverResponse=hr.getErrorText(),$n(this.errorCallback_?this.errorCallback_(hr,fr):fr)}else $n(At.canceled?this.appDelete_?Ft():mt():_e())};this.canceled_?nt(0,new Tt(!1,null,!0)):this.backoffId_=function Ye(Ce,ce,nt){let gt=1,At=null,yn=null,$n=!1,hr=0;function fr(){return 2===hr}let Gr=!1;function mi(...Si){Gr||(Gr=!0,ce.apply(null,Si))}function ii(Si){At=setTimeout(()=>{At=null,Ce(Oi,fr())},Si)}function rs(){yn&&clearTimeout(yn)}function Oi(Si,...Vs){if(Gr)return void rs();if(Si)return rs(),void mi.call(null,Si,...Vs);if(fr()||$n)return rs(),void mi.call(null,Si,...Vs);let fi;gt<64&&(gt*=2),1===hr?(hr=2,fi=0):fi=1e3*(gt+Math.random()),ii(fi)}let Ns=!1;function ji(Si){Ns||(Ns=!0,rs(),!Gr&&(null!==At?(Si||(hr=2),clearTimeout(At),ii(0)):Si||(hr=1)))}return ii(0),yn=setTimeout(()=>{$n=!0,ji(!0)},nt),ji}((gt,At)=>{if(At)return void gt(!1,new Tt(!1,null,!0));const yn=this.connectionFactory_();this.pendingConnection_=yn;const $n=hr=>{null!==this.progressCallback_&&this.progressCallback_(hr.loaded,hr.lengthComputable?hr.total:-1)};null!==this.progressCallback_&&yn.addUploadProgressListener($n),yn.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&yn.removeUploadProgressListener($n),this.pendingConnection_=null;const hr=yn.getErrorCode()===Yt.NO_ERROR,fr=yn.getStatus();if(!hr||ct(fr,this.additionalRetryCodes_)&&this.retry){const mi=yn.getErrorCode()===Yt.ABORT;return void gt(!1,new Tt(!1,null,mi))}const Gr=-1!==this.successCodes_.indexOf(fr);gt(!0,new Tt(Gr,yn))})},nt,this.timeout_)}getPromise(){return this.promise_}cancel(ce){this.canceled_=!0,this.appDelete_=ce||!1,null!==this.backoffId_&&function Ue(Ce){Ce(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Tt{constructor(ce,nt,gt){this.wasSuccessCode=ce,this.connection=nt,this.canceled=!!gt}}function Jn(...Ce){const ce=function bn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==ce){const nt=new ce;for(let gt=0;gt<Ce.length;gt++)nt.append(Ce[gt]);return nt.getBlob()}if(mn())return new Blob(Ce);throw new De(ye.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ht={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vn{constructor(ce,nt){this.data=ce,this.contentType=nt||null}}function ge(Ce,ce){switch(Ce){case Ht.RAW:return new vn(ht(ce));case Ht.BASE64:case Ht.BASE64URL:return new vn(Wn(Ce,ce));case Ht.DATA_URL:return new vn(function Wr(Ce){const ce=new nn(Ce);return ce.base64?Wn(Ht.BASE64,ce.rest):function Ot(Ce){let ce;try{ce=decodeURIComponent(Ce)}catch{throw Vt(Ht.DATA_URL,"Malformed data URL.")}return ht(ce)}(ce.rest)}(ce),function ei(Ce){return new nn(Ce).contentType}(ce))}throw Ve()}function ht(Ce){const ce=[];for(let nt=0;nt<Ce.length;nt++){let gt=Ce.charCodeAt(nt);gt<=127?ce.push(gt):gt<=2047?ce.push(192|gt>>6,128|63&gt):55296==(64512&gt)?nt<Ce.length-1&&56320==(64512&Ce.charCodeAt(nt+1))?(gt=65536|(1023&gt)<<10|1023&Ce.charCodeAt(++nt),ce.push(240|gt>>18,128|gt>>12&63,128|gt>>6&63,128|63&gt)):ce.push(239,191,189):56320==(64512&gt)?ce.push(239,191,189):ce.push(224|gt>>12,128|gt>>6&63,128|63&gt)}return new Uint8Array(ce)}function Wn(Ce,ce){switch(Ce){case Ht.BASE64:{const At=-1!==ce.indexOf("-"),yn=-1!==ce.indexOf("_");if(At||yn)throw Vt(Ce,"Invalid character '"+(At?"-":"_")+"' found: is it base64url encoded?");break}case Ht.BASE64URL:{const At=-1!==ce.indexOf("+"),yn=-1!==ce.indexOf("/");if(At||yn)throw Vt(Ce,"Invalid character '"+(At?"+":"/")+"' found: is it base64 encoded?");ce=ce.replace(/-/g,"+").replace(/_/g,"/");break}}let nt;try{nt=function Er(Ce){if(typeof atob>"u")throw function $t(Ce){return new De(ye.UNSUPPORTED_ENVIRONMENT,`${Ce} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Ce)}(ce)}catch(At){throw At.message.includes("polyfill")?At:Vt(Ce,"Invalid character found")}const gt=new Uint8Array(nt.length);for(let At=0;At<nt.length;At++)gt[At]=nt.charCodeAt(At);return gt}class nn{constructor(ce){this.base64=!1,this.contentType=null;const nt=ce.match(/^data:([^,]+)?,/);if(null===nt)throw Vt(Ht.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const gt=nt[1]||null;null!=gt&&(this.base64=function qr(Ce,ce){return Ce.length>=ce.length&&Ce.substring(Ce.length-ce.length)===ce}(gt,";base64"),this.contentType=this.base64?gt.substring(0,gt.length-7):gt),this.rest=ce.substring(ce.indexOf(",")+1)}}class xr{constructor(ce,nt){let gt=0,At="";Nn(ce)?(this.data_=ce,gt=ce.size,At=ce.type):ce instanceof ArrayBuffer?(nt?this.data_=new Uint8Array(ce):(this.data_=new Uint8Array(ce.byteLength),this.data_.set(new Uint8Array(ce))),gt=this.data_.length):ce instanceof Uint8Array&&(nt?this.data_=ce:(this.data_=new Uint8Array(ce.length),this.data_.set(ce)),gt=ce.length),this.size_=gt,this.type_=At}size(){return this.size_}type(){return this.type_}slice(ce,nt){if(Nn(this.data_)){const At=function Qr(Ce,ce,nt){return Ce.webkitSlice?Ce.webkitSlice(ce,nt):Ce.mozSlice?Ce.mozSlice(ce,nt):Ce.slice?Ce.slice(ce,nt):null}(this.data_,ce,nt);return null===At?null:new xr(At)}{const gt=new Uint8Array(this.data_.buffer,ce,nt-ce);return new xr(gt,!0)}}static getBlob(...ce){if(mn()){const nt=ce.map(gt=>gt instanceof xr?gt.data_:gt);return new xr(Jn.apply(null,nt))}{const nt=ce.map($n=>Jt($n)?ge(Ht.RAW,$n).data:$n.data_);let gt=0;nt.forEach($n=>{gt+=$n.byteLength});const At=new Uint8Array(gt);let yn=0;return nt.forEach($n=>{for(let hr=0;hr<$n.length;hr++)At[yn++]=$n[hr]}),new xr(At,!0)}}uploadData(){return this.data_}}function Un(Ce){let ce;try{ce=JSON.parse(Ce)}catch{return null}return function yt(Ce){return"object"==typeof Ce&&!Array.isArray(Ce)}(ce)?ce:null}function Mi(Ce){const ce=Ce.lastIndexOf("/",Ce.length-2);return-1===ce?Ce:Ce.slice(ce+1)}function Pi(Ce,ce){return ce}class jr{constructor(ce,nt,gt,At){this.server=ce,this.local=nt||ce,this.writable=!!gt,this.xform=At||Pi}}let Le=null;function Pr(){if(Le)return Le;const Ce=[];Ce.push(new jr("bucket")),Ce.push(new jr("generation")),Ce.push(new jr("metageneration")),Ce.push(new jr("name","fullPath",!0));const nt=new jr("name");nt.xform=function ce(yn,$n){return function Ti(Ce){return!Jt(Ce)||Ce.length<2?Ce:Mi(Ce)}($n)},Ce.push(nt);const At=new jr("size");return At.xform=function gt(yn,$n){return void 0!==$n?Number($n):$n},Ce.push(At),Ce.push(new jr("timeCreated")),Ce.push(new jr("updated")),Ce.push(new jr("md5Hash",null,!0)),Ce.push(new jr("cacheControl",null,!0)),Ce.push(new jr("contentDisposition",null,!0)),Ce.push(new jr("contentEncoding",null,!0)),Ce.push(new jr("contentLanguage",null,!0)),Ce.push(new jr("contentType",null,!0)),Ce.push(new jr("metadata","customMetadata",!0)),Le=Ce,Le}function ti(Ce,ce,nt){const gt=Un(ce);return null===gt?null:function Gi(Ce,ce,nt){const gt={type:"file"},At=nt.length;for(let yn=0;yn<At;yn++){const $n=nt[yn];gt[$n.local]=$n.xform(gt,ce[$n.server])}return function ai(Ce,ce){Object.defineProperty(Ce,"ref",{get:function nt(){const yn=new Et(Ce.bucket,Ce.fullPath);return ce._makeStorageReference(yn)}})}(gt,Ce),gt}(Ce,gt,nt)}function lt(Ce,ce){const nt={},gt=ce.length;for(let At=0;At<gt;At++){const yn=ce[At];yn.writable&&(nt[yn.server]=Ce[yn.local])}return JSON.stringify(nt)}const Ee="prefixes",te="items";class $e{constructor(ce,nt,gt,At){this.url=ce,this.method=nt,this.handler=gt,this.timeout=At,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Se(Ce){if(!Ce)throw Ve()}function ve(Ce,ce){return function nt(gt,At){const yn=ti(Ce,At,ce);return Se(null!==yn),yn}}function sn(Ce){return function ce(nt,gt){let At;return At=401===nt.getStatus()?nt.getErrorText().includes("Firebase App Check token is invalid")?function ze(){return new De(ye.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Mt(){return new De(ye.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===nt.getStatus()?function at(Ce){return new De(ye.QUOTA_EXCEEDED,"Quota for bucket '"+Ce+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Ce.bucket):403===nt.getStatus()?function Ge(Ce){return new De(ye.UNAUTHORIZED,"User does not have permission to access '"+Ce+"'.")}(Ce.path):gt,At.status=nt.getStatus(),At.serverResponse=gt.serverResponse,At}}function tn(Ce){const ce=sn(Ce);return function nt(gt,At){let yn=ce(gt,At);return 404===gt.getStatus()&&(yn=function je(Ce){return new De(ye.OBJECT_NOT_FOUND,"Object '"+Ce+"' does not exist.")}(Ce.path)),yn.serverResponse=At.serverResponse,yn}}function Dn(Ce,ce,nt){const At=St(ce.fullServerUrl(),Ce.host,Ce._protocol),$n=Ce.maxOperationRetryTime,hr=new $e(At,"GET",ve(Ce,nt),$n);return hr.errorHandler=tn(ce),hr}function rr(Ce,ce,nt,gt,At){const yn={};yn.prefix=ce.isRoot?"":ce.path+"/",nt&&nt.length>0&&(yn.delimiter=nt),gt&&(yn.pageToken=gt),At&&(yn.maxResults=At);const hr=St(ce.bucketOnlyServerUrl(),Ce.host,Ce._protocol),Gr=Ce.maxOperationRetryTime,mi=new $e(hr,"GET",function Ke(Ce,ce){return function nt(gt,At){const yn=function X(Ce,ce,nt){const gt=Un(nt);return null===gt?null:function q(Ce,ce,nt){const gt={prefixes:[],items:[],nextPageToken:nt.nextPageToken};if(nt[Ee])for(const At of nt[Ee]){const yn=At.replace(/\/$/,""),$n=Ce._makeStorageReference(new Et(ce,yn));gt.prefixes.push($n)}if(nt[te])for(const At of nt[te]){const yn=Ce._makeStorageReference(new Et(ce,At.name));gt.items.push(yn)}return gt}(Ce,ce,gt)}(Ce,ce,At);return Se(null!==yn),yn}}(Ce,ce.bucket),Gr);return mi.urlParams=yn,mi.errorHandler=sn(ce),mi}function Kn(Ce,ce,nt){const gt=Object.assign({},nt);return gt.fullPath=Ce.path,gt.size=ce.size(),gt.contentType||(gt.contentType=function gn(Ce,ce){return Ce&&Ce.contentType||ce&&ce.type()||"application/octet-stream"}(null,ce)),gt}function dr(Ce,ce,nt,gt,At){const yn=ce.bucketOnlyServerUrl(),$n={"X-Goog-Upload-Protocol":"multipart"},fr=function hr(){let fi="";for(let Xi=0;Xi<2;Xi++)fi+=Math.random().toString().slice(2);return fi}();$n["Content-Type"]="multipart/related; boundary="+fr;const Gr=Kn(ce,gt,At),mi=lt(Gr,nt),Oi=xr.getBlob("--"+fr+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+mi+"\r\n--"+fr+"\r\nContent-Type: "+Gr.contentType+"\r\n\r\n",gt,"\r\n--"+fr+"--");if(null===Oi)throw Dt();const Ns={name:Gr.fullPath},ji=St(yn,Ce.host,Ce._protocol),Vs=Ce.maxUploadRetryTime,ls=new $e(ji,"POST",ve(Ce,nt),Vs);return ls.urlParams=Ns,ls.headers=$n,ls.body=Oi.uploadData(),ls.errorHandler=sn(ce),ls}class mr{constructor(ce,nt,gt,At){this.current=ce,this.total=nt,this.finalized=!!gt,this.metadata=At||null}}function Fr(Ce,ce){let nt=null;try{nt=Ce.getResponseHeader("X-Goog-Upload-Status")}catch{Se(!1)}return Se(!!nt&&-1!==(ce||["active"]).indexOf(nt)),nt}const Bs={STATE_CHANGED:"state_changed"},hi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Z(Ce){switch(Ce){case"running":case"pausing":case"canceling":return hi.RUNNING;case"paused":return hi.PAUSED;case"success":return hi.SUCCESS;case"canceled":return hi.CANCELED;default:return hi.ERROR}}class wt{constructor(ce,nt,gt){if(function ut(Ce){return"function"==typeof Ce}(ce)||null!=nt||null!=gt)this.next=ce,this.error=nt??void 0,this.complete=gt??void 0;else{const yn=ce;this.next=yn.next,this.error=yn.error,this.complete=yn.complete}}}function J(Ce){return(...ce)=>{Promise.resolve().then(()=>Ce(...ce))}}let Pt=null;class Zt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yt.NO_ERROR,this.sendPromise_=new Promise(ce=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yt.ABORT,ce()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yt.NETWORK_ERROR,ce()}),this.xhr_.addEventListener("load",()=>{ce()})})}send(ce,nt,gt,At){if(this.sent_)throw Sn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(nt,ce,!0),void 0!==At)for(const yn in At)At.hasOwnProperty(yn)&&this.xhr_.setRequestHeader(yn,At[yn].toString());return void 0!==gt?this.xhr_.send(gt):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(ce){return this.xhr_.getResponseHeader(ce)}addUploadProgressListener(ce){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",ce)}removeUploadProgressListener(ce){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",ce)}}class An extends Zt{initXhr(){this.xhr_.responseType="text"}}function yr(){return Pt?Pt():new An}class se{constructor(ce,nt,gt=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=ce,this._blob=nt,this._metadata=gt,this._mappings=Pr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=At=>{if(this._request=void 0,this._chunkMultiplier=1,At._codeEquals(ye.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const yn=this.isExponentialBackoffExpired();if(ct(At.status,[])){if(!yn)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();At=_e()}this._error=At,this._transition("error")}},this._metadataErrorHandler=At=>{this._request=void 0,At._codeEquals(ye.CANCELED)?this.completeTransitions_():(this._error=At,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((At,yn)=>{this._resolve=At,this._reject=yn,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const ce=this._transferred;return nt=>this._updateProgress(ce+nt)}_shouldDoResumable(ce){return ce.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(ce){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([nt,gt])=>{switch(this._state){case"running":ce(nt,gt);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((ce,nt)=>{const gt=function _i(Ce,ce,nt,gt,At){const yn=ce.bucketOnlyServerUrl(),$n=Kn(ce,gt,At),hr={name:$n.fullPath},fr=St(yn,Ce.host,Ce._protocol),mi={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${gt.size()}`,"X-Goog-Upload-Header-Content-Type":$n.contentType,"Content-Type":"application/json; charset=utf-8"},ii=lt($n,nt),Ns=new $e(fr,"POST",function Oi(ji){let Si;Fr(ji);try{Si=ji.getResponseHeader("X-Goog-Upload-URL")}catch{Se(!1)}return Se(Jt(Si)),Si},Ce.maxUploadRetryTime);return Ns.urlParams=hr,Ns.headers=mi,Ns.body=ii,Ns.errorHandler=sn(ce),Ns}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),At=this._ref.storage._makeRequest(gt,yr,ce,nt);this._request=At,At.getPromise().then(yn=>{this._request=void 0,this._uploadUrl=yn,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const ce=this._uploadUrl;this._resolveToken((nt,gt)=>{const At=function Sr(Ce,ce,nt,gt){const fr=new $e(nt,"POST",function yn(Gr){const mi=Fr(Gr,["active","final"]);let ii=null;try{ii=Gr.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Se(!1)}ii||Se(!1);const rs=Number(ii);return Se(!isNaN(rs)),new mr(rs,gt.size(),"final"===mi)},Ce.maxUploadRetryTime);return fr.headers={"X-Goog-Upload-Command":"query"},fr.errorHandler=sn(ce),fr}(this._ref.storage,this._ref._location,ce,this._blob),yn=this._ref.storage._makeRequest(At,yr,nt,gt);this._request=yn,yn.getPromise().then($n=>{this._request=void 0,this._updateProgress($n.current),this._needToFetchStatus=!1,$n.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const ce=262144*this._chunkMultiplier,nt=new mr(this._transferred,this._blob.size()),gt=this._uploadUrl;this._resolveToken((At,yn)=>{let $n;try{$n=function Dr(Ce,ce,nt,gt,At,yn,$n,hr){const fr=new mr(0,0);if($n?(fr.current=$n.current,fr.total=$n.total):(fr.current=0,fr.total=gt.size()),gt.size()!==fr.total)throw function We(){return new De(ye.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Gr=fr.total-fr.current;let mi=Gr;At>0&&(mi=Math.min(mi,At));const ii=fr.current;let Oi="";Oi=0===mi?"finalize":Gr===mi?"upload, finalize":"upload";const Ns={"X-Goog-Upload-Command":Oi,"X-Goog-Upload-Offset":`${fr.current}`},ji=gt.slice(ii,ii+mi);if(null===ji)throw Dt();const fi=new $e(nt,"POST",function Si(Xi,Ai){const xi=Fr(Xi,["active","final"]),li=fr.current+mi,ms=gt.size();let Ni;return Ni="final"===xi?ve(ce,yn)(Xi,Ai):null,new mr(li,ms,"final"===xi,Ni)},ce.maxUploadRetryTime);return fi.headers=Ns,fi.body=ji.uploadData(),fi.progressCallback=hr||null,fi.errorHandler=sn(Ce),fi}(this._ref._location,this._ref.storage,gt,this._blob,ce,this._mappings,nt,this._makeProgressCallback())}catch(fr){return this._error=fr,void this._transition("error")}const hr=this._ref.storage._makeRequest($n,yr,At,yn,!1);this._request=hr,hr.getPromise().then(fr=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(fr.current),fr.finalized?(this._metadata=fr.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((ce,nt)=>{const gt=Dn(this._ref.storage,this._ref._location,this._mappings),At=this._ref.storage._makeRequest(gt,yr,ce,nt);this._request=At,At.getPromise().then(yn=>{this._request=void 0,this._metadata=yn,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((ce,nt)=>{const gt=dr(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),At=this._ref.storage._makeRequest(gt,yr,ce,nt);this._request=At,At.getPromise().then(yn=>{this._request=void 0,this._metadata=yn,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(ce){const nt=this._transferred;this._transferred=ce,this._transferred!==nt&&this._notifyObservers()}_transition(ce){if(this._state!==ce)switch(ce){case"canceling":case"pausing":this._state=ce,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const nt="paused"===this._state;this._state=ce,nt&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=ce,this._notifyObservers();break;case"canceled":this._error=mt(),this._state=ce,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const ce=Z(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:ce,metadata:this._metadata,task:this,ref:this._ref}}on(ce,nt,gt,At){const yn=new wt(nt||void 0,gt||void 0,At||void 0);return this._addObserver(yn),()=>{this._removeObserver(yn)}}then(ce,nt){return this._promise.then(ce,nt)}catch(ce){return this.then(null,ce)}_addObserver(ce){this._observers.push(ce),this._notifyObserver(ce)}_removeObserver(ce){const nt=this._observers.indexOf(ce);-1!==nt&&this._observers.splice(nt,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(nt=>{this._notifyObserver(nt)})}_finishPromise(){if(void 0!==this._resolve){let ce=!0;switch(Z(this._state)){case hi.SUCCESS:J(this._resolve.bind(null,this.snapshot))();break;case hi.CANCELED:case hi.ERROR:J(this._reject.bind(null,this._error))();break;default:ce=!1}ce&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(ce){switch(Z(this._state)){case hi.RUNNING:case hi.PAUSED:ce.next&&J(ce.next.bind(ce,this.snapshot))();break;case hi.SUCCESS:ce.complete&&J(ce.complete.bind(ce))();break;default:ce.error&&J(ce.error.bind(ce,this._error))()}}resume(){const ce="paused"===this._state||"pausing"===this._state;return ce&&this._transition("running"),ce}pause(){const ce="running"===this._state;return ce&&this._transition("pausing"),ce}cancel(){const ce="running"===this._state||"pausing"===this._state;return ce&&this._transition("canceling"),ce}}class Ae{constructor(ce,nt){this._service=ce,this._location=nt instanceof Et?nt:Et.makeFromUrl(nt,ce.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(ce,nt){return new Ae(ce,nt)}get root(){const ce=new Et(this._location.bucket,"");return this._newRef(this._service,ce)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Mi(this._location.path)}get storage(){return this._service}get parent(){const ce=function Xr(Ce){if(0===Ce.length)return null;const ce=Ce.lastIndexOf("/");return-1===ce?"":Ce.slice(0,ce)}(this._location.path);if(null===ce)return null;const nt=new Et(this._location.bucket,ce);return new Ae(this._service,nt)}_throwIfRoot(ce){if(""===this._location.path)throw zt(ce)}}function En(Ce,ce,nt){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,y.Z)(function*(Ce,ce,nt){const At=yield vr(Ce,{pageToken:nt});ce.prefixes.push(...At.prefixes),ce.items.push(...At.items),null!=At.nextPageToken&&(yield En(Ce,ce,At.nextPageToken))})).apply(this,arguments)}function vr(Ce,ce){null!=ce&&"number"==typeof ce.maxResults&&On("options.maxResults",1,1e3,ce.maxResults);const nt=ce||{},gt=rr(Ce.storage,Ce._location,"/",nt.pageToken,nt.maxResults);return Ce.storage.makeRequestWithTokens(gt,yr)}function Js(Ce){Ce._throwIfRoot("getDownloadURL");const ce=function Or(Ce,ce,nt){const At=St(ce.fullServerUrl(),Ce.host,Ce._protocol),$n=Ce.maxOperationRetryTime,hr=new $e(At,"GET",function It(Ce,ce){return function nt(gt,At){const yn=ti(Ce,At,ce);return Se(null!==yn),function ui(Ce,ce,nt,gt){const At=Un(ce);if(null===At||!Jt(At.downloadTokens))return null;const yn=At.downloadTokens;if(0===yn.length)return null;const $n=encodeURIComponent;return yn.split(",").map(Gr=>{const ii=Ce.fullPath;return St("/b/"+$n(Ce.bucket)+"/o/"+$n(ii),nt,gt)+hn({alt:"media",token:Gr})})[0]}(yn,At,Ce.host,Ce._protocol)}}(Ce,nt),$n);return hr.errorHandler=tn(ce),hr}(Ce.storage,Ce._location,Pr());return Ce.storage.makeRequestWithTokens(ce,yr).then(nt=>{if(null===nt)throw function be(){return new De(ye.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return nt})}function Fi(Ce,ce){const nt=function Qi(Ce,ce){const nt=ce.split("/").filter(gt=>gt.length>0).join("/");return 0===Ce.length?nt:Ce+"/"+nt}(Ce._location.path,ce),gt=new Et(Ce._location.bucket,nt);return new Ae(Ce.storage,gt)}function Vi(Ce,ce){if(Ce instanceof po){const nt=Ce;if(null==nt._bucket)throw function pt(){return new De(ye.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+me+"' property when initializing the app?")}();const gt=new Ae(nt,nt._bucket);return null!=ce?Vi(gt,ce):gt}return void 0!==ce?Fi(Ce,ce):Ce}function ws(Ce,ce){if(ce&&function zn(Ce){return/^[A-Za-z]+:\/\//.test(Ce)}(ce)){if(Ce instanceof po)return function $r(Ce,ce){return new Ae(Ce,ce)}(Ce,ce);throw tt("To use ref(service, url), the first argument must be a Storage instance.")}return Vi(Ce,ce)}function uo(Ce,ce){const nt=ce?.[me];return null==nt?null:Et.makeFromBucketSpec(nt,Ce)}class po{constructor(ce,nt,gt,At,yn){this.app=ce,this._authProvider=nt,this._appCheckProvider=gt,this._url=At,this._firebaseVersion=yn,this._bucket=null,this._host=Te,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=At?Et.makeFromBucketSpec(At,this._host):uo(this._host,this.app.options)}get host(){return this._host}set host(ce){this._host=ce,this._bucket=null!=this._url?Et.makeFromBucketSpec(this._url,ce):uo(ce,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(ce){On("time",0,Number.POSITIVE_INFINITY,ce),this._maxUploadRetryTime=ce}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(ce){On("time",0,Number.POSITIVE_INFINITY,ce),this._maxOperationRetryTime=ce}_getAuthToken(){var ce=this;return(0,y.Z)(function*(){if(ce._overrideAuthToken)return ce._overrideAuthToken;const nt=ce._authProvider.getImmediate({optional:!0});if(nt){const gt=yield nt.getToken();if(null!==gt)return gt.accessToken}return null})()}_getAppCheckToken(){var ce=this;return(0,y.Z)(function*(){const nt=ce._appCheckProvider.getImmediate({optional:!0});return nt?(yield nt.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(ce=>ce.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(ce){return new Ae(this,ce)}_makeRequest(ce,nt,gt,At,yn=!0){if(this._deleted)return new st(Ft());{const $n=function cr(Ce,ce,nt,gt,At,yn,$n=!0){const hr=hn(Ce.urlParams),fr=Ce.url+hr,Gr=Object.assign({},Ce.headers);return function Xn(Ce,ce){ce&&(Ce["X-Firebase-GMPID"]=ce)}(Gr,ce),function Kt(Ce,ce){null!==ce&&ce.length>0&&(Ce.Authorization="Firebase "+ce)}(Gr,nt),function kn(Ce,ce){Ce["X-Firebase-Storage-Version"]="webjs/"+(ce??"AppManager")}(Gr,yn),function lr(Ce,ce){null!==ce&&(Ce["X-Firebase-AppCheck"]=ce)}(Gr,gt),new Xt(fr,Ce.method,Gr,Ce.body,Ce.successCodes,Ce.additionalRetryCodes,Ce.handler,Ce.errorHandler,Ce.timeout,Ce.progressCallback,At,$n)}(ce,this._appId,gt,At,nt,this._firebaseVersion,yn);return this._requests.add($n),$n.getPromise().then(()=>this._requests.delete($n),()=>this._requests.delete($n)),$n}}makeRequestWithTokens(ce,nt){var gt=this;return(0,y.Z)(function*(){const[At,yn]=yield Promise.all([gt._getAuthToken(),gt._getAppCheckToken()]);return gt._makeRequest(ce,nt,At,yn).getPromise()})()}}const Hi="@firebase/storage",lo="storage";function xo(Ce,ce,nt,gt){return function Lt(Ce,ce,nt=Ht.RAW,gt){Ce._throwIfRoot("uploadString");const At=ge(nt,ce),yn=Object.assign({},gt);return null==yn.contentType&&null!=At.contentType&&(yn.contentType=At.contentType),function Ze(Ce,ce,nt){Ce._throwIfRoot("uploadBytes");const gt=dr(Ce.storage,Ce._location,Pr(),new xr(ce,!0),nt);return Ce.storage.makeRequestWithTokens(gt,yr).then(At=>({metadata:At,ref:Ce}))}(Ce,At.data,yn)}(Ce=(0,K.m9)(Ce),ce,nt,gt)}function no(Ce,ce,nt){return function xt(Ce,ce,nt){return Ce._throwIfRoot("uploadBytesResumable"),new se(Ce,new xr(ce),nt)}(Ce=(0,K.m9)(Ce),ce,nt)}function Wi(Ce){return function wr(Ce){Ce._throwIfRoot("getMetadata");const ce=Dn(Ce.storage,Ce._location,Pr());return Ce.storage.makeRequestWithTokens(ce,yr)}(Ce=(0,K.m9)(Ce))}function Mo(Ce,ce){return function $i(Ce,ce){Ce._throwIfRoot("updateMetadata");const nt=function an(Ce,ce,nt,gt){const yn=St(ce.fullServerUrl(),Ce.host,Ce._protocol),hr=lt(nt,gt),Gr=Ce.maxOperationRetryTime,mi=new $e(yn,"PATCH",ve(Ce,gt),Gr);return mi.headers={"Content-Type":"application/json; charset=utf-8"},mi.body=hr,mi.errorHandler=tn(ce),mi}(Ce.storage,Ce._location,ce,Pr());return Ce.storage.makeRequestWithTokens(nt,yr)}(Ce=(0,K.m9)(Ce),ce)}function ro(Ce,ce){return vr(Ce=(0,K.m9)(Ce),ce)}function ri(Ce){return function qt(Ce){const ce={prefixes:[],items:[]};return En(Ce,ce).then(()=>ce)}(Ce=(0,K.m9)(Ce))}function vi(Ce){return Js(Ce=(0,K.m9)(Ce))}function Oa(Ce){return function Us(Ce){Ce._throwIfRoot("deleteObject");const ce=function Bt(Ce,ce){const gt=St(ce.fullServerUrl(),Ce.host,Ce._protocol),hr=new $e(gt,"DELETE",function $n(fr,Gr){},Ce.maxOperationRetryTime);return hr.successCodes=[200,204],hr.errorHandler=tn(ce),hr}(Ce.storage,Ce._location);return Ce.storage.makeRequestWithTokens(ce,yr)}(Ce=(0,K.m9)(Ce))}function Po(Ce,ce){return ws(Ce=(0,K.m9)(Ce),ce)}function wo(Ce,ce){return Fi(Ce,ce)}function io(Ce=(0,h.getApp)(),ce){Ce=(0,K.m9)(Ce);const gt=(0,h._getProvider)(Ce,lo).getImmediate({identifier:ce}),At=(0,K.P0)("storage");return At&&ea(gt,...At),gt}function ea(Ce,ce,nt,gt={}){!function $s(Ce,ce,nt,gt={}){Ce.host=`${ce}:${nt}`,Ce._protocol="http";const{mockUserToken:At}=gt;At&&(Ce._overrideAuthToken="string"==typeof At?At:(0,K.Sg)(At,Ce.app.options.projectId))}(Ce,ce,nt,gt)}function Bo(Ce,{instanceIdentifier:ce}){const nt=Ce.getProvider("app").getImmediate(),gt=Ce.getProvider("auth-internal"),At=Ce.getProvider("app-check-internal");return new po(nt,gt,At,ce,h.SDK_VERSION)}!function Li(){(0,h._registerComponent)(new P.wA(lo,Bo,"PUBLIC").setMultipleInstances(!0)),(0,h.registerVersion)(Hi,"0.11.2",""),(0,h.registerVersion)(Hi,"0.11.2","esm2017")}()},5578:(xn,bt,k)=>{"use strict";k.d(bt,{$s:()=>ai,BH:()=>pt,DV:()=>Xn,Dv:()=>ei,G6:()=>Ye,GJ:()=>Kt,L:()=>j,LL:()=>Nn,P0:()=>mt,Pz:()=>vt,Sg:()=>Dt,UG:()=>$t,UI:()=>cr,US:()=>me,Wj:()=>Un,Wl:()=>hn,Yr:()=>st,ZB:()=>we,ZR:()=>Jt,aH:()=>dt,b$:()=>zt,cI:()=>St,dS:()=>Qi,eu:()=>Qe,g5:()=>K,gK:()=>qr,gQ:()=>ge,h$:()=>Xe,hl:()=>Ue,hu:()=>h,jU:()=>tt,lb:()=>Xr,m9:()=>ui,ne:()=>ht,p$:()=>ye,pd:()=>vn,r3:()=>kn,ru:()=>Ft,tV:()=>De,uI:()=>be,ug:()=>Mi,vZ:()=>bn,w1:()=>Sn,w9:()=>Tt,xO:()=>Er,xb:()=>lr,z$:()=>We,zI:()=>ut,zd:()=>Ht});const y={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},h=function(lt,Ee){if(!lt)throw K(Ee)},K=function(lt){return new Error("Firebase Database ("+y.SDK_VERSION+") INTERNAL ASSERT FAILED: "+lt)},P=function(lt){const Ee=[];let te=0;for(let q=0;q<lt.length;q++){let X=lt.charCodeAt(q);X<128?Ee[te++]=X:X<2048?(Ee[te++]=X>>6|192,Ee[te++]=63&X|128):55296==(64512&X)&&q+1<lt.length&&56320==(64512&lt.charCodeAt(q+1))?(X=65536+((1023&X)<<10)+(1023&lt.charCodeAt(++q)),Ee[te++]=X>>18|240,Ee[te++]=X>>12&63|128,Ee[te++]=X>>6&63|128,Ee[te++]=63&X|128):(Ee[te++]=X>>12|224,Ee[te++]=X>>6&63|128,Ee[te++]=63&X|128)}return Ee},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(lt,Ee){if(!Array.isArray(lt))throw Error("encodeByteArray takes an array as a parameter");this.init_();const te=Ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let X=0;X<lt.length;X+=3){const $e=lt[X],Se=X+1<lt.length,ve=Se?lt[X+1]:0,Ke=X+2<lt.length,It=Ke?lt[X+2]:0;let Dn=(15&ve)<<2|It>>6,rr=63&It;Ke||(rr=64,Se||(Dn=64)),q.push(te[$e>>2],te[(3&$e)<<4|ve>>4],te[Dn],te[rr])}return q.join("")},encodeString(lt,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?btoa(lt):this.encodeByteArray(P(lt),Ee)},decodeString(lt,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?atob(lt):function(lt){const Ee=[];let te=0,q=0;for(;te<lt.length;){const X=lt[te++];if(X<128)Ee[q++]=String.fromCharCode(X);else if(X>191&&X<224){const $e=lt[te++];Ee[q++]=String.fromCharCode((31&X)<<6|63&$e)}else if(X>239&&X<365){const Ke=((7&X)<<18|(63&lt[te++])<<12|(63&lt[te++])<<6|63&lt[te++])-65536;Ee[q++]=String.fromCharCode(55296+(Ke>>10)),Ee[q++]=String.fromCharCode(56320+(1023&Ke))}else{const $e=lt[te++],Se=lt[te++];Ee[q++]=String.fromCharCode((15&X)<<12|(63&$e)<<6|63&Se)}}return Ee.join("")}(this.decodeStringToByteArray(lt,Ee))},decodeStringToByteArray(lt,Ee){this.init_();const te=Ee?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let X=0;X<lt.length;){const $e=te[lt.charAt(X++)],ve=X<lt.length?te[lt.charAt(X)]:0;++X;const It=X<lt.length?te[lt.charAt(X)]:64;++X;const tn=X<lt.length?te[lt.charAt(X)]:64;if(++X,null==$e||null==ve||null==It||null==tn)throw new Pe;q.push($e<<2|ve>>4),64!==It&&(q.push(ve<<4&240|It>>2),64!==tn&&q.push(It<<6&192|tn))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let lt=0;lt<this.ENCODED_VALS.length;lt++)this.byteToCharMap_[lt]=this.ENCODED_VALS.charAt(lt),this.charToByteMap_[this.byteToCharMap_[lt]]=lt,this.byteToCharMapWebSafe_[lt]=this.ENCODED_VALS_WEBSAFE.charAt(lt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[lt]]=lt,lt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(lt)]=lt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(lt)]=lt)}}};class Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xe=function(lt){const Ee=P(lt);return me.encodeByteArray(Ee,!0)},j=function(lt){return Xe(lt).replace(/\./g,"")},De=function(lt){try{return me.decodeString(lt,!0)}catch(Ee){console.error("base64Decode failed: ",Ee)}return null};function ye(lt){return we(void 0,lt)}function we(lt,Ee){if(!(Ee instanceof Object))return Ee;switch(Ee.constructor){case Date:return new Date(Ee.getTime());case Object:void 0===lt&&(lt={});break;case Array:lt=[];break;default:return Ee}for(const te in Ee)!Ee.hasOwnProperty(te)||!Ve(te)||(lt[te]=we(lt[te],Ee[te]));return lt}function Ve(lt){return"__proto__"!==lt}const Ge=()=>{try{return function je(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const lt=process.env.__FIREBASE_DEFAULTS__;return lt?JSON.parse(lt):void 0})()||(()=>{if(typeof document>"u")return;let lt;try{lt=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ee=lt&&De(lt[1]);return Ee&&JSON.parse(Ee)})()}catch(lt){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${lt}`)}},mt=lt=>{const Ee=(lt=>{var Ee,te;return null===(te=null===(Ee=Ge())||void 0===Ee?void 0:Ee.emulatorHosts)||void 0===te?void 0:te[lt]})(lt);if(!Ee)return;const te=Ee.lastIndexOf(":");if(te<=0||te+1===Ee.length)throw new Error(`Invalid host ${Ee} with no separate hostname and port!`);const q=parseInt(Ee.substring(te+1),10);return"["===Ee[0]?[Ee.substring(1,te-1),q]:[Ee.substring(0,te),q]},dt=()=>{var lt;return null===(lt=Ge())||void 0===lt?void 0:lt.config},vt=lt=>{var Ee;return null===(Ee=Ge())||void 0===Ee?void 0:Ee[`_${lt}`]};class pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ee,te)=>{this.resolve=Ee,this.reject=te})}wrapCallback(Ee){return(te,q)=>{te?this.reject(te):this.resolve(q),"function"==typeof Ee&&(this.promise.catch(()=>{}),1===Ee.length?Ee(te):Ee(te,q))}}}function Dt(lt,Ee){if(lt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=Ee||"demo-project",X=lt.iat||0,$e=lt.sub||lt.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Se=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:X,exp:X+3600,auth_time:X,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},lt);return[j(JSON.stringify({alg:"none",type:"JWT"})),j(JSON.stringify(Se)),""].join(".")}function We(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function $t(){var lt;const Ee=null===(lt=Ge())||void 0===lt?void 0:lt.forceEnvironment;if("node"===Ee)return!0;if("browser"===Ee)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tt(){return"object"==typeof self&&self.self===self}function Ft(){const lt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof lt&&void 0!==lt.id}function zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Sn(){const lt=We();return lt.indexOf("MSIE ")>=0||lt.indexOf("Trident/")>=0}function st(){return!0===y.NODE_CLIENT||!0===y.NODE_ADMIN}function Ye(){return!$t()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function Qe(){return new Promise((lt,Ee)=>{try{let te=!0;const q="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(q);X.onsuccess=()=>{X.result.close(),te||self.indexedDB.deleteDatabase(q),lt(!0)},X.onupgradeneeded=()=>{te=!1},X.onerror=()=>{var $e;Ee((null===($e=X.error)||void 0===$e?void 0:$e.message)||"")}}catch(te){Ee(te)}})}function ut(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Jt extends Error{constructor(Ee,te,q){super(te),this.code=Ee,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,Jt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nn.prototype.create)}}class Nn{constructor(Ee,te,q){this.service=Ee,this.serviceName=te,this.errors=q}create(Ee,...te){const q=te[0]||{},X=`${this.service}/${Ee}`,$e=this.errors[Ee],Se=$e?function mn(lt,Ee){return lt.replace(On,(te,q)=>{const X=Ee[q];return null!=X?String(X):`<${q}?>`})}($e,q):"Error";return new Jt(X,`${this.serviceName}: ${Se} (${X}).`,q)}}const On=/\{\$([^}]+)}/g;function St(lt){return JSON.parse(lt)}function hn(lt){return JSON.stringify(lt)}const Yt=function(lt){let Ee={},te={},q={},X="";try{const $e=lt.split(".");Ee=St(De($e[0])||""),te=St(De($e[1])||""),X=$e[2],q=te.d||{},delete te.d}catch{}return{header:Ee,claims:te,data:q,signature:X}},Tt=function(lt){const te=Yt(lt).claims;return!!te&&"object"==typeof te&&te.hasOwnProperty("iat")},Kt=function(lt){const Ee=Yt(lt).claims;return"object"==typeof Ee&&!0===Ee.admin};function kn(lt,Ee){return Object.prototype.hasOwnProperty.call(lt,Ee)}function Xn(lt,Ee){if(Object.prototype.hasOwnProperty.call(lt,Ee))return lt[Ee]}function lr(lt){for(const Ee in lt)if(Object.prototype.hasOwnProperty.call(lt,Ee))return!1;return!0}function cr(lt,Ee,te){const q={};for(const X in lt)Object.prototype.hasOwnProperty.call(lt,X)&&(q[X]=Ee.call(te,lt[X],X,lt));return q}function bn(lt,Ee){if(lt===Ee)return!0;const te=Object.keys(lt),q=Object.keys(Ee);for(const X of te){if(!q.includes(X))return!1;const $e=lt[X],Se=Ee[X];if(Jn($e)&&Jn(Se)){if(!bn($e,Se))return!1}else if($e!==Se)return!1}for(const X of q)if(!te.includes(X))return!1;return!0}function Jn(lt){return null!==lt&&"object"==typeof lt}function Er(lt){const Ee=[];for(const[te,q]of Object.entries(lt))Array.isArray(q)?q.forEach(X=>{Ee.push(encodeURIComponent(te)+"="+encodeURIComponent(X))}):Ee.push(encodeURIComponent(te)+"="+encodeURIComponent(q));return Ee.length?"&"+Ee.join("&"):""}function Ht(lt){const Ee={};return lt.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[X,$e]=q.split("=");Ee[decodeURIComponent(X)]=decodeURIComponent($e)}}),Ee}function vn(lt){const Ee=lt.indexOf("?");if(!Ee)return"";const te=lt.indexOf("#",Ee);return lt.substring(Ee,te>0?te:void 0)}class ge{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ee=1;Ee<this.blockSize;++Ee)this.pad_[Ee]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ee,te){te||(te=0);const q=this.W_;if("string"==typeof Ee)for(let tn=0;tn<16;tn++)q[tn]=Ee.charCodeAt(te)<<24|Ee.charCodeAt(te+1)<<16|Ee.charCodeAt(te+2)<<8|Ee.charCodeAt(te+3),te+=4;else for(let tn=0;tn<16;tn++)q[tn]=Ee[te]<<24|Ee[te+1]<<16|Ee[te+2]<<8|Ee[te+3],te+=4;for(let tn=16;tn<80;tn++){const Dn=q[tn-3]^q[tn-8]^q[tn-14]^q[tn-16];q[tn]=4294967295&(Dn<<1|Dn>>>31)}let It,sn,X=this.chain_[0],$e=this.chain_[1],Se=this.chain_[2],ve=this.chain_[3],Ke=this.chain_[4];for(let tn=0;tn<80;tn++){tn<40?tn<20?(It=ve^$e&(Se^ve),sn=1518500249):(It=$e^Se^ve,sn=1859775393):tn<60?(It=$e&Se|ve&($e|Se),sn=2400959708):(It=$e^Se^ve,sn=3395469782);const Dn=(X<<5|X>>>27)+It+Ke+sn+q[tn]&4294967295;Ke=ve,ve=Se,Se=4294967295&($e<<30|$e>>>2),$e=X,X=Dn}this.chain_[0]=this.chain_[0]+X&4294967295,this.chain_[1]=this.chain_[1]+$e&4294967295,this.chain_[2]=this.chain_[2]+Se&4294967295,this.chain_[3]=this.chain_[3]+ve&4294967295,this.chain_[4]=this.chain_[4]+Ke&4294967295}update(Ee,te){if(null==Ee)return;void 0===te&&(te=Ee.length);const q=te-this.blockSize;let X=0;const $e=this.buf_;let Se=this.inbuf_;for(;X<te;){if(0===Se)for(;X<=q;)this.compress_(Ee,X),X+=this.blockSize;if("string"==typeof Ee){for(;X<te;)if($e[Se]=Ee.charCodeAt(X),++Se,++X,Se===this.blockSize){this.compress_($e),Se=0;break}}else for(;X<te;)if($e[Se]=Ee[X],++Se,++X,Se===this.blockSize){this.compress_($e),Se=0;break}}this.inbuf_=Se,this.total_+=te}digest(){const Ee=[];let te=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let X=this.blockSize-1;X>=56;X--)this.buf_[X]=255&te,te/=256;this.compress_(this.buf_);let q=0;for(let X=0;X<5;X++)for(let $e=24;$e>=0;$e-=8)Ee[q]=this.chain_[X]>>$e&255,++q;return Ee}}function ht(lt,Ee){const te=new Ot(lt,Ee);return te.subscribe.bind(te)}class Ot{constructor(Ee,te){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=te,this.task.then(()=>{Ee(this)}).catch(q=>{this.error(q)})}next(Ee){this.forEachObserver(te=>{te.next(Ee)})}error(Ee){this.forEachObserver(te=>{te.error(Ee)}),this.close(Ee)}complete(){this.forEachObserver(Ee=>{Ee.complete()}),this.close()}subscribe(Ee,te,q){let X;if(void 0===Ee&&void 0===te&&void 0===q)throw new Error("Missing Observer.");X=function nn(lt,Ee){if("object"!=typeof lt||null===lt)return!1;for(const te of Ee)if(te in lt&&"function"==typeof lt[te])return!0;return!1}(Ee,["next","error","complete"])?Ee:{next:Ee,error:te,complete:q},void 0===X.next&&(X.next=Wr),void 0===X.error&&(X.error=Wr),void 0===X.complete&&(X.complete=Wr);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),$e}unsubscribeOne(Ee){void 0===this.observers||void 0===this.observers[Ee]||(delete this.observers[Ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ee){if(!this.finalized)for(let te=0;te<this.observers.length;te++)this.sendOne(te,Ee)}sendOne(Ee,te){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ee])try{te(this.observers[Ee])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(Ee){this.finalized||(this.finalized=!0,void 0!==Ee&&(this.finalError=Ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wr(){}const ei=function(lt,Ee,te,q){let X;if(q<Ee?X="at least "+Ee:q>te&&(X=0===te?"none":"no more than "+te),X)throw new Error(lt+" failed: Was called with "+q+(1===q?" argument.":" arguments.")+" Expects "+X+".")};function qr(lt,Ee){return`${lt} failed: ${Ee} argument `}function Un(lt,Ee,te,q){if((!q||te)&&"function"!=typeof te)throw new Error(qr(lt,Ee)+"must be a valid function.")}function Xr(lt,Ee,te,q){if((!q||te)&&("object"!=typeof te||null===te))throw new Error(qr(lt,Ee)+"must be a valid context object.")}const Qi=function(lt){const Ee=[];let te=0;for(let q=0;q<lt.length;q++){let X=lt.charCodeAt(q);if(X>=55296&&X<=56319){const $e=X-55296;q++,h(q<lt.length,"Surrogate pair missing trail surrogate."),X=65536+($e<<10)+(lt.charCodeAt(q)-56320)}X<128?Ee[te++]=X:X<2048?(Ee[te++]=X>>6|192,Ee[te++]=63&X|128):X<65536?(Ee[te++]=X>>12|224,Ee[te++]=X>>6&63|128,Ee[te++]=63&X|128):(Ee[te++]=X>>18|240,Ee[te++]=X>>12&63|128,Ee[te++]=X>>6&63|128,Ee[te++]=63&X|128)}return Ee},Mi=function(lt){let Ee=0;for(let te=0;te<lt.length;te++){const q=lt.charCodeAt(te);q<128?Ee++:q<2048?Ee+=2:q>=55296&&q<=56319?(Ee+=4,te++):Ee+=3}return Ee},jr=1e3,Le=2,Ti=144e5,Pr=.5;function ai(lt,Ee=jr,te=Le){const q=Ee*Math.pow(te,lt),X=Math.round(Pr*q*(Math.random()-.5)*2);return Math.min(Ti,q+X)}function ui(lt){return lt&&lt._delegate?lt._delegate:lt}},4251:(xn,bt,k)=>{"use strict";k.d(bt,{c:()=>Mt});var y=k(4110),h=k(3577);let K;const Te=ze=>ze.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),me=ze=>(void 0===K&&(K=void 0===ze.style.animationName&&void 0!==ze.style.webkitAnimationName?"-webkit-":""),K),Pe=(ze,Ge,_e)=>{const mt=Ge.startsWith("animation")?me(ze):"";ze.style.setProperty(mt+Ge,_e)},Xe=(ze,Ge)=>{const _e=Ge.startsWith("animation")?me(ze):"";ze.style.removeProperty(_e+Ge)},ye=[],at=(ze=[],Ge)=>{if(void 0!==Ge){const _e=Array.isArray(Ge)?Ge:[Ge];return[...ze,..._e]}return ze},Mt=ze=>{let Ge,_e,mt,dt,vt,pt,tt,Ue,Qe,ut,yt,On,St,Dt=[],We=[],be=[],$t=!1,Ft={},zt=[],Vt=[],Sn={},Et=0,st=!1,Ye=!1,Jt=!0,Nn=!1,mn=!0,hn=!1;const Yt=ze,ct=[],Xt=[],Tt=[],Kt=[],kn=[],Xn=[],lr=[],cr=[],bn=[],Jn=[],Qr="function"==typeof AnimationEffect||void 0!==y.w&&"function"==typeof y.w.AnimationEffect,Er="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Qr,vn=()=>Jn,nn=(he,He)=>((He?.oneTimeCallback?Xt:ct).push({c:he,o:He}),St),ei=()=>{if(Er)Jn.forEach(he=>{he.cancel()}),Jn.length=0;else{const he=Tt.slice();(0,h.r)(()=>{he.forEach(He=>{Xe(He,"animation-name"),Xe(He,"animation-duration"),Xe(He,"animation-timing-function"),Xe(He,"animation-iteration-count"),Xe(He,"animation-delay"),Xe(He,"animation-play-state"),Xe(He,"animation-fill-mode"),Xe(He,"animation-direction")})})}},qr=()=>{kn.forEach(he=>{he?.parentNode&&he.parentNode.removeChild(he)}),kn.length=0},ti=()=>void 0!==vt?vt:tt?tt.getFill():"both",ui=()=>void 0!==Qe?Qe:void 0!==pt?pt:tt?tt.getDirection():"normal",lt=()=>st?"linear":void 0!==mt?mt:tt?tt.getEasing():"linear",Ee=()=>Ye?0:void 0!==ut?ut:void 0!==_e?_e:tt?tt.getDuration():0,te=()=>void 0!==dt?dt:tt?tt.getIterations():1,q=()=>void 0!==yt?yt:void 0!==Ge?Ge:tt?tt.getDelay():0,gn=()=>{0!==Et&&(Et--,0===Et&&((()=>{Pt(),cr.forEach(Lt=>Lt()),bn.forEach(Lt=>Lt());const he=Jt?1:0,He=zt,Ze=Vt,xt=Sn;Tt.forEach(Lt=>{const qt=Lt.classList;He.forEach(En=>qt.add(En)),Ze.forEach(En=>qt.remove(En));for(const En in xt)xt.hasOwnProperty(En)&&Pe(Lt,En,xt[En])}),ct.forEach(Lt=>Lt.c(he,St)),Xt.forEach(Lt=>Lt.c(he,St)),Xt.length=0,mn=!0,Jt&&(Nn=!0),Jt=!0})(),tt&&tt.animationFinish()))},Kn=(he=!0)=>{qr();const He=(ze=>(ze.forEach(Ge=>{for(const _e in Ge)if(Ge.hasOwnProperty(_e)){const mt=Ge[_e];if("easing"===_e)Ge["animation-timing-function"]=mt,delete Ge[_e];else{const dt=Te(_e);dt!==_e&&(Ge[dt]=mt,delete Ge[_e])}}}),ze))(Dt);Tt.forEach(Ze=>{if(He.length>0){const xt=((ze=[])=>ze.map(Ge=>{const _e=Ge.offset,mt=[];for(const dt in Ge)Ge.hasOwnProperty(dt)&&"offset"!==dt&&mt.push(`${dt}: ${Ge[dt]};`);return`${100*_e}% { ${mt.join(" ")} }`}).join(" "))(He);On=void 0!==ze?ze:(ze=>{let Ge=ye.indexOf(ze);return Ge<0&&(Ge=ye.push(ze)-1),`ion-animation-${Ge}`})(xt);const Lt=((ze,Ge,_e)=>{var mt;const dt=(ze=>{const Ge=void 0!==ze.getRootNode?ze.getRootNode():ze;return Ge.head||Ge})(_e),vt=me(_e),pt=dt.querySelector("#"+ze);if(pt)return pt;const Dt=(null!==(mt=_e.ownerDocument)&&void 0!==mt?mt:document).createElement("style");return Dt.id=ze,Dt.textContent=`@${vt}keyframes ${ze} { ${Ge} } @${vt}keyframes ${ze}-alt { ${Ge} }`,dt.appendChild(Dt),Dt})(On,xt,Ze);kn.push(Lt),Pe(Ze,"animation-duration",`${Ee()}ms`),Pe(Ze,"animation-timing-function",lt()),Pe(Ze,"animation-delay",`${q()}ms`),Pe(Ze,"animation-fill-mode",ti()),Pe(Ze,"animation-direction",ui());const qt=te()===1/0?"infinite":te().toString();Pe(Ze,"animation-iteration-count",qt),Pe(Ze,"animation-play-state","paused"),he&&Pe(Ze,"animation-name",`${Lt.id}-alt`),(0,h.r)(()=>{Pe(Ze,"animation-name",Lt.id||null)})}})},mr=(he=!0)=>{(()=>{Xn.forEach(xt=>xt()),lr.forEach(xt=>xt());const he=We,He=be,Ze=Ft;Tt.forEach(xt=>{const Lt=xt.classList;he.forEach(qt=>Lt.add(qt)),He.forEach(qt=>Lt.remove(qt));for(const qt in Ze)Ze.hasOwnProperty(qt)&&Pe(xt,qt,Ze[qt])})})(),Dt.length>0&&(Er?(Tt.forEach(he=>{const He=he.animate(Dt,{id:Yt,delay:q(),duration:Ee(),easing:lt(),iterations:te(),fill:ti(),direction:ui()});He.pause(),Jn.push(He)}),Jn.length>0&&(Jn[0].onfinish=()=>{gn()})):Kn(he)),$t=!0},Fr=he=>{if(he=Math.min(Math.max(he,0),.9999),Er)Jn.forEach(He=>{He.currentTime=He.effect.getComputedTiming().delay+Ee()*he,He.pause()});else{const He=`-${Ee()*he}ms`;Tt.forEach(Ze=>{Dt.length>0&&(Pe(Ze,"animation-delay",He),Pe(Ze,"animation-play-state","paused"))})}},_i=he=>{Jn.forEach(He=>{He.effect.updateTiming({delay:q(),duration:Ee(),easing:lt(),iterations:te(),fill:ti(),direction:ui()})}),void 0!==he&&Fr(he)},Sr=(he=!0,He)=>{(0,h.r)(()=>{Tt.forEach(Ze=>{Pe(Ze,"animation-name",On||null),Pe(Ze,"animation-duration",`${Ee()}ms`),Pe(Ze,"animation-timing-function",lt()),Pe(Ze,"animation-delay",void 0!==He?`-${He*Ee()}ms`:`${q()}ms`),Pe(Ze,"animation-fill-mode",ti()||null),Pe(Ze,"animation-direction",ui()||null);const xt=te()===1/0?"infinite":te().toString();Pe(Ze,"animation-iteration-count",xt),he&&Pe(Ze,"animation-name",`${On}-alt`),(0,h.r)(()=>{Pe(Ze,"animation-name",On||null)})})})},er=(he=!1,He=!0,Ze)=>(he&&Kt.forEach(xt=>{xt.update(he,He,Ze)}),Er?_i(Ze):Sr(He,Ze),St),Z=()=>{$t&&(Er?Jn.forEach(he=>{he.pause()}):Tt.forEach(he=>{Pe(he,"animation-play-state","paused")}),hn=!0)},J=()=>{Ue=void 0,gn()},Pt=()=>{Ue&&clearTimeout(Ue)},ns=he=>new Promise(He=>{he?.sync&&(Ye=!0,nn(()=>Ye=!1,{oneTimeCallback:!0})),$t||mr(),Nn&&(Er?(Fr(0),_i()):Sr(),Nn=!1),mn&&(Et=Kt.length+1,mn=!1),nn(()=>He(),{oneTimeCallback:!0}),Kt.forEach(Ze=>{Ze.play()}),Er?(Jn.forEach(he=>{he.play()}),(0===Dt.length||0===Tt.length)&&gn()):(()=>{if(Pt(),(0,h.r)(()=>{Tt.forEach(he=>{Dt.length>0&&Pe(he,"animation-play-state","running")})}),0===Dt.length||0===Tt.length)gn();else{const he=q()||0,He=Ee()||0,Ze=te()||1;isFinite(Ze)&&(Ue=setTimeout(J,he+He*Ze+100)),((ze,Ge)=>{let _e;const mt={passive:!0},vt=pt=>{ze===pt.target&&(_e&&_e(),Pt(),(0,h.r)(()=>{Tt.forEach(he=>{Xe(he,"animation-duration"),Xe(he,"animation-delay"),Xe(he,"animation-play-state")}),(0,h.r)(gn)}))};ze&&(ze.addEventListener("webkitAnimationEnd",vt,mt),ze.addEventListener("animationend",vt,mt),_e=()=>{ze.removeEventListener("webkitAnimationEnd",vt,mt),ze.removeEventListener("animationend",vt,mt)})})(Tt[0])}})(),hn=!1}),ee=(he,He)=>{const Ze=Dt[0];return void 0===Ze||void 0!==Ze.offset&&0!==Ze.offset?Dt=[{offset:0,[he]:He},...Dt]:Ze[he]=He,St};return St={parentAnimation:tt,elements:Tt,childAnimations:Kt,id:Yt,animationFinish:gn,from:ee,to:(he,He)=>{const Ze=Dt[Dt.length-1];return void 0===Ze||void 0!==Ze.offset&&1!==Ze.offset?Dt=[...Dt,{offset:1,[he]:He}]:Ze[he]=He,St},fromTo:(he,He,Ze)=>ee(he,He).to(he,Ze),parent:he=>(tt=he,St),play:ns,pause:()=>(Kt.forEach(he=>{he.pause()}),Z(),St),stop:()=>{Kt.forEach(he=>{he.stop()}),$t&&(ei(),$t=!1),st=!1,Ye=!1,mn=!0,Qe=void 0,ut=void 0,yt=void 0,Et=0,Nn=!1,Jt=!0,hn=!1},destroy:he=>(Kt.forEach(He=>{He.destroy(he)}),(he=>{ei(),he&&qr()})(he),Tt.length=0,Kt.length=0,Dt.length=0,ct.length=0,Xt.length=0,$t=!1,mn=!0,St),keyframes:he=>{const He=Dt!==he;return Dt=he,He&&(he=>{Er?vn().forEach(He=>{if(He.effect.setKeyframes)He.effect.setKeyframes(he);else{const Ze=new KeyframeEffect(He.effect.target,he,He.effect.getTiming());He.effect=Ze}}):Kn()})(Dt),St},addAnimation:he=>{if(null!=he)if(Array.isArray(he))for(const He of he)He.parent(St),Kt.push(He);else he.parent(St),Kt.push(he);return St},addElement:he=>{if(null!=he)if(1===he.nodeType)Tt.push(he);else if(he.length>=0)for(let He=0;He<he.length;He++)Tt.push(he[He]);else console.error("Invalid addElement value");return St},update:er,fill:he=>(vt=he,er(!0),St),direction:he=>(pt=he,er(!0),St),iterations:he=>(dt=he,er(!0),St),duration:he=>(!Er&&0===he&&(he=1),_e=he,er(!0),St),easing:he=>(mt=he,er(!0),St),delay:he=>(Ge=he,er(!0),St),getWebAnimations:vn,getKeyframes:()=>Dt,getFill:ti,getDirection:ui,getDelay:q,getIterations:te,getEasing:lt,getDuration:Ee,afterAddRead:he=>(cr.push(he),St),afterAddWrite:he=>(bn.push(he),St),afterClearStyles:(he=[])=>{for(const He of he)Sn[He]="";return St},afterStyles:(he={})=>(Sn=he,St),afterRemoveClass:he=>(Vt=at(Vt,he),St),afterAddClass:he=>(zt=at(zt,he),St),beforeAddRead:he=>(Xn.push(he),St),beforeAddWrite:he=>(lr.push(he),St),beforeClearStyles:(he=[])=>{for(const He of he)Ft[He]="";return St},beforeStyles:(he={})=>(Ft=he,St),beforeRemoveClass:he=>(be=at(be,he),St),beforeAddClass:he=>(We=at(We,he),St),onFinish:nn,isRunning:()=>0!==Et&&!hn,progressStart:(he=!1,He)=>(Kt.forEach(Ze=>{Ze.progressStart(he,He)}),Z(),st=he,$t||mr(),er(!1,!0,He),St),progressStep:he=>(Kt.forEach(He=>{He.progressStep(he)}),Fr(he),St),progressEnd:(he,He,Ze)=>(st=!1,Kt.forEach(xt=>{xt.progressEnd(he,He,Ze)}),void 0!==Ze&&(ut=Ze),Nn=!1,Jt=!0,0===he?(Qe="reverse"===ui()?"normal":"reverse","reverse"===Qe&&(Jt=!1),Er?(er(),Fr(1-He)):(yt=(1-He)*Ee()*-1,er(!1,!1))):1===he&&(Er?(er(),Fr(He)):(yt=He*Ee()*-1,er(!1,!1))),void 0!==he&&(nn(()=>{ut=void 0,Qe=void 0,yt=void 0},{oneTimeCallback:!0}),tt||ns()),St)}}},3982:(xn,bt,k)=>{"use strict";k.d(bt,{E:()=>De,a:()=>y,s:()=>Xe});const y=ye=>{try{if(ye instanceof Pe)return ye.value;if(!P()||"string"!=typeof ye||""===ye)return ye;if(ye.includes("onload="))return"";const we=document.createDocumentFragment(),Ve=document.createElement("div");we.appendChild(Ve),Ve.innerHTML=ye,me.forEach(ze=>{const Ge=we.querySelectorAll(ze);for(let _e=Ge.length-1;_e>=0;_e--){const mt=Ge[_e];mt.parentNode?mt.parentNode.removeChild(mt):we.removeChild(mt);const dt=K(mt);for(let vt=0;vt<dt.length;vt++)h(dt[vt])}});const je=K(we);for(let ze=0;ze<je.length;ze++)h(je[ze]);const at=document.createElement("div");at.appendChild(we);const Mt=at.querySelector("div");return null!==Mt?Mt.innerHTML:at.innerHTML}catch(we){return console.error(we),""}},h=ye=>{if(ye.nodeType&&1!==ye.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ye.attributes instanceof NamedNodeMap))return void ye.remove();for(let Ve=ye.attributes.length-1;Ve>=0;Ve--){const je=ye.attributes.item(Ve),at=je.name;if(!Te.includes(at.toLowerCase())){ye.removeAttribute(at);continue}const Mt=je.value,ze=ye[at];(null!=Mt&&Mt.toLowerCase().includes("javascript:")||null!=ze&&ze.toLowerCase().includes("javascript:"))&&ye.removeAttribute(at)}const we=K(ye);for(let Ve=0;Ve<we.length;Ve++)h(we[Ve])},K=ye=>null!=ye.children?ye.children:ye.childNodes,P=()=>{var ye;const we=window,Ve=null===(ye=we?.Ionic)||void 0===ye?void 0:ye.config;return!Ve||(Ve.get?Ve.get("sanitizerEnabled",!0):!0===Ve.sanitizerEnabled||void 0===Ve.sanitizerEnabled)},Te=["class","id","href","src","name","slot"],me=["script","style","iframe","meta","link","object","embed"];class Pe{constructor(we){this.value=we}}const Xe=ye=>{const we=window,Ve=we.Ionic;if(!Ve||!Ve.config||"Object"===Ve.config.constructor.name)return we.Ionic=we.Ionic||{},we.Ionic.config=Object.assign(Object.assign({},we.Ionic.config),ye),we.Ionic.config},De=!1},6782:(xn,bt,k)=>{"use strict";k.d(bt,{C:()=>Te,a:()=>K,d:()=>P});var y=k(5861),h=k(3577);const K=function(){var me=(0,y.Z)(function*(Pe,Xe,j,De,ye,we){var Ve;if(Pe)return Pe.attachViewToDom(Xe,j,ye,De);if(!(we||"string"==typeof j||j instanceof HTMLElement))throw new Error("framework delegate is missing");const je="string"==typeof j?null===(Ve=Xe.ownerDocument)||void 0===Ve?void 0:Ve.createElement(j):j;return De&&De.forEach(at=>je.classList.add(at)),ye&&Object.assign(je,ye),Xe.appendChild(je),yield new Promise(at=>(0,h.c)(je,at)),je});return function(Xe,j,De,ye,we,Ve){return me.apply(this,arguments)}}(),P=(me,Pe)=>{if(Pe){if(me)return me.removeViewFromDom(Pe.parentElement,Pe);Pe.remove()}return Promise.resolve()},Te=()=>{let me,Pe;return{attachViewToDom:function(){var De=(0,y.Z)(function*(ye,we,Ve={},je=[]){var at,Mt;if(me=ye,we){const Ge="string"==typeof we?null===(at=me.ownerDocument)||void 0===at?void 0:at.createElement(we):we;je.forEach(_e=>Ge.classList.add(_e)),Object.assign(Ge,Ve),me.appendChild(Ge),yield new Promise(_e=>(0,h.c)(Ge,_e))}else if(me.children.length>0&&("ION-MODAL"===me.tagName||"ION-POPOVER"===me.tagName)&&!me.children[0].classList.contains("ion-delegate-host")){const _e=null===(Mt=me.ownerDocument)||void 0===Mt?void 0:Mt.createElement("div");_e.classList.add("ion-delegate-host"),je.forEach(mt=>_e.classList.add(mt)),_e.append(...me.children),me.appendChild(_e)}const ze=document.querySelector("ion-app")||document.body;return Pe=document.createComment("ionic teleport"),me.parentNode.insertBefore(Pe,me),ze.appendChild(me),me});return function(we,Ve){return De.apply(this,arguments)}}(),removeViewFromDom:()=>(me&&Pe&&(Pe.parentNode.insertBefore(me,Pe),Pe.remove()),Promise.resolve())}}},4349:(xn,bt,k)=>{"use strict";k.d(bt,{G:()=>Te});class h{constructor(Pe,Xe,j,De,ye){this.id=Xe,this.name=j,this.disableScroll=ye,this.priority=1e6*De+Xe,this.ctrl=Pe}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Pe=this.ctrl.capture(this.name,this.id,this.priority);return Pe&&this.disableScroll&&this.ctrl.disableScroll(this.id),Pe}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class K{constructor(Pe,Xe,j,De){this.id=Xe,this.disable=j,this.disableScroll=De,this.ctrl=Pe}block(){if(this.ctrl){if(this.disable)for(const Pe of this.disable)this.ctrl.disableGesture(Pe,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Pe of this.disable)this.ctrl.enableGesture(Pe,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const P="backdrop-no-scroll",Te=new class y{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Pe){var Xe;return new h(this,this.newID(),Pe.name,null!==(Xe=Pe.priority)&&void 0!==Xe?Xe:0,!!Pe.disableScroll)}createBlocker(Pe={}){return new K(this,this.newID(),Pe.disable,!!Pe.disableScroll)}start(Pe,Xe,j){return this.canStart(Pe)?(this.requestedStart.set(Xe,j),!0):(this.requestedStart.delete(Xe),!1)}capture(Pe,Xe,j){if(!this.start(Pe,Xe,j))return!1;const De=this.requestedStart;let ye=-1e4;if(De.forEach(we=>{ye=Math.max(ye,we)}),ye===j){this.capturedId=Xe,De.clear();const we=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Pe}});return document.dispatchEvent(we),!0}return De.delete(Xe),!1}release(Pe){this.requestedStart.delete(Pe),this.capturedId===Pe&&(this.capturedId=void 0)}disableGesture(Pe,Xe){let j=this.disabledGestures.get(Pe);void 0===j&&(j=new Set,this.disabledGestures.set(Pe,j)),j.add(Xe)}enableGesture(Pe,Xe){const j=this.disabledGestures.get(Pe);void 0!==j&&j.delete(Xe)}disableScroll(Pe){this.disabledScroll.add(Pe),1===this.disabledScroll.size&&document.body.classList.add(P)}enableScroll(Pe){this.disabledScroll.delete(Pe),0===this.disabledScroll.size&&document.body.classList.remove(P)}canStart(Pe){return!(void 0!==this.capturedId||this.isDisabled(Pe))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Pe){const Xe=this.disabledGestures.get(Pe);return!!(Xe&&Xe.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(xn,bt,k)=>{"use strict";k.r(bt),k.d(bt,{MENU_BACK_BUTTON_PRIORITY:()=>Te,OVERLAY_BACK_BUTTON_PRIORITY:()=>P,blockHardwareBackButton:()=>h,startHardwareBackButton:()=>K});var y=k(5861);const h=()=>{document.addEventListener("backbutton",()=>{})},K=()=>{const me=document;let Pe=!1;me.addEventListener("backbutton",()=>{if(Pe)return;let Xe=0,j=[];const De=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ve,je){j.push({priority:Ve,handler:je,id:Xe++})}}});me.dispatchEvent(De);const ye=function(){var Ve=(0,y.Z)(function*(je){try{if(je?.handler){const at=je.handler(we);null!=at&&(yield at)}}catch(at){console.error(at)}});return function(at){return Ve.apply(this,arguments)}}(),we=()=>{if(j.length>0){let Ve={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};j.forEach(je=>{je.priority>=Ve.priority&&(Ve=je)}),Pe=!0,j=j.filter(je=>je.id!==Ve.id),ye(Ve).then(()=>Pe=!1)}};we()})},P=100,Te=99},3577:(xn,bt,k)=>{"use strict";k.d(bt,{a:()=>Xe,b:()=>j,c:()=>K,d:()=>Mt,e:()=>at,f:()=>je,g:()=>De,h:()=>Ve,i:()=>Pe,j:()=>vt,k:()=>Te,l:()=>ze,m:()=>P,n:()=>we,o:()=>Ge,p:()=>mt,q:()=>dt,r:()=>ye,s:()=>Dt,t:()=>y,u:()=>pt,v:()=>_e});const y=(We,be=0)=>new Promise($t=>{h(We,be,$t)}),h=(We,be=0,$t)=>{let tt,Ft;const zt={passive:!0},Sn=()=>{tt&&tt()},Et=st=>{(void 0===st||We===st.target)&&(Sn(),$t(st))};return We&&(We.addEventListener("webkitTransitionEnd",Et,zt),We.addEventListener("transitionend",Et,zt),Ft=setTimeout(Et,be+500),tt=()=>{Ft&&(clearTimeout(Ft),Ft=void 0),We.removeEventListener("webkitTransitionEnd",Et,zt),We.removeEventListener("transitionend",Et,zt)}),Sn},K=(We,be)=>{We.componentOnReady?We.componentOnReady().then($t=>be($t)):ye(()=>be(We))},P=We=>void 0!==We.componentOnReady,Te=(We,be=[])=>{const $t={};return be.forEach(tt=>{We.hasAttribute(tt)&&(null!==We.getAttribute(tt)&&($t[tt]=We.getAttribute(tt)),We.removeAttribute(tt))}),$t},me=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Pe=(We,be)=>{let $t=me;return be&&be.length>0&&($t=$t.filter(tt=>!be.includes(tt))),Te(We,$t)},Xe=(We,be,$t,tt)=>{var Ft;if(typeof window<"u"){const zt=window,Vt=null===(Ft=zt?.Ionic)||void 0===Ft?void 0:Ft.config;if(Vt){const Sn=Vt.get("_ael");if(Sn)return Sn(We,be,$t,tt);if(Vt._ael)return Vt._ael(We,be,$t,tt)}}return We.addEventListener(be,$t,tt)},j=(We,be,$t,tt)=>{var Ft;if(typeof window<"u"){const zt=window,Vt=null===(Ft=zt?.Ionic)||void 0===Ft?void 0:Ft.config;if(Vt){const Sn=Vt.get("_rel");if(Sn)return Sn(We,be,$t,tt);if(Vt._rel)return Vt._rel(We,be,$t,tt)}}return We.removeEventListener(be,$t,tt)},De=(We,be=We)=>We.shadowRoot||be,ye=We=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(We):"function"==typeof requestAnimationFrame?requestAnimationFrame(We):setTimeout(We),we=We=>!!We.shadowRoot&&!!We.attachShadow,Ve=We=>{const be=We.closest("ion-item");return be?be.querySelector("ion-label"):null},je=We=>{if(We.focus(),We.classList.contains("ion-focusable")){const be=We.closest("ion-app");be&&be.setFocus([We])}},at=(We,be)=>{let $t;const tt=We.getAttribute("aria-labelledby"),Ft=We.id;let zt=null!==tt&&""!==tt.trim()?tt:be+"-lbl",Vt=null!==tt&&""!==tt.trim()?document.getElementById(tt):Ve(We);return Vt?(null===tt&&(Vt.id=zt),$t=Vt.textContent,Vt.setAttribute("aria-hidden","true")):""!==Ft.trim()&&(Vt=document.querySelector(`label[for="${Ft}"]`),Vt&&(""!==Vt.id?zt=Vt.id:Vt.id=zt=`${Ft}-lbl`,$t=Vt.textContent)),{label:Vt,labelId:zt,labelText:$t}},Mt=(We,be,$t,tt,Ft)=>{if(We||we(be)){let zt=be.querySelector("input.aux-input");zt||(zt=be.ownerDocument.createElement("input"),zt.type="hidden",zt.classList.add("aux-input"),be.appendChild(zt)),zt.disabled=Ft,zt.name=$t,zt.value=tt||""}},ze=(We,be,$t)=>Math.max(We,Math.min(be,$t)),Ge=(We,be)=>{if(!We){const $t="ASSERT: "+be;throw console.error($t),new Error($t)}},_e=We=>We.timeStamp||Date.now(),mt=We=>{if(We){const be=We.changedTouches;if(be&&be.length>0){const $t=be[0];return{x:$t.clientX,y:$t.clientY}}if(void 0!==We.pageX)return{x:We.pageX,y:We.pageY}}return{x:0,y:0}},dt=We=>{const be="rtl"===document.dir;switch(We){case"start":return be;case"end":return!be;default:throw new Error(`"${We}" is not a valid value for [side]. Use "start" or "end" instead.`)}},vt=(We,be)=>{const $t=We._original||We;return{_original:We,emit:pt($t.emit.bind($t),be)}},pt=(We,be=0)=>{let $t;return(...tt)=>{clearTimeout($t),$t=setTimeout(We,be,...tt)}},Dt=(We,be)=>{if(We??(We={}),be??(be={}),We===be)return!0;const $t=Object.keys(We);if($t.length!==Object.keys(be).length)return!1;for(const tt of $t)if(!(tt in be)||We[tt]!==be[tt])return!1;return!0}},5191:(xn,bt,k)=>{"use strict";k.d(bt,{m:()=>ye});var y=k(5861),h=k(7593),K=k(3577),P=k(5273),Te=k(4251);const me=we=>(0,Te.c)().duration(we?400:300),Pe=we=>{let Ve,je;const at=we.width+8,Mt=(0,Te.c)(),ze=(0,Te.c)();we.isEndSide?(Ve=at+"px",je="0px"):(Ve=-at+"px",je="0px"),Mt.addElement(we.menuInnerEl).fromTo("transform",`translateX(${Ve})`,`translateX(${je})`);const _e="ios"===(0,P.b)(we),mt=_e?.2:.25;return ze.addElement(we.backdropEl).fromTo("opacity",.01,mt),me(_e).addAnimation([Mt,ze])},Xe=we=>{let Ve,je;const at=(0,P.b)(we),Mt=we.width;we.isEndSide?(Ve=-Mt+"px",je=Mt+"px"):(Ve=Mt+"px",je=-Mt+"px");const ze=(0,Te.c)().addElement(we.menuInnerEl).fromTo("transform",`translateX(${je})`,"translateX(0px)"),Ge=(0,Te.c)().addElement(we.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ve})`),_e=(0,Te.c)().addElement(we.backdropEl).fromTo("opacity",.01,.32);return me("ios"===at).addAnimation([ze,Ge,_e])},j=we=>{const Ve=(0,P.b)(we),je=we.width*(we.isEndSide?-1:1)+"px",at=(0,Te.c)().addElement(we.contentEl).fromTo("transform","translateX(0px)",`translateX(${je})`);return me("ios"===Ve).addAnimation(at)},ye=(()=>{const we=new Map,Ve=[],je=function(){var Ue=(0,y.Z)(function*(Qe){const ut=yield dt(Qe);return!!ut&&ut.open()});return function(ut){return Ue.apply(this,arguments)}}(),at=function(){var Ue=(0,y.Z)(function*(Qe){const ut=yield void 0!==Qe?dt(Qe):vt();return void 0!==ut&&ut.close()});return function(ut){return Ue.apply(this,arguments)}}(),Mt=function(){var Ue=(0,y.Z)(function*(Qe){const ut=yield dt(Qe);return!!ut&&ut.toggle()});return function(ut){return Ue.apply(this,arguments)}}(),ze=function(){var Ue=(0,y.Z)(function*(Qe,ut){const yt=yield dt(ut);return yt&&(yt.disabled=!Qe),yt});return function(ut,yt){return Ue.apply(this,arguments)}}(),Ge=function(){var Ue=(0,y.Z)(function*(Qe,ut){const yt=yield dt(ut);return yt&&(yt.swipeGesture=Qe),yt});return function(ut,yt){return Ue.apply(this,arguments)}}(),_e=function(){var Ue=(0,y.Z)(function*(Qe){if(null!=Qe){const ut=yield dt(Qe);return void 0!==ut&&ut.isOpen()}return void 0!==(yield vt())});return function(ut){return Ue.apply(this,arguments)}}(),mt=function(){var Ue=(0,y.Z)(function*(Qe){const ut=yield dt(Qe);return!!ut&&!ut.disabled});return function(ut){return Ue.apply(this,arguments)}}(),dt=function(){var Ue=(0,y.Z)(function*(Qe){return yield Ye(),"start"===Qe||"end"===Qe?st(Jt=>Jt.side===Qe&&!Jt.disabled)||st(Jt=>Jt.side===Qe):null!=Qe?st(yt=>yt.menuId===Qe):st(yt=>!yt.disabled)||(Ve.length>0?Ve[0].el:void 0)});return function(ut){return Ue.apply(this,arguments)}}(),vt=function(){var Ue=(0,y.Z)(function*(){return yield Ye(),Vt()});return function(){return Ue.apply(this,arguments)}}(),pt=function(){var Ue=(0,y.Z)(function*(){return yield Ye(),Sn()});return function(){return Ue.apply(this,arguments)}}(),Dt=function(){var Ue=(0,y.Z)(function*(){return yield Ye(),Et()});return function(){return Ue.apply(this,arguments)}}(),We=(Ue,Qe)=>{we.set(Ue,Qe)},tt=Ue=>{const Qe=Ue.side;Ve.filter(ut=>ut.side===Qe&&ut!==Ue).forEach(ut=>ut.disabled=!0)},Ft=function(){var Ue=(0,y.Z)(function*(Qe,ut,yt){if(Et())return!1;if(ut){const Jt=yield vt();Jt&&Qe.el!==Jt&&(yield Jt.setOpen(!1,!1))}return Qe._setOpen(ut,yt)});return function(ut,yt,Jt){return Ue.apply(this,arguments)}}(),Vt=()=>st(Ue=>Ue._isOpen),Sn=()=>Ve.map(Ue=>Ue.el),Et=()=>Ve.some(Ue=>Ue.isAnimating),st=Ue=>{const Qe=Ve.find(Ue);if(void 0!==Qe)return Qe.el},Ye=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Ue=>new Promise(Qe=>(0,K.c)(Ue,Qe))));return We("reveal",j),We("push",Xe),We("overlay",Pe),typeof document<"u"&&document.addEventListener("ionBackButton",Ue=>{const Qe=Vt();Qe&&Ue.detail.register(h.MENU_BACK_BUTTON_PRIORITY,()=>Qe.close())}),{registerAnimation:We,get:dt,getMenus:pt,getOpen:vt,isEnabled:mt,swipeGesture:Ge,isAnimating:Dt,isOpen:_e,enable:ze,toggle:Mt,close:at,open:je,_getOpenSync:Vt,_createAnimation:(Ue,Qe)=>{const ut=we.get(Ue);if(!ut)throw new Error("animation not registered");return ut(Qe)},_register:Ue=>{Ve.indexOf(Ue)<0&&(Ue.disabled||tt(Ue),Ve.push(Ue))},_unregister:Ue=>{const Qe=Ve.indexOf(Ue);Qe>-1&&Ve.splice(Qe,1)},_setOpen:Ft,_setActiveMenu:tt}})()},1898:(xn,bt,k)=>{"use strict";k.r(bt),k.d(bt,{GESTURE_CONTROLLER:()=>y.G,createGesture:()=>j});var y=k(4349);const h=(Ve,je,at,Mt)=>{const ze=K(Ve)?{capture:!!Mt.capture,passive:!!Mt.passive}:!!Mt.capture;let Ge,_e;return Ve.__zone_symbol__addEventListener?(Ge="__zone_symbol__addEventListener",_e="__zone_symbol__removeEventListener"):(Ge="addEventListener",_e="removeEventListener"),Ve[Ge](je,at,ze),()=>{Ve[_e](je,at,ze)}},K=Ve=>{if(void 0===P)try{const je=Object.defineProperty({},"passive",{get:()=>{P=!0}});Ve.addEventListener("optsTest",()=>{},je)}catch{P=!1}return!!P};let P;const Pe=Ve=>Ve instanceof Document?Ve:Ve.ownerDocument,j=Ve=>{let je=!1,at=!1,Mt=!0,ze=!1;const Ge=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ve),_e=Ge.canStart,mt=Ge.onWillStart,dt=Ge.onStart,vt=Ge.onEnd,pt=Ge.notCaptured,Dt=Ge.onMove,We=Ge.threshold,be=Ge.passive,$t=Ge.blurOnStart,tt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ft=((Ve,je,at)=>{const Mt=at*(Math.PI/180),ze="x"===Ve,Ge=Math.cos(Mt),_e=je*je;let mt=0,dt=0,vt=!1,pt=0;return{start(Dt,We){mt=Dt,dt=We,pt=0,vt=!0},detect(Dt,We){if(!vt)return!1;const be=Dt-mt,$t=We-dt,tt=be*be+$t*$t;if(tt<_e)return!1;const Ft=Math.sqrt(tt),zt=(ze?be:$t)/Ft;return pt=zt>Ge?1:zt<-Ge?-1:0,vt=!1,!0},isGesture:()=>0!==pt,getDirection:()=>pt}})(Ge.direction,Ge.threshold,Ge.maxAngle),zt=y.G.createGesture({name:Ve.gestureName,priority:Ve.gesturePriority,disableScroll:Ve.disableScroll}),Et=()=>{je&&(ze=!1,Dt&&Dt(tt))},st=()=>!!zt.capture()&&(je=!0,Mt=!1,tt.startX=tt.currentX,tt.startY=tt.currentY,tt.startTime=tt.currentTime,mt?mt(tt).then(Ue):Ue(),!0),Ue=()=>{$t&&(()=>{if(typeof document<"u"){const Nn=document.activeElement;Nn?.blur&&Nn.blur()}})(),dt&&dt(tt),Mt=!0},Qe=()=>{je=!1,at=!1,ze=!1,Mt=!0,zt.release()},ut=Nn=>{const mn=je,On=Mt;if(Qe(),On){if(De(tt,Nn),mn)return void(vt&&vt(tt));pt&&pt(tt)}},yt=((Ve,je,at,Mt,ze)=>{let Ge,_e,mt,dt,vt,pt,Dt,We=0;const be=Ye=>{We=Date.now()+2e3,je(Ye)&&(!_e&&at&&(_e=h(Ve,"touchmove",at,ze)),mt||(mt=h(Ye.target,"touchend",tt,ze)),dt||(dt=h(Ye.target,"touchcancel",tt,ze)))},$t=Ye=>{We>Date.now()||je(Ye)&&(!pt&&at&&(pt=h(Pe(Ve),"mousemove",at,ze)),Dt||(Dt=h(Pe(Ve),"mouseup",Ft,ze)))},tt=Ye=>{zt(),Mt&&Mt(Ye)},Ft=Ye=>{Vt(),Mt&&Mt(Ye)},zt=()=>{_e&&_e(),mt&&mt(),dt&&dt(),_e=mt=dt=void 0},Vt=()=>{pt&&pt(),Dt&&Dt(),pt=Dt=void 0},Sn=()=>{zt(),Vt()},Et=(Ye=!0)=>{Ye?(Ge||(Ge=h(Ve,"touchstart",be,ze)),vt||(vt=h(Ve,"mousedown",$t,ze))):(Ge&&Ge(),vt&&vt(),Ge=vt=void 0,Sn())};return{enable:Et,stop:Sn,destroy:()=>{Et(!1),Mt=at=je=void 0}}})(Ge.el,Nn=>{const mn=we(Nn);return!(at||!Mt||(ye(Nn,tt),tt.startX=tt.currentX,tt.startY=tt.currentY,tt.startTime=tt.currentTime=mn,tt.velocityX=tt.velocityY=tt.deltaX=tt.deltaY=0,tt.event=Nn,_e&&!1===_e(tt))||(zt.release(),!zt.start()))&&(at=!0,0===We?st():(Ft.start(tt.startX,tt.startY),!0))},Nn=>{je?!ze&&Mt&&(ze=!0,De(tt,Nn),requestAnimationFrame(Et)):(De(tt,Nn),Ft.detect(tt.currentX,tt.currentY)&&(!Ft.isGesture()||!st())&&Jt())},ut,{capture:!1,passive:be}),Jt=()=>{Qe(),yt.stop(),pt&&pt(tt)};return{enable(Nn=!0){Nn||(je&&ut(void 0),Qe()),yt.enable(Nn)},destroy(){zt.destroy(),yt.destroy()}}},De=(Ve,je)=>{if(!je)return;const at=Ve.currentX,Mt=Ve.currentY,ze=Ve.currentTime;ye(je,Ve);const Ge=Ve.currentX,_e=Ve.currentY,dt=(Ve.currentTime=we(je))-ze;if(dt>0&&dt<100){const pt=(_e-Mt)/dt;Ve.velocityX=(Ge-at)/dt*.7+.3*Ve.velocityX,Ve.velocityY=.7*pt+.3*Ve.velocityY}Ve.deltaX=Ge-Ve.startX,Ve.deltaY=_e-Ve.startY,Ve.event=je},ye=(Ve,je)=>{let at=0,Mt=0;if(Ve){const ze=Ve.changedTouches;if(ze&&ze.length>0){const Ge=ze[0];at=Ge.clientX,Mt=Ge.clientY}else void 0!==Ve.pageX&&(at=Ve.pageX,Mt=Ve.pageY)}je.currentX=at,je.currentY=Mt},we=Ve=>Ve.timeStamp||Date.now()},4083:(xn,bt,k)=>{"use strict";k.d(bt,{B:()=>ye,H:()=>Sn,a:()=>Bs,b:()=>Ke,c:()=>Nn,d:()=>hn,e:()=>ns,f:()=>St,g:()=>mn,h:()=>zt,i:()=>ai,j:()=>we,p:()=>Z,r:()=>an,w:()=>Fs});var y=k(5861);let K,P,Te,me=!1,Pe=!1,Xe=!1,j=!1,De=!1;const ye={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},we=ee=>{const se=new URL(ee,Dr.$resourcesUrl$);return se.origin!==Sr.location.origin?se.href:se.pathname},_e="s-id",mt="sty-id",pt="http://www.w3.org/1999/xlink",Dt={},tt=ee=>"object"==(ee=typeof ee)||"function"===ee;function Ft(ee){var se,Ae,he;return null!==(he=null===(Ae=null===(se=ee.head)||void 0===se?void 0:se.querySelector('meta[name="csp-nonce"]'))||void 0===Ae?void 0:Ae.getAttribute("content"))&&void 0!==he?he:void 0}const zt=(ee,se,...Ae)=>{let he=null,He=null,Ze=null,xt=!1,Lt=!1;const qt=[],En=vr=>{for(let wr=0;wr<vr.length;wr++)he=vr[wr],Array.isArray(he)?En(he):null!=he&&"boolean"!=typeof he&&((xt="function"!=typeof ee&&!tt(he))&&(he=String(he)),xt&&Lt?qt[qt.length-1].$text$+=he:qt.push(xt?Vt(null,he):he),Lt=xt)};if(En(Ae),se){se.key&&(He=se.key),se.name&&(Ze=se.name);{const vr=se.className||se.class;vr&&(se.class="object"!=typeof vr?vr:Object.keys(vr).filter(wr=>vr[wr]).join(" "))}}if("function"==typeof ee)return ee(null===se?{}:se,qt,st);const Bn=Vt(ee,null);return Bn.$attrs$=se,qt.length>0&&(Bn.$children$=qt),Bn.$key$=He,Bn.$name$=Ze,Bn},Vt=(ee,se)=>({$flags$:0,$tag$:ee,$text$:se,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Sn={},st={forEach:(ee,se)=>ee.map(Ye).forEach(se),map:(ee,se)=>ee.map(Ye).map(se).map(Ue)},Ye=ee=>({vattrs:ee.$attrs$,vchildren:ee.$children$,vkey:ee.$key$,vname:ee.$name$,vtag:ee.$tag$,vtext:ee.$text$}),Ue=ee=>{if("function"==typeof ee.vtag){const Ae=Object.assign({},ee.vattrs);return ee.vkey&&(Ae.key=ee.vkey),ee.vname&&(Ae.name=ee.vname),zt(ee.vtag,Ae,...ee.vchildren||[])}const se=Vt(ee.vtag,ee.vtext);return se.$attrs$=ee.vattrs,se.$children$=ee.vchildren,se.$key$=ee.vkey,se.$name$=ee.vname,se},ut=(ee,se,Ae,he,He,Ze,xt)=>{let Lt,qt,En,Bn;if(1===Ze.nodeType){for(Lt=Ze.getAttribute("c-id"),Lt&&(qt=Lt.split("."),(qt[0]===xt||"0"===qt[0])&&(En={$flags$:0,$hostId$:qt[0],$nodeId$:qt[1],$depth$:qt[2],$index$:qt[3],$tag$:Ze.tagName.toLowerCase(),$elm$:Ze,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},se.push(En),Ze.removeAttribute("c-id"),ee.$children$||(ee.$children$=[]),ee.$children$[En.$index$]=En,ee=En,he&&"0"===En.$depth$&&(he[En.$index$]=En.$elm$))),Bn=Ze.childNodes.length-1;Bn>=0;Bn--)ut(ee,se,Ae,he,He,Ze.childNodes[Bn],xt);if(Ze.shadowRoot)for(Bn=Ze.shadowRoot.childNodes.length-1;Bn>=0;Bn--)ut(ee,se,Ae,he,He,Ze.shadowRoot.childNodes[Bn],xt)}else if(8===Ze.nodeType)qt=Ze.nodeValue.split("."),(qt[1]===xt||"0"===qt[1])&&(Lt=qt[0],En={$flags$:0,$hostId$:qt[1],$nodeId$:qt[2],$depth$:qt[3],$index$:qt[4],$elm$:Ze,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Lt?(En.$elm$=Ze.nextSibling,En.$elm$&&3===En.$elm$.nodeType&&(En.$text$=En.$elm$.textContent,se.push(En),Ze.remove(),ee.$children$||(ee.$children$=[]),ee.$children$[En.$index$]=En,he&&"0"===En.$depth$&&(he[En.$index$]=En.$elm$))):En.$hostId$===xt&&("s"===Lt?(En.$tag$="slot",Ze["s-sn"]=qt[5]?En.$name$=qt[5]:"",Ze["s-sr"]=!0,he&&(En.$elm$=er.createElement(En.$tag$),En.$name$&&En.$elm$.setAttribute("name",En.$name$),Ze.parentNode.insertBefore(En.$elm$,Ze),Ze.remove(),"0"===En.$depth$&&(he[En.$index$]=En.$elm$)),Ae.push(En),ee.$children$||(ee.$children$=[]),ee.$children$[En.$index$]=En):"r"===Lt&&(he?Ze.remove():(He["s-cr"]=Ze,Ze["s-cn"]=!0))));else if(ee&&"style"===ee.$tag$){const vr=Vt(null,Ze.textContent);vr.$elm$=Ze,vr.$index$="0",ee.$children$=[vr]}},yt=(ee,se)=>{if(1===ee.nodeType){let Ae=0;for(;Ae<ee.childNodes.length;Ae++)yt(ee.childNodes[Ae],se);if(ee.shadowRoot)for(Ae=0;Ae<ee.shadowRoot.childNodes.length;Ae++)yt(ee.shadowRoot.childNodes[Ae],se)}else if(8===ee.nodeType){const Ae=ee.nodeValue.split(".");"o"===Ae[0]&&(se.set(Ae[1]+"."+Ae[2],ee),ee.nodeValue="",ee["s-en"]=Ae[3])}},Nn=ee=>_i.push(ee),mn=ee=>Or(ee).$modeName$,St=ee=>Or(ee).$hostElement$,hn=(ee,se,Ae)=>{const he=St(ee);return{emit:He=>Yt(he,se,{bubbles:!!(4&Ae),composed:!!(2&Ae),cancelable:!!(1&Ae),detail:He})}},Yt=(ee,se,Ae)=>{const he=Dr.ce(se,Ae);return ee.dispatchEvent(he),he},ct=new WeakMap,Xt=(ee,se,Ae)=>{let he=Fr.get(ee);wt&&Ae?(he=he||new CSSStyleSheet,"string"==typeof he?he=se:he.replaceSync(se)):he=se,Fr.set(ee,he)},Tt=(ee,se,Ae,he)=>{var He;let Ze=kn(se,Ae);const xt=Fr.get(Ze);if(ee=11===ee.nodeType?ee:er,xt)if("string"==typeof xt){let qt,Lt=ct.get(ee=ee.head||ee);if(Lt||ct.set(ee,Lt=new Set),!Lt.has(Ze)){if(ee.host&&(qt=ee.querySelector(`[${mt}="${Ze}"]`)))qt.innerHTML=xt;else{qt=er.createElement("style"),qt.innerHTML=xt;const En=null!==(He=Dr.$nonce$)&&void 0!==He?He:Ft(er);null!=En&&qt.setAttribute("nonce",En),ee.insertBefore(qt,ee.querySelector("link"))}Lt&&Lt.add(Ze)}}else ee.adoptedStyleSheets.includes(xt)||(ee.adoptedStyleSheets=[...ee.adoptedStyleSheets,xt]);return Ze},kn=(ee,se)=>"sc-"+(se&&32&ee.$flags$?ee.$tagName$+"-"+se:ee.$tagName$),Xn=ee=>ee.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),lr=(ee,se,Ae,he,He,Ze)=>{if(Ae!==he){let xt=gn(ee,se),Lt=se.toLowerCase();if("class"===se){const qt=ee.classList,En=bn(Ae),Bn=bn(he);qt.remove(...En.filter(vr=>vr&&!Bn.includes(vr))),qt.add(...Bn.filter(vr=>vr&&!En.includes(vr)))}else if("style"===se){for(const qt in Ae)(!he||null==he[qt])&&(qt.includes("-")?ee.style.removeProperty(qt):ee.style[qt]="");for(const qt in he)(!Ae||he[qt]!==Ae[qt])&&(qt.includes("-")?ee.style.setProperty(qt,he[qt]):ee.style[qt]=he[qt])}else if("key"!==se)if("ref"===se)he&&he(ee);else if(xt||"o"!==se[0]||"n"!==se[1]){const qt=tt(he);if((xt||qt&&null!==he)&&!He)try{if(ee.tagName.includes("-"))ee[se]=he;else{const Bn=he??"";"list"===se?xt=!1:(null==Ae||ee[se]!=Bn)&&(ee[se]=Bn)}}catch{}let En=!1;Lt!==(Lt=Lt.replace(/^xlink\:?/,""))&&(se=Lt,En=!0),null==he||!1===he?(!1!==he||""===ee.getAttribute(se))&&(En?ee.removeAttributeNS(pt,se):ee.removeAttribute(se)):(!xt||4&Ze||He)&&!qt&&(he=!0===he?"":he,En?ee.setAttributeNS(pt,se,he):ee.setAttribute(se,he))}else se="-"===se[2]?se.slice(3):gn(Sr,Lt)?Lt.slice(2):Lt[2]+se.slice(3),Ae&&Dr.rel(ee,se,Ae,!1),he&&Dr.ael(ee,se,he,!1)}},cr=/\s/,bn=ee=>ee?ee.split(cr):[],Jn=(ee,se,Ae,he)=>{const He=11===se.$elm$.nodeType&&se.$elm$.host?se.$elm$.host:se.$elm$,Ze=ee&&ee.$attrs$||Dt,xt=se.$attrs$||Dt;for(he in Ze)he in xt||lr(He,he,Ze[he],void 0,Ae,se.$flags$);for(he in xt)lr(He,he,Ze[he],xt[he],Ae,se.$flags$)},Qr=(ee,se,Ae,he)=>{const He=se.$children$[Ae];let xt,Lt,qt,Ze=0;if(me||(Xe=!0,"slot"===He.$tag$&&(K&&he.classList.add(K+"-s"),He.$flags$|=He.$children$?2:1)),null!==He.$text$)xt=He.$elm$=er.createTextNode(He.$text$);else if(1&He.$flags$)xt=He.$elm$=er.createTextNode("");else{if(j||(j="svg"===He.$tag$),xt=He.$elm$=er.createElementNS(j?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&He.$flags$?"slot-fb":He.$tag$),j&&"foreignObject"===He.$tag$&&(j=!1),Jn(null,He,j),(ee=>null!=ee)(K)&&xt["s-si"]!==K&&xt.classList.add(xt["s-si"]=K),He.$children$)for(Ze=0;Ze<He.$children$.length;++Ze)Lt=Qr(ee,He,Ze,xt),Lt&&xt.appendChild(Lt);"svg"===He.$tag$?j=!1:"foreignObject"===xt.tagName&&(j=!0)}return xt["s-hn"]=Te,3&He.$flags$&&(xt["s-sr"]=!0,xt["s-cr"]=P,xt["s-sn"]=He.$name$||"",qt=ee&&ee.$children$&&ee.$children$[Ae],qt&&qt.$tag$===He.$tag$&&ee.$elm$&&Er(ee.$elm$,!1)),xt},Er=(ee,se)=>{Dr.$flags$|=1;const Ae=ee.childNodes;for(let he=Ae.length-1;he>=0;he--){const He=Ae[he];He["s-hn"]!==Te&&He["s-ol"]&&(Wn(He).insertBefore(He,Ot(He)),He["s-ol"].remove(),He["s-ol"]=void 0,Xe=!0),se&&Er(He,se)}Dr.$flags$&=-2},Ht=(ee,se,Ae,he,He,Ze)=>{let Lt,xt=ee["s-cr"]&&ee["s-cr"].parentNode||ee;for(xt.shadowRoot&&xt.tagName===Te&&(xt=xt.shadowRoot);He<=Ze;++He)he[He]&&(Lt=Qr(null,Ae,He,ee),Lt&&(he[He].$elm$=Lt,xt.insertBefore(Lt,Ot(se))))},vn=(ee,se,Ae)=>{for(let he=se;he<=Ae;++he){const He=ee[he];if(He){const Ze=He.$elm$;Un(He),Ze&&(Pe=!0,Ze["s-ol"]?Ze["s-ol"].remove():Er(Ze,!0),Ze.remove())}}},ht=(ee,se)=>ee.$tag$===se.$tag$&&("slot"===ee.$tag$?ee.$name$===se.$name$:ee.$key$===se.$key$),Ot=ee=>ee&&ee["s-ol"]||ee,Wn=ee=>(ee["s-ol"]?ee["s-ol"]:ee).parentNode,nn=(ee,se)=>{const Ae=se.$elm$=ee.$elm$,he=ee.$children$,He=se.$children$,Ze=se.$tag$,xt=se.$text$;let Lt;null===xt?(j="svg"===Ze||"foreignObject"!==Ze&&j,"slot"===Ze||Jn(ee,se,j),null!==he&&null!==He?((ee,se,Ae,he)=>{let Js,Us,He=0,Ze=0,xt=0,Lt=0,qt=se.length-1,En=se[0],Bn=se[qt],vr=he.length-1,wr=he[0],$i=he[vr];for(;He<=qt&&Ze<=vr;)if(null==En)En=se[++He];else if(null==Bn)Bn=se[--qt];else if(null==wr)wr=he[++Ze];else if(null==$i)$i=he[--vr];else if(ht(En,wr))nn(En,wr),En=se[++He],wr=he[++Ze];else if(ht(Bn,$i))nn(Bn,$i),Bn=se[--qt],$i=he[--vr];else if(ht(En,$i))("slot"===En.$tag$||"slot"===$i.$tag$)&&Er(En.$elm$.parentNode,!1),nn(En,$i),ee.insertBefore(En.$elm$,Bn.$elm$.nextSibling),En=se[++He],$i=he[--vr];else if(ht(Bn,wr))("slot"===En.$tag$||"slot"===$i.$tag$)&&Er(Bn.$elm$.parentNode,!1),nn(Bn,wr),ee.insertBefore(Bn.$elm$,En.$elm$),Bn=se[--qt],wr=he[++Ze];else{for(xt=-1,Lt=He;Lt<=qt;++Lt)if(se[Lt]&&null!==se[Lt].$key$&&se[Lt].$key$===wr.$key$){xt=Lt;break}xt>=0?(Us=se[xt],Us.$tag$!==wr.$tag$?Js=Qr(se&&se[Ze],Ae,xt,ee):(nn(Us,wr),se[xt]=void 0,Js=Us.$elm$),wr=he[++Ze]):(Js=Qr(se&&se[Ze],Ae,Ze,ee),wr=he[++Ze]),Js&&Wn(En.$elm$).insertBefore(Js,Ot(En.$elm$))}He>qt?Ht(ee,null==he[vr+1]?null:he[vr+1].$elm$,Ae,he,Ze,vr):Ze>vr&&vn(se,He,qt)})(Ae,he,se,He):null!==He?(null!==ee.$text$&&(Ae.textContent=""),Ht(Ae,null,se,He,0,He.length-1)):null!==he&&vn(he,0,he.length-1),j&&"svg"===Ze&&(j=!1)):(Lt=Ae["s-cr"])?Lt.parentNode.textContent=xt:ee.$text$!==xt&&(Ae.data=xt)},Wr=ee=>{const se=ee.childNodes;let Ae,he,He,Ze,xt,Lt;for(he=0,He=se.length;he<He;he++)if(Ae=se[he],1===Ae.nodeType){if(Ae["s-sr"])for(xt=Ae["s-sn"],Ae.hidden=!1,Ze=0;Ze<He;Ze++)if(Lt=se[Ze].nodeType,se[Ze]["s-hn"]!==Ae["s-hn"]||""!==xt){if(1===Lt&&xt===se[Ze].getAttribute("slot")){Ae.hidden=!0;break}}else if(1===Lt||3===Lt&&""!==se[Ze].textContent.trim()){Ae.hidden=!0;break}Wr(Ae)}},ei=[],qr=ee=>{let se,Ae,he,He,Ze,xt,Lt=0;const qt=ee.childNodes,En=qt.length;for(;Lt<En;Lt++){if(se=qt[Lt],se["s-sr"]&&(Ae=se["s-cr"])&&Ae.parentNode)for(he=Ae.parentNode.childNodes,He=se["s-sn"],xt=he.length-1;xt>=0;xt--)Ae=he[xt],!Ae["s-cn"]&&!Ae["s-nr"]&&Ae["s-hn"]!==se["s-hn"]&&(xr(Ae,He)?(Ze=ei.find(Bn=>Bn.$nodeToRelocate$===Ae),Pe=!0,Ae["s-sn"]=Ae["s-sn"]||He,Ze?Ze.$slotRefNode$=se:ei.push({$slotRefNode$:se,$nodeToRelocate$:Ae}),Ae["s-sr"]&&ei.map(Bn=>{xr(Bn.$nodeToRelocate$,Ae["s-sn"])&&(Ze=ei.find(vr=>vr.$nodeToRelocate$===Ae),Ze&&!Bn.$slotRefNode$&&(Bn.$slotRefNode$=Ze.$slotRefNode$))})):ei.some(Bn=>Bn.$nodeToRelocate$===Ae)||ei.push({$nodeToRelocate$:Ae}));1===se.nodeType&&qr(se)}},xr=(ee,se)=>1===ee.nodeType?null===ee.getAttribute("slot")&&""===se||ee.getAttribute("slot")===se:ee["s-sn"]===se||""===se,Un=ee=>{ee.$attrs$&&ee.$attrs$.ref&&ee.$attrs$.ref(null),ee.$children$&&ee.$children$.map(Un)},Qi=(ee,se)=>{se&&!ee.$onRenderResolve$&&se["s-p"]&&se["s-p"].push(new Promise(Ae=>ee.$onRenderResolve$=Ae))},Mi=(ee,se)=>{if(ee.$flags$|=16,!(4&ee.$flags$))return Qi(ee,ee.$ancestorComponent$),Fs(()=>Pi(ee,se));ee.$flags$|=512},Pi=(ee,se)=>{const he=ee.$lazyInstance$;let He;return se&&(ee.$flags$|=256,ee.$queuedListeners$&&(ee.$queuedListeners$.map(([Ze,xt])=>ti(he,Ze,xt)),ee.$queuedListeners$=null),He=ti(he,"componentWillLoad")),He=jr(He,()=>ti(he,"componentWillRender")),jr(He,()=>Le(ee,he,se))},jr=(ee,se)=>ee instanceof Promise?ee.then(se):se(),Le=function(){var ee=(0,y.Z)(function*(se,Ae,he){const He=se.$hostElement$,xt=He["s-rc"];he&&(ee=>{const se=ee.$cmpMeta$,Ae=ee.$hostElement$,he=se.$flags$,Ze=Tt(Ae.shadowRoot?Ae.shadowRoot:Ae.getRootNode(),se,ee.$modeName$);10&he&&(Ae["s-sc"]=Ze,Ae.classList.add(Ze+"-h"),2&he&&Ae.classList.add(Ze+"-s"))})(se);Ti(se,Ae),xt&&(xt.map(qt=>qt()),He["s-rc"]=void 0);{const qt=He["s-p"],En=()=>Pr(se);0===qt.length?En():(Promise.all(qt).then(En),se.$flags$|=4,qt.length=0)}});return function(Ae,he,He){return ee.apply(this,arguments)}}(),Ti=(ee,se,Ae)=>{try{se=se.render&&se.render(),ee.$flags$&=-17,ee.$flags$|=2,((ee,se)=>{const Ae=ee.$hostElement$,he=ee.$cmpMeta$,He=ee.$vnode$||Vt(null,null),Ze=(ee=>ee&&ee.$tag$===Sn)(se)?se:zt(null,null,se);if(Te=Ae.tagName,he.$attrsToReflect$&&(Ze.$attrs$=Ze.$attrs$||{},he.$attrsToReflect$.map(([xt,Lt])=>Ze.$attrs$[Lt]=Ae[xt])),Ze.$tag$=null,Ze.$flags$|=4,ee.$vnode$=Ze,Ze.$elm$=He.$elm$=Ae.shadowRoot||Ae,K=Ae["s-sc"],P=Ae["s-cr"],me=0!=(1&he.$flags$),Pe=!1,nn(He,Ze),Dr.$flags$|=1,Xe){qr(Ze.$elm$);let xt,Lt,qt,En,Bn,vr,wr=0;for(;wr<ei.length;wr++)xt=ei[wr],Lt=xt.$nodeToRelocate$,Lt["s-ol"]||(qt=er.createTextNode(""),qt["s-nr"]=Lt,Lt.parentNode.insertBefore(Lt["s-ol"]=qt,Lt));for(wr=0;wr<ei.length;wr++)if(xt=ei[wr],Lt=xt.$nodeToRelocate$,xt.$slotRefNode$){for(En=xt.$slotRefNode$.parentNode,Bn=xt.$slotRefNode$.nextSibling,qt=Lt["s-ol"];qt=qt.previousSibling;)if(vr=qt["s-nr"],vr&&vr["s-sn"]===Lt["s-sn"]&&En===vr.parentNode&&(vr=vr.nextSibling,!vr||!vr["s-nr"])){Bn=vr;break}(!Bn&&En!==Lt.parentNode||Lt.nextSibling!==Bn)&&Lt!==Bn&&(!Lt["s-hn"]&&Lt["s-ol"]&&(Lt["s-hn"]=Lt["s-ol"].parentNode.nodeName),En.insertBefore(Lt,Bn))}else 1===Lt.nodeType&&(Lt.hidden=!0)}Pe&&Wr(Ze.$elm$),Dr.$flags$&=-2,ei.length=0})(ee,se)}catch(he){Kn(he,ee.$hostElement$)}return null},Pr=ee=>{const Ae=ee.$hostElement$,He=ee.$lazyInstance$,Ze=ee.$ancestorComponent$;ti(He,"componentDidRender"),64&ee.$flags$?ti(He,"componentDidUpdate"):(ee.$flags$|=64,ui(Ae),ti(He,"componentDidLoad"),ee.$onReadyResolve$(Ae),Ze||Gi()),ee.$onInstanceResolve$(Ae),ee.$onRenderResolve$&&(ee.$onRenderResolve$(),ee.$onRenderResolve$=void 0),512&ee.$flags$&&Kr(()=>Mi(ee,!1)),ee.$flags$&=-517},ai=ee=>{{const se=Or(ee),Ae=se.$hostElement$.isConnected;return Ae&&2==(18&se.$flags$)&&Mi(se,!1),Ae}},Gi=ee=>{ui(er.documentElement),Kr(()=>Yt(Sr,"appload",{detail:{namespace:"ionic"}}))},ti=(ee,se,Ae)=>{if(ee&&ee[se])try{return ee[se](Ae)}catch(he){Kn(he)}},ui=ee=>ee.classList.add("hydrated"),te=(ee,se,Ae)=>{if(se.$members$){ee.watchers&&(se.$watchers$=ee.watchers);const he=Object.entries(se.$members$),He=ee.prototype;if(he.map(([Ze,[xt]])=>{31&xt||2&Ae&&32&xt?Object.defineProperty(He,Ze,{get(){return((ee,se)=>Or(this).$instanceValues$.get(se))(0,Ze)},set(Lt){((ee,se,Ae,he)=>{const He=Or(ee),Ze=He.$hostElement$,xt=He.$instanceValues$.get(se),Lt=He.$flags$,qt=He.$lazyInstance$;Ae=((ee,se)=>null==ee||tt(ee)?ee:4&se?"false"!==ee&&(""===ee||!!ee):2&se?parseFloat(ee):1&se?String(ee):ee)(Ae,he.$members$[se][0]);const En=Number.isNaN(xt)&&Number.isNaN(Ae);if((!(8&Lt)||void 0===xt)&&Ae!==xt&&!En&&(He.$instanceValues$.set(se,Ae),qt)){if(he.$watchers$&&128&Lt){const vr=he.$watchers$[se];vr&&vr.map(wr=>{try{qt[wr](Ae,xt,se)}catch($i){Kn($i,Ze)}})}2==(18&Lt)&&Mi(He,!1)}})(this,Ze,Lt,se)},configurable:!0,enumerable:!0}):1&Ae&&64&xt&&Object.defineProperty(He,Ze,{value(...Lt){const qt=Or(this);return qt.$onInstancePromise$.then(()=>qt.$lazyInstance$[Ze](...Lt))}})}),1&Ae){const Ze=new Map;He.attributeChangedCallback=function(xt,Lt,qt){Dr.jmp(()=>{const En=Ze.get(xt);if(this.hasOwnProperty(En))qt=this[En],delete this[En];else if(He.hasOwnProperty(En)&&"number"==typeof this[En]&&this[En]==qt)return;this[En]=(null!==qt||"boolean"!=typeof this[En])&&qt})},ee.observedAttributes=he.filter(([xt,Lt])=>15&Lt[0]).map(([xt,Lt])=>{const qt=Lt[1]||xt;return Ze.set(qt,xt),512&Lt[0]&&se.$attrsToReflect$.push([xt,qt]),qt})}}return ee},q=function(){var ee=(0,y.Z)(function*(se,Ae,he,He,Ze){if(!(32&Ae.$flags$)){Ae.$flags$|=32;{if((Ze=mr(he)).then){const En=()=>{};Ze=yield Ze,En()}Ze.isProxied||(he.$watchers$=Ze.watchers,te(Ze,he,2),Ze.isProxied=!0);const qt=()=>{};Ae.$flags$|=8;try{new Ze(Ae)}catch(En){Kn(En)}Ae.$flags$&=-9,Ae.$flags$|=128,qt(),X(Ae.$lazyInstance$)}if(Ze.style){let qt=Ze.style;"string"!=typeof qt&&(qt=qt[Ae.$modeName$=(ee=>_i.map(se=>se(ee)).find(se=>!!se))(se)]);const En=kn(he,Ae.$modeName$);if(!Fr.has(En)){const Bn=()=>{};Xt(En,qt,!!(1&he.$flags$)),Bn()}}}const xt=Ae.$ancestorComponent$,Lt=()=>Mi(Ae,!0);xt&&xt["s-rc"]?xt["s-rc"].push(Lt):Lt()});return function(Ae,he,He,Ze,xt){return ee.apply(this,arguments)}}(),X=ee=>{ti(ee,"connectedCallback")},Se=ee=>{const se=ee["s-cr"]=er.createComment("");se["s-cn"]=!0,ee.insertBefore(se,ee.firstChild)},Ke=(ee,se={})=>{var Ae;const He=[],Ze=se.exclude||[],xt=Sr.customElements,Lt=er.head,qt=Lt.querySelector("meta[charset]"),En=er.createElement("style"),Bn=[],vr=er.querySelectorAll(`[${mt}]`);let wr,$i=!0,Js=0;for(Object.assign(Dr,se),Dr.$resourcesUrl$=new URL(se.resourcesUrl||"./",er.baseURI).href,Dr.$flags$|=2;Js<vr.length;Js++)Xt(vr[Js].getAttribute(mt),Xn(vr[Js].innerHTML),!0);ee.map(Us=>{Us[1].map(Fi=>{const zn={$flags$:Fi[0],$tagName$:Fi[1],$members$:Fi[2],$listeners$:Fi[3]};zn.$members$=Fi[2],zn.$listeners$=Fi[3],zn.$attrsToReflect$=[],zn.$watchers$={};const $r=zn.$tagName$,Vi=class extends HTMLElement{constructor(ws){super(ws),Bt(ws=this,zn),1&zn.$flags$&&ws.attachShadow({mode:"open",delegatesFocus:!!(16&zn.$flags$)})}connectedCallback(){wr&&(clearTimeout(wr),wr=null),$i?Bn.push(this):Dr.jmp(()=>(ee=>{if(!(1&Dr.$flags$)){const se=Or(ee),Ae=se.$cmpMeta$,he=()=>{};if(1&se.$flags$)It(ee,se,Ae.$listeners$),X(se.$lazyInstance$);else{let He;if(se.$flags$|=1,He=ee.getAttribute(_e),He){if(1&Ae.$flags$){const Ze=Tt(ee.shadowRoot,Ae,ee.getAttribute("s-mode"));ee.classList.remove(Ze+"-h",Ze+"-s")}((ee,se,Ae,he)=>{const Ze=ee.shadowRoot,xt=[],qt=Ze?[]:null,En=he.$vnode$=Vt(se,null);Dr.$orgLocNodes$||yt(er.body,Dr.$orgLocNodes$=new Map),ee[_e]=Ae,ee.removeAttribute(_e),ut(En,xt,[],qt,ee,ee,Ae),xt.map(Bn=>{const vr=Bn.$hostId$+"."+Bn.$nodeId$,wr=Dr.$orgLocNodes$.get(vr),$i=Bn.$elm$;wr&&hi&&""===wr["s-en"]&&wr.parentNode.insertBefore($i,wr.nextSibling),Ze||($i["s-hn"]=se,wr&&($i["s-ol"]=wr,$i["s-ol"]["s-nr"]=$i)),Dr.$orgLocNodes$.delete(vr)}),Ze&&qt.map(Bn=>{Bn&&Ze.appendChild(Bn)})})(ee,Ae.$tagName$,He,se)}He||12&Ae.$flags$&&Se(ee);{let Ze=ee;for(;Ze=Ze.parentNode||Ze.host;)if(1===Ze.nodeType&&Ze.hasAttribute("s-id")&&Ze["s-p"]||Ze["s-p"]){Qi(se,se.$ancestorComponent$=Ze);break}}Ae.$members$&&Object.entries(Ae.$members$).map(([Ze,[xt]])=>{if(31&xt&&ee.hasOwnProperty(Ze)){const Lt=ee[Ze];delete ee[Ze],ee[Ze]=Lt}}),q(ee,se,Ae)}he()}})(this))}disconnectedCallback(){Dr.jmp(()=>(ee=>{if(!(1&Dr.$flags$)){const se=Or(this),Ae=se.$lazyInstance$;se.$rmListeners$&&(se.$rmListeners$.map(he=>he()),se.$rmListeners$=void 0),ti(Ae,"disconnectedCallback")}})())}componentOnReady(){return Or(this).$onReadyPromise$}};zn.$lazyBundleId$=Us[0],!Ze.includes($r)&&!xt.get($r)&&(He.push($r),xt.define($r,te(Vi,zn,1)))})});{En.innerHTML=He+"{visibility:hidden}.hydrated{visibility:inherit}",En.setAttribute("data-styles","");const Us=null!==(Ae=Dr.$nonce$)&&void 0!==Ae?Ae:Ft(er);null!=Us&&En.setAttribute("nonce",Us),Lt.insertBefore(En,qt?qt.nextSibling:Lt.firstChild)}$i=!1,Bn.length?Bn.map(Us=>Us.connectedCallback()):Dr.jmp(()=>wr=setTimeout(Gi,30))},It=(ee,se,Ae,he)=>{Ae&&Ae.map(([He,Ze,xt])=>{const Lt=tn(ee,He),qt=sn(se,xt),En=Dn(He);Dr.ael(Lt,Ze,qt,En),(se.$rmListeners$=se.$rmListeners$||[]).push(()=>Dr.rel(Lt,Ze,qt,En))})},sn=(ee,se)=>Ae=>{try{256&ee.$flags$?ee.$lazyInstance$[se](Ae):(ee.$queuedListeners$=ee.$queuedListeners$||[]).push([se,Ae])}catch(he){Kn(he)}},tn=(ee,se)=>4&se?er:8&se?Sr:16&se?er.body:ee,Dn=ee=>0!=(2&ee),nr=new WeakMap,Or=ee=>nr.get(ee),an=(ee,se)=>nr.set(se.$lazyInstance$=ee,se),Bt=(ee,se)=>{const Ae={$flags$:0,$hostElement$:ee,$cmpMeta$:se,$instanceValues$:new Map};return Ae.$onInstancePromise$=new Promise(he=>Ae.$onInstanceResolve$=he),Ae.$onReadyPromise$=new Promise(he=>Ae.$onReadyResolve$=he),ee["s-p"]=[],ee["s-rc"]=[],It(ee,Ae,se.$listeners$),nr.set(ee,Ae)},gn=(ee,se)=>se in ee,Kn=(ee,se)=>(0,console.error)(ee,se),dr=new Map,mr=(ee,se,Ae)=>{const he=ee.$tagName$.replace(/-/g,"_"),He=ee.$lazyBundleId$,Ze=dr.get(He);return Ze?Ze[he]:k(863)(`./${He}.entry.js`).then(xt=>(dr.set(He,xt),xt[he]),Kn)},Fr=new Map,_i=[],Sr=typeof window<"u"?window:{},er=Sr.document||{head:{}},Dr={$flags$:0,$resourcesUrl$:"",jmp:ee=>ee(),raf:ee=>requestAnimationFrame(ee),ael:(ee,se,Ae,he)=>ee.addEventListener(se,Ae,he),rel:(ee,se,Ae,he)=>ee.removeEventListener(se,Ae,he),ce:(ee,se)=>new CustomEvent(ee,se)},Bs=ee=>{Object.assign(Dr,ee)},hi=!0,Z=ee=>Promise.resolve(ee),wt=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),J=[],Pt=[],Zt=(ee,se)=>Ae=>{ee.push(Ae),De||(De=!0,se&&4&Dr.$flags$?Kr(yr):Dr.raf(yr))},An=ee=>{for(let se=0;se<ee.length;se++)try{ee[se](performance.now())}catch(Ae){Kn(Ae)}ee.length=0},yr=()=>{An(J),An(Pt),(De=J.length>0)&&Dr.raf(yr)},Kr=ee=>Z().then(ee),ns=Zt(J,!1),Fs=Zt(Pt,!0)},7883:(xn,bt,k)=>{"use strict";k.d(bt,{L:()=>P,a:()=>Te,b:()=>me,c:()=>Pe,d:()=>Xe,e:()=>We,g:()=>tt,l:()=>pt,s:()=>be,t:()=>ye,w:()=>Dt});var y=k(5861),h=k(4083),K=k(3577);const P="ionViewWillEnter",Te="ionViewDidEnter",me="ionViewWillLeave",Pe="ionViewDidLeave",Xe="ionViewWillUnload",ye=Ft=>new Promise((zt,Vt)=>{(0,h.w)(()=>{we(Ft),Ve(Ft).then(Sn=>{Sn.animation&&Sn.animation.destroy(),je(Ft),zt(Sn)},Sn=>{je(Ft),Vt(Sn)})})}),we=Ft=>{const zt=Ft.enteringEl,Vt=Ft.leavingEl;$t(zt,Vt,Ft.direction),Ft.showGoBack?zt.classList.add("can-go-back"):zt.classList.remove("can-go-back"),be(zt,!1),zt.style.setProperty("pointer-events","none"),Vt&&(be(Vt,!1),Vt.style.setProperty("pointer-events","none"))},Ve=function(){var Ft=(0,y.Z)(function*(zt){const Vt=yield at(zt);return Vt&&h.B.isBrowser?Mt(Vt,zt):ze(zt)});return function(Vt){return Ft.apply(this,arguments)}}(),je=Ft=>{const zt=Ft.enteringEl,Vt=Ft.leavingEl;zt.classList.remove("ion-page-invisible"),zt.style.removeProperty("pointer-events"),void 0!==Vt&&(Vt.classList.remove("ion-page-invisible"),Vt.style.removeProperty("pointer-events"))},at=function(){var Ft=(0,y.Z)(function*(zt){return zt.leavingEl&&zt.animated&&0!==zt.duration?zt.animationBuilder?zt.animationBuilder:"ios"===zt.mode?(yield Promise.resolve().then(k.bind(k,1372))).iosTransitionAnimation:(yield Promise.resolve().then(k.bind(k,7399))).mdTransitionAnimation:void 0});return function(Vt){return Ft.apply(this,arguments)}}(),Mt=function(){var Ft=(0,y.Z)(function*(zt,Vt){yield Ge(Vt,!0);const Sn=zt(Vt.baseEl,Vt);dt(Vt.enteringEl,Vt.leavingEl);const Et=yield mt(Sn,Vt);return Vt.progressCallback&&Vt.progressCallback(void 0),Et&&vt(Vt.enteringEl,Vt.leavingEl),{hasCompleted:Et,animation:Sn}});return function(Vt,Sn){return Ft.apply(this,arguments)}}(),ze=function(){var Ft=(0,y.Z)(function*(zt){const Vt=zt.enteringEl,Sn=zt.leavingEl;return yield Ge(zt,!1),dt(Vt,Sn),vt(Vt,Sn),{hasCompleted:!0}});return function(Vt){return Ft.apply(this,arguments)}}(),Ge=function(){var Ft=(0,y.Z)(function*(zt,Vt){(void 0!==zt.deepWait?zt.deepWait:Vt)&&(yield Promise.all([We(zt.enteringEl),We(zt.leavingEl)])),yield _e(zt.viewIsReady,zt.enteringEl)});return function(Vt,Sn){return Ft.apply(this,arguments)}}(),_e=function(){var Ft=(0,y.Z)(function*(zt,Vt){zt&&(yield zt(Vt))});return function(Vt,Sn){return Ft.apply(this,arguments)}}(),mt=(Ft,zt)=>{const Vt=zt.progressCallback,Sn=new Promise(Et=>{Ft.onFinish(st=>Et(1===st))});return Vt?(Ft.progressStart(!0),Vt(Ft)):Ft.play(),Sn},dt=(Ft,zt)=>{pt(zt,me),pt(Ft,P)},vt=(Ft,zt)=>{pt(Ft,Te),pt(zt,Pe)},pt=(Ft,zt)=>{if(Ft){const Vt=new CustomEvent(zt,{bubbles:!1,cancelable:!1});Ft.dispatchEvent(Vt)}},Dt=()=>new Promise(Ft=>(0,K.r)(()=>(0,K.r)(()=>Ft()))),We=function(){var Ft=(0,y.Z)(function*(zt){const Vt=zt;if(Vt){if(null!=Vt.componentOnReady){if(null!=(yield Vt.componentOnReady()))return}else if(null!=Vt.__registerHost)return void(yield new Promise(Et=>(0,K.r)(Et)));yield Promise.all(Array.from(Vt.children).map(We))}});return function(Vt){return Ft.apply(this,arguments)}}(),be=(Ft,zt)=>{zt?(Ft.setAttribute("aria-hidden","true"),Ft.classList.add("ion-page-hidden")):(Ft.hidden=!1,Ft.removeAttribute("aria-hidden"),Ft.classList.remove("ion-page-hidden"))},$t=(Ft,zt,Vt)=>{void 0!==Ft&&(Ft.style.zIndex="back"===Vt?"99":"101"),void 0!==zt&&(zt.style.zIndex="100")},tt=Ft=>Ft.classList.contains("ion-page")?Ft:Ft.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ft},4110:(xn,bt,k)=>{"use strict";k.d(bt,{d:()=>h,w:()=>y});const y=typeof window<"u"?window:void 0,h=typeof document<"u"?document:void 0},1178:(xn,bt,k)=>{"use strict";k.d(bt,{a:()=>h,b:()=>K,p:()=>y});const y=(P,...Te)=>console.warn(`[Ionic Warning]: ${P}`,...Te),h=(P,...Te)=>console.error(`[Ionic Error]: ${P}`,...Te),K=(P,...Te)=>console.error(`<${P.tagName.toLowerCase()}> must be used inside ${Te.join(" or ")}.`)},5273:(xn,bt,k)=>{"use strict";k.d(bt,{a:()=>ye,b:()=>Et,c:()=>K,g:()=>De,i:()=>st});var y=k(4083);class h{constructor(){this.m=new Map}reset(Ue){this.m=new Map(Object.entries(Ue))}get(Ue,Qe){const ut=this.m.get(Ue);return void 0!==ut?ut:Qe}getBoolean(Ue,Qe=!1){const ut=this.m.get(Ue);return void 0===ut?Qe:"string"==typeof ut?"true"===ut:!!ut}getNumber(Ue,Qe){const ut=parseFloat(this.m.get(Ue));return isNaN(ut)?void 0!==Qe?Qe:NaN:ut}set(Ue,Qe){this.m.set(Ue,Qe)}}const K=new h,j="ionic-persist-config",De=Ye=>we(Ye),ye=(Ye,Ue)=>("string"==typeof Ye&&(Ue=Ye,Ye=void 0),De(Ye).includes(Ue)),we=(Ye=window)=>{if(typeof Ye>"u")return[];Ye.Ionic=Ye.Ionic||{};let Ue=Ye.Ionic.platforms;return null==Ue&&(Ue=Ye.Ionic.platforms=Ve(Ye),Ue.forEach(Qe=>Ye.document.documentElement.classList.add(`plt-${Qe}`))),Ue},Ve=Ye=>{const Ue=K.get("platform");return Object.keys(Vt).filter(Qe=>{const ut=Ue?.[Qe];return"function"==typeof ut?ut(Ye):Vt[Qe](Ye)})},at=Ye=>!!(Ft(Ye,/iPad/i)||Ft(Ye,/Macintosh/i)&&vt(Ye)),Ge=Ye=>Ft(Ye,/android|sink/i),vt=Ye=>zt(Ye,"(any-pointer:coarse)"),Dt=Ye=>We(Ye)||be(Ye),We=Ye=>!!(Ye.cordova||Ye.phonegap||Ye.PhoneGap),be=Ye=>{const Ue=Ye.Capacitor;return!!Ue?.isNative},Ft=(Ye,Ue)=>Ue.test(Ye.navigator.userAgent),zt=(Ye,Ue)=>{var Qe;return null===(Qe=Ye.matchMedia)||void 0===Qe?void 0:Qe.call(Ye,Ue).matches},Vt={ipad:at,iphone:Ye=>Ft(Ye,/iPhone/i),ios:Ye=>Ft(Ye,/iPhone|iPod/i)||at(Ye),android:Ge,phablet:Ye=>{const Ue=Ye.innerWidth,Qe=Ye.innerHeight,ut=Math.min(Ue,Qe),yt=Math.max(Ue,Qe);return ut>390&&ut<520&&yt>620&&yt<800},tablet:Ye=>{const Ue=Ye.innerWidth,Qe=Ye.innerHeight,ut=Math.min(Ue,Qe),yt=Math.max(Ue,Qe);return at(Ye)||(Ye=>Ge(Ye)&&!Ft(Ye,/mobile/i))(Ye)||ut>460&&ut<820&&yt>780&&yt<1400},cordova:We,capacitor:be,electron:Ye=>Ft(Ye,/electron/i),pwa:Ye=>{var Ue;return!!(null!==(Ue=Ye.matchMedia)&&void 0!==Ue&&Ue.call(Ye,"(display-mode: standalone)").matches||Ye.navigator.standalone)},mobile:vt,mobileweb:Ye=>vt(Ye)&&!Dt(Ye),desktop:Ye=>!vt(Ye),hybrid:Dt};let Sn;const Et=Ye=>Ye&&(0,y.g)(Ye)||Sn,st=(Ye={})=>{if(typeof window>"u")return;const Ue=window.document,Qe=window,ut=Qe.Ionic=Qe.Ionic||{},yt={};Ye._ael&&(yt.ael=Ye._ael),Ye._rel&&(yt.rel=Ye._rel),Ye._ce&&(yt.ce=Ye._ce),(0,y.a)(yt);const Jt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ye=>{try{const Ue=Ye.sessionStorage.getItem(j);return null!==Ue?JSON.parse(Ue):{}}catch{return{}}})(Qe)),{persistConfig:!1}),ut.config),(Ye=>{const Ue={};return Ye.location.search.slice(1).split("&").map(Qe=>Qe.split("=")).map(([Qe,ut])=>[decodeURIComponent(Qe),decodeURIComponent(ut)]).filter(([Qe])=>((Ye,Ue)=>Ye.substr(0,Ue.length)===Ue)(Qe,"ionic:")).map(([Qe,ut])=>[Qe.slice(6),ut]).forEach(([Qe,ut])=>{Ue[Qe]=ut}),Ue})(Qe)),Ye);K.reset(Jt),K.getBoolean("persistConfig")&&((Ye,Ue)=>{try{Ye.sessionStorage.setItem(j,JSON.stringify(Ue))}catch{return}})(Qe,Jt),we(Qe),ut.config=K,ut.mode=Sn=K.get("mode",Ue.documentElement.getAttribute("mode")||(ye(Qe,"ios")?"ios":"md")),K.set("mode",Sn),Ue.documentElement.setAttribute("mode",Sn),Ue.documentElement.classList.add(Sn),K.getBoolean("_testing")&&K.set("animated",!1);const Nn=On=>{var St;return null===(St=On.tagName)||void 0===St?void 0:St.startsWith("ION-")},mn=On=>["ios","md"].includes(On);(0,y.c)(On=>{for(;On;){const St=On.mode||On.getAttribute("mode");if(St){if(mn(St))return St;Nn(On)&&console.warn('Invalid ionic mode: "'+St+'", expected: "ios" or "md"')}On=On.parentElement}return Sn})}},1372:(xn,bt,k)=>{"use strict";k.r(bt),k.d(bt,{iosTransitionAnimation:()=>Ve,shadow:()=>Pe});var y=k(4251),h=k(7883);k(4110),k(4083);const me=je=>document.querySelector(`${je}.ion-cloned-element`),Pe=je=>je.shadowRoot||je,Xe=je=>{const at="ION-TABS"===je.tagName?je:je.querySelector("ion-tabs"),Mt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=at){const ze=at.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ze?ze.querySelector(Mt):null}return je.querySelector(Mt)},j=(je,at)=>{const Mt="ION-TABS"===je.tagName?je:je.querySelector("ion-tabs");let ze=[];if(null!=Mt){const Ge=Mt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ge&&(ze=Ge.querySelectorAll("ion-buttons"))}else ze=je.querySelectorAll("ion-buttons");for(const Ge of ze){const _e=Ge.closest("ion-header"),mt=_e&&!_e.classList.contains("header-collapse-condense-inactive"),dt=Ge.querySelector("ion-back-button"),vt=Ge.classList.contains("buttons-collapse");if(null!==dt&&("start"===Ge.slot||""===Ge.slot)&&(vt&&mt&&at||!vt))return dt}return null},ye=(je,at,Mt,ze,Ge,_e)=>{const mt=at?`calc(100% - ${_e.right+4}px)`:_e.left-4+"px",dt=at?"7px":"-7px",vt=at?"-4px":"4px",pt=at?"-4px":"4px",Dt=at?"right":"left",We=at?"left":"right",tt=Mt?[{offset:0,opacity:1,transform:`translate3d(${vt}, ${_e.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${dt}, ${Ge.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${dt}, ${Ge.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${vt}, ${_e.top-46}px, 0) scale(1)`}],Vt=Mt?[{offset:0,opacity:1,transform:`translate3d(${pt}, ${_e.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${pt}, ${_e.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${pt}, ${_e.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${pt}, ${_e.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${pt}, ${_e.top-46}px, 0) scale(1)`}],Sn=(0,y.c)(),Et=(0,y.c)(),st=me("ion-back-button"),Ye=Pe(st).querySelector(".button-text"),Ue=Pe(st).querySelector("ion-icon");st.text=ze.text,st.mode=ze.mode,st.icon=ze.icon,st.color=ze.color,st.disabled=ze.disabled,st.style.setProperty("display","block"),st.style.setProperty("position","fixed"),Et.addElement(Ue),Sn.addElement(Ye),Sn.beforeStyles({"transform-origin":`${Dt} center`}).beforeAddWrite(()=>{ze.style.setProperty("display","none"),st.style.setProperty(Dt,mt)}).afterAddWrite(()=>{ze.style.setProperty("display",""),st.style.setProperty("display","none"),st.style.removeProperty(Dt)}).keyframes(tt),Et.beforeStyles({"transform-origin":`${We} center`}).keyframes(Vt),je.addAnimation([Sn,Et])},we=(je,at,Mt,ze,Ge,_e)=>{const mt=at?`calc(100% - ${Ge.right}px)`:`${Ge.left}px`,dt=at?"-18px":"18px",vt=at?"right":"left",We=Mt?[{offset:0,opacity:0,transform:`translate3d(${dt}, ${_e.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ge.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ge.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${dt}, ${_e.top-4}px, 0) scale(0.5)`}],be=me("ion-title"),$t=(0,y.c)();be.innerText=ze.innerText,be.size=ze.size,be.color=ze.color,$t.addElement(be),$t.beforeStyles({"transform-origin":`${vt} center`,height:"46px",display:"",position:"relative",[vt]:mt}).beforeAddWrite(()=>{ze.style.setProperty("display","none")}).afterAddWrite(()=>{ze.style.setProperty("display",""),be.style.setProperty("display","none")}).keyframes(We),je.addAnimation($t)},Ve=(je,at)=>{var Mt;try{const ze="cubic-bezier(0.32,0.72,0,1)",Ge="opacity",_e="transform",mt="0%",vt="rtl"===je.ownerDocument.dir,pt=vt?"-99.5%":"99.5%",Dt=vt?"33%":"-33%",We=at.enteringEl,be=at.leavingEl,$t="back"===at.direction,tt=We.querySelector(":scope > ion-content"),Ft=We.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),zt=We.querySelectorAll(":scope > ion-header > ion-toolbar"),Vt=(0,y.c)(),Sn=(0,y.c)();if(Vt.addElement(We).duration((null!==(Mt=at.duration)&&void 0!==Mt?Mt:0)||540).easing(at.easing||ze).fill("both").beforeRemoveClass("ion-page-invisible"),be&&null!=je){const Ue=(0,y.c)();Ue.addElement(je),Vt.addAnimation(Ue)}if(tt||0!==zt.length||0!==Ft.length?(Sn.addElement(tt),Sn.addElement(Ft)):Sn.addElement(We.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Vt.addAnimation(Sn),$t?Sn.beforeClearStyles([Ge]).fromTo("transform",`translateX(${Dt})`,`translateX(${mt})`).fromTo(Ge,.8,1):Sn.beforeClearStyles([Ge]).fromTo("transform",`translateX(${pt})`,`translateX(${mt})`),tt){const Ue=Pe(tt).querySelector(".transition-effect");if(Ue){const Qe=Ue.querySelector(".transition-cover"),ut=Ue.querySelector(".transition-shadow"),yt=(0,y.c)(),Jt=(0,y.c)(),Nn=(0,y.c)();yt.addElement(Ue).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Jt.addElement(Qe).beforeClearStyles([Ge]).fromTo(Ge,0,.1),Nn.addElement(ut).beforeClearStyles([Ge]).fromTo(Ge,.03,.7),yt.addAnimation([Jt,Nn]),Sn.addAnimation([yt])}}const Et=We.querySelector("ion-header.header-collapse-condense"),{forward:st,backward:Ye}=((je,at,Mt,ze,Ge)=>{const _e=j(ze,Mt),mt=Xe(Ge),dt=Xe(ze),vt=j(Ge,Mt),pt=null!==_e&&null!==mt&&!Mt,Dt=null!==dt&&null!==vt&&Mt;if(pt){const We=mt.getBoundingClientRect(),be=_e.getBoundingClientRect();we(je,at,Mt,mt,We,be),ye(je,at,Mt,_e,We,be)}else if(Dt){const We=dt.getBoundingClientRect(),be=vt.getBoundingClientRect();we(je,at,Mt,dt,We,be),ye(je,at,Mt,vt,We,be)}return{forward:pt,backward:Dt}})(Vt,vt,$t,We,be);if(zt.forEach(Ue=>{const Qe=(0,y.c)();Qe.addElement(Ue),Vt.addAnimation(Qe);const ut=(0,y.c)();ut.addElement(Ue.querySelector("ion-title"));const yt=(0,y.c)(),Jt=Array.from(Ue.querySelectorAll("ion-buttons,[menuToggle]")),Nn=Ue.closest("ion-header"),mn=Nn?.classList.contains("header-collapse-condense-inactive");let On;On=Jt.filter($t?Xt=>{const Tt=Xt.classList.contains("buttons-collapse");return Tt&&!mn||!Tt}:Xt=>!Xt.classList.contains("buttons-collapse")),yt.addElement(On);const St=(0,y.c)();St.addElement(Ue.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const hn=(0,y.c)();hn.addElement(Pe(Ue).querySelector(".toolbar-background"));const Yt=(0,y.c)(),ct=Ue.querySelector("ion-back-button");if(ct&&Yt.addElement(ct),Qe.addAnimation([ut,yt,St,hn,Yt]),yt.fromTo(Ge,.01,1),St.fromTo(Ge,.01,1),$t)mn||ut.fromTo("transform",`translateX(${Dt})`,`translateX(${mt})`).fromTo(Ge,.01,1),St.fromTo("transform",`translateX(${Dt})`,`translateX(${mt})`),Yt.fromTo(Ge,.01,1);else if(Et||ut.fromTo("transform",`translateX(${pt})`,`translateX(${mt})`).fromTo(Ge,.01,1),St.fromTo("transform",`translateX(${pt})`,`translateX(${mt})`),hn.beforeClearStyles([Ge,"transform"]),Nn?.translucent?hn.fromTo("transform",vt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):hn.fromTo(Ge,.01,"var(--opacity)"),st||Yt.fromTo(Ge,.01,1),ct&&!st){const Tt=(0,y.c)();Tt.addElement(Pe(ct).querySelector(".button-text")).fromTo("transform",vt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Qe.addAnimation(Tt)}}),be){const Ue=(0,y.c)(),Qe=be.querySelector(":scope > ion-content"),ut=be.querySelectorAll(":scope > ion-header > ion-toolbar"),yt=be.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Qe||0!==ut.length||0!==yt.length?(Ue.addElement(Qe),Ue.addElement(yt)):Ue.addElement(be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Vt.addAnimation(Ue),$t){Ue.beforeClearStyles([Ge]).fromTo("transform",`translateX(${mt})`,vt?"translateX(-100%)":"translateX(100%)");const Jt=(0,h.g)(be);Vt.afterAddWrite(()=>{"normal"===Vt.getDirection()&&Jt.style.setProperty("display","none")})}else Ue.fromTo("transform",`translateX(${mt})`,`translateX(${Dt})`).fromTo(Ge,1,.8);if(Qe){const Jt=Pe(Qe).querySelector(".transition-effect");if(Jt){const Nn=Jt.querySelector(".transition-cover"),mn=Jt.querySelector(".transition-shadow"),On=(0,y.c)(),St=(0,y.c)(),hn=(0,y.c)();On.addElement(Jt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),St.addElement(Nn).beforeClearStyles([Ge]).fromTo(Ge,.1,0),hn.addElement(mn).beforeClearStyles([Ge]).fromTo(Ge,.7,.03),On.addAnimation([St,hn]),Ue.addAnimation([On])}}ut.forEach(Jt=>{const Nn=(0,y.c)();Nn.addElement(Jt);const mn=(0,y.c)();mn.addElement(Jt.querySelector("ion-title"));const On=(0,y.c)(),St=Jt.querySelectorAll("ion-buttons,[menuToggle]"),hn=Jt.closest("ion-header"),Yt=hn?.classList.contains("header-collapse-condense-inactive"),ct=Array.from(St).filter(lr=>{const cr=lr.classList.contains("buttons-collapse");return cr&&!Yt||!cr});On.addElement(ct);const Xt=(0,y.c)(),Tt=Jt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Tt.length>0&&Xt.addElement(Tt);const Kt=(0,y.c)();Kt.addElement(Pe(Jt).querySelector(".toolbar-background"));const kn=(0,y.c)(),Xn=Jt.querySelector("ion-back-button");if(Xn&&kn.addElement(Xn),Nn.addAnimation([mn,On,Xt,kn,Kt]),Vt.addAnimation(Nn),kn.fromTo(Ge,.99,0),On.fromTo(Ge,.99,0),Xt.fromTo(Ge,.99,0),$t){if(Yt||mn.fromTo("transform",`translateX(${mt})`,vt?"translateX(-100%)":"translateX(100%)").fromTo(Ge,.99,0),Xt.fromTo("transform",`translateX(${mt})`,vt?"translateX(-100%)":"translateX(100%)"),Kt.beforeClearStyles([Ge,"transform"]),hn?.translucent?Kt.fromTo("transform","translateX(0px)",vt?"translateX(-100%)":"translateX(100%)"):Kt.fromTo(Ge,"var(--opacity)",0),Xn&&!Ye){const cr=(0,y.c)();cr.addElement(Pe(Xn).querySelector(".button-text")).fromTo("transform",`translateX(${mt})`,`translateX(${(vt?-124:124)+"px"})`),Nn.addAnimation(cr)}}else Yt||mn.fromTo("transform",`translateX(${mt})`,`translateX(${Dt})`).fromTo(Ge,.99,0).afterClearStyles([_e,Ge]),Xt.fromTo("transform",`translateX(${mt})`,`translateX(${Dt})`).afterClearStyles([_e,Ge]),kn.afterClearStyles([Ge]),mn.afterClearStyles([Ge]),On.afterClearStyles([Ge])})}return Vt}catch(ze){throw ze}}},7399:(xn,bt,k)=>{"use strict";k.r(bt),k.d(bt,{mdTransitionAnimation:()=>Te});var y=k(4251),h=k(7883);k(4110),k(4083);const Te=(me,Pe)=>{var Xe,j,De;const Ve="back"===Pe.direction,at=Pe.leavingEl,Mt=(0,h.g)(Pe.enteringEl),ze=Mt.querySelector("ion-toolbar"),Ge=(0,y.c)();if(Ge.addElement(Mt).fill("both").beforeRemoveClass("ion-page-invisible"),Ve?Ge.duration((null!==(Xe=Pe.duration)&&void 0!==Xe?Xe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ge.duration((null!==(j=Pe.duration)&&void 0!==j?j:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ze){const _e=(0,y.c)();_e.addElement(ze),Ge.addAnimation(_e)}if(at&&Ve){Ge.duration((null!==(De=Pe.duration)&&void 0!==De?De:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const _e=(0,y.c)();_e.addElement((0,h.g)(at)).onFinish(mt=>{1===mt&&_e.elements.length>0&&_e.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ge.addAnimation(_e)}return Ge}},2797:(xn,bt,k)=>{"use strict";k.d(bt,{B:()=>Nn,G:()=>mn,a:()=>ye,b:()=>we,c:()=>Mt,d:()=>On,e:()=>St,f:()=>Vt,g:()=>Et,h:()=>Ue,i:()=>ut,j:()=>Ge,k:()=>_e,l:()=>Ve,m:()=>je,n:()=>j,o:()=>vt,q:()=>Ft,s:()=>Jt});var y=k(5861),h=k(5273),K=k(6782),P=k(7593),Te=k(3577),me=k(1178);let Pe=0,Xe=0;const j=new WeakMap,De=hn=>({create:Yt=>mt(hn,Yt),dismiss:(Yt,ct,Xt)=>$t(document,Yt,ct,hn,Xt),getTop:()=>(0,y.Z)(function*(){return Ft(document,hn)})()}),ye=De("ion-alert"),we=De("ion-action-sheet"),Ve=De("ion-loading"),je=De("ion-modal"),Mt=De("ion-popover"),Ge=hn=>{typeof document<"u"&&be(document);const Yt=Pe++;hn.overlayIndex=Yt},_e=hn=>(hn.hasAttribute("id")||(hn.id="ion-overlay-"+ ++Xe),hn.id),mt=(hn,Yt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(hn).then(()=>{const ct=document.createElement(hn);return ct.classList.add("overlay-hidden"),Object.assign(ct,Object.assign(Object.assign({},Yt),{hasController:!0})),st(document).appendChild(ct),new Promise(Xt=>(0,Te.c)(ct,Xt))}):Promise.resolve(),dt='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',vt=(hn,Yt)=>{let ct=hn.querySelector(dt);const Xt=ct?.shadowRoot;Xt&&(ct=Xt.querySelector(dt)||ct),ct?(0,Te.f)(ct):Yt.focus()},Dt=(hn,Yt)=>{const ct=Array.from(hn.querySelectorAll(dt));let Xt=ct.length>0?ct[ct.length-1]:null;const Tt=Xt?.shadowRoot;Tt&&(Xt=Tt.querySelector(dt)||Xt),Xt?Xt.focus():Yt.focus()},be=hn=>{0===Pe&&(Pe=1,hn.addEventListener("focus",Yt=>{((hn,Yt)=>{const ct=Ft(Yt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Xt=hn.target;ct&&Xt&&!ct.classList.contains("ion-disable-focus-trap")&&(ct.shadowRoot?(()=>{if(ct.contains(Xt))ct.lastFocus=Xt;else{const kn=ct.lastFocus;vt(ct,ct),kn===Yt.activeElement&&Dt(ct,ct),ct.lastFocus=Yt.activeElement}})():(()=>{if(ct===Xt)ct.lastFocus=void 0;else{const kn=(0,Te.g)(ct);if(!kn.contains(Xt))return;const Xn=kn.querySelector(".ion-overlay-wrapper");if(!Xn)return;if(Xn.contains(Xt))ct.lastFocus=Xt;else{const lr=ct.lastFocus;vt(Xn,ct),lr===Yt.activeElement&&Dt(Xn,ct),ct.lastFocus=Yt.activeElement}}})())})(Yt,hn)},!0),hn.addEventListener("ionBackButton",Yt=>{const ct=Ft(hn);ct?.backdropDismiss&&Yt.detail.register(P.OVERLAY_BACK_BUTTON_PRIORITY,()=>ct.dismiss(void 0,Nn))}),hn.addEventListener("keydown",Yt=>{if("Escape"===Yt.key){const ct=Ft(hn);ct?.backdropDismiss&&ct.dismiss(void 0,Nn)}}))},$t=(hn,Yt,ct,Xt,Tt)=>{const Kt=Ft(hn,Xt,Tt);return Kt?Kt.dismiss(Yt,ct):Promise.reject("overlay does not exist")},Ft=(hn,Yt,ct)=>{const Xt=((hn,Yt)=>(void 0===Yt&&(Yt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(hn.querySelectorAll(Yt)).filter(ct=>ct.overlayIndex>0)))(hn,Yt).filter(Tt=>!(hn=>hn.classList.contains("overlay-hidden"))(Tt));return void 0===ct?Xt[Xt.length-1]:Xt.find(Tt=>Tt.id===ct)},zt=(hn=!1)=>{const ct=st(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");ct&&(hn?ct.setAttribute("aria-hidden","true"):ct.removeAttribute("aria-hidden"))},Vt=function(){var hn=(0,y.Z)(function*(Yt,ct,Xt,Tt,Kt){var kn,Xn;if(Yt.presented)return;zt(!0),Yt.presented=!0,Yt.willPresent.emit(),null===(kn=Yt.willPresentShorthand)||void 0===kn||kn.emit();const lr=(0,h.b)(Yt),cr=Yt.enterAnimation?Yt.enterAnimation:h.c.get(ct,"ios"===lr?Xt:Tt);(yield Ye(Yt,cr,Yt.el,Kt))&&(Yt.didPresent.emit(),null===(Xn=Yt.didPresentShorthand)||void 0===Xn||Xn.emit()),"ION-TOAST"!==Yt.el.tagName&&Sn(Yt.el),Yt.keyboardClose&&(null===document.activeElement||!Yt.el.contains(document.activeElement))&&Yt.el.focus()});return function(ct,Xt,Tt,Kt,kn){return hn.apply(this,arguments)}}(),Sn=function(){var hn=(0,y.Z)(function*(Yt){let ct=document.activeElement;if(!ct)return;const Xt=ct?.shadowRoot;Xt&&(ct=Xt.querySelector(dt)||ct),yield Yt.onDidDismiss(),ct.focus()});return function(ct){return hn.apply(this,arguments)}}(),Et=function(){var hn=(0,y.Z)(function*(Yt,ct,Xt,Tt,Kt,kn,Xn){var lr,cr;if(!Yt.presented)return!1;zt(!1),Yt.presented=!1;try{Yt.el.style.setProperty("pointer-events","none"),Yt.willDismiss.emit({data:ct,role:Xt}),null===(lr=Yt.willDismissShorthand)||void 0===lr||lr.emit({data:ct,role:Xt});const bn=(0,h.b)(Yt),Jn=Yt.leaveAnimation?Yt.leaveAnimation:h.c.get(Tt,"ios"===bn?Kt:kn);Xt!==mn&&(yield Ye(Yt,Jn,Yt.el,Xn)),Yt.didDismiss.emit({data:ct,role:Xt}),null===(cr=Yt.didDismissShorthand)||void 0===cr||cr.emit({data:ct,role:Xt}),j.delete(Yt),Yt.el.classList.add("overlay-hidden"),Yt.el.style.removeProperty("pointer-events"),void 0!==Yt.el.lastFocus&&(Yt.el.lastFocus=void 0)}catch(bn){console.error(bn)}return Yt.el.remove(),!0});return function(ct,Xt,Tt,Kt,kn,Xn,lr){return hn.apply(this,arguments)}}(),st=hn=>hn.querySelector("ion-app")||hn.body,Ye=function(){var hn=(0,y.Z)(function*(Yt,ct,Xt,Tt){Xt.classList.remove("overlay-hidden");const kn=ct(Yt.el,Tt);(!Yt.animated||!h.c.getBoolean("animated",!0))&&kn.duration(0),Yt.keyboardClose&&kn.beforeAddWrite(()=>{const lr=Xt.ownerDocument.activeElement;lr?.matches("input,ion-input, ion-textarea")&&lr.blur()});const Xn=j.get(Yt)||[];return j.set(Yt,[...Xn,kn]),yield kn.play(),!0});return function(ct,Xt,Tt,Kt){return hn.apply(this,arguments)}}(),Ue=(hn,Yt)=>{let ct;const Xt=new Promise(Tt=>ct=Tt);return Qe(hn,Yt,Tt=>{ct(Tt.detail)}),Xt},Qe=(hn,Yt,ct)=>{const Xt=Tt=>{(0,Te.b)(hn,Yt,Xt),ct(Tt)};(0,Te.a)(hn,Yt,Xt)},ut=hn=>"cancel"===hn||hn===Nn,yt=hn=>hn(),Jt=(hn,Yt)=>{if("function"==typeof hn)return h.c.get("_zoneGate",yt)(()=>{try{return hn(Yt)}catch(Xt){throw Xt}})},Nn="backdrop",mn="gesture",On=hn=>{let ct,Yt=!1;const Xt=(0,K.C)(),Tt=(Xn=!1)=>{if(ct&&!Xn)return{delegate:ct,inline:Yt};const{el:lr,hasController:cr,delegate:bn}=hn;return Yt=null!==lr.parentNode&&!cr,ct=Yt?bn||Xt:bn,{inline:Yt,delegate:ct}};return{attachViewToDom:function(){var Xn=(0,y.Z)(function*(lr){const{delegate:cr}=Tt(!0);if(cr)return yield cr.attachViewToDom(hn.el,lr);const{hasController:bn}=hn;if(bn&&void 0!==lr)throw new Error("framework delegate is missing");return null});return function(cr){return Xn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Xn}=Tt();Xn&&void 0!==hn.el&&Xn.removeViewFromDom(hn.el.parentElement,hn.el)}}},St=()=>{let hn;const Yt=()=>{hn&&(hn(),hn=void 0)};return{addClickListener:(Xt,Tt)=>{Yt();const Kt=void 0!==Tt?document.getElementById(Tt):null;Kt?hn=((Xn,lr)=>{const cr=()=>{lr.present()};return Xn.addEventListener("click",cr),()=>{Xn.removeEventListener("click",cr)}})(Kt,Xt):(0,me.p)(`A trigger element with the ID "${Tt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Xt)},removeClickListener:Yt}}},8021:(xn,bt,k)=>{"use strict";k.r(bt),k.d(bt,{RegisterPageModule:()=>Yt});var y=k(4755),h=k(5030),K=k(650),P=k(9931),Te=(()=>((Te=Te||{}).FIRSTNAME="fName",Te.LASTNAME="lName",Te.ID="id",Te.EMAIL="email",Te.PHONE="phone",Te.DATEOFBIRTH="dateOfBirth",Te.HAVECHILD="haveCild",Te.EMPLOYEE="employee",Te.CITY="city",Te.FAMILYSTATUS="familyStatus",Te.PASSWORD="password",Te.CHILDREN="children",Te.SPOUSEFIRSTNAME="spouseFName",Te.SPOUSELASTNAME="spouseLName",Te.SPOUSEID="spouseId",Te.SPOUSEPHONE="spousePhone",Te.SPOUSEDATEOFBIRTH="spouseDateOfBirth",Te.SPOUSEINDEPENDET="spouseIndependet",Te.BUSINESSTYPE="businessType",Te.BUSINESSFIELD="businessField",Te.BUSINESSNAME="businessName",Te.BUSINESSID="businessID",Te.BUSINESSDATE="businessDate",Te.BUSINESSINVENTORY="businessInventory",Te))(),me=(()=>((me=me||{}).PERSONAL="personal",me.SPOUSE="spouse",me.CHILDREN="children",me.BUSINESS="business",me.VALIDATION="validation",me))(),Pe=k(8675),Xe=k(4004),j=k(2223),De=k(2199),ye=k(7579),we=k(3144);let Ve=(()=>{class ct{constructor(Tt){this.http=Tt,this.childrenRegister$=new ye.x}getCities(){return this.http.get("https://raw.githubusercontent.com/royts/israel-cities/master/israel-cities.json")}}return ct.\u0275fac=function(Tt){return new(Tt||ct)(j.LFG(we.eN))},ct.\u0275prov=j.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})();var je=k(3732),at=k(6742);function Mt(ct,Xt){1&ct&&(j.ynx(0),j.TgZ(1,"p",9),j._uU(2," \u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05d7\u05d5\u05e7\u05d9\u05ea "),j.qZA(),j.BQk())}function ze(ct,Xt){1&ct&&(j.ynx(0),j.TgZ(1,"p",9),j._uU(2," \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05d9\u05e8\u05e9\u05dd \u05e2\u05dd \u05de\u05d9\u05d9\u05dc \u05d6\u05d4 "),j._UZ(3,"br"),j._uU(4," \u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05de\u05d9\u05d9\u05dc \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05de\u05ea \u05d1\u05de\u05e2\u05e8\u05db\u05ea "),j.qZA(),j.BQk())}function Ge(ct,Xt){1&ct&&(j.ynx(0),j.TgZ(1,"p",9),j._uU(2,"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e0\u05d8\u05e8\u05e0\u05d8 \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8 "),j.qZA(),j.BQk())}function _e(ct,Xt){1&ct&&(j.ynx(0),j.TgZ(1,"p",9),j._uU(2," \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05dc\u05d5\u05d7 \u05d0\u05d9\u05de\u05d5\u05ea \u05dc\u05de\u05d9\u05d9\u05dc "),j._UZ(3,"br"),j._uU(4," \u05d7\u05e9\u05d1\u05d5\u05df \u05de\u05e9\u05ea\u05de\u05e9 \u05de\u05d5\u05e9\u05d1\u05ea / \u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05d7\u05e9\u05d1\u05d5\u05df \u05de\u05d9\u05d9\u05dc \u05db\u05d6\u05d4 \u05d1\u05de\u05e2\u05e8\u05db\u05ea "),j.qZA(),j.BQk())}function mt(ct,Xt){1&ct&&(j.ynx(0),j.TgZ(1,"p",9),j._uU(2," \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05dc\u05d5\u05d7 \u05db\u05e2\u05ea \u05d0\u05d9\u05de\u05d5\u05ea \u05dc\u05de\u05d9\u05d9\u05dc "),j._UZ(3,"br"),j._uU(4," \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8 "),j.qZA(),j.BQk())}function dt(ct,Xt){if(1&ct&&(j.ynx(0)(1,4),j.YNc(2,Mt,3,0,"ng-container",5),j.YNc(3,ze,5,0,"ng-container",5),j.YNc(4,Ge,3,0,"ng-container",5),j.YNc(5,_e,5,0,"ng-container",5),j.YNc(6,mt,5,0,"ng-container",5),j.BQk()()),2&ct){const Tt=Xt.ngIf;j.xp6(1),j.Q6J("ngSwitch",Tt),j.xp6(1),j.Q6J("ngSwitchCase","email"),j.xp6(1),j.Q6J("ngSwitchCase","user"),j.xp6(1),j.Q6J("ngSwitchCase","net"),j.xp6(1),j.Q6J("ngSwitchCase","disabled"),j.xp6(1),j.Q6J("ngSwitchCase","many")}}function vt(ct,Xt){if(1&ct&&(j.TgZ(0,"ion-select-option"),j._uU(1),j.qZA()),2&ct){const Tt=Xt.$implicit;j.xp6(1),j.Oqu(Tt.name)}}function pt(ct,Xt){if(1&ct&&(j.TgZ(0,"ion-select-option",26),j._uU(1),j.qZA()),2&ct){const Tt=Xt.$implicit;j.Q6J("value",Tt.value),j.xp6(1),j.Oqu(Tt.key)}}function Dt(ct,Xt){if(1&ct&&(j.TgZ(0,"form",11),j._UZ(1,"ion-input",12)(2,"ion-input",13)(3,"ion-input",14)(4,"ion-input",15)(5,"ion-input",16)(6,"ion-input",17),j.TgZ(7,"ion-select",18),j.YNc(8,vt,2,1,"ion-select-option",19),j.ALo(9,"async"),j.qZA(),j.TgZ(10,"ion-select",20),j.YNc(11,pt,2,2,"ion-select-option",21),j.qZA(),j.TgZ(12,"ion-select",22)(13,"ion-select-option",23),j._uU(14,"\u05e8\u05d5\u05d5\u05e7"),j.qZA(),j.TgZ(15,"ion-select-option",24),j._uU(16,"\u05e0\u05e9\u05d5\u05d9"),j.qZA(),j.TgZ(17,"ion-select-option",25),j._uU(18,"\u05d2\u05e8\u05d5\u05e9"),j.qZA()()()),2&ct){const Tt=j.oxw(2);j.Q6J("formGroup",Tt.personalForm),j.xp6(1),j.Q6J("formControlName",Tt.registerFormControls.FIRSTNAME),j.xp6(1),j.Q6J("formControlName",Tt.registerFormControls.LASTNAME),j.xp6(1),j.Q6J("formControlName",Tt.registerFormControls.ID),j.xp6(1),j.Q6J("formControlName",Tt.registerFormControls.EMAIL),j.xp6(1),j.Q6J("formControlName",Tt.registerFormControls.PHONE),j.xp6(1),j.Q6J("max",Tt.today)("formControlName",Tt.registerFormControls.DATEOFBIRTH),j.xp6(2),j.Q6J("ngForOf",j.lcZ(9,12,Tt.cities$)),j.xp6(2),j.Q6J("formControlName",Tt.registerFormControls.EMPLOYEE),j.xp6(1),j.Q6J("ngForOf",Tt.EmploymentStatusList),j.xp6(1),j.Q6J("formControlName",Tt.registerFormControls.FAMILYSTATUS)}}function We(ct,Xt){if(1&ct&&(j.ynx(0),j.YNc(1,Dt,19,14,"form",10),j.BQk()),2&ct){const Tt=j.oxw();j.xp6(1),j.Q6J("ngIf",Tt.personalForm)}}function be(ct,Xt){if(1&ct&&(j.TgZ(0,"ion-select-option",26),j._uU(1),j.qZA()),2&ct){const Tt=Xt.$implicit;j.Q6J("value",Tt.value),j.xp6(1),j.Oqu(Tt.key)}}function $t(ct,Xt){if(1&ct&&(j.TgZ(0,"form",11),j._UZ(1,"ion-input",27)(2,"ion-input",28)(3,"ion-input",29)(4,"ion-input",17)(5,"ion-input",30),j.TgZ(6,"ion-select",20),j.YNc(7,be,2,2,"ion-select-option",21),j.qZA()()),2&ct){const Tt=j.oxw(2);j.Q6J("formGroup",Tt.spouseForm),j.xp6(1),j.Q6J("formControlName",Tt.registerFormControls.SPOUSEFIRSTNAME),j.xp6(1),j.Q6J("formControlName",Tt.registerFormControls.SPOUSELASTNAME),j.xp6(1),j.Q6J("formControlName",Tt.registerFormControls.SPOUSEID),j.xp6(1),j.Q6J("max",Tt.today)("formControlName",Tt.registerFormControls.SPOUSEDATEOFBIRTH),j.xp6(1),j.Q6J("formControlName",Tt.registerFormControls.SPOUSEPHONE),j.xp6(1),j.Q6J("formControlName",Tt.registerFormControls.SPOUSEINDEPENDET),j.xp6(1),j.Q6J("ngForOf",Tt.EmploymentStatusList)}}function tt(ct,Xt){if(1&ct&&(j.ynx(0),j.YNc(1,$t,8,9,"form",10),j.BQk()),2&ct){const Tt=j.oxw();j.xp6(1),j.Q6J("ngIf",Tt.spouseForm)}}function Ft(ct,Xt){if(1&ct){const Tt=j.EpF();j.ynx(0),j.TgZ(1,"ion-item")(2,"ion-label"),j._uU(3,"\u05d4\u05d5\u05e1\u05e3 \u05d9\u05dc\u05d3"),j.qZA(),j.TgZ(4,"ion-icon",33),j.NdJ("click",function(){j.CHM(Tt);const kn=j.oxw(2);return j.KtG(kn.addChild())}),j.qZA()(),j.BQk()}}function zt(ct,Xt){if(1&ct){const Tt=j.EpF();j.TgZ(0,"div",36),j._UZ(1,"ion-input",37)(2,"ion-input",38)(3,"ion-input",39)(4,"ion-input",40),j.TgZ(5,"div",41),j.NdJ("click",function(){j.CHM(Tt);const kn=j.oxw(4);return j.KtG(kn.addChild())}),j._UZ(6,"ion-icon",42),j.qZA(),j.TgZ(7,"div",41),j.NdJ("click",function(){const Xn=j.CHM(Tt).index,lr=j.oxw(4);return j.KtG(lr.removeChild(Xn))}),j._UZ(8,"ion-icon",43),j.qZA()()}if(2&ct){const Tt=Xt.index,Kt=j.oxw(4);j.Q6J("formGroupName",Tt),j.xp6(4),j.Q6J("max",Kt.today)}}function Vt(ct,Xt){if(1&ct&&(j.TgZ(0,"form",11)(1,"div",34),j.YNc(2,zt,9,2,"div",35),j.qZA()()),2&ct){const Tt=j.oxw(3);j.Q6J("formGroup",Tt.childrenForm),j.xp6(1),j.Q6J("formArrayName",Tt.registerFormControls.CHILDREN),j.xp6(1),j.Q6J("ngForOf",Tt.childrenArray.controls)}}function Sn(ct,Xt){if(1&ct&&j.YNc(0,Vt,3,3,"form",10),2&ct){const Tt=j.oxw(2);j.Q6J("ngIf",Tt.childrenForm)}}function Et(ct,Xt){if(1&ct&&(j.ynx(0),j.YNc(1,Ft,5,0,"ng-container",31),j.YNc(2,Sn,1,1,"ng-template",null,32,j.W1O),j.BQk()),2&ct){const Tt=j.MAs(3),Kt=j.oxw();j.xp6(1),j.Q6J("ngIf",0==Kt.childrenArray.controls.length)("ngIfElse",Tt)}}function st(ct,Xt){if(1&ct&&(j.TgZ(0,"ion-select-option",26),j._uU(1),j.qZA()),2&ct){const Tt=Xt.$implicit;j.Q6J("value",Tt.key),j.xp6(1),j.Oqu(Tt.value)}}function Ye(ct,Xt){if(1&ct&&(j.TgZ(0,"ion-select-option",26),j._uU(1),j.qZA()),2&ct){const Tt=Xt.$implicit;j.Q6J("value",Tt.key),j.xp6(1),j.Oqu(Tt.value)}}function Ue(ct,Xt){if(1&ct&&(j.TgZ(0,"ion-select-option",26),j._uU(1),j.qZA()),2&ct){const Tt=Xt.$implicit;j.Q6J("value",Tt.value),j.xp6(1),j.Oqu(Tt.name)}}function Qe(ct,Xt){if(1&ct&&(j.TgZ(0,"form",11),j._UZ(1,"ion-input",44),j.TgZ(2,"ion-select",45),j.YNc(3,st,2,2,"ion-select-option",21),j.qZA(),j.TgZ(4,"ion-select",46),j.YNc(5,Ye,2,2,"ion-select-option",21),j.qZA(),j._UZ(6,"ion-input",47)(7,"ion-input",48),j.TgZ(8,"ion-select",49),j.YNc(9,Ue,2,2,"ion-select-option",21),j.qZA()()),2&ct){const Tt=j.oxw(2);j.Q6J("formGroup",Tt.businessForm),j.xp6(1),j.Q6J("formControlName",Tt.registerFormControls.BUSINESSNAME),j.xp6(1),j.Q6J("formControlName",Tt.registerFormControls.BUSINESSFIELD),j.xp6(1),j.Q6J("ngForOf",Tt.listBusinessField),j.xp6(1),j.Q6J("formControlName",Tt.registerFormControls.BUSINESSTYPE),j.xp6(1),j.Q6J("ngForOf",Tt.listBusinessType),j.xp6(1),j.Q6J("formControlName",Tt.registerFormControls.BUSINESSID),j.xp6(1),j.Q6J("max",Tt.today)("formControlName",Tt.registerFormControls.BUSINESSDATE),j.xp6(1),j.Q6J("formControlName",Tt.registerFormControls.BUSINESSINVENTORY),j.xp6(1),j.Q6J("ngForOf",Tt.employeeList)}}function ut(ct,Xt){if(1&ct&&(j.ynx(0),j.YNc(1,Qe,10,11,"form",10),j.BQk()),2&ct){const Tt=j.oxw();j.xp6(1),j.Q6J("ngIf",Tt.businessForm)}}function yt(ct,Xt){1&ct&&(j.TgZ(0,"ion-label"),j._uU(1,"\u05e1\u05d9\u05e1\u05de\u05d0\u05d5\u05ea \u05dc\u05d0 \u05d6\u05d4\u05d5\u05ea"),j.qZA())}function Jt(ct,Xt){if(1&ct){const Tt=j.EpF();j.TgZ(0,"form",51)(1,"ion-label"),j._uU(2,"\u05e1\u05d9\u05e1\u05de\u05d0 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05db\u05dc\u05d5\u05dc \u05e9\u05e0\u05d9 \u05ea\u05d5\u05d5\u05d9\u05dd \u05d1\u05d0\u05e0\u05d2\u05dc\u05d9\u05ea \u05d5\u05de\u05e1\u05e4\u05e8\u05d9\u05dd \u05d5\u05dc\u05d4\u05d9\u05d5\u05ea \u05dc\u05e4\u05d7\u05d5\u05ea \u05d1\u05d0\u05d5\u05e8\u05da \u05e9\u05dc \u05e9\u05de\u05d5\u05e0\u05d4 \u05ea\u05d5\u05d5\u05d9\u05dd"),j.qZA(),j.TgZ(3,"ion-input",52),j.NdJ("ionInput",function(){j.CHM(Tt);const kn=j.oxw(2);return j.KtG(kn.checkPassword())}),j.qZA(),j.YNc(4,yt,2,0,"ion-label",2),j.TgZ(5,"ion-input",53),j.NdJ("ionInput",function(kn){j.CHM(Tt);const Xn=j.oxw(2);return j.KtG(Xn.changePasswordValidinput(kn))})("ionInput",function(){j.CHM(Tt);const kn=j.oxw(2);return j.KtG(kn.checkPassword())}),j.qZA()()}if(2&ct){const Tt=j.oxw(2);j.Q6J("formGroup",Tt.validationForm),j.xp6(4),j.Q6J("ngIf",!Tt.passwordValid)}}function Nn(ct,Xt){if(1&ct&&(j.ynx(0),j.YNc(1,Jt,6,2,"form",50),j.BQk()),2&ct){const Tt=j.oxw();j.xp6(1),j.Q6J("ngIf",Tt.validationForm)}}const On=[{path:"",component:(()=>{class ct{constructor(Tt,Kt,kn,Xn){this.router=Tt,this.authService=Kt,this.formBuilder=kn,this.registerService=Xn,this.registerFormModules=me,this.registerFormControls=Te,this.selectedFormModule=this.registerFormModules.PERSONAL,this.registerMode=!0,this.passwordValid=!0,this.displayError="disabled",this.EmploymentStatusList=[{key:"\u05e2\u05e6\u05de\u05d0\u05d9",value:0},{key:"\u05e9\u05db\u05d9\u05e8",value:1},{key:"\u05e2\u05e6\u05de\u05d0\u05d9 \u05d5\u05e9\u05db\u05d9\u05e8",value:2}],this.listBusinessField=[{key:"build",value:"\u05d1\u05e0\u05d9\u05d9\u05df"},{key:"electric",value:"\u05d7\u05e9\u05de\u05dc"},{key:"photo",value:"\u05e6\u05d9\u05dc\u05d5\u05dd"},{key:"architecture",value:"\u05d0\u05d3\u05e8\u05d9\u05db\u05dc\u05d5\u05ea"}],this.listBusinessType=[{key:"licensed",value:"\u05e2\u05d5\u05e1\u05e7 \u05de\u05d5\u05e8\u05e9\u05d4"},{key:"exempt",value:"\u05e2\u05d5\u05e1\u05e7 \u05e4\u05d8\u05d5\u05e8"},{key:"company",value:"\u05d7\u05d1\u05e8\u05d4"}],this.itemsNavigate=[{name:"\u05e4\u05e8\u05d8\u05d9\u05dd \u05d0\u05d9\u05e9\u05d9\u05d9\u05dd",link:"",icon:"person-circle-outline",id:me.PERSONAL,index:"zero"},{name:"\u05e4\u05e8\u05d8\u05d9 \u05d1\u05df/\u05d1\u05ea \u05d6\u05d5\u05d2",link:"",icon:"people-circle-outline",id:me.SPOUSE,index:"one"},{name:"\u05e4\u05e8\u05d8\u05d9 \u05d9\u05dc\u05d3\u05d9\u05dd",link:"",icon:"accessibility-sharp",id:me.CHILDREN,index:"two"},{name:"\u05e4\u05e8\u05d8\u05d9 \u05e2\u05e1\u05e7",link:"",icon:"business-sharp",id:me.BUSINESS,index:"three"},{name:"\u05e1\u05d9\u05e1\u05de\u05d0 \u05d5\u05d0\u05d9\u05de\u05d5\u05ea",link:"",icon:"ban-sharp",id:me.VALIDATION,index:"four"}],this.employeeList=[{value:!0,name:"\u05db\u05df"},{value:!1,name:"\u05dc\u05d0"}],this.today=(new Date).toISOString().substring(0,10),this.itemsNavigate[0].selected=!0;const cr=this.formBuilder.group({[Te.FIRSTNAME]:new h.NI("",h.kI.required),[Te.LASTNAME]:new h.NI("",h.kI.required),[Te.ID]:new h.NI("",[h.kI.required,h.kI.pattern(/^\d{9}$/)]),[Te.EMAIL]:new h.NI("",[h.kI.required,h.kI.pattern(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/)]),[Te.PHONE]:new h.NI("",[h.kI.required,h.kI.pattern(/^(050|051|052|053|054|055|058|059)\d{7}$/)]),[Te.DATEOFBIRTH]:new h.NI("",h.kI.required),[Te.EMPLOYEE]:new h.NI(!1,h.kI.required),[Te.CITY]:new h.NI("",h.kI.required),[Te.FAMILYSTATUS]:new h.NI("",h.kI.required)}),bn=this.formBuilder.group({[Te.SPOUSEFIRSTNAME]:new h.NI("",h.kI.required),[Te.SPOUSELASTNAME]:new h.NI("",h.kI.required),[Te.SPOUSEID]:new h.NI("",[h.kI.required,h.kI.pattern(/^\d{9}$/)]),[Te.SPOUSEDATEOFBIRTH]:new h.NI("",h.kI.required),[Te.SPOUSEINDEPENDET]:new h.NI(!1,h.kI.required),[Te.SPOUSEPHONE]:new h.NI("",[h.kI.required,h.kI.pattern(/^(050|051|052|053|054|055|058|059)\d{7}$/)])}),Jn=this.formBuilder.group({[Te.CHILDREN]:this.formBuilder.array([])}),Qr=this.formBuilder.group({[Te.BUSINESSNAME]:new h.NI("",h.kI.required),[Te.BUSINESSFIELD]:new h.NI("",h.kI.required),[Te.BUSINESSTYPE]:new h.NI("",h.kI.required),[Te.BUSINESSDATE]:new h.NI("",h.kI.required),[Te.BUSINESSID]:new h.NI("",h.kI.required),[Te.BUSINESSINVENTORY]:new h.NI("",h.kI.required)}),Er=this.formBuilder.group({[Te.PASSWORD]:new h.NI("",[h.kI.required,h.kI.pattern(/^(?=.*[a-zA-Z].*[a-zA-Z])(?=.*\d).{8,}$/)])});this.myForm=this.formBuilder.group({[me.PERSONAL]:cr,[me.SPOUSE]:bn,[me.CHILDREN]:Jn,[me.BUSINESS]:Qr,[me.VALIDATION]:Er})}ngOnDestroy(){this.authService.isVerfyEmail$.unsubscribe()}ngOnInit(){this.authService.isVerfyEmail$.subscribe(Tt=>{Tt&&(this.registerMode=!1)}),this.gelAllCities()}get personalForm(){return this.myForm.get(me.PERSONAL)}get spouseForm(){return this.myForm.get(me.SPOUSE)}get childrenForm(){return this.myForm.get(me.CHILDREN)}get childrenArray(){return this.myForm.get(me.CHILDREN).get(Te.CHILDREN)}get businessForm(){return this.myForm.get(me.BUSINESS)}get validationForm(){return this.myForm.get(me.VALIDATION)}get buttonNextText(){return this.selectedFormModule!==me.VALIDATION?"\u05d4\u05d1\u05d0":"\u05e9\u05dc\u05d7"}gelAllCities(){this.cities$=this.registerService.getCities().pipe((0,Pe.O)([]),(0,Xe.U)(Tt=>Tt.length?Tt.slice(1):[]))}addChild(){console.log(this.myForm.get(me.CHILDREN).get(Te.CHILDREN).value),this.myForm.get(me.CHILDREN).get(Te.CHILDREN).push(this.formBuilder.group({childFName:[""],childLName:[""],childID:[""],childDate:[""]}))}removeChild(Tt){this.myForm.get(me.CHILDREN).get(Te.CHILDREN).removeAt(Tt)}handleFormRegister(){const Tt=this.myForm.value;console.log(Tt),this.authService.SignUp(Tt)}onBackBtnClicked(){switch(this.selectedFormModule){case me.VALIDATION:this.selectedFormModule=me.BUSINESS,this.setSelectedNavItem(me.BUSINESS);break;case me.BUSINESS:this.selectedFormModule=me.CHILDREN,this.setSelectedNavItem(me.CHILDREN);break;case me.CHILDREN:this.selectedFormModule=me.SPOUSE,this.setSelectedNavItem(me.SPOUSE);break;case me.SPOUSE:this.selectedFormModule=me.PERSONAL,this.setSelectedNavItem(me.PERSONAL)}}onNextBtnClicked(){switch(this.selectedFormModule){case me.VALIDATION:this.handleFormRegister(),console.log(this.displayError);break;case me.PERSONAL:this.selectedFormModule=me.SPOUSE,this.setSelectedNavItem(me.SPOUSE);break;case me.CHILDREN:this.selectedFormModule=me.BUSINESS,this.setSelectedNavItem(me.BUSINESS);break;case me.SPOUSE:this.selectedFormModule=me.CHILDREN,this.setSelectedNavItem(me.CHILDREN);break;case me.BUSINESS:this.selectedFormModule=me.VALIDATION,this.setSelectedNavItem(me.VALIDATION)}}changePasswordValidinput(Tt){this.passwordValidInput=Tt.target.value}checkPassword(){const Tt=this.myForm.get(me.VALIDATION)?.get(Te.PASSWORD)?.value;this.passwordValid=this.passwordValidInput===Tt}navigateclicked(Tt){switch(Tt.name){case"\u05e4\u05e8\u05d8\u05d9\u05dd \u05d0\u05d9\u05e9\u05d9\u05d9\u05dd":default:this.selectedFormModule=this.registerFormModules.PERSONAL;break;case"\u05e4\u05e8\u05d8\u05d9 \u05d1\u05df/\u05d1\u05ea \u05d6\u05d5\u05d2":this.selectedFormModule=this.registerFormModules.SPOUSE;break;case"\u05e4\u05e8\u05d8\u05d9 \u05d9\u05dc\u05d3\u05d9\u05dd":this.selectedFormModule=this.registerFormModules.CHILDREN;break;case"\u05e4\u05e8\u05d8\u05d9 \u05e2\u05e1\u05e7":this.selectedFormModule=this.registerFormModules.BUSINESS;break;case"\u05e1\u05d9\u05e1\u05de\u05d0 \u05d5\u05d0\u05d9\u05de\u05d5\u05ea":this.selectedFormModule=this.registerFormModules.VALIDATION}}setSelectedNavItem(Tt){this.itemsNavigate.forEach(Kt=>Kt.selected=Kt.id===Tt)}navigateToLogin(){this.router.navigate(["login"])}}return ct.\u0275fac=function(Tt){return new(Tt||ct)(j.Y36(P.F0),j.Y36(De.e),j.Y36(h.qu),j.Y36(Ve))},ct.\u0275cmp=j.Xpm({type:ct,selectors:[["app-register"]],decls:20,vars:14,consts:[[3,"fullscreen"],[1,"register-content"],[4,"ngIf"],[1,"navigate-item-container",3,"navigationItems","onNavButtonClicked"],[3,"ngSwitch"],[4,"ngSwitchCase"],["buttonText","\u05d7\u05d6\u05d5\u05e8",3,"disabled","onButtonClicked"],[3,"buttonText","disabled","onButtonClicked"],[1,"blue-link",3,"click"],[1,"text-error"],["class","form-register",3,"formGroup",4,"ngIf"],[1,"form-register",3,"formGroup"],["label","\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9","clear-input","true","spellcheck","true","slot","end","type","text","label-placement","floating","fill","outline","placeholder","\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",1,"input-register",3,"formControlName"],["type","text","label","\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4","label-placement","floating","fill","outline","placeholder","\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",1,"input-register",3,"formControlName"],["type","text","label","\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea","label-placement","floating","fill","outline","placeholder","\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea",1,"input-register",3,"formControlName"],["type","email","label","\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc","label-placement","floating","fill","outline","placeholder","\u05d0\u05d9\u05de\u05d9\u05d9\u05dc",1,"input-register",3,"formControlName"],["type","tel","label","\u05de\u05e1\u05e4\u05e8 \u05e4\u05dc\u05d0\u05e4\u05d5\u05df","label-placement","floating","fill","outline","placeholder","\u05de\u05e1\u05e4\u05e8 \u05e4\u05dc\u05d0\u05e4\u05d5\u05df",1,"input-register",3,"formControlName"],["type","date","label-placement","floating","fill","outline","label","\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4",1,"input-register",3,"max","formControlName"],["formControlName","city","label","\u05e2\u05d9\u05e8","placeholder","\u05e2\u05d9\u05e8","label-placement","floating","fill","outline","interface","action-sheet",1,"input-register"],[4,"ngFor","ngForOf"],["label","\u05e1\u05d8\u05d8\u05d5\u05e1 \u05ea\u05e2\u05e1\u05d5\u05e7\u05ea\u05d9","fill","outline","label-placement","floating","interface","popover",1,"input-register",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["label","\u05de\u05e6\u05d1 \u05de\u05e9\u05e4\u05d7\u05ea\u05d9","fill","outline","label-placement","floating","interface","popover",1,"input-register",3,"formControlName"],["value","0"],["value","1"],["value","2"],[3,"value"],["type","text","label","\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9","label-placement","floating","fill","outline","placeholder","\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9 \u05d1\u05df / \u05d1\u05ea \u05d4\u05d6\u05d5\u05d2",1,"input-register",3,"formControlName"],["type","text","label","\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4","label-placement","floating","fill","outline","placeholder","\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",1,"input-register",3,"formControlName"],["type","text","label","\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea","label-placement","floating","fill","outline","placeholder","\u05d4\u05db\u05e0\u05e1 \u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea",1,"input-register",3,"formControlName"],["type","text","label","\u05de\u05e1\u05e4\u05e8 \u05e4\u05dc\u05d0\u05e4\u05d5\u05df","label-placement","floating","fill","outline","placeholder","\u05e4\u05dc\u05d0\u05e4\u05d5\u05df",1,"input-register",3,"formControlName"],[4,"ngIf","ngIfElse"],["children",""],["size","large","name","add-circle-outline",3,"click"],[3,"formArrayName"],["class","child-row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"child-row",3,"formGroupName"],["type","text","label","\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9 \u05e9\u05dc \u05d4\u05d9\u05dc\u05d3","label-placement","floating","fill","outline","placeholder","\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9","formControlName","childFName",1,"input-register-child"],["type","text","label","\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4 \u05e9\u05dc \u05d4\u05d9\u05dc\u05d3","label-placement","floating","fill","outline","placeholder","\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4","formControlName","childLName",1,"input-register-child"],["type","text","label","\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea \u05e9\u05dc \u05d4\u05d9\u05dc\u05d3","label-placement","floating","fill","outline","placeholder","\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea","formControlName","childID",1,"input-register-child"],["type","date","label-placement","floating","fill","outline","label","\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4","formControlName","childDate",1,"input-register-child",3,"max"],[1,"add-icon",3,"click"],["name","add-circle"],["name","remove-circle"],["type","text","label","\u05e9\u05dd \u05e2\u05e1\u05e7","label-placement","floating","fill","outline","placeholder","\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05e2\u05e1\u05e7","fill","outline",1,"input-register",3,"formControlName"],["label","\u05ea\u05d7\u05d5\u05dd \u05d4\u05e2\u05e1\u05e7","fill","outline","label-placement","floating","interface","popover",1,"input-register",3,"formControlName"],["label","\u05e1\u05d5\u05d2 \u05d4\u05e2\u05e1\u05e7","fill","outline","label-placement","floating","interface","popover",1,"input-register",3,"formControlName"],["type","text","label","\u05de\u05e1\u05e4\u05e8 \u05e2\u05e1\u05e7","label-placement","floating","fill","outline","placeholder","\u05de\u05e1\u05e4\u05e8 \u05e2\u05d5\u05e1\u05e7 / \u05d7.\u05e4 \u05e1\u05e4\u05e7",1,"input-register",3,"formControlName"],["type","date","label-placement","floating","fill","outline","label","\u05ea\u05d0\u05e8\u05d9\u05da \u05e4\u05ea\u05d9\u05d7\u05ea \u05e2\u05e1\u05e7",1,"input-register",3,"max","formControlName"],["label","\u05d4\u05d0\u05dd \u05d4\u05e2\u05e1\u05e7 \u05de\u05e0\u05d4\u05dc \u05de\u05dc\u05d0\u05d9?","fill","outline","label-placement","floating","interface","popover",1,"input-register",3,"formControlName"],["class","form-register-validate",3,"formGroup",4,"ngIf"],[1,"form-register-validate",3,"formGroup"],["type","text","label","\u05e1\u05d9\u05e1\u05de\u05d0","label-placement","floating","fill","outline","placeholder","\u05d1\u05d7\u05e8 \u05e1\u05d9\u05e1\u05de\u05d0","formControlName","password",1,"input-register",3,"ionInput"],["type","text","label","\u05d0\u05d9\u05de\u05d5\u05ea \u05e1\u05d9\u05e1\u05de\u05d0","label-placement","floating","fill","outline","placeholder","\u05d4\u05db\u05e0\u05e1 \u05d0\u05ea \u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05e4\u05e2\u05dd \u05e0\u05d5\u05e1\u05e4\u05ea",1,"input-register",3,"ionInput"]],template:function(Tt,Kt){1&Tt&&(j.TgZ(0,"ion-content",0)(1,"div",1),j.YNc(2,dt,7,6,"ng-container",2),j.ALo(3,"async"),j.TgZ(4,"app-item-navigate",3),j.NdJ("onNavButtonClicked",function(Xn){return Kt.navigateclicked(Xn)}),j.qZA(),j.ynx(5,4),j.YNc(6,We,2,1,"ng-container",5),j.YNc(7,tt,2,1,"ng-container",5),j.YNc(8,Et,4,2,"ng-container",5),j.YNc(9,ut,2,1,"ng-container",5),j.YNc(10,Nn,2,1,"ng-container",5),j.BQk(),j.TgZ(11,"div")(12,"app-button",6),j.NdJ("onButtonClicked",function(){return Kt.onBackBtnClicked()}),j.qZA(),j.TgZ(13,"app-button",7),j.NdJ("onButtonClicked",function(){return Kt.onNextBtnClicked()}),j.qZA()(),j.TgZ(14,"div"),j._uU(15," \u05de\u05e9\u05ea\u05de\u05e9 \u05e7\u05d9\u05d9\u05dd? \u05dc\u05d7\u05e5 "),j.TgZ(16,"span",8),j.NdJ("click",function(){return Kt.navigateToLogin()}),j._uU(17,"\u05db\u05d0\u05df"),j.qZA(),j._uU(18," \u05dc\u05db\u05e0\u05d9\u05e1\u05d4. "),j.qZA()(),j._UZ(19,"p"),j.qZA()),2&Tt&&(j.Q6J("fullscreen",!0),j.xp6(2),j.Q6J("ngIf",j.lcZ(3,12,Kt.authService.error$)),j.xp6(2),j.Q6J("navigationItems",Kt.itemsNavigate),j.xp6(1),j.Q6J("ngSwitch",Kt.selectedFormModule),j.xp6(1),j.Q6J("ngSwitchCase",Kt.registerFormModules.PERSONAL),j.xp6(1),j.Q6J("ngSwitchCase",Kt.registerFormModules.SPOUSE),j.xp6(1),j.Q6J("ngSwitchCase",Kt.registerFormModules.CHILDREN),j.xp6(1),j.Q6J("ngSwitchCase",Kt.registerFormModules.BUSINESS),j.xp6(1),j.Q6J("ngSwitchCase",Kt.registerFormModules.VALIDATION),j.xp6(2),j.Q6J("disabled",Kt.selectedFormModule===Kt.registerFormModules.PERSONAL),j.xp6(1),j.Q6J("buttonText",Kt.buttonNextText)("disabled",Kt.myForm.invalid&&Kt.selectedFormModule===Kt.registerFormModules.VALIDATION||!Kt.passwordValid))},dependencies:[y.sg,y.O5,y.RF,y.n9,h._Y,h.JJ,h.JL,h.sg,h.u,h.x0,h.CE,K.W2,K.gu,K.pK,K.Ie,K.Q$,K.t9,K.n0,K.QI,K.j9,je.X,at.r,y.Ov],styles:[".child-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;margin-bottom:10px}.child-row[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:1px solid lightgray}.add-icon[_ngcontent-%COMP%]{font-size:24px;color:#00f;cursor:pointer}ion-content[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;align-items:center;height:100%}@media only screen and (max-width: 495px){ion-content[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]{justify-content:normal}}.form-register[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;border:3px solid rgb(79,171,79);border-radius:15px;width:90%}.form-register-validate[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-around;border:3px solid rgb(79,171,79);border-radius:15px;width:90%}.input-register[_ngcontent-%COMP%]{min-width:200px;display:flex;width:220px;--border-radius: 15px;flex-basis:calc(33.33% - 20px);margin:10px}.input-register-child[_ngcontent-%COMP%]{display:flex;--border-radius: 15px;flex-basis:calc(25% - 35px);margin:10px}.navigate-item-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background-color:transparent;width:100%}.text-error[_ngcontent-%COMP%]{border:2px solid red;border-radius:15px;width:60%;word-wrap:break-word;text-align:justify;text-align-last:center;padding-left:5px;padding-right:5px;font-weight:700;margin:10px 0}.blue-link[_ngcontent-%COMP%]{color:#00f;text-decoration:underline;cursor:pointer}@media only screen and (max-width: 600px){.input-register-child[_ngcontent-%COMP%]{min-width:200px;display:flex;--border-radius: 15px;margin:10px}}"]}),ct})()}];let St=(()=>{class ct{}return ct.\u0275fac=function(Tt){return new(Tt||ct)},ct.\u0275mod=j.oAB({type:ct}),ct.\u0275inj=j.cJS({imports:[P.Bz.forChild(On),P.Bz]}),ct})();var hn=k(4466);let Yt=(()=>{class ct{}return ct.\u0275fac=function(Tt){return new(Tt||ct)},ct.\u0275mod=j.oAB({type:ct}),ct.\u0275inj=j.cJS({imports:[y.ez,h.u5,h.UX,K.Pc,St,hn.m]}),ct})()},2199:(xn,bt,k)=>{"use strict";k.d(bt,{e:()=>X});var y=k(5861),h=k(1135),K=k(8996),P=k(262),Te=k(515),me=k(8505),Pe=k(3900),Xe=k(2088),j=k(2223),we=(k(3692),k(8140),k(9500));k(5578),k(5752),k(1877),k(1617);const vn=(0,Xe.u3)(we.ae,!0);var ui=k(2340),lt=k(4179),Ee=k(1205),te=k(9931),q=k(3144);let X=(()=>{class $e{constructor(ve,Ke,It,sn,tn){this.afs=ve,this.afAuth=Ke,this.router=It,this.http=sn,this.ngZone=tn,this.isLoggedIn$=new h.X(""),this.error$=new h.X(""),this.isVerfyEmail$=new h.X(!1),this.isToastOpen$=new h.X(!1)}userVerify(ve,Ke){return(0,K.D)(this.afAuth.signInWithEmailAndPassword(ve,Ke)).pipe((0,P.K)(It=>(console.log("err in sign in with email: ",It),this.handleErrorLogin(It.code),Te.E)),(0,me.b)(It=>{localStorage.setItem("user",JSON.stringify(It.user))}))}handleErrorLogin(ve){"auth/wrong-password"===ve&&this.error$.next("password"),("auth/user-not-found"===ve||"auth/invalid-email"===ve)&&this.error$.next("user")}signIn(ve){const Ke=`${ui.N.apiUrl}auth/signin`;return console.log("url is ",Ke),console.log("firebase is ",ui.N.firebase),(0,K.D)(ve.user.getIdToken()).pipe((0,P.K)(It=>(console.log("err in get id token: ",It),Te.E)),(0,me.b)(It=>localStorage.setItem("token",It)),(0,Pe.w)(It=>this.http.post(Ke,{token:It})),(0,P.K)(It=>(this.error$.next("error"),console.log("err in post request: ",It),Te.E)))}handleErrorSignup(ve){switch(ve){case"auth/email-already-in-use":this.error$.next("user");break;case"auth/invalid-email":this.error$.next("email");break;case"auth/network-request-failed":this.error$.next("net");break;case"auth/user-disabled":case"auth/user-not-found":this.error$.next("disabled");break;case"auth/too-many-requests":this.error$.next("many")}}SignUp(ve){let Ke="";(0,K.D)(this.afAuth.createUserWithEmailAndPassword(ve.personal.email,ve.validation.password)).pipe((0,P.K)(It=>(console.log("err in create user: ",It),this.handleErrorSignup(It.code),Te.E)),(0,me.b)(It=>Ke=It.user.uid),(0,Pe.w)(It=>(0,K.D)(vn(It.user))),(0,P.K)(It=>(this.handleErrorSignup(It.code),console.log("err in send email verify: ",It),Te.E)),(0,me.b)(()=>this.isVerfyEmail$.next(!0)),(0,Pe.w)(()=>{const It=`${ui.N.apiUrl}auth/signup`;return ve.personal.firebaseId=Ke,this.http.post(It,ve)}),(0,P.K)(It=>(this.afAuth.currentUser.then(sn=>{sn.delete()}).catch(sn=>{console.log("err:",sn)}),this.handleErrorSignup("auth/network-request-failed"),Te.E))).subscribe(It=>{console.log("res in sub signup",It),this.router.navigate(["login"])})}SendVerificationMail(){return(0,K.D)(this.afAuth.currentUser).pipe((0,P.K)(ve=>(console.log("err in send email verify",ve),Te.E)),(0,me.b)(ve=>ve.sendEmailVerification()))}ForgotPassword(ve){return(0,K.D)(this.afAuth.sendPasswordResetEmail(ve))}get isLoggedIn(){const ve=JSON.parse(localStorage.getItem("user"));return null!==ve&&!1!==ve.emailVerified}SignOut(){var ve=this;return(0,y.Z)(function*(){return ve.afAuth.signOut().then(()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),ve.router.navigate(["login"])})})()}}return $e.\u0275fac=function(ve){return new(ve||$e)(j.LFG(lt.ST),j.LFG(Ee.zQ),j.LFG(te.F0),j.LFG(q.eN),j.LFG(j.R0b))},$e.\u0275prov=j.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})()},421:(xn,bt,k)=>{"use strict";k.d(bt,{O:()=>me});var y=k(7579),h=k(3144),K=k(3327),P=k(2340),Te=k(2223);let me=(()=>{class Pe{constructor(j){this.http=j,this.columnsAddExpense=[{name:K.Ih.DATE,value:K.E_.date,type:K.hM.DATE},{name:K.Ih.SUM,value:K.E_.sum,type:K.hM.TEXT},{name:K.Ih.EXPENSE_NUMBER,value:K.E_.expenseNumber,type:K.hM.TEXT},{name:K.Ih.SUPPLIER,value:K.E_.supplier,type:K.hM.TEXT},{name:K.Ih.SUPPLIER_ID,value:K.E_.supplierID,type:K.hM.TEXT},{name:K.Ih.IS_EQUIPMENT,value:K.E_.isEquipment,type:K.hM.DDL},{name:K.Ih.CATEGORY,value:K.E_.category,type:K.hM.DDL},{name:K.Ih.SUB_CATEGORY,value:K.E_.subCategory,type:K.hM.DDL},{name:K.Ih.VAT_PERCENT,value:K.E_.vatPercent,type:K.hM.TEXT},{name:K.Ih.TAX_PERCENT,value:K.E_.taxPercent,type:K.hM.TEXT},{name:K.Ih.REDUCTION_PERCENT,value:K.E_.reductionPercent,type:K.hM.TEXT},{name:K.Ih.NOTE,value:K.E_.note,type:K.hM.TEXT},{name:K.Ih.FILE,value:K.E_.file,type:K.hM.FILE}],this.columnsDisplayExpense=[{name:K.Ih.SUPPLIER,value:K.E_.supplier,type:K.hM.TEXT},{name:K.Ih.DATE,value:K.E_.date,type:K.hM.DATE},{name:K.Ih.SUM,value:K.E_.sum,type:K.hM.NUMBER},{name:K.Ih.CATEGORY,value:K.E_.category,type:K.hM.DDL},{name:K.Ih.SUB_CATEGORY,value:K.E_.subCategory,type:K.hM.DDL},{name:K.Ih.VAT_PERCENT,value:K.E_.vatPercent,type:K.hM.TEXT},{name:K.Ih.TAX_PERCENT,value:K.E_.taxPercent,type:K.hM.TEXT},{name:K.Ih.TOTAL_VAT,value:K.E_.totalVatPayable,type:K.hM.NUMBER},{name:K.Ih.TOTAL_TAX,value:K.E_.totalTaxPayable,type:K.hM.NUMBER}],this.columnsAddExpenseOrder=["date","sum","expenseNumber","supplier","supplierID","isEquipment","category","subCategory","vatPercent","taxPercent","reductionPercent","note","file","totalTax","totalVat"],this.updateTable$=new y.x,this.isToastOpen$=new y.x}getColomnsOrder(){return this.columnsAddExpenseOrder}getExpenseByUser(j){const De=`${P.N.apiUrl}expenses/get-sub-categories-list`,ye={params:(new h.LE).set("userID",j)};return this.http.get(De,ye)}getShowExpenseColumns(){return this.columnsDisplayExpense}getAddExpenseColumns(){return this.columnsAddExpense}getSubCategory(j,De){console.log("coldata:",j);const ye=`${P.N.apiUrl}expenses/get-sub-categories-list`,we=(new h.LE).set("isEquipment",De).set("category",j);return this.http.get(ye,{params:we})}getcategry(j){const De=`${P.N.apiUrl}expenses/get-categories-list`,ye=(new h.LE).set("isEquipment",j);return this.http.get(De,{params:ye})}getAllSuppliers(){const j=localStorage.getItem("token"),De=`${P.N.apiUrl}expenses/get-suppliers-list`,ye=(new h.LE).set("token",j);return this.http.get(De,{params:ye})}addSupplier(j){return this.http.post(`${P.N.apiUrl}expenses/add-supplier`,j)}editSupplier(j,De){return this.http.patch(`${P.N.apiUrl}expenses/update-supplier/`+De,j)}deleteSupplier(j){const De=localStorage.getItem("token"),ye=(new h.LE).set("token",De);return this.http.delete(`${P.N.apiUrl}expenses/delete-supplier/`+j,{params:ye})}addExpenseData(j){return console.log("formdata in send",j),this.http.post(`${P.N.apiUrl}expenses/add-expense`,j)}updateExpenseData(j,De){return this.http.patch(`${P.N.apiUrl}expenses/update-expense/`+De,j)}}return Pe.\u0275fac=function(j){return new(j||Pe)(Te.LFG(h.eN))},Pe.\u0275prov=Te.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})()},9868:(xn,bt,k)=>{"use strict";k.d(bt,{n:()=>ye});var y=k(5861),h=k(3144),K=k(7054),Xe=k(8996),j=k(2340),De=k(2223);let ye=(()=>{class we{constructor(je){this.http=je}downloadFile(je){return(0,y.Z)(function*(){console.log("in dowmload file");const at=(0,K.cF)(),Mt=(0,K.iH)(at,je);let ze;try{const Ge=yield(0,K.Jt)(Mt);console.log(Ge),je=Ge,ze=yield(yield fetch(Ge)).blob(),console.log("File MIME type:",ze.type)}catch(Ge){console.error("error from download file",Ge)}return{file:je,type:ze.type}})()}deleteFile(je){return(0,y.Z)(function*(){const at=(0,K.cF)(),Mt=(0,K.iH)(at,je);yield(0,K.oq)(Mt).then(()=>{console.log("delete file: ",je)}).catch(ze=>{console.log(ze),console.log("delete file is faild: ",je)})})()}uploadFileViaFront(je){const at=localStorage.getItem("user"),ze=JSON.parse(at).uid;Math.floor(100*Math.random()%3),this.uniqueIdFile=((we=21)=>crypto.getRandomValues(new Uint8Array(we)).reduce((Ve,je)=>Ve+((je&=63)<36?je.toString(36):je<62?(je-26).toString(36).toUpperCase():je>62?"-":"_"),""))();const _e=(0,K.cF)(),mt=(0,K.iH)(_e,`users/${ze}/deductibleExp/${this.uniqueIdFile}`);return(0,Xe.D)((0,K.sf)(mt,je,"data_url"))}getSuppliersList(je){const at=`${j.N.apiUrl}expenses/get-suppliers-list`,Mt={params:(new h.LE).set("token",je)};return this.http.get(at,Mt)}addSupplier(je){return this.http.post(`${j.N.apiUrl}expenses/add-supplier`,je)}editSupplier(je,at){return this.http.patch(`${j.N.apiUrl}expenses/update-supplier/${at}`,je)}}return we.\u0275fac=function(je){return new(je||we)(De.LFG(h.eN))},we.\u0275prov=De.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})()},6742:(xn,bt,k)=>{"use strict";k.d(bt,{r:()=>me});var y=k(2223),h=k(7051),K=k(4755),P=k(650);const Te=function(Pe,Xe,j,De){return{primary:Pe,clear:Xe,small:j,big:De}};let me=(()=>{class Pe{constructor(){this.buttonText="",this.disabled=!1,this.buttonClass=h.n.PRIMARY,this.buttonSize=h.q.BIG,this.buttonStyle={},this.onButtonClicked=new y.vpe,this.ButtonSize=h.q,this.ButtonClass=h.n}onClick(){this.onButtonClicked.emit()}}return Pe.\u0275fac=function(j){return new(j||Pe)},Pe.\u0275cmp=y.Xpm({type:Pe,selectors:[["app-button"]],inputs:{buttonText:"buttonText",disabled:"disabled",buttonClass:"buttonClass",buttonSize:"buttonSize",buttonStyle:"buttonStyle"},outputs:{onButtonClicked:"onButtonClicked"},decls:2,vars:9,consts:[["shape","round",1,"button-wrapper",3,"ngStyle","ngClass","disabled","click"]],template:function(j,De){1&j&&(y.TgZ(0,"ion-button",0),y.NdJ("click",function(){return De.onClick()}),y._uU(1),y.qZA()),2&j&&(y.Q6J("ngStyle",De.buttonStyle)("ngClass",y.l5B(4,Te,De.buttonClass===De.ButtonClass.PRIMARY,De.buttonClass===De.ButtonClass.CLEAR,De.buttonSize===De.ButtonSize.SMALL,De.buttonSize===De.ButtonSize.BIG))("disabled",De.disabled),y.xp6(1),y.Oqu(De.buttonText))},dependencies:[K.mk,K.PC,P.YG],styles:["[_nghost-%COMP%]{font-family:Open Sans Hebrew,serif}ion-button[_ngcontent-%COMP%]{--background: #D9D9D9;--background-hover: #a7a7a7;--color: #3E3A3A;--border-radius: 50px;--box-shadow: 0px 4px 4px rgba(0, 0, 0, .25)}.button-wrapper[_ngcontent-%COMP%]{font-family:Open Sans Hebrew,serif;letter-spacing:0;margin-bottom:0;--color: black;--box-shadow: 0}.button-wrapper.primary[_ngcontent-%COMP%]{--background: rgb(79, 171, 79)}.button-wrapper.clear[_ngcontent-%COMP%]{--background: transparent}.button-wrapper.small[_ngcontent-%COMP%]{font-size:12px;height:30px;width:-moz-fit-content;width:fit-content}.button-wrapper.big[_ngcontent-%COMP%]{font-size:24px;height:50px;width:-moz-fit-content;width:fit-content}@media only screen and (max-width: 500px){.button-wrapper.big[_ngcontent-%COMP%]{font-size:12px;height:30px;width:-moz-fit-content;width:fit-content}}"]}),Pe})()},7051:(xn,bt,k)=>{"use strict";k.d(bt,{n:()=>y,q:()=>h});var y=(()=>((y=y||{}).PRIMARY="primary",y.CLEAR="clear",y))(),h=(()=>((h=h||{}).SMALL="small",h.BIG="big",h))()},3327:(xn,bt,k)=>{"use strict";k.d(bt,{E_:()=>h,Ih:()=>P,e7:()=>Te,hM:()=>y,wU:()=>me});var y=(()=>((y=y||{}).CHECKBOX="checkbox",y.TEXT="text",y.DDL="ddl",y.FILE="file",y.DATE="date",y.NUMBER="number",y))(),h=(()=>((h=h||{}).date="\u05ea\u05d0\u05e8\u05d9\u05da",h.sum="\u05e1\u05db\u05d5\u05dd",h.supplier="\u05e1\u05e4\u05e7",h.category="\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4",h.subCategory="\u05ea\u05ea \u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4",h.expenseNumber="\u05de\u05e1\u05e4\u05e8 \u05d7\u05e9\u05d1\u05d5\u05e0\u05d9\u05ea",h.vatPercent="\u05de\u05d5\u05db\u05e8 \u05dc\u05de\u05e2\u05de",h.taxPercent="\u05de\u05d5\u05db\u05e8 \u05dc\u05de\u05e1",h.supplierID="\u05d7.\u05e4. \u05e1\u05e4\u05e7",h.file="\u05e7\u05d5\u05d1\u05e5",h.note="\u05d4\u05e2\u05e8\u05d4 / \u05e4\u05d9\u05e8\u05d5\u05d8",h.totalVatPayable="\u05d4\u05d7\u05d6\u05e8 \u05de\u05e2\u05de",h.totalTaxPayable="\u05d4\u05d7\u05d6\u05e8 \u05de\u05e1",h.isEquipment="\u05d4\u05d0\u05dd \u05d4\u05d4\u05d5\u05e6\u05d0\u05d4 \u05d4\u05d9\u05e0\u05d4 \u05e2\u05d1\u05d5\u05e8 \u05e8\u05db\u05d5\u05e9 \u05e7\u05d1\u05d5\u05e2?",h.loadingDate="\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05e2\u05dc\u05d0\u05ea \u05e7\u05d5\u05d1\u05e5",h.reductionPercent="\u05e4\u05d7\u05ea",h))(),P=(()=>((P=P||{}).SUPPLIER="supplier",P.DATE="date",P.SUM="sum",P.CATEGORY="category",P.SUB_CATEGORY="subCategory",P.EXPENSE_NUMBER="expenseNumber",P.VAT_PERCENT="vatPercent",P.TAX_PERCENT="taxPercent",P.SUPPLIER_ID="supplierID",P.FILE="file",P.NOTE="note",P.TOTAL_TAX="totalTaxPayable",P.TOTAL_VAT="totalVatPayable",P.IS_EQUIPMENT="isEquipment",P.REDUCTION_PERCENT="reductionPercent",P.LOADING_DATE="loadingDate",P))();const Te=[{value:0,name:"\u05d9\u05e0\u05d5\u05d0\u05e8 - \u05e4\u05d1\u05e8\u05d5\u05d0\u05e8"},{value:2,name:"\u05de\u05e8\u05e5 - \u05d0\u05e4\u05e8\u05d9\u05dc"},{value:4,name:"\u05de\u05d0\u05d9 - \u05d9\u05d5\u05e0\u05d9"},{value:6,name:"\u05d9\u05d5\u05dc\u05d9 - \u05d0\u05d5\u05d2\u05d5\u05e1\u05d8"},{value:8,name:"\u05e1\u05e4\u05d8\u05de\u05d1\u05e8 - \u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8"},{value:10,name:"\u05e0\u05d5\u05d1\u05de\u05d1\u05e8 - \u05d3\u05e6\u05de\u05d1\u05e8"}],me=[{value:0,name:"\u05d9\u05e0\u05d5\u05d0\u05e8"},{value:1,name:"\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8"},{value:2,name:"\u05de\u05e8\u05e5"},{value:3,name:"\u05d0\u05e4\u05e8\u05d9\u05dc"},{value:4,name:"\u05de\u05d0\u05d9"},{value:5,name:"\u05d9\u05d5\u05e0\u05d9"},{value:6,name:"\u05d9\u05d5\u05dc\u05d9"},{value:7,name:"\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8"},{value:8,name:"\u05e1\u05e4\u05d8\u05de\u05d1\u05e8"},{value:9,name:"\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8"},{value:10,name:"\u05e0\u05d5\u05d1\u05de\u05d1\u05e8"},{value:11,name:"\u05d3\u05e6\u05de\u05d1\u05e8"}]},3732:(xn,bt,k)=>{"use strict";k.d(bt,{X:()=>ye});var y=k(5861),h=k(2223),K=k(2408),P=k(421),Te=k(9931),me=k(650),Pe=k(4755);function Xe(we,Ve){if(1&we&&h._UZ(0,"ion-icon",6),2&we){const je=h.oxw().$implicit;h.Q6J("name",je.icon)}}const j=function(we,Ve){return{"button-item-navigate-register":we,"button-item-navigate-my-account":Ve}};function De(we,Ve){if(1&we){const je=h.EpF();h.TgZ(0,"ion-button",2),h.NdJ("click",function(){const ze=h.CHM(je).$implicit,Ge=h.oxw();return h.KtG(Ge.onButtonClicked(ze))}),h.TgZ(1,"div",3),h.YNc(2,Xe,1,1,"ion-icon",4),h.TgZ(3,"ion-label",5),h._uU(4),h.qZA()()()}if(2&we){const je=Ve.$implicit,at=h.oxw();h.Tol(je.index),h.ekj("selected",je.selected),h.Q6J("ngClass",h.WLB(7,j,"/register"===at.page,"/my-account"===at.page)),h.xp6(2),h.Q6J("ngIf",je.icon),h.xp6(2),h.Oqu(je.name)}}let ye=(()=>{class we{constructor(je,at,Mt){this.expenseDataServise=je,this.router=at,this.modalCtrl=Mt,this.onNavButtonClicked=new h.vpe}ngOnInit(){this.columns=this.expenseDataServise.getAddExpenseColumns(),this.page=this.router.url,console.log(this.page)}onButtonClicked(je){"/add-expenses"!==je.link?(""!=je.link&&this.router.navigate([je.link]),this.navigationItems.forEach(at=>at.selected=at.name===je.name),this.onNavButtonClicked.emit(je)):this.openPopupAddExpense()}openPopupAddExpense(){var je=this;return(0,y.Z)(function*(){yield(yield je.modalCtrl.create({component:K.w,componentProps:{columns:je.columns,data:{}},cssClass:"custom-modal"})).present()})()}}return we.\u0275fac=function(je){return new(je||we)(h.Y36(P.O),h.Y36(Te.F0),h.Y36(me.IN))},we.\u0275cmp=h.Xpm({type:we,selectors:[["app-item-navigate"]],inputs:{navigationItems:"navigationItems"},outputs:{onNavButtonClicked:"onNavButtonClicked"},decls:2,vars:1,consts:[[1,"nav-buttons-wrapper"],["shape","round",3,"class","ngClass","selected","click",4,"ngFor","ngForOf"],["shape","round",3,"ngClass","click"],[1,"button-content"],["class","icon-nav","size","large",3,"name",4,"ngIf"],[1,"label-item"],["size","large",1,"icon-nav",3,"name"]],template:function(je,at){1&je&&(h.TgZ(0,"ion-list",0),h.YNc(1,De,5,10,"ion-button",1),h.qZA()),2&je&&(h.xp6(1),h.Q6J("ngForOf",at.navigationItems))},dependencies:[Pe.mk,Pe.sg,Pe.O5,me.YG,me.gu,me.Q$,me.q_],styles:['.button-item-navigate-register[_ngcontent-%COMP%]{--box-shadow: 0;--background: transparent;--color: black;font-weight:bolder;border:3px solid rgb(5,5,30);border-radius:50%;width:150px;height:150px}.button-item-navigate-register[_ngcontent-%COMP%]:not(:first-of-type){margin-right:15px}.button-item-navigate-register.selected[_ngcontent-%COMP%]{border-color:#4fab4f}@media only screen and (max-width: 495px){.button-item-navigate-register.selected[_ngcontent-%COMP%]{width:100px;height:100px}.button-item-navigate-register.selected[_ngcontent-%COMP%]   .label-item[_ngcontent-%COMP%]{font-size:x-small}.button-item-navigate-register.selected[_ngcontent-%COMP%]   .nav-buttons-wrapper[_ngcontent-%COMP%]{margin-top:38px}}@media only screen and (max-width: 980px){.button-item-navigate-register[_ngcontent-%COMP%]:not(.selected){display:none}}.button-item-navigate-my-account[_ngcontent-%COMP%]{--box-shadow: 0;--background: transparent;--color: black;font-weight:bolder;border:3px solid rgb(5,5,30);border-radius:50%;width:150px;height:150px}.button-item-navigate-my-account.selected[_ngcontent-%COMP%]{border-color:#4fab4f}.button-item-navigate-my-account[_ngcontent-%COMP%]:not(:first-of-type){margin-right:15px}@media only screen and (max-width: 400px){.button-item-navigate-my-account[_ngcontent-%COMP%]{width:100px;height:100px}.button-item-navigate-my-account[_ngcontent-%COMP%]   .label-item[_ngcontent-%COMP%]{font-size:x-small}}.button-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.zero[_ngcontent-%COMP%]{grid-area:zero}.one[_ngcontent-%COMP%]{grid-area:one}.two[_ngcontent-%COMP%]{grid-area:two}.three[_ngcontent-%COMP%]{grid-area:three}.four[_ngcontent-%COMP%]{grid-area:four}.five[_ngcontent-%COMP%]{grid-area:five}.nav-buttons-wrapper[_ngcontent-%COMP%]{width:100%;display:grid;justify-content:center;align-items:center;justify-items:center;grid-template-areas:"zero one two three four five"}@media only screen and (max-width: 1000px){.nav-buttons-wrapper[_ngcontent-%COMP%]{width:100%;display:grid;justify-content:center;align-items:center;justify-items:center;grid-template-areas:"zero one" "two three" "four five"}}']}),we})()},2408:(xn,bt,k)=>{"use strict";k.d(bt,{w:()=>Er});var y=k(5861),h=k(5030),K=k(4755),P=k(2223),Te=k(7051),me=k(6742);let Pe=(()=>{class Ht{constructor(){this.message="",this.buttonTextConfirm="",this.buttonTextCancel="",this.onConfirmClicked=new P.vpe,this.onCancelClicked=new P.vpe,this.ButtonSize=Te.q}ngOnInit(){}confirm(){this.onConfirmClicked.emit(!0)}cancel(){this.onCancelClicked.emit(!1)}}return Ht.\u0275fac=function(ge){return new(ge||Ht)},Ht.\u0275cmp=P.Xpm({type:Ht,selectors:[["app-popup-message"]],inputs:{message:"message",buttonTextConfirm:"buttonTextConfirm",buttonTextCancel:"buttonTextCancel"},outputs:{onConfirmClicked:"onConfirmClicked",onCancelClicked:"onCancelClicked"},decls:6,vars:5,consts:[[1,"wrap-message"],[1,"wrap-buttons-message"],[3,"buttonSize","buttonText","onButtonClicked"],[3,"buttonText","buttonSize","onButtonClicked"]],template:function(ge,ht){1&ge&&(P.TgZ(0,"div",0)(1,"div"),P._uU(2),P.qZA(),P.TgZ(3,"div",1)(4,"app-button",2),P.NdJ("onButtonClicked",function(){return ht.confirm()}),P.qZA(),P.TgZ(5,"app-button",3),P.NdJ("onButtonClicked",function(){return ht.cancel()}),P.qZA()()()),2&ge&&(P.xp6(2),P.Oqu(ht.message),P.xp6(2),P.Q6J("buttonSize",ht.ButtonSize.SMALL)("buttonText",ht.buttonTextConfirm),P.xp6(1),P.Q6J("buttonText",ht.buttonTextCancel)("buttonSize",ht.ButtonSize.SMALL))},dependencies:[me.r],styles:[".wrap-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border:3px solid red;width:40%;border-radius:15px}.wrap-buttons-message[_ngcontent-%COMP%]{width:70%;display:flex;justify-content:space-between}"]}),Ht})();var Xe=k(7489),j=k(262),De=k(515),ye=k(8996),we=k(3900),Ve=k(8746),je=k(1135),at=k(8505),Mt=k(4004),ze=k(9646),Ge=k(421),_e=k(650);function mt(Ht,vn){if(1&Ht&&(P.TgZ(0,"ion-select-option",12),P._uU(1),P.qZA()),2&Ht){const ge=vn.$implicit;P.Q6J("value",ge.value),P.xp6(1),P.Oqu(ge.key)}}function dt(Ht,vn){if(1&Ht){const ge=P.EpF();P.TgZ(0,"ion-select",10),P.NdJ("ionChange",function(Ot){P.CHM(ge);const Wn=P.oxw(2).$implicit,nn=P.oxw(2);return P.KtG(nn.onDdlSelectionChange(Ot,Wn))}),P.YNc(1,mt,2,2,"ion-select-option",11),P.qZA()}if(2&Ht){const ge=P.oxw(2).$implicit,ht=P.oxw(2);P.MGl("label"," * ",ge.value,""),P.Q6J("formControlName",ge.key),P.xp6(1),P.Q6J("ngForOf",ht.getListOptionsByKey(ge.key))}}function vt(Ht,vn){if(1&Ht&&(P.ynx(0),P.YNc(1,dt,2,3,"ion-select",9),P.BQk()),2&Ht){const ge=P.oxw().$implicit;P.xp6(1),P.Q6J("ngIf","category"==ge.key||"subCategory")}}function pt(Ht,vn){if(1&Ht){const ge=P.EpF();P.ynx(0),P.TgZ(1,"ion-item")(2,"ion-input",13),P.NdJ("keyup.enter",function(){P.CHM(ge);const Ot=P.oxw(3);return P.KtG(Ot.onEnterKeyPressed())}),P.qZA()(),P.BQk()}if(2&Ht){const ge=P.oxw().$implicit;P.xp6(2),P.s9C("label",ge.value),P.s9C("formControlName",ge.key)}}function Dt(Ht,vn){if(1&Ht&&(P.ynx(0)(1,7),P.YNc(2,vt,2,1,"ng-container",8),P.YNc(3,pt,3,2,"ng-container",8),P.BQk()()),2&Ht){const ge=vn.$implicit;P.xp6(1),P.Q6J("ngSwitch",ge.type),P.xp6(1),P.Q6J("ngSwitchCase","ddl"),P.xp6(1),P.Q6J("ngSwitchCase","text")}}function We(Ht,vn){if(1&Ht){const ge=P.EpF();P.TgZ(0,"form",4),P.NdJ("ngSubmit",function(){P.CHM(ge);const Ot=P.oxw();return P.KtG(Ot.saveSupplier())}),P.TgZ(1,"ion-list"),P.YNc(2,Dt,4,3,"ng-container",5),P.qZA(),P.TgZ(3,"ion-button",6),P._uU(4),P.qZA()()}if(2&Ht){const ge=P.oxw();P.Q6J("formGroup",ge.myForm),P.xp6(2),P.Q6J("ngForOf",ge.arrFields),P.xp6(1),P.Q6J("disabled",ge.disableSave()),P.xp6(1),P.Oqu(ge.editMode?"\u05e9\u05de\u05d5\u05e8":"\u05d4\u05d5\u05e1\u05e3")}}function be(Ht,vn){1&Ht&&P._UZ(0,"ion-loading")}let $t=(()=>{class Ht{set supplier(ge){console.log("in add sup",ge),this.reductionPercent=ge.reductionPercent.toString(),this.id=ge.id,ge.isEquipment?(ge.isEquipment="1",this.isEquipment=!0):(ge.isEquipment="0",this.isEquipment=!1),this.supplierData=ge,this.initForm(ge)}get supplier(){return this.supplierData}constructor(ge,ht,Ot){this.expenseDataService=ge,this.formBuilder=ht,this.popoverController=Ot,this.arrFields=[{key:"name",value:"\u05e9\u05dd \u05e1\u05e4\u05e7",type:"text"},{key:"supplierID",value:"\u05d7.\u05e4. \u05e1\u05e4\u05e7",type:"text"},{key:"category",value:"\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4",type:"ddl"},{key:"subCategory",value:"\u05ea\u05ea-\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4",type:"ddl"},{key:"taxPercent",value:"\u05d0\u05d7\u05d5\u05d6 \u05de\u05d5\u05db\u05e8 \u05dc\u05de\u05e1",type:"text"},{key:"vatPercent",value:"\u05d0\u05d7\u05d5\u05d6 \u05de\u05d5\u05db\u05e8 \u05dc\u05de\u05e2\u05de",type:"text"},{key:"isEquipment",value:"\u05de\u05d5\u05db\u05e8 \u05db\u05e6\u05d9\u05d5\u05d3",type:"ddl"},{key:"reductionPercent",value:"\u05e4\u05d7\u05ea",type:"text"}],this.equipmentList=[{key:"\u05dc\u05d0",value:"0"},{key:"\u05db\u05df",value:"1"}],this.subCategoriesListDataMap=new Map,this.categoriesListDataMap=new Map,this.doneLoadingCategoryList$=new je.X(!1),this.doneLoadingSubCategoryList$=new je.X(!1)}ngOnInit(){this.getCategoryFromServer(this.supplierData),console.log(this.categoryList),console.log(this.subCategoryList)}initForm(ge){console.log(ge),this.myForm=this.formBuilder.group({category:[ge?.category||"",h.kI.required],subCategory:[ge?.subCategory||"",h.kI.required],name:[ge?.name||"",h.kI.required],taxPercent:[ge?.taxPercent||"",h.kI.required],vatPercent:[ge?.vatPercent||"",h.kI.required],supplierID:[ge?.supplierID||""],isEquipment:[ge?.isEquipment||!1],reductionPercent:[this.reductionPercent||""]}),this.initialForm=(0,Xe.cloneDeep)(this.myForm)}confirm(ge){return this.editMode?this.expenseDataService.editSupplier(ge,this.id):this.expenseDataService.addSupplier(ge)}disableSave(){return!this.myForm.valid||!!this.editMode&&(0,Xe.isEqual)(this.initialForm.value,this.myForm.value)}cancel(){this.popoverController.dismiss()}saveSupplier(){console.log("save"),console.log("edit?",this.editMode);const ge=this.setFormData();console.log("form data supplier",ge),this.confirm(ge).pipe((0,j.K)(ht=>(console.log("somthing faild",ht),De.E))).subscribe(ht=>{console.log("res of save sup: ",ht),this.popoverController.dismiss(this.myForm)})}setFormData(){const ge=this.myForm.value,ht=localStorage.getItem("token");return ge.token=this.formBuilder.control(ht).value,ge.taxPercent=+ge.taxPercent,ge.vatPercent=+ge.vatPercent,ge.reductionPercent=+ge.reductionPercent,"1"==ge.isEquipment&&(ge.isEquipment=!0),"0"==ge.isEquipment&&(ge.isEquipment=!1),console.log("fornData send: ",ge),ge}onDdlSelectionChange(ge,ht){switch(console.log(ge),console.log(ht),ht.key){case"isEquipment":console.log("in equipment"),this.setValueEquipment(ge);break;case"category":this.getSubCategoryFromServer(ge.detail.value).pipe((0,at.b)(Wn=>{this.subCategoryList=Wn})).subscribe();break;case"subCategory":const Ot=this.subCategoryList.find(Wn=>Wn.subCategory===ge.detail.value);this.selectedSubcategory(Ot)}}getListOptionsByKey(ge){switch(ge){case"isEquipment":return this.equipmentList;case"category":return this.getListCategory();case"subCategory":return this.getListSubCategory()}}getCategoryFromServer(ge){console.log("in get from server",ge);const ht=this.categoriesListDataMap.get(this.isEquipment);if(console.log("before if:",ht),ht)return console.log("in if:",ht),void(this.categoryList=ht);console.log(ge.category),this.expenseDataService.getcategry(this.isEquipment).pipe((0,Mt.U)(Ot=>Ot.map(Wn=>({key:Wn,value:Wn}))),(0,at.b)(Ot=>{this.categoryList=Ot}),(0,we.w)(()=>this.getSubCategoryFromServer(ge.category)),(0,at.b)(Ot=>{this.subCategoryList=Ot})).subscribe()}getListCategory(){return null!=this.isEquipment?(console.log("in get category",this.categoryList),this.categoryList):[{key:"\u05e0\u05d0 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05de\u05d5\u05d2\u05d3\u05e8 \u05db\u05e6\u05d9\u05d5\u05d3 \u05d0\u05d5 \u05dc\u05d0",value:""}]}getSubCategoryFromServer(ge){console.log("category in get sub",ge);const ht=this.subCategoriesListDataMap.get(ge);return ht?(0,ze.of)(ht):this.expenseDataService.getSubCategory(ge,this.isEquipment).pipe((0,Ve.x)(()=>this.doneLoadingSubCategoryList$.next(!0)),(0,Mt.U)(Ot=>(console.log("before map:",Ot),Ot.map(Wn=>({...Wn,key:Wn.subCategory,value:Wn.subCategory})))),(0,at.b)(Ot=>{console.log("sub categoey list",Ot),this.subCategoryList=Ot,this.subCategoriesListDataMap.set(ge,Ot),console.log("list sub category:",this.subCategoryList)}))}getListSubCategory(){return this.myForm.get("category").value?this.subCategoryList:[{key:"\u05e0\u05d0 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4",value:""}]}setValueEquipment(ge){const ht=ge.detail.value;console.log("in set value",ht),console.log("category form value",this.myForm.get("category").value),ht!=this.isEquipment&&this.myForm.patchValue({category:""}),"0"==ht?(this.isEquipment=!1,this.getCategoryFromServer()):(this.isEquipment=!0,this.getCategoryFromServer())}selectedSubcategory(ge){console.log("data in select sub:",ge),this.myForm.patchValue({reductionPercent:ge.reductionPercent}),this.myForm.patchValue({vatPercent:ge.vatPercent}),this.myForm.patchValue({taxPercent:ge.taxPercent})}onEnterKeyPressed(){this.saveSupplier()}}return Ht.\u0275fac=function(ge){return new(ge||Ht)(P.Y36(Ge.O),P.Y36(h.qu),P.Y36(_e.Dh))},Ht.\u0275cmp=P.Xpm({type:Ht,selectors:[["app-add-supplier"]],inputs:{supplier:"supplier",editMode:"editMode"},decls:8,vars:2,consts:[[1,"add-supplier-header"],["aria-label","back","size","large","name","close-outline",1,"add-supplier-icon-header",3,"click"],[3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["lineLoader",""],[3,"formGroup","ngSubmit"],[4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","input-expense ddl","fill","outline","label-placement","floating","interface","popover",3,"label","formControlName","ionChange",4,"ngIf"],["fill","outline","label-placement","floating","interface","popover",1,"input-expense","ddl",3,"label","formControlName","ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["label-placement","floating","type","text",3,"label","formControlName","keyup.enter"]],template:function(ge,ht){if(1&ge&&(P.TgZ(0,"ion-toolbar")(1,"ion-header",0)(2,"ion-title"),P._uU(3," \u05e2\u05e8\u05d9\u05db\u05ea \u05e1\u05e4\u05e7 "),P.qZA(),P.TgZ(4,"ion-icon",1),P.NdJ("click",function(){return ht.cancel()}),P.qZA()()(),P.YNc(5,We,5,4,"form",2),P.YNc(6,be,1,0,"ng-template",null,3,P.W1O)),2&ge){const Ot=P.MAs(7);P.xp6(5),P.Q6J("ngIf",ht.myForm)("ngIfElse",Ot)}},dependencies:[K.sg,K.O5,K.RF,K.n9,_e.YG,_e.Gu,_e.gu,_e.pK,_e.Ie,_e.q_,_e.wh,_e.t9,_e.n0,_e.wd,_e.sr,_e.QI,_e.j9,h._Y,h.JJ,h.JL,h.sg,h.u],styles:[".add-supplier-header[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.add-supplier-icon-header[_ngcontent-%COMP%]{cursor:pointer}"]}),Ht})();function tt(Ht,vn){if(1&Ht){const ge=P.EpF();P.TgZ(0,"ion-content")(1,"div",6)(2,"div"),P._uU(3),P.qZA(),P.TgZ(4,"div",7)(5,"app-button",8),P.NdJ("onButtonClicked",function(){P.CHM(ge);const Ot=P.oxw();return P.KtG(Ot.deleteSupplier())}),P.qZA(),P.TgZ(6,"app-button",9),P.NdJ("onButtonClicked",function(){P.CHM(ge);const Ot=P.oxw();return P.KtG(Ot.cancelDel())}),P.qZA()()()()}if(2&Ht){const ge=P.oxw();P.xp6(3),P.Oqu(ge.message),P.xp6(2),P.Q6J("buttonSize",ge.ButtonSize.SMALL),P.xp6(1),P.Q6J("buttonSize",ge.ButtonSize.SMALL)}}function Ft(Ht,vn){1&Ht&&(P.TgZ(0,"div",10)(1,"h2",11)(2,"p"),P._uU(3," \u05e9\u05d2\u05d9\u05d0\u05d4 "),P._UZ(4,"br"),P._uU(5," \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05e6\u05d9\u05d2 \u05e1\u05e4\u05e7\u05d9\u05dd "),P._UZ(6,"br"),P._uU(7," \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05e9\u05e0\u05d9\u05ea \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8 "),P.qZA()()())}function zt(Ht,vn){if(1&Ht){const ge=P.EpF();P.ynx(0),P.TgZ(1,"tr",16)(2,"td"),P._uU(3),P.qZA(),P.TgZ(4,"td"),P._uU(5),P.qZA(),P.TgZ(6,"td")(7,"ion-button",17),P.NdJ("click",function(){const Wn=P.CHM(ge).$implicit,nn=P.oxw(2);return P.KtG(nn.selectedSupplier(Wn))}),P._uU(8,"\u05d1\u05d7\u05e8"),P.qZA()(),P.TgZ(9,"td")(10,"ion-button",17),P.NdJ("click",function(){const Wn=P.CHM(ge).$implicit,nn=P.oxw(2);return P.KtG(nn.editSupplier(Wn))}),P._uU(11,"\u05e2\u05e8\u05d9\u05db\u05d4"),P.qZA()(),P.TgZ(12,"td")(13,"ion-button",17),P.NdJ("click",function(){const Wn=P.CHM(ge).$implicit,nn=P.oxw(2);return P.KtG(nn.confirmDel(Wn.id))}),P._uU(14,"\u05de\u05d7\u05d9\u05e7\u05d4"),P.qZA()()(),P.BQk()}if(2&Ht){const ge=vn.$implicit;P.xp6(3),P.hij(" ",ge.name," "),P.xp6(2),P.hij(" ",ge.supplierID," ")}}function Vt(Ht,vn){if(1&Ht&&(P.TgZ(0,"ion-list",12)(1,"table",13)(2,"tr",14)(3,"th"),P._uU(4," \u05e9\u05dd \u05e1\u05e4\u05e7 "),P.qZA(),P.TgZ(5,"th"),P._uU(6," \u05d7.\u05e4 \u05e1\u05e4\u05e7 "),P.qZA(),P.TgZ(7,"th"),P._uU(8," \u05e4\u05e2\u05d5\u05dc\u05d5\u05ea "),P.qZA()(),P.YNc(9,zt,15,2,"ng-container",15),P.qZA()()),2&Ht){const ge=P.oxw();P.xp6(9),P.Q6J("ngForOf",ge.suppliersList)}}function Sn(Ht,vn){1&Ht&&P._UZ(0,"ion-spinner")}let Et=(()=>{class Ht{constructor(ge,ht,Ot){this.expenseDataService=ge,this.modalCtrl=ht,this.popoverController=Ot,this.ButtonSize=Te.q,this.error=!1,this.isOpen=!1,this.message="\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05de\u05d7\u05d5\u05e7 \u05e1\u05e4\u05e7 \u05d6\u05d4?"}ngOnInit(){this.getSuppliers()}getSuppliers(){this.expenseDataService.getAllSuppliers().pipe((0,j.K)(ge=>(console.log("err in get suppliers:",ge),this.error=!0,De.E))).subscribe(ge=>{console.log(ge),this.error=!1,this.suppliersList=ge})}selectedSupplier(ge){this.cancel(ge)}cancel(ge){this.modalCtrl.dismiss(ge)}editSupplier(ge){(0,ye.D)(this.popoverController.create({component:$t,componentProps:{supplier:ge,editMode:!0}})).pipe((0,j.K)(ht=>(console.log("openEditSupplier failed in create",ht),De.E)),(0,we.w)(ht=>ht?(0,ye.D)(ht.present()).pipe((0,we.w)(()=>(0,ye.D)(ht.onDidDismiss())),(0,j.K)(Ot=>(console.log("openEditSupplier failed in present",Ot),De.E))):(console.log("Popover modal is null"),De.E))).subscribe(ht=>{console.log(ht.data?.value),this.getSuppliers(),this.popoverController.dismiss(ht.data?.value)})}deleteSupplier(){console.log("id of del sup",this.id),this.expenseDataService.deleteSupplier(this.id).pipe((0,Ve.x)(()=>{this.isOpen=!1}),(0,j.K)(ge=>(console.log("err in delete supplier: ",ge),De.E))).subscribe(ge=>{console.log(ge),this.getSuppliers()})}cancelDel(){this.isOpen=!1}confirmDel(ge){console.log("event in confirm ",ge),this.id=ge,this.isOpen=!0}}return Ht.\u0275fac=function(ge){return new(ge||Ht)(P.Y36(Ge.O),P.Y36(_e.IN),P.Y36(_e.Dh))},Ht.\u0275cmp=P.Xpm({type:Ht,selectors:[["app-select-supplier"]],decls:12,vars:4,consts:[[1,"supplier-header"],["aria-label","back","size","large","name","close-outline",1,"supplier-icon-header",3,"click"],[3,"isOpen"],["class","wrap-error",4,"ngIf"],["class","list-supplier-table",4,"ngIf","ngIfElse"],["loader",""],[1,"wrap-message"],[1,"wrap-buttons-message"],["buttonText","\u05db\u05df",3,"buttonSize","onButtonClicked"],["buttonText","\u05dc\u05d0",3,"buttonSize","onButtonClicked"],[1,"wrap-error"],[1,"error-supplier"],[1,"list-supplier-table"],[1,"supplier-table"],[1,"tr-header"],[4,"ngFor","ngForOf"],[1,"tr-content"],[3,"click"]],template:function(ge,ht){if(1&ge&&(P.TgZ(0,"ion-toolbar")(1,"ion-header",0)(2,"ion-title"),P._uU(3," \u05e8\u05e9\u05d9\u05de\u05ea \u05e1\u05e4\u05e7\u05d9\u05dd "),P.qZA(),P.TgZ(4,"ion-icon",1),P.NdJ("click",function(){return ht.cancel()}),P.qZA()()(),P.TgZ(5,"ion-popover",2),P.YNc(6,tt,7,3,"ng-template"),P.qZA(),P.TgZ(7,"ion-content"),P.YNc(8,Ft,8,0,"div",3),P.YNc(9,Vt,10,1,"ion-list",4),P.YNc(10,Sn,1,0,"ng-template",null,5,P.W1O),P.qZA()),2&ge){const Ot=P.MAs(11);P.xp6(5),P.Q6J("isOpen",ht.isOpen),P.xp6(3),P.Q6J("ngIf",ht.error),P.xp6(1),P.Q6J("ngIf",ht.suppliersList)("ngIfElse",Ot)}},dependencies:[K.sg,K.O5,_e.YG,_e.W2,_e.Gu,_e.gu,_e.q_,_e.PQ,_e.wd,_e.sr,_e.d8,me.r],styles:[".supplier-header[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.supplier-icon-header[_ngcontent-%COMP%]{cursor:pointer}.list-supplier-table[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%;overflow-y:auto}.supplier-table[_ngcontent-%COMP%]{border:1px solid;width:95%}.tr-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.tr-content[_ngcontent-%COMP%]{border-bottom:1px solid lightgray}.wrap-error[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid;display:flex;justify-content:center;align-items:center}.error-supplier[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:70%;height:50%;border:3px solid black;border-radius:15px;text-align:center;color:red}.wrap-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border-radius:15px;text-align:center}.wrap-buttons-message[_ngcontent-%COMP%]{width:70%;display:flex;justify-content:space-between}"]}),Ht})();var st=k(3327),Ye=k(9868),Ue=k(9931),Qe=k(6550);function ut(Ht,vn){if(1&Ht){const ge=P.EpF();P.TgZ(0,"span",27),P.NdJ("click",function(Ot){P.CHM(ge);const Wn=P.oxw(4);return P.KtG(Wn.openSelectSupplier(Ot))}),P._uU(1,"\u05dc\u05e8\u05e9\u05d9\u05de\u05ea \u05d4\u05e1\u05e4\u05e7\u05d9\u05dd"),P._UZ(2,"ion-icon",28),P.qZA()}}function yt(Ht,vn){if(1&Ht&&(P.ynx(0),P._UZ(1,"ion-input",25),P.YNc(2,ut,3,0,"span",26),P.BQk()),2&Ht){const ge=P.oxw().$implicit;P.xp6(1),P.ekj("sum","sum"===ge.name)("expenseNumber","expenseNumber"===ge.name)("supplier","supplier"===ge.name)("note","note"===ge.name)("reductionPercent","reductionPercent"===ge.name)("vatPercent","vatPercent"===ge.name)("taxPercent","taxPercent"===ge.name)("supplierID","supplierID"===ge.name),P.s9C("label",ge.value),P.Q6J("formControlName",ge.name),P.xp6(1),P.Q6J("ngIf","supplier"===ge.name)}}function Jt(Ht,vn){if(1&Ht&&(P.ynx(0),P._UZ(1,"ion-input",29),P.BQk()),2&Ht){const ge=P.oxw().$implicit,ht=P.oxw(2);P.xp6(1),P.s9C("label",ge.value),P.Q6J("max",ht.maxDate)("formControlName",ge.name)}}function Nn(Ht,vn){if(1&Ht&&(P.TgZ(0,"ion-select-option",32),P._uU(1),P.qZA()),2&Ht){const ge=vn.$implicit;P.Q6J("value",ge.value),P.xp6(1),P.Oqu(ge.key)}}function mn(Ht,vn){if(1&Ht){const ge=P.EpF();P.ynx(0),P.TgZ(1,"ion-select",30),P.NdJ("ionChange",function(Ot){P.CHM(ge);const Wn=P.oxw().$implicit,nn=P.oxw(2);return P.KtG(nn.onDdlSelectionChange(Ot,Wn))}),P.YNc(2,Nn,2,2,"ion-select-option",31),P.qZA(),P.BQk()}if(2&Ht){const ge=P.oxw().$implicit,ht=P.oxw(2);P.xp6(1),P.ekj("isEquipment","isEquipment"===ge.name)("category","category"===ge.name)("subCategory","subCategory"===ge.name),P.s9C("label",ge.value),P.Q6J("formControlName",ge.name),P.xp6(1),P.Q6J("ngForOf",ht.getListOptionsByKey(ge.name))}}function On(Ht,vn){if(1&Ht&&(P.ynx(0)(1,23),P.YNc(2,yt,3,19,"ng-container",24),P.YNc(3,Jt,2,3,"ng-container",24),P.YNc(4,mn,3,9,"ng-container",24),P.BQk()()),2&Ht){const ge=vn.$implicit,ht=P.oxw(2);P.xp6(1),P.Q6J("ngSwitch",ge.type),P.xp6(1),P.Q6J("ngSwitchCase",ht.formTypes.TEXT),P.xp6(1),P.Q6J("ngSwitchCase",ht.formTypes.DATE),P.xp6(1),P.Q6J("ngSwitchCase",ht.formTypes.DDL)}}function St(Ht,vn){if(1&Ht&&(P.ynx(0),P._UZ(1,"img",35),P.BQk()),2&Ht){const ge=P.oxw(4);P.xp6(1),P.Q6J("src",ge.displayFile(),P.LSH)}}function hn(Ht,vn){if(1&Ht&&(P.TgZ(0,"div",34),P.YNc(1,St,2,1,"ng-container",14),P.qZA()),2&Ht){const ge=P.oxw(3),ht=P.MAs(9);P.xp6(1),P.Q6J("ngIf",ge.displayFile()&&"loading"!=ge.displayFile())("ngIfElse",ht)}}function Yt(Ht,vn){if(1&Ht&&P._UZ(0,"object",37),2&Ht){const ge=P.oxw(4);P.Q6J("data",ge.getPdfData(),P.uOi)}}function ct(Ht,vn){if(1&Ht&&(P.ynx(0),P.YNc(1,Yt,1,1,"object",36),P.BQk()),2&Ht){const ge=P.oxw(3);P.xp6(1),P.Q6J("ngIf",ge.pdfLoaded)}}function Xt(Ht,vn){if(1&Ht&&(P.ynx(0),P.YNc(1,hn,2,2,"div",33),P.YNc(2,ct,2,1,"ng-container",14),P.BQk()),2&Ht){const ge=P.oxw(2),ht=P.MAs(9);P.xp6(1),P.Q6J("ngIf",!ge.pdfLoaded),P.xp6(1),P.Q6J("ngIf",ge.getPdfData())("ngIfElse",ht)}}function Tt(Ht,vn){1&Ht&&(P.TgZ(0,"div",40),P._UZ(1,"ion-icon",41),P.qZA())}function Kt(Ht,vn){if(1&Ht&&(P.TgZ(0,"p",38),P._uU(1,"\u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05e2\u05dc\u05d5\u05ea \u05e7\u05d1\u05e6\u05d9 pdf / png / jpeg \u05d1\u05dc\u05d1\u05d3"),P.qZA(),P.YNc(2,Tt,2,0,"div",39)),2&Ht){const ge=P.oxw(2);P.xp6(2),P.Q6J("ngIf",!ge.selectedFile&&!ge.editModeFile)}}function kn(Ht,vn){1&Ht&&(P.TgZ(0,"p"),P._uU(1,"\u05dc\u05d0 \u05e0\u05e9\u05de\u05e8 \u05e7\u05d5\u05d1\u05e5 \u05e2\u05d1\u05d5\u05e8 \u05d4\u05d5\u05e6\u05d0\u05d4 \u05d6\u05d0\u05ea"),P.qZA())}function Xn(Ht,vn){if(1&Ht){const ge=P.EpF();P.TgZ(0,"p",42),P.NdJ("click",function(Ot){P.CHM(ge);const Wn=P.oxw(2);return P.KtG(Wn.deleteFile(Ot))}),P._uU(1,"\u05de\u05d7\u05e7 \u05e7\u05d5\u05d1\u05e5"),P.qZA()}}function lr(Ht,vn){if(1&Ht){const ge=P.EpF();P.TgZ(0,"ion-input",43),P.NdJ("input",function(Ot){P.CHM(ge);const Wn=P.oxw(2);return P.KtG(Wn.fileSelected(Ot))}),P.qZA()}if(2&Ht){const ge=P.oxw(2);P.Q6J("formControlName",ge.fileItem.name)}}function cr(Ht,vn){if(1&Ht){const ge=P.EpF();P.TgZ(0,"form",8)(1,"div",9)(2,"ion-list",10),P.YNc(3,On,5,4,"ng-container",11),P.qZA(),P.TgZ(4,"label",12)(5,"div",13),P.YNc(6,Xt,3,3,"ng-container",14),P.YNc(7,Kt,3,1,"ng-template",null,15,P.W1O),P.YNc(9,kn,2,0,"p",16),P.TgZ(10,"div",17)(11,"p")(12,"b"),P._uU(13),P.qZA()(),P.YNc(14,Xn,2,0,"p",18),P.qZA()(),P.YNc(15,lr,1,1,"ion-input",19),P.qZA()(),P.TgZ(16,"div",20)(17,"app-button",21),P.NdJ("onButtonClicked",function(){P.CHM(ge);const Ot=P.oxw();return P.KtG(Ot.confirm())}),P.qZA(),P.TgZ(18,"app-button",22),P.NdJ("onButtonClicked",function(){P.CHM(ge);const Ot=P.oxw();return P.KtG(Ot.addSupplier())}),P.qZA()()()}if(2&Ht){const ge=P.MAs(8),ht=P.oxw();P.Q6J("formGroup",ht.myForm),P.xp6(3),P.Q6J("ngForOf",ht.columns),P.xp6(3),P.Q6J("ngIf",ht.selectedFile||ht.editModeFile||ht.pdfLoaded)("ngIfElse",ge),P.xp6(3),P.Q6J("ngIf",ht.isEditMode&&!ht.editModeFile),P.xp6(4),P.Oqu(ht.isEditMode&&!ht.editModeFile?"\u05d1\u05d7\u05e8 \u05e7\u05d5\u05d1\u05e5":"\u05e9\u05e0\u05d4 \u05e7\u05d5\u05d1\u05e5"),P.xp6(1),P.Q6J("ngIf",ht.selectedFile||ht.editModeFile),P.xp6(1),P.Q6J("ngIf",ht.fileItem),P.xp6(2),P.Q6J("buttonSize",ht.ButtonSize.SMALL)("buttonText",ht.buttonText)("disabled",ht.disableSave()),P.xp6(1),P.Q6J("buttonSize",ht.ButtonSize.SMALL)("disabled",ht.disabledAddSupplier())}}function bn(Ht,vn){1&Ht&&P._UZ(0,"ion-spinner")}function Jn(Ht,vn){1&Ht&&P._UZ(0,"ion-loading")}function Qr(Ht,vn){if(1&Ht){const ge=P.EpF();P.TgZ(0,"ion-content")(1,"div",44)(2,"div"),P._uU(3),P.qZA(),P.TgZ(4,"div",45)(5,"app-button",46),P.NdJ("onButtonClicked",function(){P.CHM(ge);const Ot=P.oxw();return P.KtG(Ot.closePop())}),P.qZA()()()()}if(2&Ht){const ge=P.oxw();P.xp6(3),P.Oqu(ge.errorString),P.xp6(2),P.Q6J("buttonSize",ge.ButtonSize.SMALL)}}let Er=(()=>{class Ht{set editMode(ge){this.title=ge?"\u05e2\u05e8\u05d9\u05db\u05ea \u05d4\u05d5\u05e6\u05d0\u05d4":"\u05d4\u05d5\u05e1\u05e4\u05ea \u05d4\u05d5\u05e6\u05d0\u05d4",this.isEditMode=!!ge}set data(ge){ge&&(console.log("val in modal",ge),0==ge.isEquipment?(ge.isEquipment="0",this.isEquipment=!1):(ge.isEquipment="1",this.isEquipment=!0),this.id=+ge.id,this.getCategory(ge),""!=ge.file&&null!=ge.file&&(this.editModeFile="loading",this.fileService.downloadFile(ge.file).then(ht=>{console.log(ht),this.editModeFile=ht.file,"application/pdf"===ht.type&&(this.safePdfBase64String=this.sanitizer.bypassSecurityTrustResourceUrl(ht.file),this.pdfLoaded=!0),console.log("in then",this.editModeFile)}),console.log("url edit mode file: ",this.editModeFile)))}set columns(ge){this.fileItem=ge?.find(ht=>ht.type===st.hM.FILE),this.columnsList=ge}get columns(){return this.columnsList}get buttonText(){return this.isEditMode?"\u05e2\u05e8\u05d9\u05db\u05ea \u05d4\u05d5\u05e6\u05d0\u05d4":"\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05d5\u05e6\u05d0\u05d4"}constructor(ge,ht,Ot,Wn,nn,Wr,ei,qr){this.fileService=ge,this.formBuilder=ht,this.expenseDataServise=Ot,this.modalCtrl=Wn,this.navParams=nn,this.loadingController=Wr,this.router=ei,this.sanitizer=qr,this.formTypes=st.hM,this.expenseFormColumns=st.Ih,this.ButtonSize=Te.q,this.isEnlarged=!1,this.isEditMode=!1,this.title="\u05d4\u05d5\u05e1\u05e4\u05ea \u05d4\u05d5\u05e6\u05d0\u05d4",this.selectedFile="",this.editModeFile="",this.equipmentList=[{key:"\u05dc\u05d0",value:"0"},{key:"\u05db\u05df",value:"1"}],this.doneLoadingCategoryList$=new je.X(!1),this.doneLoadingSubCategoryList$=new je.X(!1),this.subCategoriesListDataMap=new Map,this.categoriesListDataMap=new Map,this.errorString="",this.isOpen=!1,this.isSelectSupplierMode=!1,this.isToastOpen=!1,this.pdfLoaded=!1,this.safePdfBase64String=this.sanitizer.bypassSecurityTrustResourceUrl("")}ngOnInit(){this.maxDate=this.formatDate(new Date),console.log(this.maxDate),console.log("xdfgdgfgf",this.columns),this.getSuppliers(),this.initForm()}formatDate(ge){return(0,K.p6)(ge,"YYYY-MM-dd","en-US")}initForm(ge){console.log("data in init form modal edit",ge),this.myForm=this.formBuilder.group({[st.Ih.CATEGORY]:[ge?.category||"",h.kI.required],[st.Ih.SUB_CATEGORY]:[ge?.subCategory||"",h.kI.required],[st.Ih.SUPPLIER]:[ge?.supplier||ge?.name||"",h.kI.required],[st.Ih.SUM]:[ge?.sum||"",h.kI.required],[st.Ih.TAX_PERCENT]:[ge?.taxPercent||""],[st.Ih.VAT_PERCENT]:[ge?.vatPercent||""],[st.Ih.DATE]:[ge?.date||Date,h.kI.required],[st.Ih.NOTE]:[ge?.note||""],[st.Ih.EXPENSE_NUMBER]:[ge?.expenseNumber||""],[st.Ih.SUPPLIER_ID]:[ge?.supplierID||""],[st.Ih.FILE]:[ge?.file||File],[st.Ih.IS_EQUIPMENT]:[ge?.isEquipment||!1,h.kI.required],[st.Ih.REDUCTION_PERCENT]:[ge?.reductionPercent||0]}),this.initialForm=(0,Xe.cloneDeep)(this.myForm)}convertPdfFileToBase64String(ge){return new Promise((ht,Ot)=>{const Wn=new FileReader;Wn.addEventListener("load",()=>{Wn.result?ht(Wn.result.toString()):Ot("result is null")}),Wn.addEventListener("error",Ot),Wn.readAsDataURL(ge)})}fileSelected(ge){var ht=this;return(0,y.Z)(function*(){console.log("in filelelel"),ht.pdfLoaded=!1;let Ot=ge.target.files[0];if(console.log("fileeeeeeeeeeee",Ot),!Ot)return;const nn=Ot.name.split(".").pop().toLowerCase();if(![".pdf",".png",".jpg",".jpeg"].includes(`.${nn}`))return void alert("Please upload only PDF, PNG, or JPEG files.");if("pdf"===nn){console.log("in pdf");const xr=ge.target.files.item(0);if(console.log("pdf file:",xr),!xr)return;const Un=yield ht.convertPdfFileToBase64String(xr);ht.safePdfBase64String=ht.sanitizer.bypassSecurityTrustResourceUrl(Un),ht.pdfLoaded=!0}const Wr=new FileReader;Wr.readAsDataURL(Ot),Wr.onload=()=>{ht.isEditMode&&(ht.editModeFile=Wr.result),ht.selectedFile=Wr.result,console.log(ht.selectedFile)}})()}getPdfData(){return this.safePdfBase64String}disableSave(){return!this.myForm.valid||!!this.isEditMode&&(0,Xe.isEqual)(this.initialForm.value,this.myForm.value)}disabledAddSupplier(){const ge=this.myForm.controls;return ge.category.invalid||ge.subCategory.invalid||ge.supplier.invalid||ge.taxPercent.invalid||ge.taxPercent.invalid||ge.taxPercent.invalid||ge.reductionPercent.invalid}cancel(){this.modalCtrl.dismiss(null,"cancel")}confirm(){this.isEditMode?this.update():this.add()}add(){let ge="";this.getLoader().pipe((0,Ve.x)(()=>{this.loadingController.dismiss()}),(0,we.w)(()=>this.getFileData()),(0,j.K)(ht=>(alert("Something Went Wrong in first catchError: "+ht.message),De.E)),(0,Mt.U)(ht=>{ht&&(ge=ht.metadata.fullPath);const Ot=localStorage.getItem("token");return this.setFormData(ge,Ot)}),(0,we.w)(ht=>this.expenseDataServise.addExpenseData(ht)),(0,j.K)(ht=>(console.log(ht),401==ht.status&&(this.errorString="\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05d7\u05d5\u05e7\u05d9 , \u05d0\u05e0\u05d0 \u05d4\u05ea\u05d7\u05d1\u05e8 \u05dc\u05de\u05e2\u05e8\u05db\u05ea",this.isOpen=!0),0==ht.status&&(this.loadingController.dismiss(),this.errorString="\u05d0\u05d9\u05df \u05d0\u05d9\u05e0\u05d8\u05e8\u05e0\u05d8, \u05d0\u05e0\u05d0 \u05d5\u05d3\u05d0 \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e8\u05e9\u05ea \u05d0\u05d5 \u05e0\u05e1\u05d4 \u05e9\u05e0\u05d9\u05ea \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8",this.isOpen=!0),""!==ge&&this.fileService.deleteFile(ge),De.E))).subscribe(ht=>{this.router.navigate(["my-storage"]),console.log("Saved expense data in DB. The response is: ",ht),ht&&this.expenseDataServise.updateTable$.next(!0)})}getFileData(){return this.selectedFile?this.fileService.uploadFileViaFront(this.selectedFile):(0,ze.of)(null)}update(){let ge="";const ht=this.myForm.get("file").value;console.log("previos file: ",ht),this.getFileData().pipe((0,Ve.x)(()=>this.modalCtrl.dismiss()),(0,j.K)(Ot=>(alert("File upload failed, please try again "+Ot.error.message.join(", ")),De.E)),(0,Mt.U)(Ot=>{ge=Ot?Ot.metadata.fullPath:this.myForm.get("file").value;const Wn=localStorage.getItem("token");return this.setFormData(ge,Wn)}),(0,we.w)(Ot=>this.expenseDataServise.updateExpenseData(Ot,this.id)),(0,j.K)(Ot=>(alert("Something Went Wrong in second catchError "+Ot.error.message),this.selectedFile&&this.fileService.deleteFile(ge),De.E))).subscribe(Ot=>{""!==ht&&this.selectedFile&&this.fileService.deleteFile(ht),Ot&&this.expenseDataServise.updateTable$.next(!0)})}onDdlSelectionChange(ge,ht){switch(console.log(ge),console.log(ht),ht.name){case st.Ih.IS_EQUIPMENT:console.log("in equipment"),this.setValueEquipment(ge);break;case st.Ih.CATEGORY:this.getSubCategory(ge.detail.value).pipe((0,at.b)(nn=>{this.subCategoryList=nn})).subscribe();break;case st.Ih.SUB_CATEGORY:const Ot=this.subCategoryList.find(nn=>nn.subCategory===ge.detail.value);this.selectedSubcategory(Ot);break;case st.Ih.SUPPLIER:const Wn=this.suppliersList.find(nn=>nn.name===ge.detail.value);console.log(Wn),this.selectedSupplier(Wn)}}setFormData(ge,ht){const Ot=this.myForm.value;return console.log("form in set form",Ot),Ot.taxPercent=+Ot.taxPercent,Ot.vatPercent=+Ot.vatPercent,Ot.file=ge,Ot.reductionPercent=+Ot.reductionPercent,Ot.sum=+Ot.sum,Ot.isEquipment="0"!==Ot.isEquipment,Ot.token=this.formBuilder.control(ht).value,console.log(Ot),Ot}openSelectSupplier(ge){ge.preventDefault(),console.log(ge),(0,ye.D)(this.modalCtrl.create({component:Et,componentProps:{}})).pipe((0,j.K)(ht=>(console.log("openSelectSupplier failed in create ",ht),De.E)),(0,we.w)(ht=>ht?(0,ye.D)(ht.present()).pipe((0,we.w)(()=>(0,ye.D)(ht.onDidDismiss())),(0,j.K)(Ot=>(console.log("openSelectSupplier failed in present ",Ot),De.E))):(console.log("Popover modal is null"),De.E))).subscribe(ht=>{console.log(this.categoryList),console.log(this.subCategoryList),console.log("res in modal comp: ",ht),console.log("res.role: ",ht.role),console.log("type:",typeof ht.data),"backdrop"!==ht.role&&null!=ht&&ht&&(0==ht.data.isEquipment?(ht.data.isEquipment="0",this.isEquipment=!1):(ht.data.isEquipment="1",this.isEquipment=!0),this.isSelectSupplierMode=!0,this.getCategory(ht.data))})}getLoader(){return(0,ye.D)(this.loadingController.create({message:"Please wait...",spinner:"crescent"})).pipe((0,j.K)(ge=>(console.log("err in create loader in save supplier",ge),De.E)),(0,we.w)(ge=>ge?(0,ye.D)(ge.present()):(console.log("loader in save supplier is null"),De.E)),(0,j.K)(ge=>(console.log("err in open loader in save supplier",ge),De.E)))}addSupplier(){const ge=localStorage.getItem("token"),ht=this.myForm.get("supplier").value,Ot=this.myForm.value;Ot.token=this.formBuilder.control(ge).value,Ot.name=this.formBuilder.control(ht).value,Ot.isEquipment="1"===Ot.isEquipment;const{date:Wn,file:nn,sum:Wr,note:ei,expenseNumber:qr,supplier:xr,...Un}=Ot;this.getLoader(),this.expenseDataServise.addSupplier(Un).pipe((0,j.K)(Xr=>(0==Xr.status&&(this.loadingController.dismiss(),this.errorString="\u05d0\u05d9\u05df \u05d0\u05d9\u05e0\u05d8\u05e8\u05e0\u05d8, \u05d0\u05e0\u05d0 \u05d5\u05d3\u05d0 \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e8\u05e9\u05ea \u05d0\u05d5 \u05e0\u05e1\u05d4 \u05e9\u05e0\u05d9\u05ea \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8",this.isOpen=!0),401==Xr.status&&(this.loadingController.dismiss(),this.errorString="\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05d7\u05d5\u05e7\u05d9 , \u05d0\u05e0\u05d0 \u05d4\u05ea\u05d7\u05d1\u05e8 \u05dc\u05de\u05e2\u05e8\u05db\u05ea",this.isOpen=!0),409==Xr.status&&(this.loadingController.dismiss(),this.errorString="\u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05e1\u05e4\u05e7 \u05d1\u05e9\u05dd \u05d6\u05d4, \u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8 \u05e9\u05dd \u05e9\u05d5\u05e0\u05d4. \u05d0\u05dd \u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05e2\u05e8\u05d5\u05da \u05e1\u05e4\u05e7 \u05d6\u05d4 \u05d0\u05e0\u05d0  \u05dc\u05d7\u05e5 \u05e2\u05dc \u05db\u05e4\u05ea\u05d5\u05e8 \u05e2\u05e8\u05d9\u05db\u05d4 \u05d3\u05e8\u05da \u05d4\u05e8\u05e9\u05d9\u05de\u05d4 .",this.isOpen=!0),console.log("err in add supplier: ",Xr),De.E))).subscribe(Xr=>{this.loadingController.dismiss(),this.isToastOpen=!0,console.log("res in add supplier:",Xr)})}closePop(){this.isOpen=!1}valueAscOrder(ge,ht){return 0}getListOptionsByKey(ge){switch(ge){case st.Ih.IS_EQUIPMENT:return this.equipmentList;case st.Ih.CATEGORY:return this.getListCategory();case st.Ih.SUB_CATEGORY:return this.getListSubCategory();case st.Ih.SUPPLIER:return this.suppliersList;default:return[]}}getListSubCategory(){return this.myForm.get(st.Ih.CATEGORY).value?this.subCategoryList:[{key:"\u05e0\u05d0 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4",value:""}]}getListCategory(){return null!=this.isEquipment?this.categoryList:[{key:"\u05e0\u05d0 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05de\u05d5\u05d2\u05d3\u05e8 \u05db\u05e6\u05d9\u05d5\u05d3 \u05d0\u05d5 \u05dc\u05d0",value:""}]}getSubCategory(ge){console.log("category in get sub",ge);const ht=this.subCategoriesListDataMap.get(ge);return ht?(0,ze.of)(ht):this.expenseDataServise.getSubCategory(ge,this.isEquipment).pipe((0,Ve.x)(()=>this.doneLoadingSubCategoryList$.next(!0)),(0,Mt.U)(Ot=>Ot.map(Wn=>({...Wn,key:Wn.subCategory,value:Wn.subCategory}))),(0,at.b)(Ot=>{this.subCategoryList=Ot,this.subCategoriesListDataMap.set(ge,Ot)}))}getCategory(ge){const ht=this.categoriesListDataMap.get(this.isEquipment);ht?this.categoryList=ht:this.expenseDataServise.getcategry(this.isEquipment).pipe((0,Mt.U)(Ot=>Ot.map(Wn=>({key:Wn,value:Wn}))),(0,at.b)(Ot=>{console.log(Ot),this.categoryList=Ot}),(0,we.w)(()=>this.getSubCategory(ge.category)),(0,at.b)(Ot=>{console.log("res of sub category",Ot),(ge&&this.isEditMode||ge&&this.isSelectSupplierMode)&&(console.log("datta: ",ge),this.initForm(ge))})).subscribe()}openPopupMessage(ge){var ht=this;return(0,y.Z)(function*(){yield(yield ht.modalCtrl.create({component:Pe,componentProps:{message:ge}})).present()})()}setValueEquipment(ge){const ht=ge.detail.value;console.log("in set value",ht),console.log("category form value",this.myForm.get(st.Ih.CATEGORY).value),ht!=this.isEquipment&&this.myForm.patchValue({category:""}),"0"==ht?(this.isEquipment=!1,this.getCategory()):(this.isEquipment=!0,this.getCategory())}selectedSubcategory(ge){console.log("data in select sub:",ge),this.myForm.patchValue({reductionPercent:ge.reductionPercent}),this.myForm.patchValue({vatPercent:ge.vatPercent}),this.myForm.patchValue({taxPercent:ge.taxPercent})}getSuppliers(){this.expenseDataServise.getAllSuppliers().pipe((0,j.K)(ge=>(console.log("err in get suppliers:",ge),De.E)),(0,Mt.U)(ge=>ge.map(ht=>({...ht,key:ht.name,value:ht.name})))).subscribe(ge=>{console.log(ge),this.suppliersList=ge})}selectedSupplier(ge){this.myForm.patchValue({category:ge.category}),this.myForm.patchValue({subCategory:ge.subCategory}),this.myForm.patchValue({supplierID:ge.supplierID}),this.myForm.patchValue({taxPercent:ge.taxPercent}),this.myForm.patchValue({vatPercent:ge.vatPercent})}toggleEnlarged(ge){ge.stopPropagation(),ge.preventDefault(),console.log("asdfghjkl;lkjhgfdsasdfghjkl;lkjhgfd"),console.log(this.isEnlarged),this.isEnlarged=!this.isEnlarged,console.log(this.isEnlarged)}displayFile(){return this.isEditMode?this.editModeFile:this.selectedFile}setOpenToast(){this.isToastOpen=!this.isToastOpen}deleteFile(ge){const ht=ge.target.closest("label").querySelector('ion-input[type="file"]');ht&&(ht.value=""),this.selectedFile="",this.editModeFile="",this.safePdfBase64String=this.sanitizer.bypassSecurityTrustResourceUrl(""),this.pdfLoaded=!1,this.isEditMode&&this.myForm.patchValue({file:""}),ge.preventDefault()}}return Ht.\u0275fac=function(ge){return new(ge||Ht)(P.Y36(Ye.n),P.Y36(h.qu),P.Y36(Ge.O),P.Y36(_e.IN),P.Y36(_e.X1),P.Y36(_e.HT),P.Y36(Ue.F0),P.Y36(Qe.H7))},Ht.\u0275cmp=P.Xpm({type:Ht,selectors:[["app-modal"]],inputs:{editMode:"editMode",data:"data",columns:"columns"},decls:15,vars:6,consts:[[1,"add-expense-header"],[1,"header-list"],["aria-label","back","size","large","name","close-outline",1,"add-expense-icon-header",3,"click"],["class","form-expense","scrollY","true",3,"formGroup",4,"ngIf","ngIfElse"],["loader",""],["lineLoader",""],[3,"isOpen"],["message","\u05e1\u05e4\u05e7 \u05e0\u05e9\u05de\u05e8 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",3,"isOpen","duration","didDismiss"],["scrollY","true",1,"form-expense",3,"formGroup"],[1,"modal-content"],[1,"list-expense"],[4,"ngFor","ngForOf"],[1,"label-file-add-expense"],[1,"div-wrap"],[4,"ngIf","ngIfElse"],["notFile",""],[4,"ngIf"],[1,"wrap-del-change-file"],[3,"click",4,"ngIf"],["label-placement","floating","type","file","accept",".pdf, .png, .jpeg, .jpg",3,"formControlName","input",4,"ngIf"],[1,"wrapp-btn-expense"],[3,"buttonSize","buttonText","disabled","onButtonClicked"],["buttonText","\u05e9\u05de\u05d9\u05e8\u05ea \u05e1\u05e4\u05e7 \u05e7\u05d1\u05d5\u05e2",3,"buttonSize","disabled","onButtonClicked"],[3,"ngSwitch"],[4,"ngSwitchCase"],["label-placement","floating","type","text","fill","outline",1,"input-expense","text",3,"formControlName","label"],["position","fixed","class","supplier-span",3,"click",4,"ngIf"],["position","fixed",1,"supplier-span",3,"click"],["name","arrow-forward-outline"],["required","true","label-placement","floating","fill","outline","type","date",1,"input-expense","date",3,"max","label","formControlName"],["required","true","fill","outline","label-placement","floating","interface","popover",1,"input-expense","ddl",3,"label","formControlName","ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","file-container",4,"ngIf"],[1,"file-container"],["alt","file",1,"image-file",3,"src"],["type","application/pdf","width","100%","height","100%","style","min-height: 500px;",3,"data",4,"ngIf"],["type","application/pdf","width","100%","height","100%",2,"min-height","500px",3,"data"],[1,"text-file-type"],["class","div-icon",4,"ngIf"],[1,"div-icon"],["size","large","name","document-outline"],[3,"click"],["label-placement","floating","type","file","accept",".pdf, .png, .jpeg, .jpg",3,"formControlName","input"],[1,"wrap-message"],[1,"wrap-buttons-message"],["buttonText","OK",3,"buttonSize","onButtonClicked"]],template:function(ge,ht){if(1&ge&&(P.TgZ(0,"ion-toolbar")(1,"ion-header",0)(2,"ion-list",1)(3,"ion-title"),P._uU(4),P.qZA(),P.TgZ(5,"ion-icon",2),P.NdJ("click",function(){return ht.cancel()}),P.qZA()()()(),P.TgZ(6,"ion-content"),P.YNc(7,cr,19,13,"form",3),P.qZA(),P.YNc(8,bn,1,0,"ng-template",null,4,P.W1O),P.YNc(10,Jn,1,0,"ng-template",null,5,P.W1O),P.TgZ(12,"ion-popover",6),P.YNc(13,Qr,6,2,"ng-template"),P.qZA(),P.TgZ(14,"ion-toast",7),P.NdJ("didDismiss",function(){return ht.setOpenToast()}),P.qZA()),2&ge){const Ot=P.MAs(9);P.xp6(4),P.hij(" ",ht.title," "),P.xp6(3),P.Q6J("ngIf",ht.myForm)("ngIfElse",Ot),P.xp6(5),P.Q6J("isOpen",ht.isOpen),P.xp6(2),P.Q6J("isOpen",ht.isToastOpen)("duration",3e3)}},dependencies:[K.sg,K.O5,K.RF,K.n9,_e.W2,_e.Gu,_e.gu,_e.pK,_e.q_,_e.wh,_e.t9,_e.n0,_e.PQ,_e.wd,_e.Px,_e.sr,_e.d8,_e.QI,_e.j9,h._Y,h.JJ,h.JL,h.Q7,h.sg,h.u,me.r],styles:[".add-expense-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.header-list[_ngcontent-%COMP%]{display:flex;width:98%;justify-content:space-between}.add-expense-icon-header[_ngcontent-%COMP%]{cursor:pointer}.form-expense[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-around;height:100%}.modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:row}.list-expense[_ngcontent-%COMP%]{display:flex;flex:1.5;flex-wrap:wrap;justify-content:space-between;height:100%}.input-expense[_ngcontent-%COMP%]{--border-radius: 15px;margin:5px 5px 20px}.input-expense.text[_ngcontent-%COMP%]{width:100%}.input-expense.date[_ngcontent-%COMP%]{width:30%;border:1px solid rgb(190,183,183);border-radius:15px;--border-style: none}.input-expense.sum[_ngcontent-%COMP%], .input-expense.expenseNumber[_ngcontent-%COMP%]{width:30%;border-radius:15px}.input-expense.supplier[_ngcontent-%COMP%], .input-expense.supplierID[_ngcontent-%COMP%]{width:47%}.input-expense.isEquipment[_ngcontent-%COMP%]{width:100%;--border-style: none;border-bottom:1px solid gray;border-radius:0}.input-expense.category[_ngcontent-%COMP%], .input-expense.subCategory[_ngcontent-%COMP%]{flex-basis:calc(50% - 10px)}.input-expense.taxPercent[_ngcontent-%COMP%], .input-expense.vatPercent[_ngcontent-%COMP%], .input-expense.reductionPercent[_ngcontent-%COMP%]{width:30%}.input-expense.note[_ngcontent-%COMP%]{width:100%;--border-style: none;border-bottom:1px solid gray;border-radius:0}.supplier-span[_ngcontent-%COMP%]{display:flex;align-items:center;position:fixed;top:30%;right:2%;cursor:pointer;color:gray;font-size:small}.supplier-span[_ngcontent-%COMP%]:hover{text-shadow:2px 2px 5px gray}.label-file-add-expense[_ngcontent-%COMP%]{max-height:500px;display:flex;flex:2;justify-content:center;align-items:center;border:5px solid rgb(79,171,79);border-radius:15px;margin-right:10px;margin-left:10px}.label-file-add-expense[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{--ionicon-stroke-width: 2px;width:100%;height:100%}.label-file-add-expense[_ngcontent-%COMP%]   ion-input[type=file][_ngcontent-%COMP%]{display:none}.div-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;align-items:center;width:100%;height:100%;overflow:auto;cursor:pointer}.file-container[_ngcontent-%COMP%]{max-width:100%;overflow:auto}.image-file[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:auto;object-fit:contain}.div-icon[_ngcontent-%COMP%]{width:70%;height:70%}.wrap-del-change-file[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around}.wrapp-btn-expense[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:60%}.wrap-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border-radius:15px;text-align:center}.wrap-buttons-message[_ngcontent-%COMP%]{width:70%;display:flex;justify-content:space-between}@media only screen and (max-width: 600px){.modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;overflow-y:auto}.list-expense[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;overflow-y:auto}.label-file-add-expense[_ngcontent-%COMP%]{height:50vh;background-color:#f0f0f0;display:flex;justify-content:center;align-items:center;border:5px solid rgb(79,171,79);border-radius:15px;margin-right:10px;margin-left:10px}}"]}),Ht})()},4466:(xn,bt,k)=>{"use strict";k.d(bt,{m:()=>me});var y=k(4755),h=k(5030),K=k(650),P=k(9290),Te=k(2223);let me=(()=>{class Pe{}return Pe.\u0275fac=function(j){return new(j||Pe)},Pe.\u0275mod=Te.oAB({type:Pe}),Pe.\u0275inj=Te.cJS({imports:[y.ez,K.Pc,h.UX,P.UL]}),Pe})()},2340:(xn,bt,k)=>{"use strict";k.d(bt,{N:()=>y});const y={production:!0,apiUrl:"https://taxmys16elf-prod-tau7bgxb3q-zf.a.run.app/",firebase:{apiKey:"AIzaSyAd1L-ZpbvU_rLSEin0_MjvzZQYfNX51i0",authDomain:"taxmyself-prod.firebaseapp.com",projectId:"taxmyself-prod",storageBucket:"taxmyself-prod.appspot.com",messagingSenderId:"146140406969",appId:"1:146140406969:web:4b9777e99586bab08c6768",measurementId:"G-6FXDETL8H1"}}},7131:(xn,bt,k)=>{"use strict";var y=k(6550),h=k(2223),K=k(9931),P=k(650),Te=k(5861),me=k(2408),Pe=k(421),Xe=k(2199),j=k(4755);function De(p,d){if(1&p){const c=h.EpF();h.ynx(0),h.TgZ(1,"ion-item",7),h.NdJ("click",function(){h.CHM(c);const A=h.oxw(2);return h.KtG(A.openCloseLogOutPopup())}),h._UZ(2,"ion-icon",8),h.TgZ(3,"ion-label"),h._uU(4,"\u05d4\u05ea\u05e0\u05ea\u05e7\u05d5\u05ea"),h.qZA()(),h.BQk()}if(2&p){const c=h.oxw().$implicit;h.xp6(2),h.Q6J("ios",c.icon+"-outline")("md",c.icon+"-sharp")}}function ye(p,d){if(1&p){const c=h.EpF();h.ynx(0),h.TgZ(1,"ion-item",7),h.NdJ("click",function(){h.CHM(c);const A=h.oxw(2);return h.KtG(A.openPopupAddExpense())}),h._UZ(2,"ion-icon",8),h.TgZ(3,"ion-label"),h._uU(4,"\u05d4\u05d5\u05e1\u05e4\u05ea \u05d4\u05d5\u05e6\u05d0\u05d4"),h.qZA()(),h.BQk()}if(2&p){const c=h.oxw().$implicit;h.xp6(2),h.Q6J("ios",c.icon+"-outline")("md",c.icon+"-sharp")}}const we=function(p){return[p]};function Ve(p,d){if(1&p&&(h.ynx(0),h.TgZ(1,"ion-item",9),h._UZ(2,"ion-icon",8),h.TgZ(3,"ion-label"),h._uU(4),h.qZA()(),h.BQk()),2&p){const c=h.oxw().$implicit;h.xp6(1),h.Q6J("routerLink",h.VKq(4,we,c.url)),h.xp6(1),h.Q6J("ios",c.icon+"-outline")("md",c.icon+"-sharp"),h.xp6(2),h.Oqu(c.title)}}function je(p,d){if(1&p&&(h.TgZ(0,"ion-menu-toggle",5),h.YNc(1,De,5,2,"ng-container",6),h.YNc(2,ye,5,2,"ng-container",6),h.YNc(3,Ve,5,6,"ng-container",6),h.qZA()),2&p){const c=d.$implicit;h.xp6(1),h.Q6J("ngIf","logOut"===c.title),h.xp6(1),h.Q6J("ngIf","add-expenses"===c.url),h.xp6(1),h.Q6J("ngIf","logOut"!==c.title&&"add-expenses"!==c.url)}}function at(p,d){if(1&p){const c=h.EpF();h.TgZ(0,"div"),h._uU(1," \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d0\u05ea\u05d4 \u05e8\u05d5\u05e6\u05d4 \u05dc\u05e2\u05d6\u05d5\u05d1?"),h.qZA(),h.TgZ(2,"ion-button",11),h.NdJ("click",function(){h.CHM(c);const A=h.oxw(2);return h.KtG(A.signOut())}),h._uU(3,"\u05db\u05df"),h.qZA(),h.TgZ(4,"ion-button",11),h.NdJ("click",function(){h.CHM(c);const A=h.oxw(2);return h.KtG(A.openCloseLogOutPopup())}),h._uU(5,"\u05dc\u05d0"),h.qZA()}}function Mt(p,d){if(1&p&&(h.TgZ(0,"ion-popover",10),h.YNc(1,at,6,0,"ng-template"),h.qZA()),2&p){const c=h.oxw();h.Q6J("isOpen",c.isPopoverOpen)}}let ze=(()=>{class p{constructor(c,v,A,H){this.expenseDataServise=c,this.router=v,this.modalCtrl=A,this.authService=H,this.appPages=[{title:"\u05d3\u05e3-\u05d4\u05d1\u05d9\u05ea",url:"home",icon:"home"},{title:"\u05d0\u05d9\u05d6\u05d5\u05e8 \u05d0\u05d9\u05e9\u05d9",url:"my-account",icon:"person-circle"},{title:"\u05d4\u05e2\u05e0\u05df \u05e9\u05dc\u05d9",url:"my-storage",icon:"cloud-download"},{title:" \u05d4\u05d2\u05e9\u05ea \u05d3\u05d5\u05d7\u05d5\u05ea",url:"reports",icon:"documents"},{title:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05d7\u05e9\u05d1\u05d5\u05e0\u05d9\u05ea",url:"add-expenses",icon:"cloud-upload"},{title:"\u05d9\u05e2\u05d5\u05e5 \u05e4\u05d9\u05e0\u05e0\u05e1\u05d9",url:"spam",icon:"chatbubbles"},{title:"\u05d4\u05e8\u05e9\u05de\u05d4",url:"register",icon:"log-in"},{title:"\u05db\u05e0\u05d9\u05e1\u05d4",url:"login",icon:"log-in"},{title:"logOut",url:"login",icon:"log-out"}],this.isPopoverOpen=!1,this.showMenu=!1}ngOnInit(){this.columns=this.expenseDataServise.getAddExpenseColumns()}openCloseLogOutPopup(){console.log("popover open"),this.isPopoverOpen=!this.isPopoverOpen,console.log(this.isPopoverOpen)}openPopupAddExpense(){var c=this;return(0,Te.Z)(function*(){yield(yield c.modalCtrl.create({component:me.w,componentProps:{columns:c.columns,data:{}},cssClass:"custom-modal"})).present()})()}signOut(){var c=this;return(0,Te.Z)(function*(){console.log("sign out"),yield c.authService.SignOut(),c.isPopoverOpen=!c.isPopoverOpen,c.router.navigate(["/login"])})()}toggleMenu(){this.showMenu=!this.showMenu}}return p.\u0275fac=function(c){return new(c||p)(h.Y36(Pe.O),h.Y36(K.F0),h.Y36(P.IN),h.Y36(Xe.e))},p.\u0275cmp=h.Xpm({type:p,selectors:[["app-root"]],decls:8,vars:2,consts:[["contentId","main-content","type","overlay"],["id","inbox-list"],["side","end","auto-hide","false",4,"ngFor","ngForOf"],["class","logout-pop","backdrop-dismiss","false",3,"isOpen",4,"ngIf"],["id","main-content"],["side","end","auto-hide","false"],[4,"ngIf"],["side","end","routerDirection","root","lines","none","detail","false","routerLinkActive","selected",1,"icon",3,"click"],["aria-hidden","true","slot","start",3,"ios","md"],["side","end","routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"routerLink"],["backdrop-dismiss","false",1,"logout-pop",3,"isOpen"],[3,"click"]],template:function(c,v){1&c&&(h.TgZ(0,"ion-app")(1,"ion-menu",0),h._UZ(2,"ion-menu-button"),h.TgZ(3,"ion-content")(4,"ion-list",1),h.YNc(5,je,4,3,"ion-menu-toggle",2),h.qZA()()(),h.YNc(6,Mt,2,1,"ion-popover",3),h._UZ(7,"ion-router-outlet",4),h.qZA()),2&c&&(h.xp6(5),h.Q6J("ngForOf",v.appPages),h.xp6(1),h.Q6J("ngIf",v.isPopoverOpen))},dependencies:[j.sg,j.O5,P.dr,P.YG,P.W2,P.gu,P.Ie,P.Q$,P.q_,P.z0,P.fG,P.zc,P.d8,P.jP,P.YI,K.rH,K.Od],styles:[".icon[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer}ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),p})(),Ge=(()=>{class p{constructor(c,v){this.authService=c,this.router=v}canActivate(c,v){return console.log("can active"),!0!==this.authService.isLoggedIn&&this.router.navigate(["login"]),!0}}return p.\u0275fac=function(c){return new(c||p)(h.LFG(Xe.e),h.LFG(K.F0))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const _e=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"register",loadChildren:()=>Promise.resolve().then(k.bind(k,8021)).then(p=>p.RegisterPageModule)},{path:"reports",loadChildren:()=>Promise.all([k.e(8592),k.e(5867)]).then(k.bind(k,5867)).then(p=>p.ReportsPageModule),canActivate:[Ge]},{path:"my-storage",loadChildren:()=>Promise.all([k.e(8592),k.e(7023)]).then(k.bind(k,7023)).then(p=>p.MyStoragePageModule),canActivate:[Ge]},{path:"my-account",loadChildren:()=>Promise.all([k.e(8592),k.e(750)]).then(k.bind(k,750)).then(p=>p.MyAccountPageModule),canActivate:[Ge]},{path:"login",loadChildren:()=>k.e(8802).then(k.bind(k,8802)).then(p=>p.LoginPageModule)},{path:"my-status",loadChildren:()=>k.e(6142).then(k.bind(k,6142)).then(p=>p.MyStatusPageModule),canActivate:[Ge]},{path:"vat-report",loadChildren:()=>Promise.all([k.e(8592),k.e(7471)]).then(k.bind(k,7471)).then(p=>p.VatReportPageModule),canActivate:[Ge]},{path:"annual-report",loadChildren:()=>Promise.all([k.e(8592),k.e(356)]).then(k.bind(k,356)).then(p=>p.AnnualReportPageModule),canActivate:[Ge]},{path:"advance-income-tax-report",loadChildren:()=>Promise.all([k.e(8592),k.e(8016)]).then(k.bind(k,8016)).then(p=>p.AdvanceIncomeTaxReportPageModule),canActivate:[Ge]},{path:"income-statement",loadChildren:()=>Promise.all([k.e(8592),k.e(5130)]).then(k.bind(k,5130)).then(p=>p.IncomeStatementPageModule),canActivate:[Ge]}];let mt=(()=>{class p{}return p.\u0275fac=function(c){return new(c||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[K.Bz.forRoot(_e,{preloadingStrategy:K.wm}),K.Bz]}),p})();var dt=k(8021),vt=k(5030),pt=k(2340),Dt=k(2011),We=k(1205),be=k(9751),$t=k(9646),tt=k(8996),Ft=k(4986),zt=k(4482),Vt=k(5403),Et=k(4004),st=k(3900),Ye=k(2088),Ue=k(6101),Qe=k(9362),ut=k(1617);class yt{constructor(d,c,v){this._delegate=d,this.task=c,this.ref=v}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Jt{constructor(d,c){this._delegate=d,this._ref=c,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new yt(this._delegate.snapshot,this,this._ref)}then(d,c){return this._delegate.then(v=>{if(d)return d(new yt(v,this,this._ref))},c)}on(d,c,v,A){let H;return c&&(H="function"==typeof c?re=>c(new yt(re,this,this._ref)):{next:c.next?re=>c.next(new yt(re,this,this._ref)):void 0,complete:c.complete||void 0,error:c.error||void 0}),this._delegate.on(d,H,v||void 0,A||void 0)}}class Nn{constructor(d,c){this._delegate=d,this._service=c}get prefixes(){return this._delegate.prefixes.map(d=>new mn(d,this._service))}get items(){return this._delegate.items.map(d=>new mn(d,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class mn{constructor(d,c){this._delegate=d,this.storage=c}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(d){const c=(0,Qe.g6)(this._delegate,d);return new mn(c,this.storage)}get root(){return new mn(this._delegate.root,this.storage)}get parent(){const d=this._delegate.parent;return null==d?null:new mn(d,this.storage)}put(d,c){return this._throwIfRoot("put"),new Jt((0,Qe.B0)(this._delegate,d,c),this)}putString(d,c=Qe.bm.RAW,v){this._throwIfRoot("putString");const A=(0,Qe.qm)(c,d),H=Object.assign({},v);return null==H.contentType&&null!=A.contentType&&(H.contentType=A.contentType),new Jt(new Qe.IX(this._delegate,new Qe.UJ(A.data,!0),H),this)}listAll(){return(0,Qe.aF)(this._delegate).then(d=>new Nn(d,this.storage))}list(d){return(0,Qe.pb)(this._delegate,d||void 0).then(c=>new Nn(c,this.storage))}getMetadata(){return(0,Qe.sd)(this._delegate)}updateMetadata(d){return(0,Qe.Ym)(this._delegate,d)}getDownloadURL(){return(0,Qe.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Qe.oq)(this._delegate)}_throwIfRoot(d){if(""===this._delegate._location.path)throw(0,Qe.y4)(d)}}class On{constructor(d,c){this.app=d,this._delegate=c}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(d){if(St(d))throw(0,Qe.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new mn((0,Qe.iH)(this._delegate,d),this)}refFromURL(d){if(!St(d))throw(0,Qe.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qe.gE.makeFromUrl(d,this._delegate.host)}catch{throw(0,Qe.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new mn((0,Qe.iH)(this._delegate,d),this)}setMaxUploadRetryTime(d){this._delegate.maxUploadRetryTime=d}setMaxOperationRetryTime(d){this._delegate.maxOperationRetryTime=d}useEmulator(d,c,v={}){(0,Qe.a1)(this._delegate,d,c,v)}}function St(p){return/^[A-Za-z]+:\/\//.test(p)}function Xt(p,{instanceIdentifier:d}){const c=p.getProvider("app-compat").getImmediate(),v=p.getProvider("storage").getImmediate({identifier:d});return new On(c,v)}!function Tt(p){const d={TaskState:Qe.$Y,TaskEvent:Qe.FN,StringFormat:Qe.bm,Storage:On,Reference:mn};p.INTERNAL.registerComponent(new ut.wA("storage-compat",Xt,"PUBLIC").setServiceProps(d).setMultipleInstances(!0)),p.registerVersion("@firebase/storage-compat","0.3.2")}(Ue.Z);var Kt=k(1432),kn=k(1274);function lr(p){const d=function Xn(p){return new be.y(d=>{const c=re=>d.next(re);c(p.snapshot);const H=p.on("state_changed",c);return p.then(re=>{c(re),d.complete()},re=>{c(p.snapshot),(re=>{d.error(re)})(re)}),function(){H()}}).pipe(function Sn(p,d=Ft.z){return(0,zt.e)((c,v)=>{let A=null,H=null,re=null;const xe=()=>{if(A){A.unsubscribe(),A=null;const ft=H;H=null,v.next(ft)}};function Je(){const ft=re+p,pn=d.now();if(pn<ft)return A=this.schedule(void 0,ft-pn),void v.add(A);xe()}c.subscribe((0,Vt.x)(v,ft=>{H=ft,re=d.now(),A||(A=d.schedule(Je,p),v.add(A))},()=>{xe(),v.complete()},void 0,()=>{H=A=null}))})}(0))}(p);return{task:p,then:p.then.bind(p),catch:p.catch.bind(p),pause:p.pause.bind(p),cancel:p.cancel.bind(p),resume:p.resume.bind(p),snapshotChanges:()=>d,percentageChanges:()=>d.pipe((0,Et.U)(c=>c.bytesTransferred/c.totalBytes*100))}}function cr(p){return{getDownloadURL:()=>(0,$t.of)(void 0).pipe(Ye.fc,(0,st.w)(()=>p.getDownloadURL()),Ye.iC),getMetadata:()=>(0,$t.of)(void 0).pipe(Ye.fc,(0,st.w)(()=>p.getMetadata()),Ye.iC),delete:()=>(0,tt.D)(p.delete()),child:d=>cr(p.child(d)),updateMetadata:d=>(0,tt.D)(p.updateMetadata(d)),put:(d,c)=>lr(p.put(d,c)),putString:(d,c,v)=>lr(p.putString(d,c,v)),list:d=>(0,tt.D)(p.list(d)),listAll:()=>(0,tt.D)(p.listAll())}}const bn=new h.OlP("angularfire2.storageBucket"),Jn=new h.OlP("angularfire2.storage.maxUploadRetryTime"),Qr=new h.OlP("angularfire2.storage.maxOperationRetryTime"),Er=new h.OlP("angularfire2.storage.use-emulator");let Ht=(()=>{class p{constructor(c,v,A,H,re,xe,Je,ft,pn,In){const Rn=(0,Dt.on)(c,re,v);this.storage=(0,Dt.cc)(`${Rn.name}.storage.${A}`,"AngularFireStorage",Rn.name,()=>{const gr=re.runOutsideAngular(()=>Rn.storage(A||void 0)),Jr=pn;return Jr&&gr.useEmulator(...Jr),Je&&gr.setMaxUploadRetryTime(Je),ft&&gr.setMaxOperationRetryTime(ft),gr},[Je,ft])}ref(c){return cr(this.storage.ref(c))}refFromURL(c){return cr(this.storage.refFromURL(c))}upload(c,v,A){return cr(this.storage.ref(c)).put(v,A)}}return p.\u0275fac=function(c){return new(c||p)(h.LFG(Dt.Dh),h.LFG(Dt.xv,8),h.LFG(bn,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Ye.HU),h.LFG(Jn,8),h.LFG(Qr,8),h.LFG(Er,8),h.LFG(Kt.nm,8))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"any"}),p})(),ge=(()=>{class p{}return p.\u0275fac=function(c){return new(c||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({}),p})(),ht=(()=>{class p{constructor(){kn.Z.registerVersion("angularfire",Ye.q4.full,"gcs-compat")}}return p.\u0275fac=function(c){return new(c||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({providers:[Ht],imports:[ge]}),p})();var Ot=k(4179),Wn=k(6451),nn=k(3099),Wr=k(5026),ei=k(1884),qr=k(8421),xr=k(4671),Un=k(5032),Xr=k(7669);k(5054);var jr=k(5752),Le=k(5578),Ti=k(1877);const Pr="@firebase/database";let Gi="";function ti(p){Gi=p}class ui{constructor(d){this.domStorage_=d,this.prefix_="firebase:"}set(d,c){null==c?this.domStorage_.removeItem(this.prefixedName_(d)):this.domStorage_.setItem(this.prefixedName_(d),(0,Le.Wl)(c))}get(d){const c=this.domStorage_.getItem(this.prefixedName_(d));return null==c?null:(0,Le.cI)(c)}remove(d){this.domStorage_.removeItem(this.prefixedName_(d))}prefixedName_(d){return this.prefix_+d}toString(){return this.domStorage_.toString()}}class lt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(d,c){null==c?delete this.cache_[d]:this.cache_[d]=c}get(d){return(0,Le.r3)(this.cache_,d)?this.cache_[d]:null}remove(d){delete this.cache_[d]}}const Ee=function(p){try{if(typeof window<"u"&&typeof window[p]<"u"){const d=window[p];return d.setItem("firebase:sentinel","cache"),d.removeItem("firebase:sentinel"),new ui(d)}}catch{}return new lt},te=Ee("localStorage"),q=Ee("sessionStorage"),X=new Ti.Yd("@firebase/database"),$e=function(){let p=1;return function(){return p++}}(),Se=function(p){const d=(0,Le.dS)(p),c=new Le.gQ;c.update(d);const v=c.digest();return Le.US.encodeByteArray(v)},ve=function(...p){let d="";for(let c=0;c<p.length;c++){const v=p[c];Array.isArray(v)||v&&"object"==typeof v&&"number"==typeof v.length?d+=ve.apply(null,v):d+="object"==typeof v?(0,Le.Wl)(v):v,d+=" "}return d};let Ke=null,It=!0;const sn=function(p,d){(0,Le.hu)(!d||!0===p||!1===p,"Can't turn on custom loggers persistently."),!0===p?(X.logLevel=Ti.in.VERBOSE,Ke=X.log.bind(X),d&&q.set("logging_enabled",!0)):"function"==typeof p?Ke=p:(Ke=null,q.remove("logging_enabled"))},tn=function(...p){if(!0===It&&(It=!1,null===Ke&&!0===q.get("logging_enabled")&&sn(!0)),Ke){const d=ve.apply(null,p);Ke(d)}},Dn=function(p){return function(...d){tn(p,...d)}},rr=function(...p){const d="FIREBASE INTERNAL ERROR: "+ve(...p);X.error(d)},nr=function(...p){const d=`FIREBASE FATAL ERROR: ${ve(...p)}`;throw X.error(d),new Error(d)},Or=function(...p){const d="FIREBASE WARNING: "+ve(...p);X.warn(d)},Bt=function(p){return"number"==typeof p&&(p!=p||p===Number.POSITIVE_INFINITY||p===Number.NEGATIVE_INFINITY)},Kn="[MIN_NAME]",dr="[MAX_NAME]",mr=function(p,d){if(p===d)return 0;if(p===Kn||d===dr)return-1;if(d===Kn||p===dr)return 1;{const c=An(p),v=An(d);return null!==c?null!==v?c-v==0?p.length-d.length:c-v:-1:null!==v?1:p<d?-1:1}},Fr=function(p,d){return p===d?0:p<d?-1:1},_i=function(p,d){if(d&&p in d)return d[p];throw new Error("Missing required key ("+p+") in object: "+(0,Le.Wl)(d))},Sr=function(p){if("object"!=typeof p||null===p)return(0,Le.Wl)(p);const d=[];for(const v in p)d.push(v);d.sort();let c="{";for(let v=0;v<d.length;v++)0!==v&&(c+=","),c+=(0,Le.Wl)(d[v]),c+=":",c+=Sr(p[d[v]]);return c+="}",c},er=function(p,d){const c=p.length;if(c<=d)return[p];const v=[];for(let A=0;A<c;A+=d)v.push(p.substring(A,A+d>c?c:A+d));return v};function Dr(p,d){for(const c in p)p.hasOwnProperty(c)&&d(c,p[c])}const Bs=function(p){(0,Le.hu)(!Bt(p),"Invalid JSON number");const v=1023;let A,H,re,xe,Je;0===p?(H=0,re=0,A=1/p==-1/0?1:0):(A=p<0,(p=Math.abs(p))>=Math.pow(2,1-v)?(xe=Math.min(Math.floor(Math.log(p)/Math.LN2),v),H=xe+v,re=Math.round(p*Math.pow(2,52-xe)-Math.pow(2,52))):(H=0,re=Math.round(p/Math.pow(2,-1074))));const ft=[];for(Je=52;Je;Je-=1)ft.push(re%2?1:0),re=Math.floor(re/2);for(Je=11;Je;Je-=1)ft.push(H%2?1:0),H=Math.floor(H/2);ft.push(A?1:0),ft.reverse();const pn=ft.join("");let In="";for(Je=0;Je<64;Je+=8){let Rn=parseInt(pn.substr(Je,8),2).toString(16);1===Rn.length&&(Rn="0"+Rn),In+=Rn}return In.toLowerCase()},J=new RegExp("^-?(0*)\\d{1,10}$"),An=function(p){if(J.test(p)){const d=Number(p);if(d>=-2147483648&&d<=2147483647)return d}return null},yr=function(p){try{p()}catch(d){setTimeout(()=>{throw Or("Exception was thrown by user callback.",d.stack||""),d},Math.floor(0))}},ns=function(p,d){const c=setTimeout(p,d);return"number"==typeof c&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(c):"object"==typeof c&&c.unref&&c.unref(),c};class Fs{constructor(d,c){this.appName_=d,this.appCheckProvider=c,this.appCheck=c?.getImmediate({optional:!0}),this.appCheck||c?.get().then(v=>this.appCheck=v)}getToken(d){return this.appCheck?this.appCheck.getToken(d):new Promise((c,v)=>{setTimeout(()=>{this.appCheck?this.getToken(d).then(c,v):c(null)},0)})}addTokenChangeListener(d){var c;null===(c=this.appCheckProvider)||void 0===c||c.get().then(v=>v.addTokenListener(d))}notifyForInvalidToken(){Or(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ee{constructor(d,c,v){this.appName_=d,this.firebaseOptions_=c,this.authProvider_=v,this.auth_=null,this.auth_=v.getImmediate({optional:!0}),this.auth_||v.onInit(A=>this.auth_=A)}getToken(d){return this.auth_?this.auth_.getToken(d).catch(c=>c&&"auth/token-not-initialized"===c.code?(tn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(c)):new Promise((c,v)=>{setTimeout(()=>{this.auth_?this.getToken(d).then(c,v):c(null)},0)})}addTokenChangeListener(d){this.auth_?this.auth_.addAuthTokenListener(d):this.authProvider_.get().then(c=>c.addAuthTokenListener(d))}removeTokenChangeListener(d){this.authProvider_.get().then(c=>c.removeAuthTokenListener(d))}notifyForInvalidToken(){let d='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';d+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Or(d)}}let se=(()=>{class p{constructor(c){this.accessToken=c}getToken(c){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(c){c(this.accessToken)}removeTokenChangeListener(c){}notifyForInvalidToken(){}}return p.OWNER="owner",p})();const Lt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vr="websocket",wr="long_polling";class $i{constructor(d,c,v,A,H=!1,re="",xe=!1,Je=!1){this.secure=c,this.namespace=v,this.webSocketOnly=A,this.nodeAdmin=H,this.persistenceKey=re,this.includeNamespaceInQueryParams=xe,this.isUsingEmulator=Je,this._host=d.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=te.get("host:"+d)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(d){d!==this.internalHost&&(this.internalHost=d,this.isCacheableHost()&&te.set("host:"+this._host,this.internalHost))}toString(){let d=this.toURLString();return this.persistenceKey&&(d+="<"+this.persistenceKey+">"),d}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Us(p,d,c){let v;if((0,Le.hu)("string"==typeof d,"typeof type must == string"),(0,Le.hu)("object"==typeof c,"typeof params must == object"),d===vr)v=(p.secure?"wss://":"ws://")+p.internalHost+"/.ws?";else{if(d!==wr)throw new Error("Unknown connection type: "+d);v=(p.secure?"https://":"http://")+p.internalHost+"/.lp?"}(function Js(p){return p.host!==p.internalHost||p.isCustomHost()||p.includeNamespaceInQueryParams})(p)&&(c.ns=p.namespace);const A=[];return Dr(c,(H,re)=>{A.push(H+"="+re)}),v+A.join("&")}class Fi{constructor(){this.counters_={}}incrementCounter(d,c=1){(0,Le.r3)(this.counters_,d)||(this.counters_[d]=0),this.counters_[d]+=c}get(){return(0,Le.p$)(this.counters_)}}const zn={},$r={};function Vi(p){const d=p.toString();return zn[d]||(zn[d]=new Fi),zn[d]}class uo{constructor(d){this.onMessage_=d,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(d,c){this.closeAfterResponse=d,this.onClose=c,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(d,c){for(this.pendingResponses[d]=c;this.pendingResponses[this.currentResponseNum];){const v=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let A=0;A<v.length;++A)v[A]&&yr(()=>{this.onMessage_(v[A])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class io{constructor(d,c,v,A,H,re,xe){this.connId=d,this.repoInfo=c,this.applicationId=v,this.appCheckToken=A,this.authToken=H,this.transportSessionId=re,this.lastSessionId=xe,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dn(d),this.stats_=Vi(c),this.urlFn=Je=>(this.appCheckToken&&(Je.ac=this.appCheckToken),Us(c,wr,Je))}open(d,c){this.curSegmentNum=0,this.onDisconnect_=c,this.myPacketOrderer=new uo(d),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(p){if((0,Le.Yr)()||"complete"===document.readyState)p();else{let d=!1;const c=function(){document.body?d||(d=!0,p()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ea((...H)=>{const[re,xe,Je,ft,pn]=H;if(this.incrementIncomingBytes_(H),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===re)this.id=xe,this.password=Je;else{if("close"!==re)throw new Error("Unrecognized command received: "+re);xe?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(xe,()=>{this.onClosed_()})):this.onClosed_()}},(...H)=>{const[re,xe]=H;this.incrementIncomingBytes_(H),this.myPacketOrderer.handleResponse(re,xe)},()=>{this.onClosed_()},this.urlFn);const v={start:"t"};v.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(v.cb=this.scriptTagHolder.uniqueCallbackIdentifier),v.v="5",this.transportSessionId&&(v.s=this.transportSessionId),this.lastSessionId&&(v.ls=this.lastSessionId),this.applicationId&&(v.p=this.applicationId),this.appCheckToken&&(v.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Lt.test(location.hostname)&&(v.r="f");const A=this.urlFn(v);this.log_("Connecting via long-poll to "+A),this.scriptTagHolder.addTag(A,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){io.forceAllow_=!0}static forceDisallow(){io.forceDisallow_=!0}static isAvailable(){return!((0,Le.Yr)()||!io.forceAllow_&&(io.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(d){const c=(0,Le.Wl)(d);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);const v=(0,Le.h$)(c),A=er(v,1840);for(let H=0;H<A.length;H++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,A.length,A[H]),this.curSegmentNum++}addDisconnectPingFrame(d,c){if((0,Le.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const v={dframe:"t"};v.id=d,v.pw=c,this.myDisconnFrame.src=this.urlFn(v),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(d){const c=(0,Le.Wl)(d).length;this.bytesReceived+=c,this.stats_.incrementCounter("bytes_received",c)}}class ea{constructor(d,c,v,A){if(this.onDisconnect=v,this.urlFn=A,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Le.Yr)())this.commandCB=d,this.onMessageCB=c;else{this.uniqueCallbackIdentifier=$e(),window["pLPCommand"+this.uniqueCallbackIdentifier]=d,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=ea.createIFrame_();let H="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(H='<script>document.domain="'+document.domain+'";<\/script>');const re="<html><body>"+H+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(re),this.myIFrame.doc.close()}catch(xe){tn("frame writing exception"),xe.stack&&tn(xe.stack),tn(xe)}}}static createIFrame_(){const d=document.createElement("iframe");if(d.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(d);try{d.contentWindow.document||tn("No IE domain setting required")}catch{const v=document.domain;d.src="javascript:void((function(){document.open();document.domain='"+v+"';document.close();})())"}return d.contentDocument?d.doc=d.contentDocument:d.contentWindow?d.doc=d.contentWindow.document:d.document&&(d.doc=d.document),d}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const d=this.onDisconnect;d&&(this.onDisconnect=null,d())}startLongPoll(d,c){for(this.myID=d,this.myPW=c,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const d={};d.id=this.myID,d.pw=this.myPW,d.ser=this.currentSerial;let c=this.urlFn(d),v="",A=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+v.length<=1870;){const re=this.pendingSegs.shift();v=v+"&seg"+A+"="+re.seg+"&ts"+A+"="+re.ts+"&d"+A+"="+re.d,A++}return c+=v,this.addLongPollTag_(c,this.currentSerial),!0}return!1}enqueueSegment(d,c,v){this.pendingSegs.push({seg:d,ts:c,d:v}),this.alive&&this.newRequest_()}addLongPollTag_(d,c){this.outstandingRequests.add(c);const v=()=>{this.outstandingRequests.delete(c),this.newRequest_()},A=setTimeout(v,Math.floor(25e3));this.addTag(d,()=>{clearTimeout(A),v()})}addTag(d,c){(0,Le.Yr)()?this.doNodeLongPoll(d,c):setTimeout(()=>{try{if(!this.sendNewPolls)return;const v=this.myIFrame.doc.createElement("script");v.type="text/javascript",v.async=!0,v.src=d,v.onload=v.onreadystatechange=function(){const A=v.readyState;(!A||"loaded"===A||"complete"===A)&&(v.onload=v.onreadystatechange=null,v.parentNode&&v.parentNode.removeChild(v),c())},v.onerror=()=>{tn("Long-poll script failed to load: "+d),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(v)}catch{}},Math.floor(1))}}let Bo=null;typeof MozWebSocket<"u"?Bo=MozWebSocket:typeof WebSocket<"u"&&(Bo=WebSocket);let Li=(()=>{class p{constructor(c,v,A,H,re,xe,Je){this.connId=c,this.applicationId=A,this.appCheckToken=H,this.authToken=re,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dn(this.connId),this.stats_=Vi(v),this.connURL=p.connectionURL_(v,xe,Je,H,A),this.nodeAdmin=v.nodeAdmin}static connectionURL_(c,v,A,H,re){const xe={v:"5"};return!(0,Le.Yr)()&&typeof location<"u"&&location.hostname&&Lt.test(location.hostname)&&(xe.r="f"),v&&(xe.s=v),A&&(xe.ls=A),H&&(xe.ac=H),re&&(xe.p=re),Us(c,vr,xe)}open(c,v){this.onDisconnect=v,this.onMessage=c,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,te.set("previous_websocket_failure",!0);try{let A;if((0,Le.Yr)()){A={headers:{"User-Agent":`Firebase/5/${Gi}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(A.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(A.headers["X-Firebase-AppCheck"]=this.appCheckToken);const re=process.env,xe=0===this.connURL.indexOf("wss://")?re.HTTPS_PROXY||re.https_proxy:re.HTTP_PROXY||re.http_proxy;xe&&(A.proxy={origin:xe})}this.mySock=new Bo(this.connURL,[],A)}catch(A){this.log_("Error instantiating WebSocket.");const H=A.message||A.data;return H&&this.log_(H),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=A=>{this.handleIncomingFrame(A)},this.mySock.onerror=A=>{this.log_("WebSocket error.  Closing connection.");const H=A.message||A.data;H&&this.log_(H),this.onClosed_()}}start(){}static forceDisallow(){p.forceDisallow_=!0}static isAvailable(){let c=!1;if(typeof navigator<"u"&&navigator.userAgent){const A=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);A&&A.length>1&&parseFloat(A[1])<4.4&&(c=!0)}return!c&&null!==Bo&&!p.forceDisallow_}static previouslyFailed(){return te.isInMemoryStorage||!0===te.get("previous_websocket_failure")}markConnectionHealthy(){te.remove("previous_websocket_failure")}appendFrame_(c){if(this.frames.push(c),this.frames.length===this.totalFrames){const v=this.frames.join("");this.frames=null;const A=(0,Le.cI)(v);this.onMessage(A)}}handleNewFrameCount_(c){this.totalFrames=c,this.frames=[]}extractFrameCount_(c){if((0,Le.hu)(null===this.frames,"We already have a frame buffer"),c.length<=6){const v=Number(c);if(!isNaN(v))return this.handleNewFrameCount_(v),null}return this.handleNewFrameCount_(1),c}handleIncomingFrame(c){if(null===this.mySock)return;const v=c.data;if(this.bytesReceived+=v.length,this.stats_.incrementCounter("bytes_received",v.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(v);else{const A=this.extractFrameCount_(v);null!==A&&this.appendFrame_(A)}}send(c){this.resetKeepAlive();const v=(0,Le.Wl)(c);this.bytesSent+=v.length,this.stats_.incrementCounter("bytes_sent",v.length);const A=er(v,16384);A.length>1&&this.sendString_(String(A.length));for(let H=0;H<A.length;H++)this.sendString_(A[H])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(c){try{this.mySock.send(c)}catch(v){this.log_("Exception thrown from WebSocket.send():",v.message||v.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return p.responsesRequiredToBeHealthy=2,p.healthyTimeout=3e4,p})(),Ce=(()=>{class p{constructor(c){this.initTransports_(c)}static get ALL_TRANSPORTS(){return[io,Li]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(c){const v=Li&&Li.isAvailable();let A=v&&!Li.previouslyFailed();if(c.webSocketOnly&&(v||Or("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),A=!0),A)this.transports_=[Li];else{const H=this.transports_=[];for(const re of p.ALL_TRANSPORTS)re&&re.isAvailable()&&H.push(re);p.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return p.globalTransportInitialized_=!1,p})();class ji{constructor(d,c,v,A,H,re,xe,Je,ft,pn){this.id=d,this.repoInfo_=c,this.applicationId_=v,this.appCheckToken_=A,this.authToken_=H,this.onMessage_=re,this.onReady_=xe,this.onDisconnect_=Je,this.onKill_=ft,this.lastSessionId=pn,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dn("c:"+this.id+":"),this.transportManager_=new Ce(c),this.log_("Connection created"),this.start_()}start_(){const d=this.transportManager_.initialTransport();this.conn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.conn_),v=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(c,v)},Math.floor(0));const A=d.healthyTimeout||0;A>0&&(this.healthyTimeout_=ns(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(A)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(d){return c=>{d===this.conn_?this.onConnectionLost_(c):d===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(d){return c=>{2!==this.state_&&(d===this.rx_?this.onPrimaryMessageReceived_(c):d===this.secondaryConn_?this.onSecondaryMessageReceived_(c):this.log_("message on old connection"))}}sendRequest(d){this.sendData_({t:"d",d})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(d){if("t"in d){const c=d.t;"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===c&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(d){const c=_i("t",d),v=_i("d",d);if("c"===c)this.onSecondaryControl_(v);else{if("d"!==c)throw new Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(v)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(d){const c=_i("t",d),v=_i("d",d);"c"===c?this.onControl_(v):"d"===c&&this.onDataMessage_(v)}onDataMessage_(d){this.onPrimaryResponse_(),this.onMessage_(d)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(d){const c=_i("t",d);if("d"in d){const v=d.d;if("h"===c){const A=Object.assign({},v);this.repoInfo_.isUsingEmulator&&(A.h=this.repoInfo_.host),this.onHandshake_(A)}else if("n"===c){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let A=0;A<this.pendingDataMessages.length;++A)this.onDataMessage_(this.pendingDataMessages[A]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(v):"r"===c?this.onReset_(v):"e"===c?rr("Server Error: "+v):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rr("Unknown control packet command: "+c)}}onHandshake_(d){const c=d.ts,v=d.v,A=d.h;this.sessionId=d.s,this.repoInfo_.host=A,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==v&&Or("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const d=this.transportManager_.upgradeTransport();d&&this.startUpgrade_(d)}startUpgrade_(d){this.secondaryConn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.secondaryConn_),v=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(c,v),ns(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(d){this.log_("Reset packet received.  New host: "+d),this.repoInfo_.host=d,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(d,c){this.log_("Realtime connection established."),this.conn_=d,this.state_=1,this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ns(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const d=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===d||this.rx_===d)&&this.close()}onConnectionLost_(d){this.conn_=null,d||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(te.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(d){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(d),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(d){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(d)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Si{put(d,c,v,A){}merge(d,c,v,A){}refreshAuthToken(d){}refreshAppCheckToken(d){}onDisconnectPut(d,c,v){}onDisconnectMerge(d,c,v){}onDisconnectCancel(d,c){}reportStats(d){}}class Vs{constructor(d){this.allowedEvents_=d,this.listeners_={},(0,Le.hu)(Array.isArray(d)&&d.length>0,"Requires a non-empty array")}trigger(d,...c){if(Array.isArray(this.listeners_[d])){const v=[...this.listeners_[d]];for(let A=0;A<v.length;A++)v[A].callback.apply(v[A].context,c)}}on(d,c,v){this.validateEventType_(d),this.listeners_[d]=this.listeners_[d]||[],this.listeners_[d].push({callback:c,context:v});const A=this.getInitialEvent(d);A&&c.apply(v,A)}off(d,c,v){this.validateEventType_(d);const A=this.listeners_[d]||[];for(let H=0;H<A.length;H++)if(A[H].callback===c&&(!v||v===A[H].context))return void A.splice(H,1)}validateEventType_(d){(0,Le.hu)(this.allowedEvents_.find(c=>c===d),"Unknown event: "+d)}}class ls extends Vs{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Le.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ls}getInitialEvent(d){return(0,Le.hu)("online"===d,"Unknown event type: "+d),[this.online_]}currentlyOnline(){return this.online_}}class Ai{constructor(d,c){if(void 0===c){this.pieces_=d.split("/");let v=0;for(let A=0;A<this.pieces_.length;A++)this.pieces_[A].length>0&&(this.pieces_[v]=this.pieces_[A],v++);this.pieces_.length=v,this.pieceNum_=0}else this.pieces_=d,this.pieceNum_=c}toString(){let d="";for(let c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(d+="/"+this.pieces_[c]);return d||"/"}}function xi(){return new Ai("")}function li(p){return p.pieceNum_>=p.pieces_.length?null:p.pieces_[p.pieceNum_]}function ms(p){return p.pieces_.length-p.pieceNum_}function Ni(p){let d=p.pieceNum_;return d<p.pieces_.length&&d++,new Ai(p.pieces_,d)}function Za(p){return p.pieceNum_<p.pieces_.length?p.pieces_[p.pieces_.length-1]:null}function Uo(p,d=0){return p.pieces_.slice(p.pieceNum_+d)}function Ro(p){if(p.pieceNum_>=p.pieces_.length)return null;const d=[];for(let c=p.pieceNum_;c<p.pieces_.length-1;c++)d.push(p.pieces_[c]);return new Ai(d,0)}function xs(p,d){const c=[];for(let v=p.pieceNum_;v<p.pieces_.length;v++)c.push(p.pieces_[v]);if(d instanceof Ai)for(let v=d.pieceNum_;v<d.pieces_.length;v++)c.push(d.pieces_[v]);else{const v=d.split("/");for(let A=0;A<v.length;A++)v[A].length>0&&c.push(v[A])}return new Ai(c,0)}function pi(p){return p.pieceNum_>=p.pieces_.length}function Es(p,d){const c=li(p),v=li(d);if(null===c)return d;if(c===v)return Es(Ni(p),Ni(d));throw new Error("INTERNAL ERROR: innerPath ("+d+") is not within outerPath ("+p+")")}function la(p,d){const c=Uo(p,0),v=Uo(d,0);for(let A=0;A<c.length&&A<v.length;A++){const H=mr(c[A],v[A]);if(0!==H)return H}return c.length===v.length?0:c.length<v.length?-1:1}function $o(p,d){if(ms(p)!==ms(d))return!1;for(let c=p.pieceNum_,v=d.pieceNum_;c<=p.pieces_.length;c++,v++)if(p.pieces_[c]!==d.pieces_[v])return!1;return!0}function bo(p,d){let c=p.pieceNum_,v=d.pieceNum_;if(ms(p)>ms(d))return!1;for(;c<p.pieces_.length;){if(p.pieces_[c]!==d.pieces_[v])return!1;++c,++v}return!0}class T{constructor(d,c){this.errorPrefix_=c,this.parts_=Uo(d,0),this.byteLength_=Math.max(1,this.parts_.length);for(let v=0;v<this.parts_.length;v++)this.byteLength_+=(0,Le.ug)(this.parts_[v]);C(this)}}function C(p){if(p.byteLength_>768)throw new Error(p.errorPrefix_+"has a key path longer than 768 bytes ("+p.byteLength_+").");if(p.parts_.length>32)throw new Error(p.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+M(p))}function M(p){return 0===p.parts_.length?"":"in property '"+p.parts_.join(".")+"'"}class L extends Vs{constructor(){let d,c;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(c="visibilitychange",d="hidden"):typeof document.mozHidden<"u"?(c="mozvisibilitychange",d="mozHidden"):typeof document.msHidden<"u"?(c="msvisibilitychange",d="msHidden"):typeof document.webkitHidden<"u"&&(c="webkitvisibilitychange",d="webkitHidden")),this.visible_=!0,c&&document.addEventListener(c,()=>{const v=!document[d];v!==this.visible_&&(this.visible_=v,this.trigger("visible",v))},!1)}static getInstance(){return new L}getInitialEvent(d){return(0,Le.hu)("visible"===d,"Unknown event type: "+d),[this.visible_]}}const fe=1e3;let Go,is=(()=>{class p extends Si{constructor(c,v,A,H,re,xe,Je,ft){if(super(),this.repoInfo_=c,this.applicationId_=v,this.onDataUpdate_=A,this.onConnectStatus_=H,this.onServerInfoUpdate_=re,this.authTokenProvider_=xe,this.appCheckTokenProvider_=Je,this.authOverride_=ft,this.id=p.nextPersistentConnectionId_++,this.log_=Dn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fe,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ft&&!(0,Le.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");L.getInstance().on("visible",this.onVisible_,this),-1===c.host.indexOf("fblocal")&&ls.getInstance().on("online",this.onOnline_,this)}sendRequest(c,v,A){const H=++this.requestNumber_,re={r:H,a:c,b:v};this.log_((0,Le.Wl)(re)),(0,Le.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(re),A&&(this.requestCBHash_[H]=A)}get(c){this.initConnection_();const v=new Le.BH,H={action:"g",request:{p:c._path.toString(),q:c._queryObject},onComplete:xe=>{const Je=xe.d;"ok"===xe.s?v.resolve(Je):v.reject(Je)}};return this.outstandingGets_.push(H),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),v.promise}listen(c,v,A,H){this.initConnection_();const re=c._queryIdentifier,xe=c._path.toString();this.log_("Listen called for "+xe+" "+re),this.listens.has(xe)||this.listens.set(xe,new Map),(0,Le.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Le.hu)(!this.listens.get(xe).has(re),"listen() called twice for same path/queryId.");const Je={onComplete:H,hashFn:v,query:c,tag:A};this.listens.get(xe).set(re,Je),this.connected_&&this.sendListen_(Je)}sendGet_(c){const v=this.outstandingGets_[c];this.sendRequest("g",v.request,A=>{delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),v.onComplete&&v.onComplete(A)})}sendListen_(c){const v=c.query,A=v._path.toString(),H=v._queryIdentifier;this.log_("Listen on "+A+" for "+H);const re={p:A};c.tag&&(re.q=v._queryObject,re.t=c.tag),re.h=c.hashFn(),this.sendRequest("q",re,Je=>{const ft=Je.d,pn=Je.s;p.warnOnListenWarnings_(ft,v),(this.listens.get(A)&&this.listens.get(A).get(H))===c&&(this.log_("listen response",Je),"ok"!==pn&&this.removeListen_(A,H),c.onComplete&&c.onComplete(pn,ft))})}static warnOnListenWarnings_(c,v){if(c&&"object"==typeof c&&(0,Le.r3)(c,"w")){const A=(0,Le.DV)(c,"w");if(Array.isArray(A)&&~A.indexOf("no_index")){const H='".indexOn": "'+v._queryParams.getIndex().toString()+'"',re=v._path.toString();Or(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${H} at ${re} to your security rules for better performance.`)}}}refreshAuthToken(c){this.authToken_=c,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(c)}reduceReconnectDelayIfAdminCredential_(c){(c&&40===c.length||(0,Le.GJ)(c))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(c){this.appCheckToken_=c,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const c=this.authToken_,v=(0,Le.w9)(c)?"auth":"gauth",A={cred:c};null===this.authOverride_?A.noauth=!0:"object"==typeof this.authOverride_&&(A.authvar=this.authOverride_),this.sendRequest(v,A,H=>{const re=H.s,xe=H.d||"error";this.authToken_===c&&("ok"===re?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(re,xe))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},c=>{const v=c.s,A=c.d||"error";"ok"===v?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(v,A)})}unlisten(c,v){const A=c._path.toString(),H=c._queryIdentifier;this.log_("Unlisten called for "+A+" "+H),(0,Le.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(A,H)&&this.connected_&&this.sendUnlisten_(A,H,c._queryObject,v)}sendUnlisten_(c,v,A,H){this.log_("Unlisten on "+c+" for "+v);const re={p:c};H&&(re.q=A,re.t=H),this.sendRequest("n",re)}onDisconnectPut(c,v,A){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",c,v,A):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:v,onComplete:A})}onDisconnectMerge(c,v,A){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",c,v,A):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:v,onComplete:A})}onDisconnectCancel(c,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",c,null,v):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:v})}sendOnDisconnect_(c,v,A,H){const re={p:v,d:A};this.log_("onDisconnect "+c,re),this.sendRequest(c,re,xe=>{H&&setTimeout(()=>{H(xe.s,xe.d)},Math.floor(0))})}put(c,v,A,H){this.putInternal("p",c,v,A,H)}merge(c,v,A,H){this.putInternal("m",c,v,A,H)}putInternal(c,v,A,H,re){this.initConnection_();const xe={p:v,d:A};void 0!==re&&(xe.h=re),this.outstandingPuts_.push({action:c,request:xe,onComplete:H}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+v)}sendPut_(c){const v=this.outstandingPuts_[c].action,A=this.outstandingPuts_[c].request,H=this.outstandingPuts_[c].onComplete;this.outstandingPuts_[c].queued=this.connected_,this.sendRequest(v,A,re=>{this.log_(v+" response",re),delete this.outstandingPuts_[c],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),H&&H(re.s,re.d)})}reportStats(c){if(this.connected_){const v={c};this.log_("reportStats",v),this.sendRequest("s",v,A=>{"ok"!==A.s&&this.log_("reportStats","Error sending stats: "+A.d)})}}onDataMessage_(c){if("r"in c){this.log_("from server: "+(0,Le.Wl)(c));const v=c.r,A=this.requestCBHash_[v];A&&(delete this.requestCBHash_[v],A(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;"a"in c&&this.onDataPush_(c.a,c.b)}}onDataPush_(c,v){this.log_("handleServerMessage",c,v),"d"===c?this.onDataUpdate_(v.p,v.d,!1,v.t):"m"===c?this.onDataUpdate_(v.p,v.d,!0,v.t):"c"===c?this.onListenRevoked_(v.p,v.q):"ac"===c?this.onAuthRevoked_(v.s,v.d):"apc"===c?this.onAppCheckRevoked_(v.s,v.d):"sd"===c?this.onSecurityDebugPacket_(v):rr("Unrecognized action received from server: "+(0,Le.Wl)(c)+"\nAre you using the latest client?")}onReady_(c,v){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(c),this.lastSessionId=v,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(c){(0,Le.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(c))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fe,this.realtime_||this.scheduleConnect_(0)),this.visible_=c}onOnline_(c){c?(this.log_("Browser went online."),this.reconnectDelay_=fe,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=fe),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const c=(new Date).getTime()-this.lastConnectionAttemptTime_;let v=Math.max(0,this.reconnectDelay_-c);v=Math.random()*v,this.log_("Trying to reconnect in "+v+"ms"),this.scheduleConnect_(v),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var c=this;return(0,Te.Z)(function*(){if(c.shouldReconnect_()){c.log_("Making a connection attempt"),c.lastConnectionAttemptTime_=(new Date).getTime(),c.lastConnectionEstablishedTime_=null;const v=c.onDataMessage_.bind(c),A=c.onReady_.bind(c),H=c.onRealtimeDisconnect_.bind(c),re=c.id+":"+p.nextConnectionId_++,xe=c.lastSessionId;let Je=!1,ft=null;const pn=function(){ft?ft.close():(Je=!0,H())};c.realtime_={close:pn,sendRequest:function(gr){(0,Le.hu)(ft,"sendRequest call when we're not connected not allowed."),ft.sendRequest(gr)}};const Rn=c.forceTokenRefresh_;c.forceTokenRefresh_=!1;try{const[gr,Jr]=yield Promise.all([c.authTokenProvider_.getToken(Rn),c.appCheckTokenProvider_.getToken(Rn)]);Je?tn("getToken() completed but was canceled"):(tn("getToken() completed. Creating connection."),c.authToken_=gr&&gr.accessToken,c.appCheckToken_=Jr&&Jr.token,ft=new ji(re,c.repoInfo_,c.applicationId_,c.appCheckToken_,c.authToken_,v,A,H,as=>{Or(as+" ("+c.repoInfo_.toString()+")"),c.interrupt("server_kill")},xe))}catch(gr){c.log_("Failed to get token: "+gr),Je||(c.repoInfo_.nodeAdmin&&Or(gr),pn())}}})()}interrupt(c){tn("Interrupting connection for reason: "+c),this.interruptReasons_[c]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(c){tn("Resuming connection for reason: "+c),delete this.interruptReasons_[c],(0,Le.xb)(this.interruptReasons_)&&(this.reconnectDelay_=fe,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(c){const v=c-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:v})}cancelSentTransactions_(){for(let c=0;c<this.outstandingPuts_.length;c++){const v=this.outstandingPuts_[c];v&&"h"in v.request&&v.queued&&(v.onComplete&&v.onComplete("disconnect"),delete this.outstandingPuts_[c],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(c,v){let A;A=v?v.map(re=>Sr(re)).join("$"):"default";const H=this.removeListen_(c,A);H&&H.onComplete&&H.onComplete("permission_denied")}removeListen_(c,v){const A=new Ai(c).toString();let H;if(this.listens.has(A)){const re=this.listens.get(A);H=re.get(v),re.delete(v),0===re.size&&this.listens.delete(A)}else H=void 0;return H}onAuthRevoked_(c,v){tn("Auth token revoked: "+c+"/"+v),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===c||"permission_denied"===c)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(c,v){tn("App check token revoked: "+c+"/"+v),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===c||"permission_denied"===c)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const c of this.listens.values())for(const v of c.values())this.sendListen_(v);for(let c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){const c=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(c.action,c.pathString,c.data,c.onComplete)}for(let c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)}sendConnectStats_(){const c={};let v="js";(0,Le.Yr)()&&(v=this.repoInfo_.nodeAdmin?"admin_node":"node"),c["sdk."+v+"."+Gi.replace(/\./g,"-")]=1,(0,Le.uI)()?c["framework.cordova"]=1:(0,Le.b$)()&&(c["framework.reactnative"]=1),this.reportStats(c)}shouldReconnect_(){const c=ls.getInstance().currentlyOnline();return(0,Le.xb)(this.interruptReasons_)&&c}}return p.nextPersistentConnectionId_=0,p.nextConnectionId_=0,p})();class gi{constructor(d,c){this.name=d,this.node=c}static Wrap(d,c){return new gi(d,c)}}class vo{getCompare(){return this.compare.bind(this)}indexedValueChanged(d,c){const v=new gi(Kn,d),A=new gi(Kn,c);return 0!==this.compare(v,A)}minPost(){return gi.MIN}}class Bu extends vo{static get __EMPTY_NODE(){return Go}static set __EMPTY_NODE(d){Go=d}compare(d,c){return mr(d.name,c.name)}isDefinedOn(d){throw(0,Le.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(d,c){return!1}minPost(){return gi.MIN}maxPost(){return new gi(dr,Go)}makePost(d,c){return(0,Le.hu)("string"==typeof d,"KeyIndex indexValue must always be a string."),new gi(d,Go)}toString(){return".key"}}const To=new Bu;class ba{constructor(d,c,v,A,H=null){this.isReverse_=A,this.resultGenerator_=H,this.nodeStack_=[];let re=1;for(;!d.isEmpty();)if(re=c?v(d.key,c):1,A&&(re*=-1),re<0)d=this.isReverse_?d.left:d.right;else{if(0===re){this.nodeStack_.push(d);break}this.nodeStack_.push(d),d=this.isReverse_?d.right:d.left}}getNext(){if(0===this.nodeStack_.length)return null;let c,d=this.nodeStack_.pop();if(c=this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value},this.isReverse_)for(d=d.left;!d.isEmpty();)this.nodeStack_.push(d),d=d.right;else for(d=d.right;!d.isEmpty();)this.nodeStack_.push(d),d=d.left;return c}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const d=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value}}}let Qa,Hs=(()=>{class p{constructor(c,v,A,H,re){this.key=c,this.value=v,this.color=A??p.RED,this.left=H??mo.EMPTY_NODE,this.right=re??mo.EMPTY_NODE}copy(c,v,A,H,re){return new p(c??this.key,v??this.value,A??this.color,H??this.left,re??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(c){return this.left.inorderTraversal(c)||!!c(this.key,this.value)||this.right.inorderTraversal(c)}reverseTraversal(c){return this.right.reverseTraversal(c)||c(this.key,this.value)||this.left.reverseTraversal(c)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(c,v,A){let H=this;const re=A(c,H.key);return H=re<0?H.copy(null,null,null,H.left.insert(c,v,A),null):0===re?H.copy(null,v,null,null,null):H.copy(null,null,null,null,H.right.insert(c,v,A)),H.fixUp_()}removeMin_(){if(this.left.isEmpty())return mo.EMPTY_NODE;let c=this;return!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.removeMin_(),null),c.fixUp_()}remove(c,v){let A,H;if(A=this,v(c,A.key)<0)!A.left.isEmpty()&&!A.left.isRed_()&&!A.left.left.isRed_()&&(A=A.moveRedLeft_()),A=A.copy(null,null,null,A.left.remove(c,v),null);else{if(A.left.isRed_()&&(A=A.rotateRight_()),!A.right.isEmpty()&&!A.right.isRed_()&&!A.right.left.isRed_()&&(A=A.moveRedRight_()),0===v(c,A.key)){if(A.right.isEmpty())return mo.EMPTY_NODE;H=A.right.min_(),A=A.copy(H.key,H.value,null,null,A.right.removeMin_())}A=A.copy(null,null,null,null,A.right.remove(c,v))}return A.fixUp_()}isRed_(){return this.color}fixUp_(){let c=this;return c.right.isRed_()&&!c.left.isRed_()&&(c=c.rotateLeft_()),c.left.isRed_()&&c.left.left.isRed_()&&(c=c.rotateRight_()),c.left.isRed_()&&c.right.isRed_()&&(c=c.colorFlip_()),c}moveRedLeft_(){let c=this.colorFlip_();return c.right.left.isRed_()&&(c=c.copy(null,null,null,null,c.right.rotateRight_()),c=c.rotateLeft_(),c=c.colorFlip_()),c}moveRedRight_(){let c=this.colorFlip_();return c.left.left.isRed_()&&(c=c.rotateRight_(),c=c.colorFlip_()),c}rotateLeft_(){const c=this.copy(null,null,p.RED,null,this.right.left);return this.right.copy(null,null,this.color,c,null)}rotateRight_(){const c=this.copy(null,null,p.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)}colorFlip_(){const c=this.left.copy(null,null,!this.left.color,null,null),v=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,v)}checkMaxDepth_(){const c=this.check_();return Math.pow(2,c)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const c=this.left.check_();if(c!==this.right.check_())throw new Error("Black depths differ");return c+(this.isRed_()?0:1)}}return p.RED=!0,p.BLACK=!1,p})();class mo{constructor(d,c=mo.EMPTY_NODE){this.comparator_=d,this.root_=c}insert(d,c){return new mo(this.comparator_,this.root_.insert(d,c,this.comparator_).copy(null,null,Hs.BLACK,null,null))}remove(d){return new mo(this.comparator_,this.root_.remove(d,this.comparator_).copy(null,null,Hs.BLACK,null,null))}get(d){let c,v=this.root_;for(;!v.isEmpty();){if(c=this.comparator_(d,v.key),0===c)return v.value;c<0?v=v.left:c>0&&(v=v.right)}return null}getPredecessorKey(d){let c,v=this.root_,A=null;for(;!v.isEmpty();){if(c=this.comparator_(d,v.key),0===c){if(v.left.isEmpty())return A?A.key:null;for(v=v.left;!v.right.isEmpty();)v=v.right;return v.key}c<0?v=v.left:c>0&&(A=v,v=v.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(d){return this.root_.inorderTraversal(d)}reverseTraversal(d){return this.root_.reverseTraversal(d)}getIterator(d){return new ba(this.root_,null,this.comparator_,!1,d)}getIteratorFrom(d,c){return new ba(this.root_,d,this.comparator_,!1,c)}getReverseIteratorFrom(d,c){return new ba(this.root_,d,this.comparator_,!0,c)}getReverseIterator(d){return new ba(this.root_,null,this.comparator_,!0,d)}}function sl(p,d){return mr(p.name,d.name)}function Iu(p,d){return mr(p,d)}mo.EMPTY_NODE=new class ca{copy(d,c,v,A,H){return this}insert(d,c,v){return new Hs(d,c,null)}remove(d,c){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(d){return!1}reverseTraversal(d){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const oo=function(p){return"number"==typeof p?"number:"+Bs(p):"string:"+p},Yl=function(p){if(p.isLeafNode()){const d=p.val();(0,Le.hu)("string"==typeof d||"number"==typeof d||"object"==typeof d&&(0,Le.r3)(d,".sv"),"Priority must be a string or number.")}else(0,Le.hu)(p===Qa||p.isEmpty(),"priority of unexpected type.");(0,Le.hu)(p===Qa||p.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Na,Uu,Zu,Xa=(()=>{class p{constructor(c,v=p.__childrenNodeConstructor.EMPTY_NODE){this.value_=c,this.priorityNode_=v,this.lazyHash_=null,(0,Le.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Yl(this.priorityNode_)}static set __childrenNodeConstructor(c){Na=c}static get __childrenNodeConstructor(){return Na}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(c){return new p(this.value_,c)}getImmediateChild(c){return".priority"===c?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE}getChild(c){return pi(c)?this:".priority"===li(c)?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(c,v){return null}updateImmediateChild(c,v){return".priority"===c?this.updatePriority(v):v.isEmpty()&&".priority"!==c?this:p.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(c,v).updatePriority(this.priorityNode_)}updateChild(c,v){const A=li(c);return null===A?v:v.isEmpty()&&".priority"!==A?this:((0,Le.hu)(".priority"!==A||1===ms(c),".priority must be the last token in a path"),this.updateImmediateChild(A,p.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ni(c),v)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(c,v){return!1}val(c){return c&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let c="";this.priorityNode_.isEmpty()||(c+="priority:"+oo(this.priorityNode_.val())+":");const v=typeof this.value_;c+=v+":",c+="number"===v?Bs(this.value_):this.value_,this.lazyHash_=Se(c)}return this.lazyHash_}getValue(){return this.value_}compareTo(c){return c===p.__childrenNodeConstructor.EMPTY_NODE?1:c instanceof p.__childrenNodeConstructor?-1:((0,Le.hu)(c.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(c))}compareToLeafNode_(c){const v=typeof c.value_,A=typeof this.value_,H=p.VALUE_TYPE_ORDER.indexOf(v),re=p.VALUE_TYPE_ORDER.indexOf(A);return(0,Le.hu)(H>=0,"Unknown leaf type: "+v),(0,Le.hu)(re>=0,"Unknown leaf type: "+A),H===re?"object"===A?0:this.value_<c.value_?-1:this.value_===c.value_?0:1:re-H}withIndex(){return this}isIndexed(){return!0}equals(c){return c===this||!!c.isLeafNode()&&(this.value_===c.value_&&this.priorityNode_.equals(c.priorityNode_))}}return p.VALUE_TYPE_ORDER=["object","boolean","number","string"],p})();const en=new class _n extends vo{compare(d,c){const v=d.node.getPriority(),A=c.node.getPriority(),H=v.compareTo(A);return 0===H?mr(d.name,c.name):H}isDefinedOn(d){return!d.getPriority().isEmpty()}indexedValueChanged(d,c){return!d.getPriority().equals(c.getPriority())}minPost(){return gi.MIN}maxPost(){return new gi(dr,new Xa("[PRIORITY-POST]",Zu))}makePost(d,c){const v=Uu(d);return new gi(c,new Xa("[PRIORITY-POST]",v))}toString(){return".priority"}},Ar=Math.log(2);class si{constructor(d){this.count=parseInt(Math.log(d+1)/Ar,10),this.current_=this.count-1;const A=(H=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=d+1&A}nextBitIsOne(){const d=!(this.bits_&1<<this.current_);return this.current_--,d}}const Zi=function(p,d,c,v){p.sort(d);const A=function(Je,ft){const pn=ft-Je;let In,Rn;if(0===pn)return null;if(1===pn)return In=p[Je],Rn=c?c(In):In,new Hs(Rn,In.node,Hs.BLACK,null,null);{const gr=parseInt(pn/2,10)+Je,Jr=A(Je,gr),as=A(gr+1,ft);return In=p[gr],Rn=c?c(In):In,new Hs(Rn,In.node,Hs.BLACK,Jr,as)}},xe=function(Je){let ft=null,pn=null,In=p.length;const Rn=function(Jr,as){const Qo=In-Jr,lu=In;In-=Jr;const lc=A(Qo+1,lu),Ac=p[Qo],nd=c?c(Ac):Ac;gr(new Hs(nd,Ac.node,as,null,lc))},gr=function(Jr){ft?(ft.left=Jr,ft=Jr):(pn=Jr,ft=Jr)};for(let Jr=0;Jr<Je.count;++Jr){const as=Je.nextBitIsOne(),Qo=Math.pow(2,Je.count-(Jr+1));as?Rn(Qo,Hs.BLACK):(Rn(Qo,Hs.BLACK),Rn(Qo,Hs.RED))}return pn}(new si(p.length));return new mo(v||d,xe)};let js;const Nr={};class na{constructor(d,c){this.indexes_=d,this.indexSet_=c}static get Default(){return(0,Le.hu)(Nr&&en,"ChildrenNode.ts has not been loaded"),js=js||new na({".priority":Nr},{".priority":en}),js}get(d){const c=(0,Le.DV)(this.indexes_,d);if(!c)throw new Error("No index defined for "+d);return c instanceof mo?c:null}hasIndex(d){return(0,Le.r3)(this.indexSet_,d.toString())}addIndex(d,c){(0,Le.hu)(d!==To,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const v=[];let A=!1;const H=c.getIterator(gi.Wrap);let xe,re=H.getNext();for(;re;)A=A||d.isDefinedOn(re.node),v.push(re),re=H.getNext();xe=A?Zi(v,d.getCompare()):Nr;const Je=d.toString(),ft=Object.assign({},this.indexSet_);ft[Je]=d;const pn=Object.assign({},this.indexes_);return pn[Je]=xe,new na(pn,ft)}addToIndexes(d,c){const v=(0,Le.UI)(this.indexes_,(A,H)=>{const re=(0,Le.DV)(this.indexSet_,H);if((0,Le.hu)(re,"Missing index implementation for "+H),A===Nr){if(re.isDefinedOn(d.node)){const xe=[],Je=c.getIterator(gi.Wrap);let ft=Je.getNext();for(;ft;)ft.name!==d.name&&xe.push(ft),ft=Je.getNext();return xe.push(d),Zi(xe,re.getCompare())}return Nr}{const xe=c.get(d.name);let Je=A;return xe&&(Je=Je.remove(new gi(d.name,xe))),Je.insert(d,d.node)}});return new na(v,this.indexSet_)}removeFromIndexes(d,c){const v=(0,Le.UI)(this.indexes_,A=>{if(A===Nr)return A;{const H=c.get(d.name);return H?A.remove(new gi(d.name,H)):A}});return new na(v,this.indexSet_)}}let eu,Ir=(()=>{class p{constructor(c,v,A){this.children_=c,this.priorityNode_=v,this.indexMap_=A,this.lazyHash_=null,this.priorityNode_&&Yl(this.priorityNode_),this.children_.isEmpty()&&(0,Le.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return eu||(eu=new p(new mo(Iu),null,na.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||eu}updatePriority(c){return this.children_.isEmpty()?this:new p(this.children_,c,this.indexMap_)}getImmediateChild(c){if(".priority"===c)return this.getPriority();{const v=this.children_.get(c);return null===v?eu:v}}getChild(c){const v=li(c);return null===v?this:this.getImmediateChild(v).getChild(Ni(c))}hasChild(c){return null!==this.children_.get(c)}updateImmediateChild(c,v){if((0,Le.hu)(v,"We should always be passing snapshot nodes"),".priority"===c)return this.updatePriority(v);{const A=new gi(c,v);let H,re;v.isEmpty()?(H=this.children_.remove(c),re=this.indexMap_.removeFromIndexes(A,this.children_)):(H=this.children_.insert(c,v),re=this.indexMap_.addToIndexes(A,this.children_));const xe=H.isEmpty()?eu:this.priorityNode_;return new p(H,xe,re)}}updateChild(c,v){const A=li(c);if(null===A)return v;{(0,Le.hu)(".priority"!==li(c)||1===ms(c),".priority must be the last token in a path");const H=this.getImmediateChild(A).updateChild(Ni(c),v);return this.updateImmediateChild(A,H)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(c){if(this.isEmpty())return null;const v={};let A=0,H=0,re=!0;if(this.forEachChild(en,(xe,Je)=>{v[xe]=Je.val(c),A++,re&&p.INTEGER_REGEXP_.test(xe)?H=Math.max(H,Number(xe)):re=!1}),!c&&re&&H<2*A){const xe=[];for(const Je in v)xe[Je]=v[Je];return xe}return c&&!this.getPriority().isEmpty()&&(v[".priority"]=this.getPriority().val()),v}hash(){if(null===this.lazyHash_){let c="";this.getPriority().isEmpty()||(c+="priority:"+oo(this.getPriority().val())+":"),this.forEachChild(en,(v,A)=>{const H=A.hash();""!==H&&(c+=":"+v+":"+H)}),this.lazyHash_=""===c?"":Se(c)}return this.lazyHash_}getPredecessorChildName(c,v,A){const H=this.resolveIndex_(A);if(H){const re=H.getPredecessorKey(new gi(c,v));return re?re.name:null}return this.children_.getPredecessorKey(c)}getFirstChildName(c){const v=this.resolveIndex_(c);if(v){const A=v.minKey();return A&&A.name}return this.children_.minKey()}getFirstChild(c){const v=this.getFirstChildName(c);return v?new gi(v,this.children_.get(v)):null}getLastChildName(c){const v=this.resolveIndex_(c);if(v){const A=v.maxKey();return A&&A.name}return this.children_.maxKey()}getLastChild(c){const v=this.getLastChildName(c);return v?new gi(v,this.children_.get(v)):null}forEachChild(c,v){const A=this.resolveIndex_(c);return A?A.inorderTraversal(H=>v(H.name,H.node)):this.children_.inorderTraversal(v)}getIterator(c){return this.getIteratorFrom(c.minPost(),c)}getIteratorFrom(c,v){const A=this.resolveIndex_(v);if(A)return A.getIteratorFrom(c,H=>H);{const H=this.children_.getIteratorFrom(c.name,gi.Wrap);let re=H.peek();for(;null!=re&&v.compare(re,c)<0;)H.getNext(),re=H.peek();return H}}getReverseIterator(c){return this.getReverseIteratorFrom(c.maxPost(),c)}getReverseIteratorFrom(c,v){const A=this.resolveIndex_(v);if(A)return A.getReverseIteratorFrom(c,H=>H);{const H=this.children_.getReverseIteratorFrom(c.name,gi.Wrap);let re=H.peek();for(;null!=re&&v.compare(re,c)>0;)H.getNext(),re=H.peek();return H}}compareTo(c){return this.isEmpty()?c.isEmpty()?0:-1:c.isLeafNode()||c.isEmpty()?1:c===Oo?-1:0}withIndex(c){if(c===To||this.indexMap_.hasIndex(c))return this;{const v=this.indexMap_.addIndex(c,this.children_);return new p(this.children_,this.priorityNode_,v)}}isIndexed(c){return c===To||this.indexMap_.hasIndex(c)}equals(c){if(c===this)return!0;if(c.isLeafNode())return!1;{const v=c;if(this.getPriority().equals(v.getPriority())){if(this.children_.count()===v.children_.count()){const A=this.getIterator(en),H=v.getIterator(en);let re=A.getNext(),xe=H.getNext();for(;re&&xe;){if(re.name!==xe.name||!re.node.equals(xe.node))return!1;re=A.getNext(),xe=H.getNext()}return null===re&&null===xe}return!1}return!1}}resolveIndex_(c){return c===To?null:this.indexMap_.get(c.toString())}}return p.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,p})();const Oo=new class Ha extends Ir{constructor(){super(new mo(Iu),Ir.EMPTY_NODE,na.Default)}compareTo(d){return d===this?0:1}equals(d){return d===this}getPriority(){return this}getImmediateChild(d){return Ir.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(gi,{MIN:{value:new gi(Kn,Ir.EMPTY_NODE)},MAX:{value:new gi(dr,Oo)}}),Bu.__EMPTY_NODE=Ir.EMPTY_NODE,Xa.__childrenNodeConstructor=Ir,function ta(p){Qa=p}(Oo),function Gt(p){Zu=p}(Oo);const Ta=!0;function kr(p,d=null){if(null===p)return Ir.EMPTY_NODE;if("object"==typeof p&&".priority"in p&&(d=p[".priority"]),(0,Le.hu)(null===d||"string"==typeof d||"number"==typeof d||"object"==typeof d&&".sv"in d,"Invalid priority type found: "+typeof d),"object"==typeof p&&".value"in p&&null!==p[".value"]&&(p=p[".value"]),"object"!=typeof p||".sv"in p)return new Xa(p,kr(d));if(p instanceof Array||!Ta){let c=Ir.EMPTY_NODE;return Dr(p,(v,A)=>{if((0,Le.r3)(p,v)&&"."!==v.substring(0,1)){const H=kr(A);(H.isLeafNode()||!H.isEmpty())&&(c=c.updateImmediateChild(v,H))}}),c.updatePriority(kr(d))}{const c=[];let v=!1;if(Dr(p,(re,xe)=>{if("."!==re.substring(0,1)){const Je=kr(xe);Je.isEmpty()||(v=v||!Je.getPriority().isEmpty(),c.push(new gi(re,Je)))}}),0===c.length)return Ir.EMPTY_NODE;const H=Zi(c,sl,re=>re.name,Iu);if(v){const re=Zi(c,en.getCompare());return new Ir(H,kr(d),new na({".priority":re},{".priority":en}))}return new Ir(H,kr(d),na.Default)}}!function Ja(p){Uu=p}(kr);class tu extends vo{constructor(d){super(),this.indexPath_=d,(0,Le.hu)(!pi(d)&&".priority"!==li(d),"Can't create PathIndex with empty path or .priority key")}extractChild(d){return d.getChild(this.indexPath_)}isDefinedOn(d){return!d.getChild(this.indexPath_).isEmpty()}compare(d,c){const v=this.extractChild(d.node),A=this.extractChild(c.node),H=v.compareTo(A);return 0===H?mr(d.name,c.name):H}makePost(d,c){const v=kr(d),A=Ir.EMPTY_NODE.updateChild(this.indexPath_,v);return new gi(c,A)}maxPost(){const d=Ir.EMPTY_NODE.updateChild(this.indexPath_,Oo);return new gi(dr,d)}toString(){return Uo(this.indexPath_,0).join("/")}}const ue=new class V extends vo{compare(d,c){const v=d.node.compareTo(c.node);return 0===v?mr(d.name,c.name):v}isDefinedOn(d){return!0}indexedValueChanged(d,c){return!d.equals(c)}minPost(){return gi.MIN}maxPost(){return gi.MAX}makePost(d,c){const v=kr(d);return new gi(c,v)}toString(){return".value"}};function Y(p){return{type:"value",snapshotNode:p}}function Me(p,d){return{type:"child_added",snapshotNode:d,childName:p}}function ot(p,d){return{type:"child_removed",snapshotNode:d,childName:p}}function ln(p,d,c){return{type:"child_changed",snapshotNode:d,childName:p,oldSnap:c}}class _r{constructor(d){this.index_=d}updateChild(d,c,v,A,H,re){(0,Le.hu)(d.isIndexed(this.index_),"A node must be indexed if only a child is updated");const xe=d.getImmediateChild(c);return xe.getChild(A).equals(v.getChild(A))&&xe.isEmpty()===v.isEmpty()||(null!=re&&(v.isEmpty()?d.hasChild(c)?re.trackChildChange(ot(c,xe)):(0,Le.hu)(d.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):xe.isEmpty()?re.trackChildChange(Me(c,v)):re.trackChildChange(ln(c,v,xe))),d.isLeafNode()&&v.isEmpty())?d:d.updateImmediateChild(c,v).withIndex(this.index_)}updateFullNode(d,c,v){return null!=v&&(d.isLeafNode()||d.forEachChild(en,(A,H)=>{c.hasChild(A)||v.trackChildChange(ot(A,H))}),c.isLeafNode()||c.forEachChild(en,(A,H)=>{if(d.hasChild(A)){const re=d.getImmediateChild(A);re.equals(H)||v.trackChildChange(ln(A,H,re))}else v.trackChildChange(Me(A,H))})),c.withIndex(this.index_)}updatePriority(d,c){return d.isEmpty()?Ir.EMPTY_NODE:d.updatePriority(c)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ci{constructor(d){this.indexedFilter_=new _r(d.getIndex()),this.index_=d.getIndex(),this.startPost_=ci.getStartPost_(d),this.endPost_=ci.getEndPost_(d),this.startIsInclusive_=!d.startAfterSet_,this.endIsInclusive_=!d.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(d){const c=this.startIsInclusive_?this.index_.compare(this.getStartPost(),d)<=0:this.index_.compare(this.getStartPost(),d)<0,v=this.endIsInclusive_?this.index_.compare(d,this.getEndPost())<=0:this.index_.compare(d,this.getEndPost())<0;return c&&v}updateChild(d,c,v,A,H,re){return this.matches(new gi(c,v))||(v=Ir.EMPTY_NODE),this.indexedFilter_.updateChild(d,c,v,A,H,re)}updateFullNode(d,c,v){c.isLeafNode()&&(c=Ir.EMPTY_NODE);let A=c.withIndex(this.index_);A=A.updatePriority(Ir.EMPTY_NODE);const H=this;return c.forEachChild(en,(re,xe)=>{H.matches(new gi(re,xe))||(A=A.updateImmediateChild(re,Ir.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(d,A,v)}updatePriority(d,c){return d}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(d){if(d.hasStart()){const c=d.getIndexStartName();return d.getIndex().makePost(d.getIndexStartValue(),c)}return d.getIndex().minPost()}static getEndPost_(d){if(d.hasEnd()){const c=d.getIndexEndName();return d.getIndex().makePost(d.getIndexEndValue(),c)}return d.getIndex().maxPost()}}class Gn{constructor(d){this.withinDirectionalStart=c=>this.reverse_?this.withinEndPost(c):this.withinStartPost(c),this.withinDirectionalEnd=c=>this.reverse_?this.withinStartPost(c):this.withinEndPost(c),this.withinStartPost=c=>{const v=this.index_.compare(this.rangedFilter_.getStartPost(),c);return this.startIsInclusive_?v<=0:v<0},this.withinEndPost=c=>{const v=this.index_.compare(c,this.rangedFilter_.getEndPost());return this.endIsInclusive_?v<=0:v<0},this.rangedFilter_=new ci(d),this.index_=d.getIndex(),this.limit_=d.getLimit(),this.reverse_=!d.isViewFromLeft(),this.startIsInclusive_=!d.startAfterSet_,this.endIsInclusive_=!d.endBeforeSet_}updateChild(d,c,v,A,H,re){return this.rangedFilter_.matches(new gi(c,v))||(v=Ir.EMPTY_NODE),d.getImmediateChild(c).equals(v)?d:d.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(d,c,v,A,H,re):this.fullLimitUpdateChild_(d,c,v,H,re)}updateFullNode(d,c,v){let A;if(c.isLeafNode()||c.isEmpty())A=Ir.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){let H;A=Ir.EMPTY_NODE.withIndex(this.index_),H=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let re=0;for(;H.hasNext()&&re<this.limit_;){const xe=H.getNext();if(this.withinDirectionalStart(xe)){if(!this.withinDirectionalEnd(xe))break;A=A.updateImmediateChild(xe.name,xe.node),re++}}}else{let H;A=c.withIndex(this.index_),A=A.updatePriority(Ir.EMPTY_NODE),H=this.reverse_?A.getReverseIterator(this.index_):A.getIterator(this.index_);let re=0;for(;H.hasNext();){const xe=H.getNext();re<this.limit_&&this.withinDirectionalStart(xe)&&this.withinDirectionalEnd(xe)?re++:A=A.updateImmediateChild(xe.name,Ir.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(d,A,v)}updatePriority(d,c){return d}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(d,c,v,A,H){let re;if(this.reverse_){const In=this.index_.getCompare();re=(Rn,gr)=>In(gr,Rn)}else re=this.index_.getCompare();const xe=d;(0,Le.hu)(xe.numChildren()===this.limit_,"");const Je=new gi(c,v),ft=this.reverse_?xe.getFirstChild(this.index_):xe.getLastChild(this.index_),pn=this.rangedFilter_.matches(Je);if(xe.hasChild(c)){const In=xe.getImmediateChild(c);let Rn=A.getChildAfterChild(this.index_,ft,this.reverse_);for(;null!=Rn&&(Rn.name===c||xe.hasChild(Rn.name));)Rn=A.getChildAfterChild(this.index_,Rn,this.reverse_);const gr=null==Rn?1:re(Rn,Je);if(pn&&!v.isEmpty()&&gr>=0)return H?.trackChildChange(ln(c,v,In)),xe.updateImmediateChild(c,v);{H?.trackChildChange(ot(c,In));const as=xe.updateImmediateChild(c,Ir.EMPTY_NODE);return null!=Rn&&this.rangedFilter_.matches(Rn)?(H?.trackChildChange(Me(Rn.name,Rn.node)),as.updateImmediateChild(Rn.name,Rn.node)):as}}return v.isEmpty()?d:pn&&re(ft,Je)>=0?(null!=H&&(H.trackChildChange(ot(ft.name,ft.node)),H.trackChildChange(Me(c,v))),xe.updateImmediateChild(c,v).updateImmediateChild(ft.name,Ir.EMPTY_NODE)):d}}class Bi{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=en}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Le.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Le.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Le.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Le.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:dr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Le.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===en}copy(){const d=new Bi;return d.limitSet_=this.limitSet_,d.limit_=this.limit_,d.startSet_=this.startSet_,d.startAfterSet_=this.startAfterSet_,d.indexStartValue_=this.indexStartValue_,d.startNameSet_=this.startNameSet_,d.indexStartName_=this.indexStartName_,d.endSet_=this.endSet_,d.endBeforeSet_=this.endBeforeSet_,d.indexEndValue_=this.indexEndValue_,d.endNameSet_=this.endNameSet_,d.indexEndName_=this.indexEndName_,d.index_=this.index_,d.viewFrom_=this.viewFrom_,d}}function zs(p,d,c){const v=p.copy();return v.startSet_=!0,void 0===d&&(d=null),v.indexStartValue_=d,null!=c?(v.startNameSet_=!0,v.indexStartName_=c):(v.startNameSet_=!1,v.indexStartName_=""),v}function co(p,d,c){const v=p.copy();return v.endSet_=!0,void 0===d&&(d=null),v.indexEndValue_=d,void 0!==c?(v.endNameSet_=!0,v.indexEndName_=c):(v.endNameSet_=!1,v.indexEndName_=""),v}function fs(p,d){const c=p.copy();return c.index_=d,c}function nu(p){const d={};if(p.isDefault())return d;let c;if(p.index_===en?c="$priority":p.index_===ue?c="$value":p.index_===To?c="$key":((0,Le.hu)(p.index_ instanceof tu,"Unrecognized index type!"),c=p.index_.toString()),d.orderBy=(0,Le.Wl)(c),p.startSet_){const v=p.startAfterSet_?"startAfter":"startAt";d[v]=(0,Le.Wl)(p.indexStartValue_),p.startNameSet_&&(d[v]+=","+(0,Le.Wl)(p.indexStartName_))}if(p.endSet_){const v=p.endBeforeSet_?"endBefore":"endAt";d[v]=(0,Le.Wl)(p.indexEndValue_),p.endNameSet_&&(d[v]+=","+(0,Le.Wl)(p.indexEndName_))}return p.limitSet_&&(p.isViewFromLeft()?d.limitToFirst=p.limit_:d.limitToLast=p.limit_),d}function ja(p){const d={};if(p.startSet_&&(d.sp=p.indexStartValue_,p.startNameSet_&&(d.sn=p.indexStartName_),d.sin=!p.startAfterSet_),p.endSet_&&(d.ep=p.indexEndValue_,p.endNameSet_&&(d.en=p.indexEndName_),d.ein=!p.endBeforeSet_),p.limitSet_){d.l=p.limit_;let c=p.viewFrom_;""===c&&(c=p.isViewFromLeft()?"l":"r"),d.vf=c}return p.index_!==en&&(d.i=p.index_.toString()),d}class da extends Si{constructor(d,c,v,A){super(),this.repoInfo_=d,this.onDataUpdate_=c,this.authTokenProvider_=v,this.appCheckTokenProvider_=A,this.log_=Dn("p:rest:"),this.listens_={}}reportStats(d){throw new Error("Method not implemented.")}static getListenId_(d,c){return void 0!==c?"tag$"+c:((0,Le.hu)(d._queryParams.isDefault(),"should have a tag if it's not a default query."),d._path.toString())}listen(d,c,v,A){const H=d._path.toString();this.log_("Listen called for "+H+" "+d._queryIdentifier);const re=da.getListenId_(d,v),xe={};this.listens_[re]=xe;const Je=nu(d._queryParams);this.restRequest_(H+".json",Je,(ft,pn)=>{let In=pn;if(404===ft&&(In=null,ft=null),null===ft&&this.onDataUpdate_(H,In,!1,v),(0,Le.DV)(this.listens_,re)===xe){let Rn;Rn=ft?401===ft?"permission_denied":"rest_error:"+ft:"ok",A(Rn,null)}})}unlisten(d,c){const v=da.getListenId_(d,c);delete this.listens_[v]}get(d){const c=nu(d._queryParams),v=d._path.toString(),A=new Le.BH;return this.restRequest_(v+".json",c,(H,re)=>{let xe=re;404===H&&(xe=null,H=null),null===H?(this.onDataUpdate_(v,xe,!1,null),A.resolve(xe)):A.reject(new Error(xe))}),A.promise}refreshAuthToken(d){}restRequest_(d,c={},v){return c.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([A,H])=>{A&&A.accessToken&&(c.auth=A.accessToken),H&&H.token&&(c.ac=H.token);const re=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+d+"?ns="+this.repoInfo_.namespace+(0,Le.xO)(c);this.log_("Sending REST request for "+re);const xe=new XMLHttpRequest;xe.onreadystatechange=()=>{if(v&&4===xe.readyState){this.log_("REST Response for "+re+" received. status:",xe.status,"response:",xe.responseText);let Je=null;if(xe.status>=200&&xe.status<300){try{Je=(0,Le.cI)(xe.responseText)}catch{Or("Failed to parse JSON response for "+re+": "+xe.responseText)}v(null,Je)}else 401!==xe.status&&404!==xe.status&&Or("Got unsuccessful REST response for "+re+" Status: "+xe.status),v(xe.status);v=null}},xe.open("GET",re,!0),xe.send()})}}class Fn{constructor(){this.rootNode_=Ir.EMPTY_NODE}getNode(d){return this.rootNode_.getChild(d)}updateSnapshot(d,c){this.rootNode_=this.rootNode_.updateChild(d,c)}}function Di(){return{value:null,children:new Map}}function Eo(p,d,c){if(pi(d))p.value=c,p.children.clear();else if(null!==p.value)p.value=p.value.updateChild(d,c);else{const v=li(d);p.children.has(v)||p.children.set(v,Di()),Eo(p.children.get(v),d=Ni(d),c)}}function Kl(p,d){if(pi(d))return p.value=null,p.children.clear(),!0;if(null!==p.value){if(p.value.isLeafNode())return!1;{const c=p.value;return p.value=null,c.forEachChild(en,(v,A)=>{Eo(p,new Ai(v),A)}),Kl(p,d)}}if(p.children.size>0){const c=li(d);return d=Ni(d),p.children.has(c)&&Kl(p.children.get(c),d)&&p.children.delete(c),0===p.children.size}return!0}function Gs(p,d,c){null!==p.value?c(d,p.value):function Sl(p,d){p.children.forEach((c,v)=>{d(v,c)})}(p,(v,A)=>{Gs(A,new Ai(d.toString()+"/"+v),c)})}class yo{constructor(d){this.collection_=d,this.last_=null}get(){const d=this.collection_.get(),c=Object.assign({},d);return this.last_&&Dr(this.last_,(v,A)=>{c[v]=c[v]-A}),this.last_=d,c}}class xd{constructor(d,c){this.server_=c,this.statsToReport_={},this.statsListener_=new yo(d);const v=1e4+2e4*Math.random();ns(this.reportStats_.bind(this),Math.floor(v))}reportStats_(){const d=this.statsListener_.get(),c={};let v=!1;Dr(d,(A,H)=>{H>0&&(0,Le.r3)(this.statsToReport_,A)&&(c[A]=H,v=!0)}),v&&this.server_.reportStats(c),ns(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Mn=(()=>((Mn=Mn||{})[Mn.OVERWRITE=0]="OVERWRITE",Mn[Mn.MERGE=1]="MERGE",Mn[Mn.ACK_USER_WRITE=2]="ACK_USER_WRITE",Mn[Mn.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Mn))();function ds(p){return{fromUser:!1,fromServer:!0,queryId:p,tagged:!0}}class ar{constructor(d,c,v){this.path=d,this.affectedTree=c,this.revert=v,this.type=Mn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(d){if(pi(this.path)){if(null!=this.affectedTree.value)return(0,Le.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const c=this.affectedTree.subtree(new Ai(d));return new ar(xi(),c,this.revert)}}return(0,Le.hu)(li(this.path)===d,"operationForChild called for unrelated child."),new ar(Ni(this.path),this.affectedTree,this.revert)}}class Cr{constructor(d,c){this.source=d,this.path=c,this.type=Mn.LISTEN_COMPLETE}operationForChild(d){return pi(this.path)?new Cr(this.source,xi()):new Cr(this.source,Ni(this.path))}}class Wo{constructor(d,c,v){this.source=d,this.path=c,this.snap=v,this.type=Mn.OVERWRITE}operationForChild(d){return pi(this.path)?new Wo(this.source,xi(),this.snap.getImmediateChild(d)):new Wo(this.source,Ni(this.path),this.snap)}}class sr{constructor(d,c,v){this.source=d,this.path=c,this.children=v,this.type=Mn.MERGE}operationForChild(d){if(pi(this.path)){const c=this.children.subtree(new Ai(d));return c.isEmpty()?null:c.value?new Wo(this.source,xi(),c.value):new sr(this.source,xi(),c)}return(0,Le.hu)(li(this.path)===d,"Can't get a merge for a child not on the path of the operation"),new sr(this.source,Ni(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class cn{constructor(d,c,v){this.node_=d,this.fullyInitialized_=c,this.filtered_=v}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(d){if(pi(d))return this.isFullyInitialized()&&!this.filtered_;const c=li(d);return this.isCompleteForChild(c)}isCompleteForChild(d){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(d)}getNode(){return this.node_}}class Pn{constructor(d){this.query_=d,this.index_=this.query_._queryParams.getIndex()}}function hu(p,d,c,v,A,H){const re=v.filter(xe=>xe.type===c);re.sort((xe,Je)=>function fc(p,d,c){if(null==d.childName||null==c.childName)throw(0,Le.g5)("Should only compare child_ events.");const v=new gi(d.childName,d.snapshotNode),A=new gi(c.childName,c.snapshotNode);return p.index_.compare(v,A)}(p,xe,Je)),re.forEach(xe=>{const Je=function No(p,d,c){return"value"===d.type||"child_removed"===d.type||(d.prevName=c.getPredecessorChildName(d.childName,d.snapshotNode,p.index_)),d}(p,xe,H);A.forEach(ft=>{ft.respondsTo(xe.type)&&d.push(ft.createEvent(Je,p.query_))})})}function fu(p,d){return{eventCache:p,serverCache:d}}function za(p,d,c,v){return fu(new cn(d,c,v),p.serverCache)}function Qu(p,d,c,v){return fu(p.eventCache,new cn(d,c,v))}function Cu(p){return p.eventCache.isFullyInitialized()?p.eventCache.getNode():null}function ke(p){return p.serverCache.isFullyInitialized()?p.serverCache.getNode():null}let ru;class Ui{constructor(d,c=(()=>(ru||(ru=new mo(Fr)),ru))()){this.value=d,this.children=c}static fromObject(d){let c=new Ui(null);return Dr(d,(v,A)=>{c=c.set(new Ai(v),A)}),c}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(d,c){if(null!=this.value&&c(this.value))return{path:xi(),value:this.value};if(pi(d))return null;{const v=li(d),A=this.children.get(v);if(null!==A){const H=A.findRootMostMatchingPathAndValue(Ni(d),c);return null!=H?{path:xs(new Ai(v),H.path),value:H.value}:null}return null}}findRootMostValueAndPath(d){return this.findRootMostMatchingPathAndValue(d,()=>!0)}subtree(d){if(pi(d))return this;{const c=li(d),v=this.children.get(c);return null!==v?v.subtree(Ni(d)):new Ui(null)}}set(d,c){if(pi(d))return new Ui(c,this.children);{const v=li(d),H=(this.children.get(v)||new Ui(null)).set(Ni(d),c),re=this.children.insert(v,H);return new Ui(this.value,re)}}remove(d){if(pi(d))return this.children.isEmpty()?new Ui(null):new Ui(null,this.children);{const c=li(d),v=this.children.get(c);if(v){const A=v.remove(Ni(d));let H;return H=A.isEmpty()?this.children.remove(c):this.children.insert(c,A),null===this.value&&H.isEmpty()?new Ui(null):new Ui(this.value,H)}return this}}get(d){if(pi(d))return this.value;{const c=li(d),v=this.children.get(c);return v?v.get(Ni(d)):null}}setTree(d,c){if(pi(d))return c;{const v=li(d),H=(this.children.get(v)||new Ui(null)).setTree(Ni(d),c);let re;return re=H.isEmpty()?this.children.remove(v):this.children.insert(v,H),new Ui(this.value,re)}}fold(d){return this.fold_(xi(),d)}fold_(d,c){const v={};return this.children.inorderTraversal((A,H)=>{v[A]=H.fold_(xs(d,A),c)}),c(d,this.value,v)}findOnPath(d,c){return this.findOnPath_(d,xi(),c)}findOnPath_(d,c,v){const A=!!this.value&&v(c,this.value);if(A)return A;if(pi(d))return null;{const H=li(d),re=this.children.get(H);return re?re.findOnPath_(Ni(d),xs(c,H),v):null}}foreachOnPath(d,c){return this.foreachOnPath_(d,xi(),c)}foreachOnPath_(d,c,v){if(pi(d))return this;{this.value&&v(c,this.value);const A=li(d),H=this.children.get(A);return H?H.foreachOnPath_(Ni(d),xs(c,A),v):new Ui(null)}}foreach(d){this.foreach_(xi(),d)}foreach_(d,c){this.children.inorderTraversal((v,A)=>{A.foreach_(xs(d,v),c)}),this.value&&c(d,this.value)}foreachChild(d){this.children.inorderTraversal((c,v)=>{v.value&&d(c,v.value)})}}class qn{constructor(d){this.writeTree_=d}static empty(){return new qn(new Ui(null))}}function pu(p,d,c){if(pi(d))return new qn(new Ui(c));{const v=p.writeTree_.findRootMostValueAndPath(d);if(null!=v){const A=v.path;let H=v.value;const re=Es(A,d);return H=H.updateChild(re,c),new qn(p.writeTree_.set(A,H))}{const A=new Ui(c),H=p.writeTree_.setTree(d,A);return new qn(H)}}}function Zl(p,d,c){let v=p;return Dr(c,(A,H)=>{v=pu(v,xs(d,A),H)}),v}function es(p,d){if(pi(d))return qn.empty();{const c=p.writeTree_.setTree(d,new Ui(null));return new qn(c)}}function br(p,d){return null!=Ds(p,d)}function Ds(p,d){const c=p.writeTree_.findRootMostValueAndPath(d);return null!=c?p.writeTree_.get(c.path).getChild(Es(c.path,d)):null}function hs(p){const d=[],c=p.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(en,(v,A)=>{d.push(new gi(v,A))}):p.writeTree_.children.inorderTraversal((v,A)=>{null!=A.value&&d.push(new gi(v,A.value))}),d}function $u(p,d){if(pi(d))return p;{const c=Ds(p,d);return new qn(null!=c?new Ui(c):p.writeTree_.subtree(d))}}function ho(p){return p.writeTree_.isEmpty()}function or(p,d){return ra(xi(),p.writeTree_,d)}function ra(p,d,c){if(null!=d.value)return c.updateChild(p,d.value);{let v=null;return d.children.inorderTraversal((A,H)=>{".priority"===A?((0,Le.hu)(null!==H.value,"Priority writes must always be leaf nodes"),v=H.value):c=ra(xs(p,A),H,c)}),!c.getChild(p).isEmpty()&&null!==v&&(c=c.updateChild(xs(p,".priority"),v)),c}}function Vu(p,d){return iu(d,p)}function ga(p,d){if(p.snap)return bo(p.path,d);for(const c in p.children)if(p.children.hasOwnProperty(c)&&bo(xs(p.path,c),d))return!0;return!1}function $(p){return p.visible}function b(p,d,c){let v=qn.empty();for(let A=0;A<p.length;++A){const H=p[A];if(d(H)){const re=H.path;let xe;if(H.snap)bo(c,re)?(xe=Es(c,re),v=pu(v,xe,H.snap)):bo(re,c)&&(xe=Es(re,c),v=pu(v,xi(),H.snap.getChild(xe)));else{if(!H.children)throw(0,Le.g5)("WriteRecord should have .snap or .children");if(bo(c,re))xe=Es(c,re),v=Zl(v,xe,H.children);else if(bo(re,c))if(xe=Es(re,c),pi(xe))v=Zl(v,xi(),H.children);else{const Je=(0,Le.DV)(H.children,li(xe));if(Je){const ft=Je.getChild(Ni(xe));v=pu(v,xi(),ft)}}}}}return v}function G(p,d,c,v,A){if(v||A){const H=$u(p.visibleWrites,d);return!A&&ho(H)?c:A||null!=c||br(H,xi())?or(b(p.allWrites,function(ft){return(ft.visible||A)&&(!v||!~v.indexOf(ft.writeId))&&(bo(ft.path,d)||bo(d,ft.path))},d),c||Ir.EMPTY_NODE):null}{const H=Ds(p.visibleWrites,d);if(null!=H)return H;{const re=$u(p.visibleWrites,d);return ho(re)?c:null!=c||br(re,xi())?or(re,c||Ir.EMPTY_NODE):null}}}function Mr(p,d,c,v){return G(p.writeTree,p.treePath,d,c,v)}function Is(p,d){return function ae(p,d,c){let v=Ir.EMPTY_NODE;const A=Ds(p.visibleWrites,d);if(A)return A.isLeafNode()||A.forEachChild(en,(H,re)=>{v=v.updateImmediateChild(H,re)}),v;if(c){const H=$u(p.visibleWrites,d);return c.forEachChild(en,(re,xe)=>{const Je=or($u(H,new Ai(re)),xe);v=v.updateImmediateChild(re,Je)}),hs(H).forEach(re=>{v=v.updateImmediateChild(re.name,re.node)}),v}return hs($u(p.visibleWrites,d)).forEach(re=>{v=v.updateImmediateChild(re.name,re.node)}),v}(p.writeTree,p.treePath,d)}function ko(p,d,c,v){return function Ne(p,d,c,v,A){(0,Le.hu)(v||A,"Either existingEventSnap or existingServerSnap must exist");const H=xs(d,c);if(br(p.visibleWrites,H))return null;{const re=$u(p.visibleWrites,H);return ho(re)?A.getChild(c):or(re,A.getChild(c))}}(p.writeTree,p.treePath,d,c,v)}function ha(p,d){return function Wt(p,d){return Ds(p.visibleWrites,d)}(p.writeTree,xs(p.treePath,d))}function qo(p,d,c){return function Be(p,d,c,v){const A=xs(d,c),H=Ds(p.visibleWrites,A);return null!=H?H:v.isCompleteForChild(c)?or($u(p.visibleWrites,A),v.getNode().getImmediateChild(c)):null}(p.writeTree,p.treePath,d,c)}function Hu(p,d){return iu(xs(p.treePath,d),p.writeTree)}function iu(p,d){return{treePath:p,writeTree:d}}class Ql{constructor(){this.changeMap=new Map}trackChildChange(d){const c=d.type,v=d.childName;(0,Le.hu)("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking"),(0,Le.hu)(".priority"!==v,"Only non-priority child changes can be tracked.");const A=this.changeMap.get(v);if(A){const H=A.type;if("child_added"===c&&"child_removed"===H)this.changeMap.set(v,ln(v,d.snapshotNode,A.snapshotNode));else if("child_removed"===c&&"child_added"===H)this.changeMap.delete(v);else if("child_removed"===c&&"child_changed"===H)this.changeMap.set(v,ot(v,A.oldSnap));else if("child_changed"===c&&"child_added"===H)this.changeMap.set(v,Me(v,d.snapshotNode));else{if("child_changed"!==c||"child_changed"!==H)throw(0,Le.g5)("Illegal combination of changes: "+d+" occurred after "+A);this.changeMap.set(v,ln(v,d.snapshotNode,A.oldSnap))}}else this.changeMap.set(v,d)}getChanges(){return Array.from(this.changeMap.values())}}const Fo=new class Fa{getCompleteChild(d){return null}getChildAfterChild(d,c,v){return null}};class La{constructor(d,c,v=null){this.writes_=d,this.viewCache_=c,this.optCompleteServerCache_=v}getCompleteChild(d){const c=this.viewCache_.eventCache;if(c.isCompleteForChild(d))return c.getNode().getImmediateChild(d);{const v=null!=this.optCompleteServerCache_?new cn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qo(this.writes_,d,v)}}getChildAfterChild(d,c,v){const A=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ke(this.viewCache_),H=function bu(p,d,c,v,A,H){return function rt(p,d,c,v,A,H,re){let xe;const Je=$u(p.visibleWrites,d),ft=Ds(Je,xi());if(null!=ft)xe=ft;else{if(null==c)return[];xe=or(Je,c)}if(xe=xe.withIndex(re),xe.isEmpty()||xe.isLeafNode())return[];{const pn=[],In=re.getCompare(),Rn=H?xe.getReverseIteratorFrom(v,re):xe.getIteratorFrom(v,re);let gr=Rn.getNext();for(;gr&&pn.length<A;)0!==In(gr,v)&&pn.push(gr),gr=Rn.getNext();return pn}}(p.writeTree,p.treePath,d,c,v,A,H)}(this.writes_,A,c,1,v,d);return 0===H.length?null:H[0]}}function ju(p,d,c,v,A,H){const re=d.eventCache;if(null!=ha(v,c))return d;{let xe,Je;if(pi(c))if((0,Le.hu)(d.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),d.serverCache.isFiltered()){const ft=ke(d),In=Is(v,ft instanceof Ir?ft:Ir.EMPTY_NODE);xe=p.filter.updateFullNode(d.eventCache.getNode(),In,H)}else{const ft=Mr(v,ke(d));xe=p.filter.updateFullNode(d.eventCache.getNode(),ft,H)}else{const ft=li(c);if(".priority"===ft){(0,Le.hu)(1===ms(c),"Can't have a priority with additional path components");const pn=re.getNode();Je=d.serverCache.getNode();const In=ko(v,c,pn,Je);xe=null!=In?p.filter.updatePriority(pn,In):re.getNode()}else{const pn=Ni(c);let In;if(re.isCompleteForChild(ft)){Je=d.serverCache.getNode();const Rn=ko(v,c,re.getNode(),Je);In=null!=Rn?re.getNode().getImmediateChild(ft).updateChild(pn,Rn):re.getNode().getImmediateChild(ft)}else In=qo(v,ft,d.serverCache);xe=null!=In?p.filter.updateChild(re.getNode(),ft,In,pn,A,H):re.getNode()}}return za(d,xe,re.isFullyInitialized()||pi(c),p.filter.filtersNodes())}}function _s(p,d,c,v,A,H,re,xe){const Je=d.serverCache;let ft;const pn=re?p.filter:p.filter.getIndexedFilter();if(pi(c))ft=pn.updateFullNode(Je.getNode(),v,null);else if(pn.filtersNodes()&&!Je.isFiltered()){const gr=Je.getNode().updateChild(c,v);ft=pn.updateFullNode(Je.getNode(),gr,null)}else{const gr=li(c);if(!Je.isCompleteForPath(c)&&ms(c)>1)return d;const Jr=Ni(c),Qo=Je.getNode().getImmediateChild(gr).updateChild(Jr,v);ft=".priority"===gr?pn.updatePriority(Je.getNode(),Qo):pn.updateChild(Je.getNode(),gr,Qo,Jr,Fo,null)}const In=Qu(d,ft,Je.isFullyInitialized()||pi(c),pn.filtersNodes());return ju(p,In,c,A,new La(A,In,H),xe)}function zu(p,d,c,v,A,H,re){const xe=d.eventCache;let Je,ft;const pn=new La(A,d,H);if(pi(c))ft=p.filter.updateFullNode(d.eventCache.getNode(),v,re),Je=za(d,ft,!0,p.filter.filtersNodes());else{const In=li(c);if(".priority"===In)ft=p.filter.updatePriority(d.eventCache.getNode(),v),Je=za(d,ft,xe.isFullyInitialized(),xe.isFiltered());else{const Rn=Ni(c),gr=xe.getNode().getImmediateChild(In);let Jr;if(pi(Rn))Jr=v;else{const as=pn.getCompleteChild(In);Jr=null!=as?".priority"===Za(Rn)&&as.getChild(Ro(Rn)).isEmpty()?as:as.updateChild(Rn,v):Ir.EMPTY_NODE}Je=gr.equals(Jr)?d:za(d,p.filter.updateChild(xe.getNode(),In,Jr,Rn,pn,re),xe.isFullyInitialized(),p.filter.filtersNodes())}}return Je}function Xl(p,d){return p.eventCache.isCompleteForChild(d)}function ul(p,d,c){return c.foreach((v,A)=>{d=d.updateChild(v,A)}),d}function Tu(p,d,c,v,A,H,re,xe){if(d.serverCache.getNode().isEmpty()&&!d.serverCache.isFullyInitialized())return d;let ft,Je=d;ft=pi(c)?v:new Ui(null).setTree(c,v);const pn=d.serverCache.getNode();return ft.children.inorderTraversal((In,Rn)=>{if(pn.hasChild(In)){const Jr=ul(0,d.serverCache.getNode().getImmediateChild(In),Rn);Je=_s(p,Je,new Ai(In),Jr,A,H,re,xe)}}),ft.children.inorderTraversal((In,Rn)=>{const gr=!d.serverCache.isCompleteForChild(In)&&null===Rn.value;if(!pn.hasChild(In)&&!gr){const as=ul(0,d.serverCache.getNode().getImmediateChild(In),Rn);Je=_s(p,Je,new Ai(In),as,A,H,re,xe)}}),Je}class nh{constructor(d,c){this.query_=d,this.eventRegistrations_=[];const v=this.query_._queryParams,A=new _r(v.getIndex()),H=function Ei(p){return p.loadsAllData()?new _r(p.getIndex()):p.hasLimit()?new Gn(p):new ci(p)}(v);this.processor_=function al(p){return{filter:p}}(H);const re=c.serverCache,xe=c.eventCache,Je=A.updateFullNode(Ir.EMPTY_NODE,re.getNode(),null),ft=H.updateFullNode(Ir.EMPTY_NODE,xe.getNode(),null),pn=new cn(Je,re.isFullyInitialized(),A.filtersNodes()),In=new cn(ft,xe.isFullyInitialized(),H.filtersNodes());this.viewCache_=fu(In,pn),this.eventGenerator_=new Pn(this.query_)}get query(){return this.query_}}function Gu(p,d){const c=ke(p.viewCache_);return c&&(p.query._queryParams.loadsAllData()||!pi(d)&&!c.getImmediateChild(li(d)).isEmpty())?c.getChild(d):null}function Fc(p){return 0===p.eventRegistrations_.length}function mc(p,d,c){const v=[];if(c){(0,Le.hu)(null==d,"A cancel should cancel all event registrations.");const A=p.query._path;p.eventRegistrations_.forEach(H=>{const re=H.createCancelEvent(c,A);re&&v.push(re)})}if(d){let A=[];for(let H=0;H<p.eventRegistrations_.length;++H){const re=p.eventRegistrations_[H];if(re.matches(d)){if(d.hasAnyCallback()){A=A.concat(p.eventRegistrations_.slice(H+1));break}}else A.push(re)}p.eventRegistrations_=A}else p.eventRegistrations_=[];return v}function Au(p,d,c,v){d.type===Mn.MERGE&&null!==d.source.queryId&&((0,Le.hu)(ke(p.viewCache_),"We should always have a full cache before handling merges"),(0,Le.hu)(Cu(p.viewCache_),"Missing event cache, even though we have a server cache"));const A=p.viewCache_,H=function Ks(p,d,c,v,A){const H=new Ql;let re,xe;if(c.type===Mn.OVERWRITE){const ft=c;ft.source.fromUser?re=zu(p,d,ft.path,ft.snap,v,A,H):((0,Le.hu)(ft.source.fromServer,"Unknown source."),xe=ft.source.tagged||d.serverCache.isFiltered()&&!pi(ft.path),re=_s(p,d,ft.path,ft.snap,v,A,xe,H))}else if(c.type===Mn.MERGE){const ft=c;ft.source.fromUser?re=function Ml(p,d,c,v,A,H,re){let xe=d;return v.foreach((Je,ft)=>{const pn=xs(c,Je);Xl(d,li(pn))&&(xe=zu(p,xe,pn,ft,A,H,re))}),v.foreach((Je,ft)=>{const pn=xs(c,Je);Xl(d,li(pn))||(xe=zu(p,xe,pn,ft,A,H,re))}),xe}(p,d,ft.path,ft.children,v,A,H):((0,Le.hu)(ft.source.fromServer,"Unknown source."),xe=ft.source.tagged||d.serverCache.isFiltered(),re=Tu(p,d,ft.path,ft.children,v,A,xe,H))}else if(c.type===Mn.ACK_USER_WRITE){const ft=c;re=ft.revert?function Su(p,d,c,v,A,H){let re;if(null!=ha(v,c))return d;{const xe=new La(v,d,A),Je=d.eventCache.getNode();let ft;if(pi(c)||".priority"===li(c)){let pn;if(d.serverCache.isFullyInitialized())pn=Mr(v,ke(d));else{const In=d.serverCache.getNode();(0,Le.hu)(In instanceof Ir,"serverChildren would be complete if leaf node"),pn=Is(v,In)}ft=p.filter.updateFullNode(Je,pn,H)}else{const pn=li(c);let In=qo(v,pn,d.serverCache);null==In&&d.serverCache.isCompleteForChild(pn)&&(In=Je.getImmediateChild(pn)),ft=null!=In?p.filter.updateChild(Je,pn,In,Ni(c),xe,H):d.eventCache.getNode().hasChild(pn)?p.filter.updateChild(Je,pn,Ir.EMPTY_NODE,Ni(c),xe,H):Je,ft.isEmpty()&&d.serverCache.isFullyInitialized()&&(re=Mr(v,ke(d)),re.isLeafNode()&&(ft=p.filter.updateFullNode(ft,re,H)))}return re=d.serverCache.isFullyInitialized()||null!=ha(v,xi()),za(d,ft,re,p.filter.filtersNodes())}}(p,d,ft.path,v,A,H):function gc(p,d,c,v,A,H,re){if(null!=ha(A,c))return d;const xe=d.serverCache.isFiltered(),Je=d.serverCache;if(null!=v.value){if(pi(c)&&Je.isFullyInitialized()||Je.isCompleteForPath(c))return _s(p,d,c,Je.getNode().getChild(c),A,H,xe,re);if(pi(c)){let ft=new Ui(null);return Je.getNode().forEachChild(To,(pn,In)=>{ft=ft.set(new Ai(pn),In)}),Tu(p,d,c,ft,A,H,xe,re)}return d}{let ft=new Ui(null);return v.foreach((pn,In)=>{const Rn=xs(c,pn);Je.isCompleteForPath(Rn)&&(ft=ft.set(pn,Je.getNode().getChild(Rn)))}),Tu(p,d,c,ft,A,H,xe,re)}}(p,d,ft.path,ft.affectedTree,v,A,H)}else{if(c.type!==Mn.LISTEN_COMPLETE)throw(0,Le.g5)("Unknown operation type: "+c.type);re=function Md(p,d,c,v,A){const H=d.serverCache;return ju(p,Qu(d,H.getNode(),H.isFullyInitialized()||pi(c),H.isFiltered()),c,v,Fo,A)}(p,d,c.path,v,H)}const Je=H.getChanges();return function Ga(p,d,c){const v=d.eventCache;if(v.isFullyInitialized()){const A=v.getNode().isLeafNode()||v.getNode().isEmpty(),H=Cu(p);(c.length>0||!p.eventCache.isFullyInitialized()||A&&!v.getNode().equals(H)||!v.getNode().getPriority().equals(H.getPriority()))&&c.push(Y(Cu(d)))}}(d,re,Je),{viewCache:re,changes:Je}}(p.processor_,A,d,c,v);return function kc(p,d){(0,Le.hu)(d.eventCache.getNode().isIndexed(p.filter.getIndex()),"Event snap not indexed"),(0,Le.hu)(d.serverCache.getNode().isIndexed(p.filter.getIndex()),"Server snap not indexed")}(p.processor_,H.viewCache),(0,Le.hu)(H.viewCache.serverCache.isFullyInitialized()||!A.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),p.viewCache_=H.viewCache,yc(p,H.changes,H.viewCache.eventCache.getNode(),null)}function yc(p,d,c,v){return function Ji(p,d,c,v){const A=[],H=[];return d.forEach(re=>{"child_changed"===re.type&&p.index_.indexedValueChanged(re.oldSnap,re.snapshotNode)&&H.push(function Tn(p,d){return{type:"child_moved",snapshotNode:d,childName:p}}(re.childName,re.snapshotNode))}),hu(p,A,"child_removed",d,v,c),hu(p,A,"child_added",d,v,c),hu(p,A,"child_moved",H,v,c),hu(p,A,"child_changed",d,v,c),hu(p,A,"value",d,v,c),A}(p.eventGenerator_,d,c,v?[v]:p.eventRegistrations_)}let Lo,yu;class Jl{constructor(){this.views=new Map}}function mu(p,d,c,v){const A=d.source.queryId;if(null!==A){const H=p.views.get(A);return(0,Le.hu)(null!=H,"SyncTree gave us an op for an invalid query."),Au(H,d,c,v)}{let H=[];for(const re of p.views.values())H=H.concat(Au(re,d,c,v));return H}}function Io(p,d,c,v,A){const re=p.views.get(d._queryIdentifier);if(!re){let xe=Mr(c,A?v:null),Je=!1;xe?Je=!0:v instanceof Ir?(xe=Is(c,v),Je=!1):(xe=Ir.EMPTY_NODE,Je=!1);const ft=fu(new cn(xe,Je,!1),new cn(v,A,!1));return new nh(d,ft)}return re}function Mu(p){const d=[];for(const c of p.views.values())c.query._queryParams.loadsAllData()||d.push(c);return d}function bs(p,d){let c=null;for(const v of p.views.values())c=c||Gu(v,d);return c}function su(p,d){return d._queryParams.loadsAllData()?dl(p):p.views.get(d._queryIdentifier)}function ia(p,d){return null!=su(p,d)}function Ps(p){return null!=dl(p)}function dl(p){for(const d of p.views.values())if(d.query._queryParams.loadsAllData())return d;return null}let Rl=1;class Ao{constructor(d){this.listenProvider_=d,this.syncPointTree_=new Ui(null),this.pendingWriteTree_=function Vr(){return{visibleWrites:qn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hl(p,d,c,v,A){return function gu(p,d,c,v,A){(0,Le.hu)(v>p.lastWriteId,"Stacking an older write on top of newer ones"),void 0===A&&(A=!0),p.allWrites.push({path:d,snap:c,writeId:v,visible:A}),A&&(p.visibleWrites=pu(p.visibleWrites,d,c)),p.lastWriteId=v}(p.pendingWriteTree_,d,c,v,A),A?Ru(p,new Wo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,c)):[]}function qs(p,d,c=!1){const v=function xl(p,d){for(let c=0;c<p.allWrites.length;c++){const v=p.allWrites[c];if(v.writeId===d)return v}return null}(p.pendingWriteTree_,d);if(function pc(p,d){const c=p.allWrites.findIndex(xe=>xe.writeId===d);(0,Le.hu)(c>=0,"removeWrite called with nonexistent writeId.");const v=p.allWrites[c];p.allWrites.splice(c,1);let A=v.visible,H=!1,re=p.allWrites.length-1;for(;A&&re>=0;){const xe=p.allWrites[re];xe.visible&&(re>=c&&ga(xe,v.path)?A=!1:bo(v.path,xe.path)&&(H=!0)),re--}return!!A&&(H?(function R(p){p.visibleWrites=b(p.allWrites,$,xi()),p.lastWriteId=p.allWrites.length>0?p.allWrites[p.allWrites.length-1].writeId:-1}(p),!0):(v.snap?p.visibleWrites=es(p.visibleWrites,v.path):Dr(v.children,Je=>{p.visibleWrites=es(p.visibleWrites,xs(v.path,Je))}),!0))}(p.pendingWriteTree_,d)){let H=new Ui(null);return null!=v.snap?H=H.set(xi(),!0):Dr(v.children,re=>{H=H.set(new Ai(re),!0)}),Ru(p,new ar(v.path,H,c))}return[]}function ma(p,d,c){return Ru(p,new Wo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,c))}function Nl(p,d,c,v,A=!1){const H=d._path,re=p.syncPointTree_.get(H);let xe=[];if(re&&("default"===d._queryIdentifier||ia(re,d))){const Je=function xu(p,d,c,v){const A=d._queryIdentifier,H=[];let re=[];const xe=Ps(p);if("default"===A)for(const[Je,ft]of p.views.entries())re=re.concat(mc(ft,c,v)),Fc(ft)&&(p.views.delete(Je),ft.query._queryParams.loadsAllData()||H.push(ft.query));else{const Je=p.views.get(A);Je&&(re=re.concat(mc(Je,c,v)),Fc(Je)&&(p.views.delete(A),Je.query._queryParams.loadsAllData()||H.push(Je.query)))}return xe&&!Ps(p)&&H.push(new(function Lc(){return(0,Le.hu)(Lo,"Reference.ts has not been loaded"),Lo}())(d._repo,d._path)),{removed:H,events:re}}(re,d,c,v);(function ll(p){return 0===p.views.size})(re)&&(p.syncPointTree_=p.syncPointTree_.remove(H));const ft=Je.removed;if(xe=Je.events,!A){const pn=-1!==ft.findIndex(Rn=>Rn._queryParams.loadsAllData()),In=p.syncPointTree_.findOnPath(H,(Rn,gr)=>Ps(gr));if(pn&&!In){const Rn=p.syncPointTree_.subtree(H);if(!Rn.isEmpty()){const gr=function et(p){return p.fold((d,c,v)=>{if(c&&Ps(c))return[dl(c)];{let A=[];return c&&(A=Mu(c)),Dr(v,(H,re)=>{A=A.concat(re)}),A}})}(Rn);for(let Jr=0;Jr<gr.length;++Jr){const as=gr[Jr],Qo=as.query,lu=vu(p,as);p.listenProvider_.startListening(Rt(Qo),pl(p,Qo),lu.hashFn,lu.onComplete)}}}!In&&ft.length>0&&!v&&(pn?p.listenProvider_.stopListening(Rt(d),null):ft.forEach(Rn=>{const gr=p.queryToTagMap.get(Ci(Rn));p.listenProvider_.stopListening(Rt(Rn),gr)}))}!function Qt(p,d){for(let c=0;c<d.length;++c){const v=d[c];if(!v._queryParams.loadsAllData()){const A=Ci(v),H=p.queryToTagMap.get(A);p.queryToTagMap.delete(A),p.tagToQueryMap.delete(H)}}}(p,ft)}return xe}function ou(p,d,c,v){const A=F(p,v);if(null!=A){const H=W(A),re=H.path,xe=H.queryId,Je=Es(re,d);return de(p,re,new Wo(ds(xe),Je,c))}return[]}function _u(p,d,c,v=!1){const A=d._path;let H=null,re=!1;p.syncPointTree_.foreachOnPath(A,(Rn,gr)=>{const Jr=Es(Rn,A);H=H||bs(gr,Jr),re=re||Ps(gr)});let Je,xe=p.syncPointTree_.get(A);xe?(re=re||Ps(xe),H=H||bs(xe,xi())):(xe=new Jl,p.syncPointTree_=p.syncPointTree_.set(A,xe)),null!=H?Je=!0:(Je=!1,H=Ir.EMPTY_NODE,p.syncPointTree_.subtree(A).foreachChild((gr,Jr)=>{const as=bs(Jr,xi());as&&(H=H.updateImmediateChild(gr,as))}));const ft=ia(xe,d);if(!ft&&!d._queryParams.loadsAllData()){const Rn=Ci(d);(0,Le.hu)(!p.queryToTagMap.has(Rn),"View does not exist, but we have a tag");const gr=function fn(){return Rl++}();p.queryToTagMap.set(Rn,gr),p.tagToQueryMap.set(gr,Rn)}let In=function cl(p,d,c,v,A,H){const re=Io(p,d,v,A,H);return p.views.has(d._queryIdentifier)||p.views.set(d._queryIdentifier,re),function Wu(p,d){p.eventRegistrations_.push(d)}(re,c),function Pl(p,d){const c=p.viewCache_.eventCache,v=[];return c.getNode().isLeafNode()||c.getNode().forEachChild(en,(H,re)=>{v.push(Me(H,re))}),c.isFullyInitialized()&&v.push(Y(c.getNode())),yc(p,v,c.getNode(),d)}(re,c)}(xe,d,c,Vu(p.pendingWriteTree_,A),H,Je);if(!ft&&!re&&!v){const Rn=su(xe,d);In=In.concat(function pr(p,d,c){const v=d._path,A=pl(p,d),H=vu(p,c),re=p.listenProvider_.startListening(Rt(d),A,H.hashFn,H.onComplete),xe=p.syncPointTree_.subtree(v);if(A)(0,Le.hu)(!Ps(xe.value),"If we're adding a query, it shouldn't be shadowed");else{const Je=xe.fold((ft,pn,In)=>{if(!pi(ft)&&pn&&Ps(pn))return[dl(pn).query];{let Rn=[];return pn&&(Rn=Rn.concat(Mu(pn).map(gr=>gr.query))),Dr(In,(gr,Jr)=>{Rn=Rn.concat(Jr)}),Rn}});for(let ft=0;ft<Je.length;++ft){const pn=Je[ft];p.listenProvider_.stopListening(Rt(pn),pl(p,pn))}}return re}(p,d,Rn))}return In}function Pu(p,d,c){const A=p.pendingWriteTree_,H=p.syncPointTree_.findOnPath(d,(re,xe)=>{const ft=bs(xe,Es(re,d));if(ft)return ft});return G(A,d,H,c,!0)}function Ru(p,d){return Ho(d,p.syncPointTree_,null,Vu(p.pendingWriteTree_,xi()))}function Ho(p,d,c,v){if(pi(p.path))return fl(p,d,c,v);{const A=d.get(xi());null==c&&null!=A&&(c=bs(A,xi()));let H=[];const re=li(p.path),xe=p.operationForChild(re),Je=d.children.get(re);if(Je&&xe){const ft=c?c.getImmediateChild(re):null,pn=Hu(v,re);H=H.concat(Ho(xe,Je,ft,pn))}return A&&(H=H.concat(mu(A,p,v,c))),H}}function fl(p,d,c,v){const A=d.get(xi());null==c&&null!=A&&(c=bs(A,xi()));let H=[];return d.children.inorderTraversal((re,xe)=>{const Je=c?c.getImmediateChild(re):null,ft=Hu(v,re),pn=p.operationForChild(re);pn&&(H=H.concat(fl(pn,xe,Je,ft)))}),A&&(H=H.concat(mu(A,p,v,c))),H}function vu(p,d){const c=d.query,v=pl(p,c);return{hashFn:()=>(function rh(p){return p.viewCache_.serverCache.getNode()}(d)||Ir.EMPTY_NODE).hash(),onComplete:A=>{if("ok"===A)return v?function ya(p,d,c){const v=F(p,c);if(v){const A=W(v),H=A.path,re=A.queryId,xe=Es(H,d);return de(p,H,new Cr(ds(re),xe))}return[]}(p,c._path,v):function Aa(p,d){return Ru(p,new Cr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d))}(p,c._path);{const H=function wt(p,d){let c="Unknown Error";"too_big"===p?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===p?c="Client doesn't have permission to access the desired data.":"unavailable"===p&&(c="The service is unavailable");const v=new Error(p+" at "+d._path.toString()+": "+c);return v.code=p.toUpperCase(),v}(A,c);return Nl(p,c,null,H)}}}}function pl(p,d){const c=Ci(d);return p.queryToTagMap.get(c)}function Ci(p){return p._path.toString()+"$"+p._queryIdentifier}function F(p,d){return p.tagToQueryMap.get(d)}function W(p){const d=p.indexOf("$");return(0,Le.hu)(-1!==d&&d<p.length-1,"Bad queryKey."),{queryId:p.substr(d+1),path:new Ai(p.substr(0,d))}}function de(p,d,c){const v=p.syncPointTree_.get(d);return(0,Le.hu)(v,"Missing sync point for query tag that we're tracking"),mu(v,c,Vu(p.pendingWriteTree_,d),null)}function Rt(p){return p._queryParams.loadsAllData()&&!p._queryParams.isDefault()?new(function Bc(){return(0,Le.hu)(yu,"Reference.ts has not been loaded"),yu}())(p._repo,p._path):p}class ur{constructor(d){this.node_=d}getImmediateChild(d){const c=this.node_.getImmediateChild(d);return new ur(c)}node(){return this.node_}}class Hr{constructor(d,c){this.syncTree_=d,this.path_=c}getImmediateChild(d){const c=xs(this.path_,d);return new Hr(this.syncTree_,c)}node(){return Pu(this.syncTree_,this.path_)}}const wi=function(p){return(p=p||{}).timestamp=p.timestamp||(new Date).getTime(),p},di=function(p,d,c){return p&&"object"==typeof p?((0,Le.hu)(".sv"in p,"Unexpected leaf node or priority contents"),"string"==typeof p[".sv"]?qi(p[".sv"],d,c):"object"==typeof p[".sv"]?fo(p[".sv"],d):void(0,Le.hu)(!1,"Unexpected server value: "+JSON.stringify(p,null,2))):p},qi=function(p,d,c){if("timestamp"===p)return c.timestamp;(0,Le.hu)(!1,"Unexpected server value: "+p)},fo=function(p,d,c){p.hasOwnProperty("increment")||(0,Le.hu)(!1,"Unexpected server value: "+JSON.stringify(p,null,2));const v=p.increment;"number"!=typeof v&&(0,Le.hu)(!1,"Unexpected increment value: "+v);const A=d.node();if((0,Le.hu)(null!==A&&typeof A<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!A.isLeafNode())return v;const re=A.getValue();return"number"!=typeof re?v:re+v},Cs=function(p,d,c,v){return au(d,new Hr(c,p),v)},Pa=function(p,d,c){return au(p,new ur(d),c)};function au(p,d,c){const v=p.getPriority().val(),A=di(v,d.getImmediateChild(".priority"),c);let H;if(p.isLeafNode()){const re=p,xe=di(re.getValue(),d,c);return xe!==re.getValue()||A!==re.getPriority().val()?new Xa(xe,kr(A)):p}{const re=p;return H=re,A!==re.getPriority().val()&&(H=H.updatePriority(new Xa(A))),re.forEachChild(en,(xe,Je)=>{const ft=au(Je,d.getImmediateChild(xe),c);ft!==Je&&(H=H.updateImmediateChild(xe,ft))}),H}}class Ba{constructor(d="",c=null,v={children:{},childCount:0}){this.name=d,this.parent=c,this.node=v}}function Yo(p,d){let c=d instanceof Ai?d:new Ai(d),v=p,A=li(c);for(;null!==A;){const H=(0,Le.DV)(v.node.children,A)||{children:{},childCount:0};v=new Ba(A,v,H),c=Ni(c),A=li(c)}return v}function Wa(p){return p.node.value}function kl(p,d){p.node.value=d,vc(p)}function os(p){return p.node.childCount>0}function Ou(p,d){Dr(p.node.children,(c,v)=>{d(new Ba(c,p,v))})}function qu(p,d,c,v){c&&!v&&d(p),Ou(p,A=>{qu(A,d,!0,v)}),c&&v&&d(p)}function _c(p){return new Ai(null===p.parent?p.name:_c(p.parent)+"/"+p.name)}function vc(p){null!==p.parent&&function Vh(p,d,c){const v=function Ts(p){return void 0===Wa(p)&&!os(p)}(c),A=(0,Le.r3)(p.node.children,d);v&&A?(delete p.node.children[d],p.node.childCount--,vc(p)):!v&&!A&&(p.node.children[d]=c.node,p.node.childCount++,vc(p))}(p.parent,p.name,p)}const dd=/[\[\].#$\/\u0000-\u001F\u007F]/,ih=/[\[\].#$\u0000-\u001F\u007F]/,hd=10485760,Uc=function(p){return"string"==typeof p&&0!==p.length&&!dd.test(p)},Dp=function(p){return"string"==typeof p&&0!==p.length&&!ih.test(p)},E=function(p){return null===p||"string"==typeof p||"number"==typeof p&&!Bt(p)||p&&"object"==typeof p&&(0,Le.r3)(p,".sv")},I=function(p,d,c,v){v&&void 0===d||B((0,Le.gK)(p,"value"),d,c)},B=function(p,d,c){const v=c instanceof Ai?new T(c,p):c;if(void 0===d)throw new Error(p+"contains undefined "+M(v));if("function"==typeof d)throw new Error(p+"contains a function "+M(v)+" with contents = "+d.toString());if(Bt(d))throw new Error(p+"contains "+d.toString()+" "+M(v));if("string"==typeof d&&d.length>hd/3&&(0,Le.ug)(d)>hd)throw new Error(p+"contains a string greater than "+hd+" utf8 bytes "+M(v)+" ('"+d.substring(0,50)+"...')");if(d&&"object"==typeof d){let A=!1,H=!1;if(Dr(d,(re,xe)=>{if(".value"===re)A=!0;else if(".priority"!==re&&".sv"!==re&&(H=!0,!Uc(re)))throw new Error(p+" contains an invalid key ("+re+") "+M(v)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ie(p,d){p.parts_.length>0&&(p.byteLength_+=1),p.parts_.push(d),p.byteLength_+=(0,Le.ug)(d),C(p)})(v,re),B(p,xe,v),function x(p){const d=p.parts_.pop();p.byteLength_-=(0,Le.ug)(d),p.parts_.length>0&&(p.byteLength_-=1)}(v)}),A&&H)throw new Error(p+' contains ".value" child '+M(v)+" in addition to actual children.")}},Fe=function(p,d,c,v){if(v&&void 0===d)return;const A=(0,Le.gK)(p,"values");if(!d||"object"!=typeof d||Array.isArray(d))throw new Error(A+" must be an object containing the children to replace.");const H=[];Dr(d,(re,xe)=>{const Je=new Ai(re);if(B(A,xe,xs(c,Je)),".priority"===Za(Je)&&!E(xe))throw new Error(A+"contains an invalid value for '"+Je.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");H.push(Je)}),function(p,d){let c,v;for(c=0;c<d.length;c++){v=d[c];const H=Uo(v);for(let re=0;re<H.length;re++)if((".priority"!==H[re]||re!==H.length-1)&&!Uc(H[re]))throw new Error(p+"contains an invalid key ("+H[re]+") in path "+v.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}d.sort(la);let A=null;for(c=0;c<d.length;c++){if(v=d[c],null!==A&&bo(A,v))throw new Error(p+"contains a path "+A.toString()+" that is ancestor of another path "+v.toString());A=v}}(A,H)},Ut=function(p,d,c){if(!c||void 0!==d){if(Bt(d))throw new Error((0,Le.gK)(p,"priority")+"is "+d.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!E(d))throw new Error((0,Le.gK)(p,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dn=function(p,d,c,v){if(!(v&&void 0===c||Uc(c)))throw new Error((0,Le.gK)(p,d)+'was an invalid key = "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Qn=function(p,d,c,v){if(!(v&&void 0===c||Dp(c)))throw new Error((0,Le.gK)(p,d)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Tr=function(p,d,c,v){c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),Qn(p,d,c,v)},Ur=function(p,d){if(".info"===li(d))throw new Error(p+" failed = Can't modify data under /.info/")},ps=function(p,d){const c=d.path.toString();if("string"!=typeof d.repoInfo.host||0===d.repoInfo.host.length||!Uc(d.repoInfo.namespace)&&"localhost"!==d.repoInfo.host.split(":")[0]||0!==c.length&&!function(p){return p&&(p=p.replace(/^\/*\.info(\/|$)/,"/")),Dp(p)}(c))throw new Error((0,Le.gK)(p,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class _a{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jo(p,d){let c=null;for(let v=0;v<d.length;v++){const A=d[v],H=A.getPath();null!==c&&!$o(H,c.path)&&(p.eventLists_.push(c),c=null),null===c&&(c={events:[],path:H}),c.events.push(A)}c&&p.eventLists_.push(c)}function Fl(p,d,c){jo(p,c),Ec(p,v=>$o(v,d))}function Ko(p,d,c){jo(p,c),Ec(p,v=>bo(v,d)||bo(d,v))}function Ec(p,d){p.recursionDepth_++;let c=!0;for(let v=0;v<p.eventLists_.length;v++){const A=p.eventLists_[v];A&&(d(A.path)?(ec(p.eventLists_[v]),p.eventLists_[v]=null):c=!1)}c&&(p.eventLists_=[]),p.recursionDepth_--}function ec(p){for(let d=0;d<p.events.length;d++){const c=p.events[d];if(null!==c){p.events[d]=null;const v=c.getEventRunner();Ke&&tn("event: "+c.toString()),yr(v)}}}const tc="repo_interrupt",Nu=25;class Xu{constructor(d,c,v,A){this.repoInfo_=d,this.forceRestClient_=c,this.authTokenProvider_=v,this.appCheckProvider_=A,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _a,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Di(),this.transactionQueueTree_=new Ba,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ll(p){const c=p.infoData_.getNode(new Ai(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c}function va(p){return wi({timestamp:Ll(p)})}function Bl(p,d,c,v,A){p.dataUpdateCount++;const H=new Ai(d);c=p.interceptServerDataCallback_?p.interceptServerDataCallback_(d,c):c;let re=[];if(A)if(v){const Je=(0,Le.UI)(c,ft=>kr(ft));re=function xa(p,d,c,v){const A=F(p,v);if(A){const H=W(A),re=H.path,xe=H.queryId,Je=Es(re,d),ft=Ui.fromObject(c);return de(p,re,new sr(ds(xe),Je,ft))}return[]}(p.serverSyncTree_,H,Je,A)}else{const Je=kr(c);re=ou(p.serverSyncTree_,H,Je,A)}else if(v){const Je=(0,Le.UI)(c,ft=>kr(ft));re=function Ol(p,d,c){const v=Ui.fromObject(c);return Ru(p,new sr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,v))}(p.serverSyncTree_,H,Je)}else{const Je=kr(c);re=ma(p.serverSyncTree_,H,Je)}let xe=H;re.length>0&&(xe=Dc(p,H)),Ko(p.eventQueue_,xe,re)}function $c(p,d){Vc(p,"connected",d),!1===d&&function Ip(p){ml(p,"onDisconnectEvents");const d=va(p),c=Di();Gs(p.onDisconnect_,xi(),(A,H)=>{const re=Cs(A,H,p.serverSyncTree_,d);Eo(c,A,re)});let v=[];Gs(c,xi(),(A,H)=>{v=v.concat(ma(p.serverSyncTree_,A,H));const re=Ic(p,A);Dc(p,re)}),p.onDisconnect_=Di(),Ko(p.eventQueue_,xi(),v)}(p)}function Vc(p,d,c){const v=new Ai("/.info/"+d),A=kr(c);p.infoData_.updateSnapshot(v,A);const H=ma(p.infoSyncTree_,v,A);Ko(p.eventQueue_,v,H)}function Hc(p){return p.nextWriteId_++}function Hh(p,d,c,v,A){ml(p,"set",{path:d.toString(),value:c,priority:v});const H=va(p),re=kr(c,v),xe=Pu(p.serverSyncTree_,d),Je=Pa(re,xe,H),ft=Hc(p),pn=hl(p.serverSyncTree_,d,Je,ft,!0);jo(p.eventQueue_,pn),p.server_.put(d.toString(),re.val(!0),(Rn,gr)=>{const Jr="ok"===Rn;Jr||Or("set at "+d+" failed: "+Rn);const as=qs(p.serverSyncTree_,ft,!Jr);Ko(p.eventQueue_,d,as),Zn(0,A,Rn,gr)});const In=Ic(p,d);Dc(p,In),Ko(p.eventQueue_,In,[])}function ku(p,d,c){p.server_.onDisconnectCancel(d.toString(),(v,A)=>{"ok"===v&&Kl(p.onDisconnect_,d),Zn(0,c,v,A)})}function bf(p,d,c,v){const A=kr(c);p.server_.onDisconnectPut(d.toString(),A.val(!0),(H,re)=>{"ok"===H&&Eo(p.onDisconnect_,d,A),Zn(0,v,H,re)})}function jc(p,d,c){let v;v=".info"===li(d._path)?Nl(p.infoSyncTree_,d,c):Nl(p.serverSyncTree_,d,c),Fl(p.eventQueue_,d._path,v)}function sa(p){p.persistentConnection_&&p.persistentConnection_.interrupt(tc)}function ml(p,...d){let c="";p.persistentConnection_&&(c=p.persistentConnection_.id+":"),tn(c,...d)}function Zn(p,d,c,v){d&&yr(()=>{if("ok"===c)d(null);else{const A=(c||"error").toUpperCase();let H=A;v&&(H+=": "+v);const re=new Error(H);re.code=A,d(re)}})}function Gc(p,d,c){return Pu(p.serverSyncTree_,d,c)||Ir.EMPTY_NODE}function Ul(p,d=p.transactionQueueTree_){if(d||yl(p,d),Wa(d)){const c=Cp(p,d);(0,Le.hu)(c.length>0,"Sending zero length transaction queue"),c.every(A=>0===A.status)&&function Tf(p,d,c){const v=c.map(ft=>ft.currentWriteId),A=Gc(p,d,v);let H=A;const re=A.hash();for(let ft=0;ft<c.length;ft++){const pn=c[ft];(0,Le.hu)(0===pn.status,"tryToSendTransactionQueue_: items in queue should all be run."),pn.status=1,pn.retryCount++;const In=Es(d,pn.path);H=H.updateChild(In,pn.currentOutputSnapshotRaw)}const xe=H.val(!0),Je=d;p.server_.put(Je.toString(),xe,ft=>{ml(p,"transaction put response",{path:Je.toString(),status:ft});let pn=[];if("ok"===ft){const In=[];for(let Rn=0;Rn<c.length;Rn++)c[Rn].status=2,pn=pn.concat(qs(p.serverSyncTree_,c[Rn].currentWriteId)),c[Rn].onComplete&&In.push(()=>c[Rn].onComplete(null,!0,c[Rn].currentOutputSnapshotResolved)),c[Rn].unwatcher();yl(p,Yo(p.transactionQueueTree_,d)),Ul(p,p.transactionQueueTree_),Ko(p.eventQueue_,d,pn);for(let Rn=0;Rn<In.length;Rn++)yr(In[Rn])}else{if("datastale"===ft)for(let In=0;In<c.length;In++)c[In].status=3===c[In].status?4:0;else{Or("transaction at "+Je.toString()+" failed: "+ft);for(let In=0;In<c.length;In++)c[In].status=4,c[In].abortReason=ft}Dc(p,d)}},re)}(p,_c(d),c)}else os(d)&&Ou(d,c=>{Ul(p,c)})}function Dc(p,d){const c=uu(p,d),v=_c(c);return function Rd(p,d,c){if(0===d.length)return;const v=[];let A=[];const re=d.filter(xe=>0===xe.status).map(xe=>xe.currentWriteId);for(let xe=0;xe<d.length;xe++){const Je=d[xe],ft=Es(c,Je.path);let In,pn=!1;if((0,Le.hu)(null!==ft,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Je.status)pn=!0,In=Je.abortReason,A=A.concat(qs(p.serverSyncTree_,Je.currentWriteId,!0));else if(0===Je.status)if(Je.retryCount>=Nu)pn=!0,In="maxretry",A=A.concat(qs(p.serverSyncTree_,Je.currentWriteId,!0));else{const Rn=Gc(p,Je.path,re);Je.currentInputSnapshot=Rn;const gr=d[xe].update(Rn.val());if(void 0!==gr){B("transaction failed: Data returned ",gr,Je.path);let Jr=kr(gr);"object"==typeof gr&&null!=gr&&(0,Le.r3)(gr,".priority")||(Jr=Jr.updatePriority(Rn.getPriority()));const Qo=Je.currentWriteId,lu=va(p),lc=Pa(Jr,Rn,lu);Je.currentOutputSnapshotRaw=Jr,Je.currentOutputSnapshotResolved=lc,Je.currentWriteId=Hc(p),re.splice(re.indexOf(Qo),1),A=A.concat(hl(p.serverSyncTree_,Je.path,lc,Je.currentWriteId,Je.applyLocally)),A=A.concat(qs(p.serverSyncTree_,Qo,!0))}else pn=!0,In="nodata",A=A.concat(qs(p.serverSyncTree_,Je.currentWriteId,!0))}Ko(p.eventQueue_,c,A),A=[],pn&&(d[xe].status=2,setTimeout(d[xe].unwatcher,Math.floor(0)),d[xe].onComplete&&v.push("nodata"===In?()=>d[xe].onComplete(null,!1,d[xe].currentInputSnapshot):()=>d[xe].onComplete(new Error(In),!1,null)))}yl(p,p.transactionQueueTree_);for(let xe=0;xe<v.length;xe++)yr(v[xe]);Ul(p,p.transactionQueueTree_)}(p,Cp(p,c),v),v}function uu(p,d){let c,v=p.transactionQueueTree_;for(c=li(d);null!==c&&void 0===Wa(v);)v=Yo(v,c),c=li(d=Ni(d));return v}function Cp(p,d){const c=[];return sh(p,d,c),c.sort((v,A)=>v.order-A.order),c}function sh(p,d,c){const v=Wa(d);if(v)for(let A=0;A<v.length;A++)c.push(v[A]);Ou(d,A=>{sh(p,A,c)})}function yl(p,d){const c=Wa(d);if(c){let v=0;for(let A=0;A<c.length;A++)2!==c[A].status&&(c[v]=c[A],v++);c.length=v,kl(d,c.length>0?c:void 0)}Ou(d,v=>{yl(p,v)})}function Ic(p,d){const c=_c(uu(p,d)),v=Yo(p.transactionQueueTree_,d);return function Pd(p,d,c){let v=c?p:p.parent;for(;null!==v;){if(d(v))return!0;v=v.parent}}(v,A=>{Cc(p,A)}),Cc(p,v),qu(v,A=>{Cc(p,A)}),c}function Cc(p,d){const c=Wa(d);if(c){const v=[];let A=[],H=-1;for(let re=0;re<c.length;re++)3===c[re].status||(1===c[re].status?((0,Le.hu)(H===re-1,"All SENT items should be at beginning of queue."),H=re,c[re].status=3,c[re].abortReason="set"):((0,Le.hu)(0===c[re].status,"Unexpected transaction status in abort"),c[re].unwatcher(),A=A.concat(qs(p.serverSyncTree_,c[re].currentWriteId,!0)),c[re].onComplete&&v.push(c[re].onComplete.bind(null,new Error("set"),!1,null))));-1===H?kl(d,void 0):c.length=H+1,Ko(p.eventQueue_,_c(d),A);for(let re=0;re<v.length;re++)yr(v[re])}}const ic=function(p,d){const c=_l(p),v=c.namespace;return"firebase.com"===c.domain&&nr(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!v||"undefined"===v)&&"localhost"!==c.domain&&nr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Or("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new $i(c.host,c.secure,v,"ws"===c.scheme||"wss"===c.scheme,d,"",v!==c.subdomain),path:new Ai(c.pathString)}},_l=function(p){let d="",c="",v="",A="",H="",re=!0,xe="https",Je=443;if("string"==typeof p){let ft=p.indexOf("//");ft>=0&&(xe=p.substring(0,ft-1),p=p.substring(ft+2));let pn=p.indexOf("/");-1===pn&&(pn=p.length);let In=p.indexOf("?");-1===In&&(In=p.length),d=p.substring(0,Math.min(pn,In)),pn<In&&(A=function pd(p){let d="";const c=p.split("/");for(let v=0;v<c.length;v++)if(c[v].length>0){let A=c[v];try{A=decodeURIComponent(A.replace(/\+/g," "))}catch{}d+="/"+A}return d}(p.substring(pn,In)));const Rn=function wp(p){const d={};"?"===p.charAt(0)&&(p=p.substring(1));for(const c of p.split("&")){if(0===c.length)continue;const v=c.split("=");2===v.length?d[decodeURIComponent(v[0])]=decodeURIComponent(v[1]):Or(`Invalid query segment '${c}' in query '${p}'`)}return d}(p.substring(Math.min(p.length,In)));ft=d.indexOf(":"),ft>=0?(re="https"===xe||"wss"===xe,Je=parseInt(d.substring(ft+1),10)):ft=d.length;const gr=d.slice(0,ft);if("localhost"===gr.toLowerCase())c="localhost";else if(gr.split(".").length<=2)c=gr;else{const Jr=d.indexOf(".");v=d.substring(0,Jr).toLowerCase(),c=d.substring(Jr+1),H=v}"ns"in Rn&&(H=Rn.ns)}return{host:d,port:Je,domain:c,subdomain:v,secure:re,scheme:xe,pathString:A,namespace:H}},Ya="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",vl=function(){let p=0;const d=[];return function(c){const v=c===p;let A;p=c;const H=new Array(8);for(A=7;A>=0;A--)H[A]=Ya.charAt(c%64),c=Math.floor(c/64);(0,Le.hu)(0===c,"Cannot push at time == 0");let re=H.join("");if(v){for(A=11;A>=0&&63===d[A];A--)d[A]=0;d[A]++}else for(A=0;A<12;A++)d[A]=Math.floor(64*Math.random());for(A=0;A<12;A++)re+=Ya.charAt(d[A]);return(0,Le.hu)(20===re.length,"nextPushId: Length should be 20."),re}}();class oh{constructor(d,c,v,A){this.eventType=d,this.eventRegistration=c,this.snapshot=v,this.prevName=A}getPath(){const d=this.snapshot.ref;return"value"===this.eventType?d._path:d.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Le.Wl)(this.snapshot.exportVal())}}class ah{constructor(d,c,v){this.eventRegistration=d,this.error=c,this.path=v}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Co{constructor(d,c){this.snapshotCallback=d,this.cancelCallback=c}onValue(d,c){this.snapshotCallback.call(null,d,c)}onCancel(d){return(0,Le.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,d)}get hasCancelCallback(){return!!this.cancelCallback}matches(d){return this.snapshotCallback===d.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===d.snapshotCallback.userCallback&&this.snapshotCallback.context===d.snapshotCallback.context}}class Wc{constructor(d,c){this._repo=d,this._path=c}cancel(){const d=new Le.BH;return ku(this._repo,this._path,d.wrapCallback(()=>{})),d.promise}remove(){Ur("OnDisconnect.remove",this._path);const d=new Le.BH;return bf(this._repo,this._path,null,d.wrapCallback(()=>{})),d.promise}set(d){Ur("OnDisconnect.set",this._path),I("OnDisconnect.set",d,this._path,!1);const c=new Le.BH;return bf(this._repo,this._path,d,c.wrapCallback(()=>{})),c.promise}setWithPriority(d,c){Ur("OnDisconnect.setWithPriority",this._path),I("OnDisconnect.setWithPriority",d,this._path,!1),Ut("OnDisconnect.setWithPriority",c,!1);const v=new Le.BH;return function qa(p,d,c,v,A){const H=kr(c,v);p.server_.onDisconnectPut(d.toString(),H.val(!0),(re,xe)=>{"ok"===re&&Eo(p.onDisconnect_,d,H),Zn(0,A,re,xe)})}(this._repo,this._path,d,c,v.wrapCallback(()=>{})),v.promise}update(d){Ur("OnDisconnect.update",this._path),Fe("OnDisconnect.update",d,this._path,!1);const c=new Le.BH;return function gl(p,d,c,v){if((0,Le.xb)(c))return tn("onDisconnect().update() called with empty data.  Don't do anything."),void Zn(0,v,"ok",void 0);p.server_.onDisconnectMerge(d.toString(),c,(A,H)=>{"ok"===A&&Dr(c,(re,xe)=>{const Je=kr(xe);Eo(p.onDisconnect_,xs(d,re),Je)}),Zn(0,v,A,H)})}(this._repo,this._path,d,c.wrapCallback(()=>{})),c.promise}}class Ea{constructor(d,c,v,A){this._repo=d,this._path=c,this._queryParams=v,this._orderByCalled=A}get key(){return pi(this._path)?null:Za(this._path)}get ref(){return new El(this._repo,this._path)}get _queryIdentifier(){const d=ja(this._queryParams),c=Sr(d);return"{}"===c?"default":c}get _queryObject(){return ja(this._queryParams)}isEqual(d){if(!((d=(0,Le.m9)(d))instanceof Ea))return!1;const c=this._repo===d._repo,v=$o(this._path,d._path);return c&&v&&this._queryIdentifier===d._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Du(p){let d="";for(let c=p.pieceNum_;c<p.pieces_.length;c++)""!==p.pieces_[c]&&(d+="/"+encodeURIComponent(String(p.pieces_[c])));return d||"/"}(this._path)}}function Od(p,d){if(!0===p._orderByCalled)throw new Error(d+": You can't combine multiple orderBy calls.")}function wc(p){let d=null,c=null;if(p.hasStart()&&(d=p.getIndexStartValue()),p.hasEnd()&&(c=p.getIndexEndValue()),p.getIndex()===To){const v="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",A="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(p.hasStart()){if(p.getIndexStartName()!==Kn)throw new Error(v);if("string"!=typeof d)throw new Error(A)}if(p.hasEnd()){if(p.getIndexEndName()!==dr)throw new Error(v);if("string"!=typeof c)throw new Error(A)}}else if(p.getIndex()===en){if(null!=d&&!E(d)||null!=c&&!E(c))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Le.hu)(p.getIndex()instanceof tu||p.getIndex()===ue,"unknown index type."),null!=d&&"object"==typeof d||null!=c&&"object"==typeof c)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function qc(p){if(p.hasStart()&&p.hasEnd()&&p.hasLimit()&&!p.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class El extends Ea{constructor(d,c){super(d,c,new Bi,!1)}get parent(){const d=Ro(this._path);return null===d?null:new El(this._repo,d)}get root(){let d=this;for(;null!==d.parent;)d=d.parent;return d}}class Yc{constructor(d,c,v){this._node=d,this.ref=c,this._index=v}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(d){const c=new Ai(d),v=sc(this.ref,d);return new Yc(this._node.getChild(c),v,en)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(d){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(v,A)=>d(new Yc(A,sc(this.ref,v),en)))}hasChild(d){const c=new Ai(d);return!this._node.getChild(c).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Kc(p,d){return(p=(0,Le.m9)(p))._checkNotDeleted("ref"),void 0!==d?sc(p._root,d):p._root}function el(p,d){(p=(0,Le.m9)(p))._checkNotDeleted("refFromURL");const c=ic(d,p._repo.repoInfo_.nodeAdmin);ps("refFromURL",c);const v=c.repoInfo;return!p._repo.repoInfo_.isCustomHost()&&v.host!==p._repo.repoInfo_.host&&nr("refFromURL: Host name does not match the current database: (found "+v.host+" but expected "+p._repo.repoInfo_.host+")"),Kc(p,c.path.toString())}function sc(p,d){return null===li((p=(0,Le.m9)(p))._path)?Tr("child","path",d,!1):Qn("child","path",d,!1),new El(p._repo,xs(p._path,d))}function $l(p,d){p=(0,Le.m9)(p),Ur("set",p._path),I("set",d,p._path,!1);const c=new Le.BH;return Hh(p._repo,p._path,d,null,c.wrapCallback(()=>{})),c.promise}function uh(p,d){Fe("update",d,p._path,!1);const c=new Le.BH;return function rc(p,d,c,v){ml(p,"update",{path:d.toString(),value:c});let A=!0;const H=va(p),re={};if(Dr(c,(xe,Je)=>{A=!1,re[xe]=Cs(xs(d,xe),kr(Je),p.serverSyncTree_,H)}),A)tn("update() called with empty data.  Don't do anything."),Zn(0,v,"ok",void 0);else{const xe=Hc(p),Je=function _o(p,d,c,v){!function wu(p,d,c,v){(0,Le.hu)(v>p.lastWriteId,"Stacking an older merge on top of newer ones"),p.allWrites.push({path:d,children:c,writeId:v,visible:!0}),p.visibleWrites=Zl(p.visibleWrites,d,c),p.lastWriteId=v}(p.pendingWriteTree_,d,c,v);const A=Ui.fromObject(c);return Ru(p,new sr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,A))}(p.serverSyncTree_,d,re,xe);jo(p.eventQueue_,Je),p.server_.merge(d.toString(),c,(ft,pn)=>{const In="ok"===ft;In||Or("update at "+d+" failed: "+ft);const Rn=qs(p.serverSyncTree_,xe,!In),gr=Rn.length>0?Dc(p,d):d;Ko(p.eventQueue_,gr,Rn),Zn(0,v,ft,pn)}),Dr(c,ft=>{const pn=Ic(p,xs(d,ft));Dc(p,pn)}),Ko(p.eventQueue_,d,[])}}(p._repo,p._path,d,c.wrapCallback(()=>{})),c.promise}function lh(p){p=(0,Le.m9)(p);const d=new Co(()=>{}),c=new kd(d);return function nc(p,d,c){const v=function Ma(p,d){const c=d._path;let v=null;p.syncPointTree_.foreachOnPath(c,(ft,pn)=>{const In=Es(ft,c);v=v||bs(pn,In)});let A=p.syncPointTree_.get(c);A?v=v||bs(A,xi()):(A=new Jl,p.syncPointTree_=p.syncPointTree_.set(c,A));const H=null!=v,re=H?new cn(v,!0,!1):null;return function Do(p){return Cu(p.viewCache_)}(Io(A,d,Vu(p.pendingWriteTree_,d._path),H?re.getNode():Ir.EMPTY_NODE,H))}(p.serverSyncTree_,d);return null!=v?Promise.resolve(v):p.server_.get(d).then(A=>{const H=kr(A).withIndex(d._queryParams.getIndex());let re;if(_u(p.serverSyncTree_,d,c,!0),d._queryParams.loadsAllData())re=ma(p.serverSyncTree_,d._path,H);else{const xe=pl(p.serverSyncTree_,d);re=ou(p.serverSyncTree_,d._path,H,xe)}return Ko(p.eventQueue_,d._path,re),Nl(p.serverSyncTree_,d,c,null,!0),H},A=>(ml(p,"get for query "+(0,Le.Wl)(d)+" failed: "+A),Promise.reject(new Error(A))))}(p._repo,p,c).then(v=>new Yc(v,new El(p._repo,p._path),p._queryParams.getIndex()))}class kd{constructor(d){this.callbackContext=d}respondsTo(d){return"value"===d}createEvent(d,c){const v=c._queryParams.getIndex();return new oh("value",this,new Yc(d.snapshotNode,new El(c._repo,c._path),v))}getEventRunner(d){return"cancel"===d.getEventType()?()=>this.callbackContext.onCancel(d.error):()=>this.callbackContext.onValue(d.snapshot,null)}createCancelEvent(d,c){return this.callbackContext.hasCancelCallback?new ah(this,d,c):null}matches(d){return d instanceof kd&&(!d.callbackContext||!this.callbackContext||d.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ao{constructor(d,c){this.eventType=d,this.callbackContext=c}respondsTo(d){let c="children_added"===d?"child_added":d;return c="children_removed"===c?"child_removed":c,this.eventType===c}createCancelEvent(d,c){return this.callbackContext.hasCancelCallback?new ah(this,d,c):null}createEvent(d,c){(0,Le.hu)(null!=d.childName,"Child events should have a childName.");const v=sc(new El(c._repo,c._path),d.childName),A=c._queryParams.getIndex();return new oh(d.type,this,new Yc(d.snapshotNode,v,A),d.prevName)}getEventRunner(d){return"cancel"===d.getEventType()?()=>this.callbackContext.onCancel(d.error):()=>this.callbackContext.onValue(d.snapshot,d.prevName)}matches(d){return d instanceof ao&&this.eventType===d.eventType&&(!this.callbackContext||!d.callbackContext||this.callbackContext.matches(d.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function zi(p,d,c,v,A){let H;if("object"==typeof v&&(H=void 0,A=v),"function"==typeof v&&(H=v),A&&A.onlyOnce){const Je=c,ft=(pn,In)=>{jc(p._repo,p,xe),Je(pn,In)};ft.userCallback=c.userCallback,ft.context=c.context,c=ft}const re=new Co(c,H||void 0),xe="value"===d?new kd(re):new ao(d,re);return function Ju(p,d,c){let v;v=".info"===li(d._path)?_u(p.infoSyncTree_,d,c):_u(p.serverSyncTree_,d,c),Fl(p.eventQueue_,d._path,v)}(p._repo,p,xe),()=>jc(p._repo,p,xe)}function Gh(p,d,c,v){return zi(p,"value",d,c,v)}function ch(p,d,c,v){return zi(p,"child_added",d,c,v)}function dh(p,d,c,v){return zi(p,"child_changed",d,c,v)}function Fd(p,d,c,v){return zi(p,"child_moved",d,c,v)}function hh(p,d,c,v){return zi(p,"child_removed",d,c,v)}function Af(p,d,c){let v=null;const A=c?new Co(c):null;"value"===d?v=new kd(A):d&&(v=new ao(d,A)),jc(p._repo,p,v)}class Fu{}class md extends Fu{constructor(d,c){super(),this._value=d,this._key=c}_apply(d){I("endAt",this._value,d._path,!0);const c=co(d._queryParams,this._value,this._key);if(qc(c),wc(c),d._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ea(d._repo,d._path,c,d._orderByCalled)}}class yd extends Fu{constructor(d,c){super(),this._value=d,this._key=c}_apply(d){I("endBefore",this._value,d._path,!1);const c=function ka(p,d,c){let v;return v=co(p,d,p.index_===To||c?c:Kn),v.endBeforeSet_=!0,v}(d._queryParams,this._value,this._key);if(qc(c),wc(c),d._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ea(d._repo,d._path,c,d._orderByCalled)}}class _d extends Fu{constructor(d,c){super(),this._value=d,this._key=c}_apply(d){I("startAt",this._value,d._path,!0);const c=zs(d._queryParams,this._value,this._key);if(qc(c),wc(c),d._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ea(d._repo,d._path,c,d._orderByCalled)}}class vd extends Fu{constructor(d,c){super(),this._value=d,this._key=c}_apply(d){I("startAfter",this._value,d._path,!1);const c=function So(p,d,c){let v;return v=zs(p,d,p.index_===To||c?c:dr),v.startAfterSet_=!0,v}(d._queryParams,this._value,this._key);if(qc(c),wc(c),d._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ea(d._repo,d._path,c,d._orderByCalled)}}class qh extends Fu{constructor(d){super(),this._limit=d}_apply(d){if(d._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ea(d._repo,d._path,function ss(p,d){const c=p.copy();return c.limitSet_=!0,c.limit_=d,c.viewFrom_="l",c}(d._queryParams,this._limit),d._orderByCalled)}}class bp extends Fu{constructor(d){super(),this._limit=d}_apply(d){if(d._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ea(d._repo,d._path,function ys(p,d){const c=p.copy();return c.limitSet_=!0,c.limit_=d,c.viewFrom_="r",c}(d._queryParams,this._limit),d._orderByCalled)}}class Mf extends Fu{constructor(d){super(),this._path=d}_apply(d){Od(d,"orderByChild");const c=new Ai(this._path);if(pi(c))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const v=new tu(c),A=fs(d._queryParams,v);return wc(A),new Ea(d._repo,d._path,A,!0)}}class Yh extends Fu{_apply(d){Od(d,"orderByKey");const c=fs(d._queryParams,To);return wc(c),new Ea(d._repo,d._path,c,!0)}}class Qc extends Fu{_apply(d){Od(d,"orderByPriority");const c=fs(d._queryParams,en);return wc(c),new Ea(d._repo,d._path,c,!0)}}class Ap extends Fu{_apply(d){Od(d,"orderByValue");const c=fs(d._queryParams,ue);return wc(c),new Ea(d._repo,d._path,c,!0)}}class Da extends Fu{constructor(d,c){super(),this._value=d,this._key=c}_apply(d){if(I("equalTo",this._value,d._path,!1),d._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(d._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new md(this._value,this._key)._apply(new _d(this._value,this._key)._apply(d))}}function Dl(p,...d){let c=(0,Le.m9)(p);for(const v of d)c=v._apply(c);return c}(function cd(p){(0,Le.hu)(!Lo,"__referenceConstructor has already been defined"),Lo=p})(El),function Sa(p){(0,Le.hu)(!yu,"__referenceConstructor has already been defined"),yu=p}(El);const Lu={};function Ed(p,d,c,v,A){let H=v||p.options.databaseURL;void 0===H&&(p.options.projectId||nr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tn("Using default host for project ",p.options.projectId),H=`${p.options.projectId}-default-rtdb.firebaseio.com`);let Je,ft,re=ic(H,A),xe=re.repoInfo;typeof process<"u"&&process.env&&(ft=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ft?(Je=!0,H=`http://${ft}?ns=${xe.namespace}`,re=ic(H,A),xe=re.repoInfo):Je=!re.repoInfo.secure;const pn=A&&Je?new se(se.OWNER):new ee(p.name,p.options,d);ps("Invalid Firebase Database URL",re),pi(re.path)||nr("Database URL must point to the root of a Firebase Database (not including a child path).");const In=function Xc(p,d,c,v){let A=Lu[d.name];A||(A={},Lu[d.name]=A);let H=A[p.toURLString()];return H&&nr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),H=new Xu(p,false,c,v),A[p.toURLString()]=H,H}(xe,p,pn,new Fs(p.name,c));return new Pg(In,p)}class Pg{constructor(d,c){this._repoInternal=d,this.app=c,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Zo(p,d,c){if(p.stats_=Vi(p.repoInfo_),p.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)p.server_=new da(p.repoInfo_,(v,A,H,re)=>{Bl(p,v,A,H,re)},p.authTokenProvider_,p.appCheckProvider_),setTimeout(()=>$c(p,!0),0);else{if(typeof c<"u"&&null!==c){if("object"!=typeof c)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Le.Wl)(c)}catch(v){throw new Error("Invalid authOverride provided: "+v)}}p.persistentConnection_=new is(p.repoInfo_,d,(v,A,H,re)=>{Bl(p,v,A,H,re)},v=>{$c(p,v)},v=>{!function fd(p,d){Dr(d,(c,v)=>{Vc(p,c,v)})}(p,v)},p.authTokenProvider_,p.appCheckProvider_,c),p.server_=p.persistentConnection_}p.authTokenProvider_.addTokenChangeListener(v=>{p.server_.refreshAuthToken(v)}),p.appCheckProvider_.addTokenChangeListener(v=>{p.server_.refreshAppCheckToken(v.token)}),p.statsReporter_=function ws(p,d){const c=p.toString();return $r[c]||($r[c]=d()),$r[c]}(p.repoInfo_,()=>new xd(p.stats_,p.server_)),p.infoData_=new Fn,p.infoSyncTree_=new Ao({startListening:(v,A,H,re)=>{let xe=[];const Je=p.infoData_.getNode(v._path);return Je.isEmpty()||(xe=ma(p.infoSyncTree_,v._path,Je),setTimeout(()=>{re("ok")},0)),xe},stopListening:()=>{}}),Vc(p,"connected",!1),p.serverSyncTree_=new Ao({startListening:(v,A,H,re)=>(p.server_.listen(v,H,A,(xe,Je)=>{const ft=re(xe,Je);Ko(p.eventQueue_,v._path,ft)}),[]),stopListening:(v,A)=>{p.server_.unlisten(v,A)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new El(this._repo,xi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ph(p,d){const c=Lu[d];(!c||c[p.key]!==p)&&nr(`Database ${d}(${p.repoInfo_}) has already been deleted.`),sa(p),delete c[p.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(d){null===this._rootInternal&&nr("Cannot call "+d+" on a deleted database.")}}function Mp(){Ce.IS_TRANSPORT_INITIALIZED&&Or("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function gh(){Mp(),io.forceDisallow()}function Of(){Mp(),Li.forceDisallow(),io.forceAllow()}function Rg(p,d){sn(p,d)}const Og={".sv":"timestamp"};class td{constructor(d,c){this.committed=d,this.snapshot=c}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}is.prototype.simpleListen=function(p,d){this.sendRequest("q",{p},d)},is.prototype.echo=function(p,d){this.sendRequest("echo",{d:p},d)},function Rp(p){ti(jr.SDK_VERSION),(0,jr._registerComponent)(new ut.wA("database",(d,{instanceIdentifier:c})=>Ed(d.getProvider("app").getImmediate(),d.getProvider("auth-internal"),d.getProvider("app-check-internal"),c),"PUBLIC").setMultipleInstances(!0)),(0,jr.registerVersion)(Pr,"0.14.4",p),(0,jr.registerVersion)(Pr,"0.14.4","esm2017")}();const Dd=new Ti.Yd("@firebase/database-compat"),kf=function(p){Dd.warn("FIREBASE WARNING: "+p)};class Vd{constructor(d){this._delegate=d}cancel(d){(0,Le.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Le.Wj)("OnDisconnect.cancel","onComplete",d,!0);const c=this._delegate.cancel();return d&&c.then(()=>d(null),v=>d(v)),c}remove(d){(0,Le.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Le.Wj)("OnDisconnect.remove","onComplete",d,!0);const c=this._delegate.remove();return d&&c.then(()=>d(null),v=>d(v)),c}set(d,c){(0,Le.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Le.Wj)("OnDisconnect.set","onComplete",c,!0);const v=this._delegate.set(d);return c&&v.then(()=>c(null),A=>c(A)),v}setWithPriority(d,c,v){(0,Le.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Le.Wj)("OnDisconnect.setWithPriority","onComplete",v,!0);const A=this._delegate.setWithPriority(d,c);return v&&A.then(()=>v(null),H=>v(H)),A}update(d,c){if((0,Le.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(d)){const A={};for(let H=0;H<d.length;++H)A[""+H]=d[H];d=A,kf("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Le.Wj)("OnDisconnect.update","onComplete",c,!0);const v=this._delegate.update(d);return c&&v.then(()=>c(null),A=>c(A)),v}}class Hd{constructor(d,c){this.committed=d,this.snapshot=c}toJSON(){return(0,Le.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class tl{constructor(d,c){this._database=d,this._delegate=c}val(){return(0,Le.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Le.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Le.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Le.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(d){return(0,Le.Dv)("DataSnapshot.child",0,1,arguments.length),d=String(d),Qn("DataSnapshot.child","path",d,!1),new tl(this._database,this._delegate.child(d))}hasChild(d){return(0,Le.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Qn("DataSnapshot.hasChild","path",d,!1),this._delegate.hasChild(d)}getPriority(){return(0,Le.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(d){return(0,Le.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Le.Wj)("DataSnapshot.forEach","action",d,!1),this._delegate.forEach(c=>d(new tl(this._database,c)))}hasChildren(){return(0,Le.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Le.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Le.Dv)("DataSnapshot.ref",0,0,arguments.length),new Eu(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class oa{constructor(d,c){this.database=d,this._delegate=c}on(d,c,v,A){var H;(0,Le.Dv)("Query.on",2,4,arguments.length),(0,Le.Wj)("Query.on","callback",c,!1);const re=oa.getCancelAndContextArgs_("Query.on",v,A),xe=(ft,pn)=>{c.call(re.context,new tl(this.database,ft),pn)};xe.userCallback=c,xe.context=re.context;const Je=null===(H=re.cancel)||void 0===H?void 0:H.bind(re.context);switch(d){case"value":return Gh(this._delegate,xe,Je),c;case"child_added":return ch(this._delegate,xe,Je),c;case"child_removed":return hh(this._delegate,xe,Je),c;case"child_changed":return dh(this._delegate,xe,Je),c;case"child_moved":return Fd(this._delegate,xe,Je),c;default:throw new Error((0,Le.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(d,c,v){if((0,Le.Dv)("Query.off",0,3,arguments.length),function(p,d,c){if(void 0!==d)switch(d){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Le.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,d),(0,Le.Wj)("Query.off","callback",c,!0),(0,Le.lb)("Query.off","context",v,!0),c){const A=()=>{};A.userCallback=c,A.context=v,Af(this._delegate,d,A)}else Af(this._delegate,d)}get(){return lh(this._delegate).then(d=>new tl(this.database,d))}once(d,c,v,A){(0,Le.Dv)("Query.once",1,4,arguments.length),(0,Le.Wj)("Query.once","callback",c,!0);const H=oa.getCancelAndContextArgs_("Query.once",v,A),re=new Le.BH,xe=(ft,pn)=>{const In=new tl(this.database,ft);c&&c.call(H.context,In,pn),re.resolve(In)};xe.userCallback=c,xe.context=H.context;const Je=ft=>{H.cancel&&H.cancel.call(H.context,ft),re.reject(ft)};switch(d){case"value":Gh(this._delegate,xe,Je,{onlyOnce:!0});break;case"child_added":ch(this._delegate,xe,Je,{onlyOnce:!0});break;case"child_removed":hh(this._delegate,xe,Je,{onlyOnce:!0});break;case"child_changed":dh(this._delegate,xe,Je,{onlyOnce:!0});break;case"child_moved":Fd(this._delegate,xe,Je,{onlyOnce:!0});break;default:throw new Error((0,Le.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return re.promise}limitToFirst(d){return(0,Le.Dv)("Query.limitToFirst",1,1,arguments.length),new oa(this.database,Dl(this._delegate,function Mg(p){if("number"!=typeof p||Math.floor(p)!==p||p<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new qh(p)}(d)))}limitToLast(d){return(0,Le.Dv)("Query.limitToLast",1,1,arguments.length),new oa(this.database,Dl(this._delegate,function Tp(p){if("number"!=typeof p||Math.floor(p)!==p||p<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new bp(p)}(d)))}orderByChild(d){return(0,Le.Dv)("Query.orderByChild",1,1,arguments.length),new oa(this.database,Dl(this._delegate,function Sp(p){if("$key"===p)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===p)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===p)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Qn("orderByChild","path",p,!1),new Mf(p)}(d)))}orderByKey(){return(0,Le.Dv)("Query.orderByKey",0,0,arguments.length),new oa(this.database,Dl(this._delegate,function Pf(){return new Yh}()))}orderByPriority(){return(0,Le.Dv)("Query.orderByPriority",0,0,arguments.length),new oa(this.database,Dl(this._delegate,function Bd(){return new Qc}()))}orderByValue(){return(0,Le.Dv)("Query.orderByValue",0,0,arguments.length),new oa(this.database,Dl(this._delegate,function Vl(){return new Ap}()))}startAt(d=null,c){return(0,Le.Dv)("Query.startAt",0,2,arguments.length),new oa(this.database,Dl(this._delegate,function Ld(p=null,d){return dn("startAt","key",d,!0),new _d(p,d)}(d,c)))}startAfter(d=null,c){return(0,Le.Dv)("Query.startAfter",0,2,arguments.length),new oa(this.database,Dl(this._delegate,function xf(p,d){return dn("startAfter","key",d,!0),new vd(p,d)}(d,c)))}endAt(d=null,c){return(0,Le.Dv)("Query.endAt",0,2,arguments.length),new oa(this.database,Dl(this._delegate,function Wh(p,d){return dn("endAt","key",d,!0),new md(p,d)}(d,c)))}endBefore(d=null,c){return(0,Le.Dv)("Query.endBefore",0,2,arguments.length),new oa(this.database,Dl(this._delegate,function Zc(p,d){return dn("endBefore","key",d,!0),new yd(p,d)}(d,c)))}equalTo(d,c){return(0,Le.Dv)("Query.equalTo",1,2,arguments.length),new oa(this.database,Dl(this._delegate,function fh(p,d){return dn("equalTo","key",d,!0),new Da(p,d)}(d,c)))}toString(){return(0,Le.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Le.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(d){if((0,Le.Dv)("Query.isEqual",1,1,arguments.length),!(d instanceof oa))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(d._delegate)}static getCancelAndContextArgs_(d,c,v){const A={cancel:void 0,context:void 0};if(c&&v)A.cancel=c,(0,Le.Wj)(d,"cancel",A.cancel,!0),A.context=v,(0,Le.lb)(d,"context",A.context,!0);else if(c)if("object"==typeof c&&null!==c)A.context=c;else{if("function"!=typeof c)throw new Error((0,Le.gK)(d,"cancelOrContext")+" must either be a cancel callback or a context object.");A.cancel=c}return A}get ref(){return new Eu(this.database,new El(this._delegate._repo,this._delegate._path))}}class Eu extends oa{constructor(d,c){super(d,new Ea(c._repo,c._path,new Bi,!1)),this.database=d,this._delegate=c}getKey(){return(0,Le.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(d){return(0,Le.Dv)("Reference.child",1,1,arguments.length),"number"==typeof d&&(d=String(d)),new Eu(this.database,sc(this._delegate,d))}getParent(){(0,Le.Dv)("Reference.parent",0,0,arguments.length);const d=this._delegate.parent;return d?new Eu(this.database,d):null}getRoot(){return(0,Le.Dv)("Reference.root",0,0,arguments.length),new Eu(this.database,this._delegate.root)}set(d,c){(0,Le.Dv)("Reference.set",1,2,arguments.length),(0,Le.Wj)("Reference.set","onComplete",c,!0);const v=$l(this._delegate,d);return c&&v.then(()=>c(null),A=>c(A)),v}update(d,c){if((0,Le.Dv)("Reference.update",1,2,arguments.length),Array.isArray(d)){const A={};for(let H=0;H<d.length;++H)A[""+H]=d[H];d=A,kf("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ur("Reference.update",this._delegate._path),(0,Le.Wj)("Reference.update","onComplete",c,!0);const v=uh(this._delegate,d);return c&&v.then(()=>c(null),A=>c(A)),v}setWithPriority(d,c,v){(0,Le.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Le.Wj)("Reference.setWithPriority","onComplete",v,!0);const A=function oc(p,d,c){if(Ur("setWithPriority",p._path),I("setWithPriority",d,p._path,!1),Ut("setWithPriority",c,!1),".length"===p.key||".keys"===p.key)throw"setWithPriority failed: "+p.key+" is a read-only object.";const v=new Le.BH;return Hh(p._repo,p._path,d,c,v.wrapCallback(()=>{})),v.promise}(this._delegate,d,c);return v&&A.then(()=>v(null),H=>v(H)),A}remove(d){(0,Le.Dv)("Reference.remove",0,1,arguments.length),(0,Le.Wj)("Reference.remove","onComplete",d,!0);const c=function gd(p){return Ur("remove",p._path),$l(p,null)}(this._delegate);return d&&c.then(()=>d(null),v=>d(v)),c}transaction(d,c,v){(0,Le.Dv)("Reference.transaction",1,3,arguments.length),(0,Le.Wj)("Reference.transaction","transactionUpdate",d,!1),(0,Le.Wj)("Reference.transaction","onComplete",c,!0),function(p,d,c,v){if(void 0!==c&&"boolean"!=typeof c)throw new Error((0,Le.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,v);const A=function $d(p,d,c){var v;if(p=(0,Le.m9)(p),Ur("Reference.transaction",p._path),".length"===p.key||".keys"===p.key)throw"Reference.transaction failed: "+p.key+" is a read-only object.";const A=null===(v=c?.applyLocally)||void 0===v||v,H=new Le.BH,xe=Gh(p,()=>{});return function jh(p,d,c,v,A,H){ml(p,"transaction on "+d);const re={path:d,update:c,onComplete:v,status:null,order:$e(),applyLocally:H,retryCount:0,unwatcher:A,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},xe=Gc(p,d,void 0);re.currentInputSnapshot=xe;const Je=re.update(xe.val());if(void 0===Je)re.unwatcher(),re.currentOutputSnapshotRaw=null,re.currentOutputSnapshotResolved=null,re.onComplete&&re.onComplete(null,!1,re.currentInputSnapshot);else{B("transaction failed: Data returned ",Je,re.path),re.status=0;const ft=Yo(p.transactionQueueTree_,d),pn=Wa(ft)||[];let In;pn.push(re),kl(ft,pn),"object"==typeof Je&&null!==Je&&(0,Le.r3)(Je,".priority")?(In=(0,Le.DV)(Je,".priority"),(0,Le.hu)(E(In),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):In=(Pu(p.serverSyncTree_,d)||Ir.EMPTY_NODE).getPriority().val();const Rn=va(p),gr=kr(Je,In),Jr=Pa(gr,xe,Rn);re.currentOutputSnapshotRaw=gr,re.currentOutputSnapshotResolved=Jr,re.currentWriteId=Hc(p);const as=hl(p.serverSyncTree_,d,Jr,re.currentWriteId,re.applyLocally);Ko(p.eventQueue_,d,as),Ul(p,p.transactionQueueTree_)}}(p._repo,p._path,d,(Je,ft,pn)=>{let In=null;Je?H.reject(Je):(In=new Yc(pn,new El(p._repo,p._path),en),H.resolve(new td(ft,In)))},xe,A),H.promise}(this._delegate,d,{applyLocally:v}).then(H=>new Hd(H.committed,new tl(this.database,H.snapshot)));return c&&A.then(H=>c(null,H.committed,H.snapshot),H=>c(H,!1,null)),A}setPriority(d,c){(0,Le.Dv)("Reference.setPriority",1,2,arguments.length),(0,Le.Wj)("Reference.setPriority","onComplete",c,!0);const v=function Nd(p,d){p=(0,Le.m9)(p),Ur("setPriority",p._path),Ut("setPriority",d,!1);const c=new Le.BH;return Hh(p._repo,xs(p._path,".priority"),d,null,c.wrapCallback(()=>{})),c.promise}(this._delegate,d);return c&&v.then(()=>c(null),A=>c(A)),v}push(d,c){(0,Le.Dv)("Reference.push",0,2,arguments.length),(0,Le.Wj)("Reference.push","onComplete",c,!0);const v=function zh(p,d){p=(0,Le.m9)(p),Ur("push",p._path),I("push",d,p._path,!0);const c=Ll(p._repo),v=vl(c),A=sc(p,v),H=sc(p,v);let re;return re=null!=d?$l(H,d).then(()=>H):Promise.resolve(H),A.then=re.then.bind(re),A.catch=re.then.bind(re,void 0),A}(this._delegate,d),A=v.then(re=>new Eu(this.database,re));c&&A.then(()=>c(null),re=>c(re));const H=new Eu(this.database,v);return H.then=A.then.bind(A),H.catch=A.catch.bind(A,void 0),H}onDisconnect(){return Ur("Reference.onDisconnect",this._delegate._path),new Vd(new Wc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Id{constructor(d,c){this._delegate=d,this.app=c,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:gh,forceLongPolling:Of}}useEmulator(d,c,v={}){!function ed(p,d,c,v={}){(p=(0,Le.m9)(p))._checkNotDeleted("useEmulator"),p._instanceStarted&&nr("Cannot call useEmulator() after instance has already been initialized.");const A=p._repoInternal;let H;if(A.repoInfo_.nodeAdmin)v.mockUserToken&&nr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),H=new se(se.OWNER);else if(v.mockUserToken){const re="string"==typeof v.mockUserToken?v.mockUserToken:(0,Le.Sg)(v.mockUserToken,p.app.options.projectId);H=new se(re)}!function Rf(p,d,c,v){p.repoInfo_=new $i(`${d}:${c}`,!1,p.repoInfo_.namespace,p.repoInfo_.webSocketOnly,p.repoInfo_.nodeAdmin,p.repoInfo_.persistenceKey,p.repoInfo_.includeNamespaceInQueryParams,!0),v&&(p.authTokenProvider_=v)}(A,d,c,H)}(this._delegate,d,c,v)}ref(d){if((0,Le.Dv)("database.ref",0,1,arguments.length),d instanceof Eu){const c=el(this._delegate,d.toString());return new Eu(this,c)}{const c=Kc(this._delegate,d);return new Eu(this,c)}}refFromURL(d){(0,Le.Dv)("database.refFromURL",1,1,arguments.length);const v=el(this._delegate,d);return new Eu(this,v)}goOffline(){return(0,Le.Dv)("database.goOffline",0,0,arguments.length),function Nf(p){(p=(0,Le.m9)(p))._checkNotDeleted("goOffline"),sa(p._repo)}(this._delegate)}goOnline(){return(0,Le.Dv)("database.goOnline",0,0,arguments.length),function Pp(p){(p=(0,Le.m9)(p))._checkNotDeleted("goOnline"),function zc(p){p.persistentConnection_&&p.persistentConnection_.resume(tc)}(p._repo)}(this._delegate)}}Id.ServerValue={TIMESTAMP:function Ng(){return Og}(),increment:p=>function Op(p){return{".sv":{increment:p}}}(p)};var jd=Object.freeze({__proto__:null,initStandalone:function Np({app:p,url:d,version:c,customAuthImpl:v,namespace:A,nodeAdmin:H=!1}){ti(c);const re=new ut.zt("auth-internal",new ut.H0("database-standalone"));return re.setComponent(new ut.wA("auth-internal",()=>v,"PRIVATE")),{instance:new Id(Ed(p,re,void 0,d,H),p),namespace:A}}});const kp=Id.ServerValue;function zd(p){return null==p}function bc(p){return"function"==typeof p.set}function Tc(p,d){return bc(d)?d:p.ref(d)}function Kh(p,d){if(function Fp(p){return"string"==typeof p}(p))return d.stringCase();if(bc(p))return d.firebaseCase();if(function Lp(p){return"function"==typeof p.exportVal}(p))return d.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof p)}function Gd(p,d,c="on",v=Ft.z){return new be.y(A=>{let H=null;return H=p[c](d,(re,xe)=>{v.schedule(()=>{A.next({snapshot:re,prevKey:xe})}),"once"===c&&v.schedule(()=>A.complete())},re=>{v.schedule(()=>A.error(re))}),"on"===c?{unsubscribe(){null!=H&&p.off(d,H)}}:{unsubscribe(){}}}).pipe((0,Et.U)(A=>{const{snapshot:H,prevKey:re}=A;let xe=null;return H.exists()&&(xe=H.key),{type:d,payload:H,prevKey:re,key:xe}}),(0,nn.B)())}function Bp(p,d){const c=p.length;for(let v=0;v<c;v++)if(p[v].payload.key===d)return v;return-1}function Cd(p,d){const{payload:c,prevKey:v,key:A}=d,H=Bp(p,A),re=function Lg(p,d){if(zd(d))return 0;{const c=Bp(p,d);return-1===c?p.length:c+1}}(p,v);switch(d.type){case"value":if(d.payload&&d.payload.exists()){let xe=null;d.payload.forEach(Je=>{const ft={payload:Je,type:"value",prevKey:xe,key:Je.key};return xe=Je.key,p=[...p,ft],!1})}return p;case"child_added":if(H>-1){const xe=p[H-1];(xe&&xe.key||null)!==v&&(p=p.filter(Je=>Je.payload.key!==c.key)).splice(re,0,d)}else{if(null==v)return[d,...p];(p=p.slice()).splice(re,0,d)}return p;case"child_removed":return p.filter(xe=>xe.payload.key!==c.key);case"child_changed":return p.map(xe=>xe.payload.key===A?d:xe);case"child_moved":if(H>-1){const xe=p.splice(H,1)[0];return(p=p.slice()).splice(re,0,xe),p}return p;default:return p}}function uc(p){return(zd(p)||0===p.length)&&(p=["child_added","child_removed","child_changed","child_moved"]),p}function Sc(p,d,c){return function Ia(p,d,c){return Gd(p,"value","once",c).pipe((0,st.w)(v=>{const A=[(0,$t.of)(v)];return d.forEach(H=>A.push(Gd(p,H,"on",c))),(0,Wn.T)(...A).pipe((0,Wr.R)(Cd,[]))}),(0,ei.x)())}(p,d=uc(d),c)}function Lf(p,d,c){const v=(d=uc(d)).map(A=>Gd(p,A,"on",c));return(0,Wn.T)(...v)}function Uf(p,d){return function(v,A){return Kh(v,{stringCase:()=>p.child(v)[d](A),firebaseCase:()=>v[d](A),snapshotCase:()=>v.ref[d](A)})}}function Vp(p){return function(c){return c?Kh(c,{stringCase:()=>p.child(c).remove(),firebaseCase:()=>c.remove(),snapshotCase:()=>c.ref.remove()}):p.remove()}}function Rs(p,d){return function(){return Gd(p,"value","on",d)}}!function Fg(p){p.INTERNAL.registerComponent(new ut.wA("database-compat",(d,{instanceIdentifier:c})=>{const v=d.getProvider("app-compat").getImmediate(),A=d.getProvider("database").getImmediate({identifier:c});return new Id(A,v)},"PUBLIC").setServiceProps({Reference:Eu,Query:oa,Database:Id,DataSnapshot:tl,enableLogging:Rg,INTERNAL:jd,ServerValue:kp}).setMultipleInstances(!0)),p.registerVersion("@firebase/database-compat","0.3.4")}(Ue.Z);const $f=new h.OlP("angularfire2.realtimeDatabaseURL"),_h=new h.OlP("angularfire2.database.use-emulator");let Hp=(()=>{class p{constructor(c,v,A,H,re,xe,Je,ft,pn,In,Rn,gr,Jr,as,Qo){this.schedulers=xe;const lu=Je,lc=(0,Dt.on)(c,re,v);ft&&(0,We.nw)(lc,re,pn,Rn,gr,Jr,In,as),this.database=(0,Dt.cc)(`${lc.name}.database.${A}`,"AngularFireDatabase",lc.name,()=>{const Ac=re.runOutsideAngular(()=>lc.database(A||void 0));return lu&&Ac.useEmulator(...lu),Ac},[lu])}list(c,v){const A=this.schedulers.ngZone.runOutsideAngular(()=>Tc(this.database,c));let H=A;return v&&(H=v(A)),function Wd(p,d){const c=d.schedulers.outsideAngular,v=d.schedulers.ngZone.run(()=>p.ref);return{query:p,update:Uf(v,"update"),set:Uf(v,"set"),push:A=>v.push(A),remove:Vp(v),snapshotChanges:A=>Sc(p,A,c).pipe(Ye.iC),stateChanges:A=>Lf(p,A,c).pipe(Ye.iC),auditTrail:A=>function Up(p,d,c){return function $p(p,d,c){return function Bf(p,d){return Gd(p,"value","on",d).pipe((0,Et.U)(c=>{let v;return c.payload.forEach(A=>(v=A.key,!1)),{data:c,lastKeyToLoad:v}}))}(p,c).pipe(function Qi(...p){const d=(0,Xr.jO)(p);return(0,zt.e)((c,v)=>{const A=p.length,H=new Array(A);let re=p.map(()=>!1),xe=!1;for(let Je=0;Je<A;Je++)(0,qr.Xf)(p[Je]).subscribe((0,Vt.x)(v,ft=>{H[Je]=ft,!xe&&!re[Je]&&(re[Je]=!0,(xe=re.every(xr.y))&&(re=null))},Un.Z));c.subscribe((0,Vt.x)(v,Je=>{if(xe){const ft=[Je,...H];v.next(d?d(...ft):ft)}}))})}(d),(0,Et.U)(([A,H])=>{const re=A.lastKeyToLoad,xe=H.map(Je=>Je.key);return{actions:H,lastKeyToLoad:re,loadedKeys:xe}}),function Mi(p){return(0,zt.e)((d,c)=>{let v=!1,A=0;d.subscribe((0,Vt.x)(c,H=>(v||(v=!p(H,A++)))&&c.next(H)))})}(A=>-1===A.loadedKeys.indexOf(A.lastKeyToLoad)),(0,Et.U)(A=>A.actions))}(p,Lf(p,d).pipe((0,Wr.R)((A,H)=>[...A,H],[])),c)}(p,A,c).pipe(Ye.iC),valueChanges:(A,H)=>Sc(p,A,c).pipe((0,Et.U)(xe=>xe.map(Je=>H&&H.idField?Object.assign(Object.assign({},Je.payload.val()),{[H.idField]:Je.key}):Je.payload.val())),Ye.iC)}}(H,this)}object(c){return function wd(p,d){return{query:p,snapshotChanges:()=>Rs(p,d.schedulers.outsideAngular)().pipe(Ye.iC),update:c=>p.ref.update(c),set:c=>p.ref.set(c),remove:()=>p.ref.remove(),valueChanges:()=>Rs(p,d.schedulers.outsideAngular)().pipe(Ye.iC,(0,Et.U)(v=>v.payload.exists()?v.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Tc(this.database,c)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return p.\u0275fac=function(c){return new(c||p)(h.LFG(Dt.Dh),h.LFG(Dt.xv,8),h.LFG($f,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Ye.HU),h.LFG(_h,8),h.LFG(We.zQ,8),h.LFG(We.Qv,8),h.LFG(We.L6,8),h.LFG(We._Q,8),h.LFG(We.rT,8),h.LFG(We.lh,8),h.LFG(We.f7,8),h.LFG(Kt.nm,8))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"any"}),p})(),vh=(()=>{class p{constructor(){kn.Z.registerVersion("angularfire",Ye.q4.full,"rtdb-compat")}}return p.\u0275fac=function(c){return new(c||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({providers:[Hp]}),p})();var Zh=k(3144),jp=k(9290);let Vf=(()=>{class p{}return p.\u0275fac=function(c){return new(c||p)},p.\u0275mod=h.oAB({type:p,bootstrap:[ze]}),p.\u0275inj=h.cJS({providers:[{provide:K.wN,useClass:P.r4}],imports:[y.b2,P.Pc.forRoot(),mt,dt.RegisterPageModule,vt.UX,Dt.hO.initializeApp(pt.N.firebase),We.ww,Ot.yb,ht,vh,Zh.JF,jp.UL]}),p})();pt.N.production&&(0,h.G48)(),y.q6().bootstrapModule(Vf).catch(p=>console.log(p))},7489:function(xn,bt,k){var y;xn=k.nmd(xn),function(){var h,me="Expected a function",Xe="__lodash_hash_undefined__",De="__lodash_placeholder__",Et=1/0,st=9007199254740991,Qe=4294967295,Jt=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Nn="[object Arguments]",mn="[object Array]",St="[object Boolean]",hn="[object Date]",ct="[object Error]",Xt="[object Function]",Tt="[object GeneratorFunction]",Kt="[object Map]",kn="[object Number]",lr="[object Object]",cr="[object Promise]",Jn="[object RegExp]",Qr="[object Set]",Er="[object String]",Ht="[object Symbol]",ge="[object WeakMap]",Ot="[object ArrayBuffer]",Wn="[object DataView]",nn="[object Float32Array]",Wr="[object Float64Array]",ei="[object Int8Array]",qr="[object Int16Array]",xr="[object Int32Array]",Un="[object Uint8Array]",Xr="[object Uint8ClampedArray]",Qi="[object Uint16Array]",Mi="[object Uint32Array]",Pi=/\b__p \+= '';/g,jr=/\b(__p \+=) '' \+/g,Le=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ti=/&(?:amp|lt|gt|quot|#39);/g,Pr=/[&<>"']/g,ai=RegExp(Ti.source),Gi=RegExp(Pr.source),ti=/<%-([\s\S]+?)%>/g,ui=/<%([\s\S]+?)%>/g,lt=/<%=([\s\S]+?)%>/g,Ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/,q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,X=/[\\^$.*+?()[\]{}|]/g,$e=RegExp(X.source),Se=/^\s+/,ve=/\s/,Ke=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,It=/\{\n\/\* \[wrapped with (.+)\] \*/,sn=/,? & /,tn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dn=/[()=,{}\[\]\/\s]/,rr=/\\(\\)?/g,nr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Or=/\w*$/,an=/^[-+]0x[0-9a-f]+$/i,Bt=/^0b[01]+$/i,gn=/^\[object .+?Constructor\]$/,Kn=/^0o[0-7]+$/i,dr=/^(?:0|[1-9]\d*)$/,mr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Fr=/($^)/,_i=/['\n\r\u2028\u2029\\]/g,Sr="\\ud800-\\udfff",hi="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Z="\\u2700-\\u27bf",wt="a-z\\xdf-\\xf6\\xf8-\\xff",yr="A-Z\\xc0-\\xd6\\xd8-\\xde",Kr="\\ufe0e\\ufe0f",ns="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ee="["+Sr+"]",se="["+ns+"]",Ae="["+hi+"]",he="\\d+",He="["+Z+"]",Ze="["+wt+"]",xt="[^"+Sr+ns+he+Z+wt+yr+"]",Lt="\\ud83c[\\udffb-\\udfff]",En="[^"+Sr+"]",Bn="(?:\\ud83c[\\udde6-\\uddff]){2}",vr="[\\ud800-\\udbff][\\udc00-\\udfff]",wr="["+yr+"]",Js="(?:"+Ze+"|"+xt+")",Us="(?:"+wr+"|"+xt+")",Fi="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",zn="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",$r="(?:"+Ae+"|"+Lt+")?",Vi="["+Kr+"]?",po=Vi+$r+"(?:\\u200d(?:"+[En,Bn,vr].join("|")+")"+Vi+$r+")*",Hi="(?:"+[He,Bn,vr].join("|")+")"+po,Ys="(?:"+[En+Ae+"?",Ae,Bn,vr,ee].join("|")+")",lo=RegExp("['\u2019]","g"),ni=RegExp(Ae,"g"),As=RegExp(Lt+"(?="+Lt+")|"+Ys+po,"g"),xo=RegExp([wr+"?"+Ze+"+"+Fi+"(?="+[se,wr,"$"].join("|")+")",Us+"+"+zn+"(?="+[se,wr+Js,"$"].join("|")+")",wr+"?"+Js+"+"+Fi,wr+"+"+zn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",he,Hi].join("|"),"g"),no=RegExp("[\\u200d"+Sr+hi+Kr+"]"),Wi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Mo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ro=-1,ri={};ri[nn]=ri[Wr]=ri[ei]=ri[qr]=ri[xr]=ri[Un]=ri[Xr]=ri[Qi]=ri[Mi]=!0,ri[Nn]=ri[mn]=ri[Ot]=ri[St]=ri[Wn]=ri[hn]=ri[ct]=ri[Xt]=ri[Kt]=ri[kn]=ri[lr]=ri[Jn]=ri[Qr]=ri[Er]=ri[ge]=!1;var vi={};vi[Nn]=vi[mn]=vi[Ot]=vi[Wn]=vi[St]=vi[hn]=vi[nn]=vi[Wr]=vi[ei]=vi[qr]=vi[xr]=vi[Kt]=vi[kn]=vi[lr]=vi[Jn]=vi[Qr]=vi[Er]=vi[Ht]=vi[Un]=vi[Xr]=vi[Qi]=vi[Mi]=!0,vi[ct]=vi[Xt]=vi[ge]=!1;var io={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ea=parseFloat,Yr=parseInt,go="object"==typeof global&&global&&global.Object===Object&&global,Bo="object"==typeof self&&self&&self.Object===Object&&self,Li=go||Bo||Function("return this")(),Ce=bt&&!bt.nodeType&&bt,ce=Ce&&xn&&!xn.nodeType&&xn,nt=ce&&ce.exports===Ce,gt=nt&&go.process,At=function(){try{return ce&&ce.require&&ce.require("util").types||gt&&gt.binding&&gt.binding("util")}catch{}}(),yn=At&&At.isArrayBuffer,$n=At&&At.isDate,hr=At&&At.isMap,fr=At&&At.isRegExp,Gr=At&&At.isSet,mi=At&&At.isTypedArray;function ii(Gt,_n,en){switch(en.length){case 0:return Gt.call(_n);case 1:return Gt.call(_n,en[0]);case 2:return Gt.call(_n,en[0],en[1]);case 3:return Gt.call(_n,en[0],en[1],en[2])}return Gt.apply(_n,en)}function rs(Gt,_n,en,Ar){for(var si=-1,Zi=null==Gt?0:Gt.length;++si<Zi;){var js=Gt[si];_n(Ar,js,en(js),Gt)}return Ar}function Oi(Gt,_n){for(var en=-1,Ar=null==Gt?0:Gt.length;++en<Ar&&!1!==_n(Gt[en],en,Gt););return Gt}function Ns(Gt,_n){for(var en=null==Gt?0:Gt.length;en--&&!1!==_n(Gt[en],en,Gt););return Gt}function ji(Gt,_n){for(var en=-1,Ar=null==Gt?0:Gt.length;++en<Ar;)if(!_n(Gt[en],en,Gt))return!1;return!0}function Si(Gt,_n){for(var en=-1,Ar=null==Gt?0:Gt.length,si=0,Zi=[];++en<Ar;){var js=Gt[en];_n(js,en,Gt)&&(Zi[si++]=js)}return Zi}function Vs(Gt,_n){return!(null==Gt||!Gt.length)&&Ro(Gt,_n,0)>-1}function ls(Gt,_n,en){for(var Ar=-1,si=null==Gt?0:Gt.length;++Ar<si;)if(en(_n,Gt[Ar]))return!0;return!1}function fi(Gt,_n){for(var en=-1,Ar=null==Gt?0:Gt.length,si=Array(Ar);++en<Ar;)si[en]=_n(Gt[en],en,Gt);return si}function Xi(Gt,_n){for(var en=-1,Ar=_n.length,si=Gt.length;++en<Ar;)Gt[si+en]=_n[en];return Gt}function Ai(Gt,_n,en,Ar){var si=-1,Zi=null==Gt?0:Gt.length;for(Ar&&Zi&&(en=Gt[++si]);++si<Zi;)en=_n(en,Gt[si],si,Gt);return en}function xi(Gt,_n,en,Ar){var si=null==Gt?0:Gt.length;for(Ar&&si&&(en=Gt[--si]);si--;)en=_n(en,Gt[si],si,Gt);return en}function li(Gt,_n){for(var en=-1,Ar=null==Gt?0:Gt.length;++en<Ar;)if(_n(Gt[en],en,Gt))return!0;return!1}var ms=la("length");function Du(Gt,_n,en){var Ar;return en(Gt,function(si,Zi,js){if(_n(si,Zi,js))return Ar=Zi,!1}),Ar}function Uo(Gt,_n,en,Ar){for(var si=Gt.length,Zi=en+(Ar?1:-1);Ar?Zi--:++Zi<si;)if(_n(Gt[Zi],Zi,Gt))return Zi;return-1}function Ro(Gt,_n,en){return _n==_n?function sl(Gt,_n,en){for(var Ar=en-1,si=Gt.length;++Ar<si;)if(Gt[Ar]===_n)return Ar;return-1}(Gt,_n,en):Uo(Gt,pi,en)}function xs(Gt,_n,en,Ar){for(var si=en-1,Zi=Gt.length;++si<Zi;)if(Ar(Gt[si],_n))return si;return-1}function pi(Gt){return Gt!=Gt}function Es(Gt,_n){var en=null==Gt?0:Gt.length;return en?ie(Gt,_n)/en:NaN}function la(Gt){return function(_n){return null==_n?h:_n[Gt]}}function $o(Gt){return function(_n){return null==Gt?h:Gt[_n]}}function bo(Gt,_n,en,Ar,si){return si(Gt,function(Zi,js,Nr){en=Ar?(Ar=!1,Zi):_n(en,Zi,js,Nr)}),en}function ie(Gt,_n){for(var en,Ar=-1,si=Gt.length;++Ar<si;){var Zi=_n(Gt[Ar]);Zi!==h&&(en=en===h?Zi:en+Zi)}return en}function x(Gt,_n){for(var en=-1,Ar=Array(Gt);++en<Gt;)Ar[en]=_n(en);return Ar}function M(Gt){return Gt&&Gt.slice(0,oo(Gt)+1).replace(Se,"")}function L(Gt){return function(_n){return Gt(_n)}}function fe(Gt,_n){return fi(_n,function(en){return Gt[en]})}function Nt(Gt,_n){return Gt.has(_n)}function wn(Gt,_n){for(var en=-1,Ar=Gt.length;++en<Ar&&Ro(_n,Gt[en],0)>-1;);return en}function Zr(Gt,_n){for(var en=Gt.length;en--&&Ro(_n,Gt[en],0)>-1;);return en}var so=$o({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Vo=$o({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function is(Gt){return"\\"+io[Gt]}function vo(Gt){return no.test(Gt)}function To(Gt){var _n=-1,en=Array(Gt.size);return Gt.forEach(function(Ar,si){en[++_n]=[si,Ar]}),en}function ba(Gt,_n){return function(en){return Gt(_n(en))}}function Hs(Gt,_n){for(var en=-1,Ar=Gt.length,si=0,Zi=[];++en<Ar;){var js=Gt[en];(js===_n||js===De)&&(Gt[en]=De,Zi[si++]=en)}return Zi}function ca(Gt){var _n=-1,en=Array(Gt.size);return Gt.forEach(function(Ar){en[++_n]=Ar}),en}function Qa(Gt){return vo(Gt)?function Na(Gt){for(var _n=As.lastIndex=0;As.test(Gt);)++_n;return _n}(Gt):ms(Gt)}function ta(Gt){return vo(Gt)?function Xa(Gt){return Gt.match(As)||[]}(Gt):function Ni(Gt){return Gt.split("")}(Gt)}function oo(Gt){for(var _n=Gt.length;_n--&&ve.test(Gt.charAt(_n)););return _n}var Yl=$o({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ja=function Gt(_n){var l,en=(_n=null==_n?Li:Ja.defaults(Li.Object(),_n,Ja.pick(Li,Mo))).Array,Ar=_n.Date,si=_n.Error,Zi=_n.Function,js=_n.Math,Nr=_n.Object,na=_n.RegExp,eu=_n.String,Ir=_n.TypeError,Ha=en.prototype,Ta=Nr.prototype,kr=_n["__core-js_shared__"],tu=Zi.prototype.toString,V=Ta.hasOwnProperty,ue=0,Y=(l=/[^.]+$/.exec(kr&&kr.keys&&kr.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",Me=Ta.toString,ot=tu.call(Nr),ln=Li._,Tn=na("^"+tu.call(V).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_r=nt?_n.Buffer:h,ci=_n.Symbol,Gn=_n.Uint8Array,Bi=_r?_r.allocUnsafe:h,Ei=ba(Nr.getPrototypeOf,Nr),ss=Nr.create,ys=Ta.propertyIsEnumerable,zs=Ha.splice,So=ci?ci.isConcatSpreadable:h,co=ci?ci.iterator:h,ka=ci?ci.toStringTag:h,fs=function(){try{var l=Ul(Nr,"defineProperty");return l({},"",{}),l}catch{}}(),nu=_n.clearTimeout!==Li.clearTimeout&&_n.clearTimeout,ja=Ar&&Ar.now!==Li.Date.now&&Ar.now,da=_n.setTimeout!==Li.setTimeout&&_n.setTimeout,Fn=js.ceil,Di=js.floor,Eo=Nr.getOwnPropertySymbols,Kl=_r?_r.isBuffer:h,Gs=_n.isFinite,Sl=Ha.join,yo=ba(Nr.keys,Nr),cs=js.max,eo=js.min,ol=Ar.now,xd=_n.parseInt,Mn=js.random,Ms=Ha.reverse,Ws=Ul(_n,"DataView"),ds=Ul(_n,"Map"),ar=Ul(_n,"Promise"),Cr=Ul(_n,"Set"),Wo=Ul(_n,"WeakMap"),sr=Ul(Nr,"create"),cn=Wo&&new Wo,Pn={},Ji=zi(Ws),hu=zi(ds),No=zi(ar),fc=zi(Cr),fu=zi(Wo),za=ci?ci.prototype:h,Qu=za?za.valueOf:h,Cu=za?za.toString:h;function ke(l){if(aa(l)&&!us(l)&&!(l instanceof qn)){if(l instanceof Ui)return l;if(V.call(l,"__wrapped__"))return ch(l)}return new Ui(l)}var ru=function(){function l(){}return function(m){if(!Xo(m))return{};if(ss)return ss(m);l.prototype=m;var S=new l;return l.prototype=h,S}}();function Al(){}function Ui(l,m){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!m,this.__index__=0,this.__values__=h}function qn(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Qe,this.__views__=[]}function br(l){var m=-1,S=null==l?0:l.length;for(this.clear();++m<S;){var Q=l[m];this.set(Q[0],Q[1])}}function ra(l){var m=-1,S=null==l?0:l.length;for(this.clear();++m<S;){var Q=l[m];this.set(Q[0],Q[1])}}function ga(l){var m=-1,S=null==l?0:l.length;for(this.clear();++m<S;){var Q=l[m];this.set(Q[0],Q[1])}}function Ne(l){var m=-1,S=null==l?0:l.length;for(this.__data__=new ga;++m<S;)this.add(l[m])}function rt(l){var m=this.__data__=new ra(l);this.size=m.size}function bu(l,m){var S=us(l),Q=!S&&Eh(l),Ie=!S&&!Q&&cc(l),qe=!S&&!Q&&!Ie&&id(l),Ct=S||Q||Ie||qe,kt=Ct?x(l.length,eu):[],rn=kt.length;for(var Hn in l)(m||V.call(l,Hn))&&(!Ct||!("length"==Hn||Ie&&("offset"==Hn||"parent"==Hn)||qe&&("buffer"==Hn||"byteLength"==Hn||"byteOffset"==Hn)||_l(Hn,rn)))&&kt.push(Hn);return kt}function qo(l){var m=l.length;return m?l[fl(0,m-1)]:h}function Hu(l,m){return lh(I(l),ju(m,0,l.length))}function iu(l){return lh(I(l))}function Ql(l,m,S){(S!==h&&!xc(l[m],S)||S===h&&!(m in l))&&Ks(l,m,S)}function Fa(l,m,S){var Q=l[m];(!V.call(l,m)||!xc(Q,S)||S===h&&!(m in l))&&Ks(l,m,S)}function Fo(l,m){for(var S=l.length;S--;)if(xc(l[S][0],m))return S;return-1}function La(l,m,S,Q){return Tu(l,function(Ie,qe,Ct){m(Q,Ie,S(Ie),Ct)}),Q}function al(l,m){return l&&B(m,cu(m),l)}function Ks(l,m,S){"__proto__"==m&&fs?fs(l,m,{configurable:!0,enumerable:!0,value:S,writable:!0}):l[m]=S}function Ga(l,m){for(var S=-1,Q=m.length,Ie=en(Q),qe=null==l;++S<Q;)Ie[S]=qe?h:bd(l,m[S]);return Ie}function ju(l,m,S){return l==l&&(S!==h&&(l=l<=S?l:S),m!==h&&(l=l>=m?l:m)),l}function _s(l,m,S,Q,Ie,qe){var Ct,kt=1&m,rn=2&m,Hn=4&m;if(S&&(Ct=Ie?S(l,Q,Ie,qe):S(l)),Ct!==h)return Ct;if(!Xo(l))return l;var Vn=us(l);if(Vn){if(Ct=function Ic(l){var m=l.length,S=new l.constructor(m);return m&&"string"==typeof l[0]&&V.call(l,"index")&&(S.index=l.index,S.input=l.input),S}(l),!kt)return I(l,Ct)}else{var Yn=uu(l),Lr=Yn==Xt||Yn==Tt;if(cc(l))return _c(l,kt);if(Yn==lr||Yn==Nn||Lr&&!Ie){if(Ct=rn||Lr?{}:Cc(l),!kt)return rn?function Fe(l,m){return B(l,Rd(l),m)}(l,function kc(l,m){return l&&B(m,jl(m),l)}(Ct,l)):function pe(l,m){return B(l,Dc(l),m)}(l,al(Ct,l))}else{if(!vi[Yn])return Ie?l:{};Ct=function pd(l,m,S){var Q=l.constructor;switch(m){case Ot:return vc(l);case St:case hn:return new Q(+l);case Wn:return function Vh(l,m){var S=m?vc(l.buffer):l.buffer;return new l.constructor(S,l.byteOffset,l.byteLength)}(l,S);case nn:case Wr:case ei:case qr:case xr:case Un:case Xr:case Qi:case Mi:return hd(l,S);case Kt:return new Q;case kn:case Er:return new Q(l);case Jn:return function dd(l){var m=new l.constructor(l.source,Or.exec(l));return m.lastIndex=l.lastIndex,m}(l);case Qr:return new Q;case Ht:return function ih(l){return Qu?Nr(Qu.call(l)):{}}(l)}}(l,Yn,kt)}}qe||(qe=new rt);var oi=qe.get(l);if(oi)return oi;qe.set(l,Ct),Ch(l)?l.forEach(function(bi){Ct.add(_s(bi,m,S,bi,l,qe))}):Wf(l)&&l.forEach(function(bi,ks){Ct.set(ks,_s(bi,m,S,ks,l,qe))});var Ss=Vn?h:(Hn?rn?jc:Ju:rn?jl:cu)(l);return Oi(Ss||l,function(bi,ks){Ss&&(bi=l[ks=bi]),Fa(Ct,ks,_s(bi,m,S,ks,l,qe))}),Ct}function Xl(l,m,S){var Q=S.length;if(null==l)return!Q;for(l=Nr(l);Q--;){var Ie=S[Q],Ct=l[Ie];if(Ct===h&&!(Ie in l)||!(0,m[Ie])(Ct))return!1}return!0}function Ml(l,m,S){if("function"!=typeof l)throw new Ir(me);return $l(function(){l.apply(h,S)},m)}function ul(l,m,S,Q){var Ie=-1,qe=Vs,Ct=!0,kt=l.length,rn=[],Hn=m.length;if(!kt)return rn;S&&(m=fi(m,L(S))),Q?(qe=ls,Ct=!1):m.length>=200&&(qe=Nt,Ct=!1,m=new Ne(m));e:for(;++Ie<kt;){var Vn=l[Ie],Yn=null==S?Vn:S(Vn);if(Vn=Q||0!==Vn?Vn:0,Ct&&Yn==Yn){for(var Lr=Hn;Lr--;)if(m[Lr]===Yn)continue e;rn.push(Vn)}else qe(m,Yn,Q)||rn.push(Vn)}return rn}ke.templateSettings={escape:ti,evaluate:ui,interpolate:lt,variable:"",imports:{_:ke}},(ke.prototype=Al.prototype).constructor=ke,(Ui.prototype=ru(Al.prototype)).constructor=Ui,(qn.prototype=ru(Al.prototype)).constructor=qn,br.prototype.clear=function Ds(){this.__data__=sr?sr(null):{},this.size=0},br.prototype.delete=function hs(l){var m=this.has(l)&&delete this.__data__[l];return this.size-=m?1:0,m},br.prototype.get=function $u(l){var m=this.__data__;if(sr){var S=m[l];return S===Xe?h:S}return V.call(m,l)?m[l]:h},br.prototype.has=function ho(l){var m=this.__data__;return sr?m[l]!==h:V.call(m,l)},br.prototype.set=function or(l,m){var S=this.__data__;return this.size+=this.has(l)?0:1,S[l]=sr&&m===h?Xe:m,this},ra.prototype.clear=function Vu(){this.__data__=[],this.size=0},ra.prototype.delete=function gu(l){var m=this.__data__,S=Fo(m,l);return!(S<0||(S==m.length-1?m.pop():zs.call(m,S,1),--this.size,0))},ra.prototype.get=function wu(l){var m=this.__data__,S=Fo(m,l);return S<0?h:m[S][1]},ra.prototype.has=function xl(l){return Fo(this.__data__,l)>-1},ra.prototype.set=function pc(l,m){var S=this.__data__,Q=Fo(S,l);return Q<0?(++this.size,S.push([l,m])):S[Q][1]=m,this},ga.prototype.clear=function R(){this.size=0,this.__data__={hash:new br,map:new(ds||ra),string:new br}},ga.prototype.delete=function $(l){var m=jh(this,l).delete(l);return this.size-=m?1:0,m},ga.prototype.get=function b(l){return jh(this,l).get(l)},ga.prototype.has=function G(l){return jh(this,l).has(l)},ga.prototype.set=function ae(l,m){var S=jh(this,l),Q=S.size;return S.set(l,m),this.size+=S.size==Q?0:1,this},Ne.prototype.add=Ne.prototype.push=function Be(l){return this.__data__.set(l,Xe),this},Ne.prototype.has=function Wt(l){return this.__data__.has(l)},rt.prototype.clear=function Vr(){this.__data__=new ra,this.size=0},rt.prototype.delete=function Mr(l){var m=this.__data__,S=m.delete(l);return this.size=m.size,S},rt.prototype.get=function Is(l){return this.__data__.get(l)},rt.prototype.has=function ko(l){return this.__data__.has(l)},rt.prototype.set=function ha(l,m){var S=this.__data__;if(S instanceof ra){var Q=S.__data__;if(!ds||Q.length<199)return Q.push([l,m]),this.size=++S.size,this;S=this.__data__=new ga(Q)}return S.set(l,m),this.size=S.size,this};var Tu=Qn(Wu),gc=Qn(mc,!0);function Md(l,m){var S=!0;return Tu(l,function(Q,Ie,qe){return S=!!m(Q,Ie,qe)}),S}function Su(l,m,S){for(var Q=-1,Ie=l.length;++Q<Ie;){var qe=l[Q],Ct=m(qe);if(null!=Ct&&(kt===h?Ct==Ct&&!nl(Ct):S(Ct,kt)))var kt=Ct,rn=qe}return rn}function rh(l,m){var S=[];return Tu(l,function(Q,Ie,qe){m(Q,Ie,qe)&&S.push(Q)}),S}function Do(l,m,S,Q,Ie){var qe=-1,Ct=l.length;for(S||(S=ic),Ie||(Ie=[]);++qe<Ct;){var kt=l[qe];m>0&&S(kt)?m>1?Do(kt,m-1,S,Q,Ie):Xi(Ie,kt):Q||(Ie[Ie.length]=kt)}return Ie}var Gu=Tr(),Fc=Tr(!0);function Wu(l,m){return l&&Gu(l,m,cu)}function mc(l,m){return l&&Fc(l,m,cu)}function Au(l,m){return Si(m,function(S){return Hl(l[S])})}function Pl(l,m){for(var S=0,Q=(m=Ts(m,l)).length;null!=l&&S<Q;)l=l[ao(m[S++])];return S&&S==Q?l:h}function yc(l,m,S){var Q=m(l);return us(l)?Q:Xi(Q,S(l))}function Lo(l){return null==l?l===h?"[object Undefined]":"[object Null]":ka&&ka in Nr(l)?function Tf(l){var m=V.call(l,ka),S=l[ka];try{l[ka]=h;var Q=!0}catch{}var Ie=Me.call(l);return Q&&(m?l[ka]=S:delete l[ka]),Ie}(l):function Kc(l){return Me.call(l)}(l)}function Jl(l,m){return l>m}function cd(l,m){return null!=l&&V.call(l,m)}function Lc(l,m){return null!=l&&m in Nr(l)}function mu(l,m,S){for(var Q=S?ls:Vs,Ie=l[0].length,qe=l.length,Ct=qe,kt=en(qe),rn=1/0,Hn=[];Ct--;){var Vn=l[Ct];Ct&&m&&(Vn=fi(Vn,L(m))),rn=eo(Vn.length,rn),kt[Ct]=!S&&(m||Ie>=120&&Vn.length>=120)?new Ne(Ct&&Vn):h}Vn=l[0];var Yn=-1,Lr=kt[0];e:for(;++Yn<Ie&&Hn.length<rn;){var oi=Vn[Yn],Ri=m?m(oi):oi;if(oi=S||0!==oi?oi:0,!(Lr?Nt(Lr,Ri):Q(Hn,Ri,S))){for(Ct=qe;--Ct;){var Ss=kt[Ct];if(!(Ss?Nt(Ss,Ri):Q(l[Ct],Ri,S)))continue e}Lr&&Lr.push(Ri),Hn.push(oi)}}return Hn}function cl(l,m,S){var Q=null==(l=sc(l,m=Ts(m,l)))?l:l[ao(Vl(m))];return null==Q?h:ii(Q,l,S)}function xu(l){return aa(l)&&Lo(l)==Nn}function su(l,m,S,Q,Ie){return l===m||(null==l||null==m||!aa(l)&&!aa(m)?l!=l&&m!=m:function ia(l,m,S,Q,Ie,qe){var Ct=us(l),kt=us(m),rn=Ct?mn:uu(l),Hn=kt?mn:uu(m),Vn=(rn=rn==Nn?lr:rn)==lr,Yn=(Hn=Hn==Nn?lr:Hn)==lr,Lr=rn==Hn;if(Lr&&cc(l)){if(!cc(m))return!1;Ct=!0,Vn=!1}if(Lr&&!Vn)return qe||(qe=new rt),Ct||id(l)?ku(l,m,S,Q,Ie,qe):function bf(l,m,S,Q,Ie,qe,Ct){switch(S){case Wn:if(l.byteLength!=m.byteLength||l.byteOffset!=m.byteOffset)return!1;l=l.buffer,m=m.buffer;case Ot:return!(l.byteLength!=m.byteLength||!qe(new Gn(l),new Gn(m)));case St:case hn:case kn:return xc(+l,+m);case ct:return l.name==m.name&&l.message==m.message;case Jn:case Er:return l==m+"";case Kt:var kt=To;case Qr:if(kt||(kt=ca),l.size!=m.size&&!(1&Q))return!1;var Hn=Ct.get(l);if(Hn)return Hn==m;Q|=2,Ct.set(l,m);var Vn=ku(kt(l),kt(m),Q,Ie,qe,Ct);return Ct.delete(l),Vn;case Ht:if(Qu)return Qu.call(l)==Qu.call(m)}return!1}(l,m,rn,S,Q,Ie,qe);if(!(1&S)){var oi=Vn&&V.call(l,"__wrapped__"),Ri=Yn&&V.call(m,"__wrapped__");if(oi||Ri){var Ss=oi?l.value():l,bi=Ri?m.value():m;return qe||(qe=new rt),Ie(Ss,bi,S,Q,qe)}}return!!Lr&&(qe||(qe=new rt),function qa(l,m,S,Q,Ie,qe){var Ct=1&S,kt=Ju(l),rn=kt.length;if(rn!=Ju(m).length&&!Ct)return!1;for(var Yn=rn;Yn--;){var Lr=kt[Yn];if(!(Ct?Lr in m:V.call(m,Lr)))return!1}var oi=qe.get(l),Ri=qe.get(m);if(oi&&Ri)return oi==m&&Ri==l;var Ss=!0;qe.set(l,m),qe.set(m,l);for(var bi=Ct;++Yn<rn;){var ks=l[Lr=kt[Yn]],Os=m[Lr];if(Q)var Cl=Ct?Q(Os,ks,Lr,m,l,qe):Q(ks,Os,Lr,l,m,qe);if(!(Cl===h?ks===Os||Ie(ks,Os,S,Q,qe):Cl)){Ss=!1;break}bi||(bi="constructor"==Lr)}if(Ss&&!bi){var Ra=l.constructor,wl=m.constructor;Ra!=wl&&"constructor"in l&&"constructor"in m&&!("function"==typeof Ra&&Ra instanceof Ra&&"function"==typeof wl&&wl instanceof wl)&&(Ss=!1)}return qe.delete(l),qe.delete(m),Ss}(l,m,S,Q,Ie,qe))}(l,m,S,Q,su,Ie))}function dl(l,m,S,Q){var Ie=S.length,qe=Ie,Ct=!Q;if(null==l)return!qe;for(l=Nr(l);Ie--;){var kt=S[Ie];if(Ct&&kt[2]?kt[1]!==l[kt[0]]:!(kt[0]in l))return!1}for(;++Ie<qe;){var rn=(kt=S[Ie])[0],Hn=l[rn],Vn=kt[1];if(Ct&&kt[2]){if(Hn===h&&!(rn in l))return!1}else{var Yn=new rt;if(Q)var Lr=Q(Hn,Vn,rn,l,m,Yn);if(!(Lr===h?su(Vn,Hn,3,Q,Yn):Lr))return!1}}return!0}function yu(l){return!(!Xo(l)||function Co(l){return!!Y&&Y in l}(l))&&(Hl(l)?Tn:gn).test(zi(l))}function Ao(l){return"function"==typeof l?l:null==l?rl:"object"==typeof l?us(l)?Aa(l[0],l[1]):Ol(l):ff(l)}function hl(l){if(!Ea(l))return yo(l);var m=[];for(var S in Nr(l))V.call(l,S)&&"constructor"!=S&&m.push(S);return m}function qs(l,m){return l<m}function ma(l,m){var S=-1,Q=Zs(l)?en(l.length):[];return Tu(l,function(Ie,qe,Ct){Q[++S]=m(Ie,qe,Ct)}),Q}function Ol(l){var m=Gc(l);return 1==m.length&&m[0][2]?wc(m[0][0],m[0][1]):function(S){return S===l||dl(S,l,m)}}function Aa(l,m){return vl(l)&&Od(m)?wc(ao(l),m):function(S){var Q=bd(S,l);return Q===h&&Q===m?jm(S,l):su(m,Q,3)}}function ya(l,m,S,Q,Ie){l!==m&&Gu(m,function(qe,Ct){if(Ie||(Ie=new rt),Xo(qe))!function Nl(l,m,S,Q,Ie,qe,Ct){var kt=zh(l,S),rn=zh(m,S),Hn=Ct.get(rn);if(Hn)Ql(l,S,Hn);else{var Vn=qe?qe(kt,rn,S+"",l,m,Ct):h,Yn=Vn===h;if(Yn){var Lr=us(rn),oi=!Lr&&cc(rn),Ri=!Lr&&!oi&&id(rn);Vn=rn,Lr||oi||Ri?us(kt)?Vn=kt:Ca(kt)?Vn=I(kt):oi?(Yn=!1,Vn=_c(rn,!0)):Ri?(Yn=!1,Vn=hd(rn,!0)):Vn=[]:ef(rn)||Eh(rn)?(Vn=kt,Eh(kt)?Vn=Kf(kt):(!Xo(kt)||Hl(kt))&&(Vn=Cc(rn))):Yn=!1}Yn&&(Ct.set(rn,Vn),Ie(Vn,rn,Q,qe,Ct),Ct.delete(rn)),Ql(l,S,Vn)}}(l,m,Ct,S,ya,Q,Ie);else{var kt=Q?Q(zh(l,Ct),qe,Ct+"",l,m,Ie):h;kt===h&&(kt=qe),Ql(l,Ct,kt)}},jl)}function ou(l,m){var S=l.length;if(S)return _l(m+=m<0?S:0,S)?l[m]:h}function xa(l,m,S){m=m.length?fi(m,function(qe){return us(qe)?function(Ct){return Pl(Ct,1===qe.length?qe[0]:qe)}:qe}):[rl];var Q=-1;return m=fi(m,L(Zn())),function T(Gt,_n){var en=Gt.length;for(Gt.sort(_n);en--;)Gt[en]=Gt[en].value;return Gt}(ma(l,function(qe,Ct,kt){return{criteria:fi(m,function(Hn){return Hn(qe)}),index:++Q,value:qe}}),function(qe,Ct){return function Dp(l,m,S){for(var Q=-1,Ie=l.criteria,qe=m.criteria,Ct=Ie.length,kt=S.length;++Q<Ct;){var rn=Uc(Ie[Q],qe[Q]);if(rn)return Q>=kt?rn:rn*("desc"==S[Q]?-1:1)}return l.index-m.index}(qe,Ct,S)})}function Pu(l,m,S){for(var Q=-1,Ie=m.length,qe={};++Q<Ie;){var Ct=m[Q],kt=Pl(l,Ct);S(kt,Ct)&&de(qe,Ts(Ct,l),kt)}return qe}function Ru(l,m,S,Q){var Ie=Q?xs:Ro,qe=-1,Ct=m.length,kt=l;for(l===m&&(m=I(m)),S&&(kt=fi(l,L(S)));++qe<Ct;)for(var rn=0,Hn=m[qe],Vn=S?S(Hn):Hn;(rn=Ie(kt,Vn,rn,Q))>-1;)kt!==l&&zs.call(kt,rn,1),zs.call(l,rn,1);return l}function Ho(l,m){for(var S=l?m.length:0,Q=S-1;S--;){var Ie=m[S];if(S==Q||Ie!==qe){var qe=Ie;_l(Ie)?zs.call(l,Ie,1):Cs(l,Ie)}}return l}function fl(l,m){return l+Di(Mn()*(m-l+1))}function pl(l,m){var S="";if(!l||m<1||m>st)return S;do{m%2&&(S+=l),(m=Di(m/2))&&(l+=l)}while(m);return S}function Ci(l,m){return Nd(el(l,m,rl),l+"")}function F(l){return qo(Zd(l))}function W(l,m){var S=Zd(l);return lh(S,ju(m,0,S.length))}function de(l,m,S,Q){if(!Xo(l))return l;for(var Ie=-1,qe=(m=Ts(m,l)).length,Ct=qe-1,kt=l;null!=kt&&++Ie<qe;){var rn=ao(m[Ie]),Hn=S;if("__proto__"===rn||"constructor"===rn||"prototype"===rn)return l;if(Ie!=Ct){var Vn=kt[rn];(Hn=Q?Q(Vn,rn,kt):h)===h&&(Hn=Xo(Vn)?Vn:_l(m[Ie+1])?[]:{})}Fa(kt,rn,Hn),kt=kt[rn]}return l}var et=cn?function(l,m){return cn.set(l,m),l}:rl,Rt=fs?function(l,m){return fs(l,"toString",{configurable:!0,enumerable:!1,value:rg(m),writable:!0})}:rl;function Qt(l){return lh(Zd(l))}function fn(l,m,S){var Q=-1,Ie=l.length;m<0&&(m=-m>Ie?0:Ie+m),(S=S>Ie?Ie:S)<0&&(S+=Ie),Ie=m>S?0:S-m>>>0,m>>>=0;for(var qe=en(Ie);++Q<Ie;)qe[Q]=l[Q+m];return qe}function pr(l,m){var S;return Tu(l,function(Q,Ie,qe){return!(S=m(Q,Ie,qe))}),!!S}function ur(l,m,S){var Q=0,Ie=null==l?Q:l.length;if("number"==typeof m&&m==m&&Ie<=2147483647){for(;Q<Ie;){var qe=Q+Ie>>>1,Ct=l[qe];null!==Ct&&!nl(Ct)&&(S?Ct<=m:Ct<m)?Q=qe+1:Ie=qe}return Ie}return Hr(l,m,rl,S)}function Hr(l,m,S,Q){var Ie=0,qe=null==l?0:l.length;if(0===qe)return 0;for(var Ct=(m=S(m))!=m,kt=null===m,rn=nl(m),Hn=m===h;Ie<qe;){var Vn=Di((Ie+qe)/2),Yn=S(l[Vn]),Lr=Yn!==h,oi=null===Yn,Ri=Yn==Yn,Ss=nl(Yn);if(Ct)var bi=Q||Ri;else bi=Hn?Ri&&(Q||Lr):kt?Ri&&Lr&&(Q||!oi):rn?Ri&&Lr&&!oi&&(Q||!Ss):!oi&&!Ss&&(Q?Yn<=m:Yn<m);bi?Ie=Vn+1:qe=Vn}return eo(qe,4294967294)}function wi(l,m){for(var S=-1,Q=l.length,Ie=0,qe=[];++S<Q;){var Ct=l[S],kt=m?m(Ct):Ct;if(!S||!xc(kt,rn)){var rn=kt;qe[Ie++]=0===Ct?0:Ct}}return qe}function di(l){return"number"==typeof l?l:nl(l)?NaN:+l}function qi(l){if("string"==typeof l)return l;if(us(l))return fi(l,qi)+"";if(nl(l))return Cu?Cu.call(l):"";var m=l+"";return"0"==m&&1/l==-Et?"-0":m}function fo(l,m,S){var Q=-1,Ie=Vs,qe=l.length,Ct=!0,kt=[],rn=kt;if(S)Ct=!1,Ie=ls;else if(qe>=200){var Hn=m?null:Vc(l);if(Hn)return ca(Hn);Ct=!1,Ie=Nt,rn=new Ne}else rn=m?[]:kt;e:for(;++Q<qe;){var Vn=l[Q],Yn=m?m(Vn):Vn;if(Vn=S||0!==Vn?Vn:0,Ct&&Yn==Yn){for(var Lr=rn.length;Lr--;)if(rn[Lr]===Yn)continue e;m&&rn.push(Yn),kt.push(Vn)}else Ie(rn,Yn,S)||(rn!==kt&&rn.push(Yn),kt.push(Vn))}return kt}function Cs(l,m){return null==(l=sc(l,m=Ts(m,l)))||delete l[ao(Vl(m))]}function Pa(l,m,S,Q){return de(l,m,S(Pl(l,m)),Q)}function au(l,m,S,Q){for(var Ie=l.length,qe=Q?Ie:-1;(Q?qe--:++qe<Ie)&&m(l[qe],qe,l););return S?fn(l,Q?0:qe,Q?qe+1:Ie):fn(l,Q?qe+1:0,Q?Ie:qe)}function Ba(l,m){var S=l;return S instanceof qn&&(S=S.value()),Ai(m,function(Q,Ie){return Ie.func.apply(Ie.thisArg,Xi([Q],Ie.args))},S)}function Yo(l,m,S){var Q=l.length;if(Q<2)return Q?fo(l[0]):[];for(var Ie=-1,qe=en(Q);++Ie<Q;)for(var Ct=l[Ie],kt=-1;++kt<Q;)kt!=Ie&&(qe[Ie]=ul(qe[Ie]||Ct,l[kt],m,S));return fo(Do(qe,1),m,S)}function Wa(l,m,S){for(var Q=-1,Ie=l.length,qe=m.length,Ct={};++Q<Ie;)S(Ct,l[Q],Q<qe?m[Q]:h);return Ct}function kl(l){return Ca(l)?l:[]}function os(l){return"function"==typeof l?l:rl}function Ts(l,m){return us(l)?l:vl(l,m)?[l]:kd(to(l))}var Ou=Ci;function qu(l,m,S){var Q=l.length;return S=S===h?Q:S,!m&&S>=Q?l:fn(l,m,S)}var Pd=nu||function(l){return Li.clearTimeout(l)};function _c(l,m){if(m)return l.slice();var S=l.length,Q=Bi?Bi(S):new l.constructor(S);return l.copy(Q),Q}function vc(l){var m=new l.constructor(l.byteLength);return new Gn(m).set(new Gn(l)),m}function hd(l,m){var S=m?vc(l.buffer):l.buffer;return new l.constructor(S,l.byteOffset,l.length)}function Uc(l,m){if(l!==m){var S=l!==h,Q=null===l,Ie=l==l,qe=nl(l),Ct=m!==h,kt=null===m,rn=m==m,Hn=nl(m);if(!kt&&!Hn&&!qe&&l>m||qe&&Ct&&rn&&!kt&&!Hn||Q&&Ct&&rn||!S&&rn||!Ie)return 1;if(!Q&&!qe&&!Hn&&l<m||Hn&&S&&Ie&&!Q&&!qe||kt&&S&&Ie||!Ct&&Ie||!rn)return-1}return 0}function O(l,m,S,Q){for(var Ie=-1,qe=l.length,Ct=S.length,kt=-1,rn=m.length,Hn=cs(qe-Ct,0),Vn=en(rn+Hn),Yn=!Q;++kt<rn;)Vn[kt]=m[kt];for(;++Ie<Ct;)(Yn||Ie<qe)&&(Vn[S[Ie]]=l[Ie]);for(;Hn--;)Vn[kt++]=l[Ie++];return Vn}function E(l,m,S,Q){for(var Ie=-1,qe=l.length,Ct=-1,kt=S.length,rn=-1,Hn=m.length,Vn=cs(qe-kt,0),Yn=en(Vn+Hn),Lr=!Q;++Ie<Vn;)Yn[Ie]=l[Ie];for(var oi=Ie;++rn<Hn;)Yn[oi+rn]=m[rn];for(;++Ct<kt;)(Lr||Ie<qe)&&(Yn[oi+S[Ct]]=l[Ie++]);return Yn}function I(l,m){var S=-1,Q=l.length;for(m||(m=en(Q));++S<Q;)m[S]=l[S];return m}function B(l,m,S,Q){var Ie=!S;S||(S={});for(var qe=-1,Ct=m.length;++qe<Ct;){var kt=m[qe],rn=Q?Q(S[kt],l[kt],kt,S,l):h;rn===h&&(rn=l[kt]),Ie?Ks(S,kt,rn):Fa(S,kt,rn)}return S}function Ut(l,m){return function(S,Q){var Ie=us(S)?rs:La,qe=m?m():{};return Ie(S,l,Zn(Q,2),qe)}}function dn(l){return Ci(function(m,S){var Q=-1,Ie=S.length,qe=Ie>1?S[Ie-1]:h,Ct=Ie>2?S[2]:h;for(qe=l.length>3&&"function"==typeof qe?(Ie--,qe):h,Ct&&Ya(S[0],S[1],Ct)&&(qe=Ie<3?h:qe,Ie=1),m=Nr(m);++Q<Ie;){var kt=S[Q];kt&&l(m,kt,Q,qe)}return m})}function Qn(l,m){return function(S,Q){if(null==S)return S;if(!Zs(S))return l(S,Q);for(var Ie=S.length,qe=m?Ie:-1,Ct=Nr(S);(m?qe--:++qe<Ie)&&!1!==Q(Ct[qe],qe,Ct););return S}}function Tr(l){return function(m,S,Q){for(var Ie=-1,qe=Nr(m),Ct=Q(m),kt=Ct.length;kt--;){var rn=Ct[l?kt:++Ie];if(!1===S(qe[rn],rn,qe))break}return m}}function ps(l){return function(m){var S=vo(m=to(m))?ta(m):h,Q=S?S[0]:m.charAt(0),Ie=S?qu(S,1).join(""):m.slice(1);return Q[l]()+Ie}}function _a(l){return function(m){return Ai(df(qm(m).replace(lo,"")),l,"")}}function jo(l){return function(){var m=arguments;switch(m.length){case 0:return new l;case 1:return new l(m[0]);case 2:return new l(m[0],m[1]);case 3:return new l(m[0],m[1],m[2]);case 4:return new l(m[0],m[1],m[2],m[3]);case 5:return new l(m[0],m[1],m[2],m[3],m[4]);case 6:return new l(m[0],m[1],m[2],m[3],m[4],m[5]);case 7:return new l(m[0],m[1],m[2],m[3],m[4],m[5],m[6])}var S=ru(l.prototype),Q=l.apply(S,m);return Xo(Q)?Q:S}}function Ko(l){return function(m,S,Q){var Ie=Nr(m);if(!Zs(m)){var qe=Zn(S,3);m=cu(m),S=function(kt){return qe(Ie[kt],kt,Ie)}}var Ct=l(m,S,Q);return Ct>-1?Ie[qe?m[Ct]:Ct]:h}}function Ec(l){return gl(function(m){var S=m.length,Q=S,Ie=Ui.prototype.thru;for(l&&m.reverse();Q--;){var qe=m[Q];if("function"!=typeof qe)throw new Ir(me);if(Ie&&!Ct&&"wrapper"==zc(qe))var Ct=new Ui([],!0)}for(Q=Ct?Q:S;++Q<S;){var kt=zc(qe=m[Q]),rn="wrapper"==kt?sa(qe):h;Ct=rn&&ah(rn[0])&&424==rn[1]&&!rn[4].length&&1==rn[9]?Ct[zc(rn[0])].apply(Ct,rn[3]):1==qe.length&&ah(qe)?Ct[kt]():Ct.thru(qe)}return function(){var Hn=arguments,Vn=Hn[0];if(Ct&&1==Hn.length&&us(Vn))return Ct.plant(Vn).value();for(var Yn=0,Lr=S?m[Yn].apply(this,Hn):Vn;++Yn<S;)Lr=m[Yn].call(this,Lr);return Lr}})}function ec(l,m,S,Q,Ie,qe,Ct,kt,rn,Hn){var Vn=128&m,Yn=1&m,Lr=2&m,oi=24&m,Ri=512&m,Ss=Lr?h:jo(l);return function bi(){for(var ks=arguments.length,Os=en(ks),Cl=ks;Cl--;)Os[Cl]=arguments[Cl];if(oi)var Ra=ml(bi),wl=function Ii(Gt,_n){for(var en=Gt.length,Ar=0;en--;)Gt[en]===_n&&++Ar;return Ar}(Os,Ra);if(Q&&(Os=O(Os,Q,Ie,oi)),qe&&(Os=E(Os,qe,Ct,oi)),ks-=wl,oi&&ks<Hn){var fa=Hs(Os,Ra);return $c(l,m,ec,bi.placeholder,S,Os,fa,kt,rn,Hn-ks)}var Rc=Yn?S:this,Ad=Lr?Rc[l]:l;return ks=Os.length,kt?Os=function Sf(l,m){for(var S=l.length,Q=eo(m.length,S),Ie=I(l);Q--;){var qe=m[Q];l[Q]=_l(qe,S)?Ie[qe]:h}return l}(Os,kt):Ri&&ks>1&&Os.reverse(),Vn&&rn<ks&&(Os.length=rn),this&&this!==Li&&this instanceof bi&&(Ad=Ss||jo(Ad)),Ad.apply(Rc,Os)}}function tc(l,m){return function(S,Q){return function Io(l,m,S,Q){return Wu(l,function(Ie,qe,Ct){m(Q,S(Ie),qe,Ct)}),Q}(S,l,m(Q),{})}}function Nu(l,m){return function(S,Q){var Ie;if(S===h&&Q===h)return m;if(S!==h&&(Ie=S),Q!==h){if(Ie===h)return Q;"string"==typeof S||"string"==typeof Q?(S=qi(S),Q=qi(Q)):(S=di(S),Q=di(Q)),Ie=l(S,Q)}return Ie}}function Xu(l){return gl(function(m){return m=fi(m,L(Zn())),Ci(function(S){var Q=this;return l(m,function(Ie){return ii(Ie,Q,S)})})})}function Zo(l,m){var S=(m=m===h?" ":qi(m)).length;if(S<2)return S?pl(m,l):m;var Q=pl(m,Fn(l/Qa(m)));return vo(m)?qu(ta(Q),0,l).join(""):Q.slice(0,l)}function va(l){return function(m,S,Q){return Q&&"number"!=typeof Q&&Ya(m,S,Q)&&(S=Q=h),m=Mc(m),S===h?(S=m,m=0):S=Mc(S),function vu(l,m,S,Q){for(var Ie=-1,qe=cs(Fn((m-l)/(S||1)),0),Ct=en(qe);qe--;)Ct[Q?qe:++Ie]=l,l+=S;return Ct}(m,S,Q=Q===h?m<S?1:-1:Mc(Q),l)}}function Bl(l){return function(m,S){return"string"==typeof m&&"string"==typeof S||(m=Il(m),S=Il(S)),l(m,S)}}function $c(l,m,S,Q,Ie,qe,Ct,kt,rn,Hn){var Vn=8&m;m|=Vn?32:64,4&(m&=~(Vn?64:32))||(m&=-4);var Ss=[l,m,Ie,Vn?qe:h,Vn?Ct:h,Vn?h:qe,Vn?h:Ct,kt,rn,Hn],bi=S.apply(h,Ss);return ah(l)&&gd(bi,Ss),bi.placeholder=Q,oc(bi,l,m)}function fd(l){var m=js[l];return function(S,Q){if(S=Il(S),(Q=null==Q?0:eo(gs(Q),292))&&Gs(S)){var Ie=(to(S)+"e").split("e");return+((Ie=(to(m(Ie[0]+"e"+(+Ie[1]+Q)))+"e").split("e"))[0]+"e"+(+Ie[1]-Q))}return m(S)}}var Vc=Cr&&1/ca(new Cr([,-0]))[1]==Et?function(l){return new Cr(l)}:hf;function Hc(l){return function(m){var S=uu(m);return S==Kt?To(m):S==Qr?function mo(Gt){var _n=-1,en=Array(Gt.size);return Gt.forEach(function(Ar){en[++_n]=[Ar,Ar]}),en}(m):function C(Gt,_n){return fi(_n,function(en){return[en,Gt[en]]})}(m,l(m))}}function nc(l,m,S,Q,Ie,qe,Ct,kt){var rn=2&m;if(!rn&&"function"!=typeof l)throw new Ir(me);var Hn=Q?Q.length:0;if(Hn||(m&=-97,Q=Ie=h),Ct=Ct===h?Ct:cs(gs(Ct),0),kt=kt===h?kt:gs(kt),Hn-=Ie?Ie.length:0,64&m){var Vn=Q,Yn=Ie;Q=Ie=h}var Lr=rn?h:sa(l),oi=[l,m,S,Q,Ie,Vn,Yn,qe,Ct,kt];if(Lr&&function El(l,m){var S=l[1],Q=m[1],Ie=S|Q;if(!(Ie<131)&&!(128==Q&&8==S||128==Q&&256==S&&l[7].length<=m[8]||384==Q&&m[7].length<=m[8]&&8==S))return l;1&Q&&(l[2]=m[2],Ie|=1&S?0:4);var kt=m[3];if(kt){var rn=l[3];l[3]=rn?O(rn,kt,m[4]):kt,l[4]=rn?Hs(l[3],De):m[4]}(kt=m[5])&&(l[5]=(rn=l[5])?E(rn,kt,m[6]):kt,l[6]=rn?Hs(l[5],De):m[6]),(kt=m[7])&&(l[7]=kt),128&Q&&(l[8]=null==l[8]?m[8]:eo(l[8],m[8])),null==l[9]&&(l[9]=m[9]),l[0]=m[0],l[1]=Ie}(oi,Lr),l=oi[0],m=oi[1],S=oi[2],Q=oi[3],Ie=oi[4],!(kt=oi[9]=oi[9]===h?rn?0:l.length:cs(oi[9]-Hn,0))&&24&m&&(m&=-25),m&&1!=m)Ri=8==m||16==m?function Fl(l,m,S){var Q=jo(l);return function Ie(){for(var qe=arguments.length,Ct=en(qe),kt=qe,rn=ml(Ie);kt--;)Ct[kt]=arguments[kt];var Hn=qe<3&&Ct[0]!==rn&&Ct[qe-1]!==rn?[]:Hs(Ct,rn);return(qe-=Hn.length)<S?$c(l,m,ec,Ie.placeholder,h,Ct,Hn,h,h,S-qe):ii(this&&this!==Li&&this instanceof Ie?Q:l,this,Ct)}}(l,m,kt):32!=m&&33!=m||Ie.length?ec.apply(h,oi):function Ll(l,m,S,Q){var Ie=1&m,qe=jo(l);return function Ct(){for(var kt=-1,rn=arguments.length,Hn=-1,Vn=Q.length,Yn=en(Vn+rn),Lr=this&&this!==Li&&this instanceof Ct?qe:l;++Hn<Vn;)Yn[Hn]=Q[Hn];for(;rn--;)Yn[Hn++]=arguments[++kt];return ii(Lr,Ie?S:this,Yn)}}(l,m,S,Q);else var Ri=function Ur(l,m,S){var Q=1&m,Ie=jo(l);return function qe(){return(this&&this!==Li&&this instanceof qe?Ie:l).apply(Q?S:this,arguments)}}(l,m,S);return oc((Lr?et:gd)(Ri,oi),l,m)}function Hh(l,m,S,Q){return l===h||xc(l,Ta[S])&&!V.call(Q,S)?m:l}function rc(l,m,S,Q,Ie,qe){return Xo(l)&&Xo(m)&&(qe.set(m,l),ya(l,m,h,rc,qe),qe.delete(m)),l}function Ip(l){return ef(l)?h:l}function ku(l,m,S,Q,Ie,qe){var Ct=1&S,kt=l.length,rn=m.length;if(kt!=rn&&!(Ct&&rn>kt))return!1;var Hn=qe.get(l),Vn=qe.get(m);if(Hn&&Vn)return Hn==m&&Vn==l;var Yn=-1,Lr=!0,oi=2&S?new Ne:h;for(qe.set(l,m),qe.set(m,l);++Yn<kt;){var Ri=l[Yn],Ss=m[Yn];if(Q)var bi=Ct?Q(Ss,Ri,Yn,m,l,qe):Q(Ri,Ss,Yn,l,m,qe);if(bi!==h){if(bi)continue;Lr=!1;break}if(oi){if(!li(m,function(ks,Os){if(!Nt(oi,Os)&&(Ri===ks||Ie(Ri,ks,S,Q,qe)))return oi.push(Os)})){Lr=!1;break}}else if(Ri!==Ss&&!Ie(Ri,Ss,S,Q,qe)){Lr=!1;break}}return qe.delete(l),qe.delete(m),Lr}function gl(l){return Nd(el(l,h,qh),l+"")}function Ju(l){return yc(l,cu,Dc)}function jc(l){return yc(l,jl,Rd)}var sa=cn?function(l){return cn.get(l)}:hf;function zc(l){for(var m=l.name+"",S=Pn[m],Q=V.call(Pn,m)?S.length:0;Q--;){var Ie=S[Q],qe=Ie.func;if(null==qe||qe==l)return Ie.name}return m}function ml(l){return(V.call(ke,"placeholder")?ke:l).placeholder}function Zn(){var l=ke.iteratee||sg;return l=l===sg?Ao:l,arguments.length?l(arguments[0],arguments[1]):l}function jh(l,m){var S=l.__data__;return function oh(l){var m=typeof l;return"string"==m||"number"==m||"symbol"==m||"boolean"==m?"__proto__"!==l:null===l}(m)?S["string"==typeof m?"string":"hash"]:S.map}function Gc(l){for(var m=cu(l),S=m.length;S--;){var Q=m[S],Ie=l[Q];m[S]=[Q,Ie,Od(Ie)]}return m}function Ul(l,m){var S=function gi(Gt,_n){return null==Gt?h:Gt[_n]}(l,m);return yu(S)?S:h}var Dc=Eo?function(l){return null==l?[]:(l=Nr(l),Si(Eo(l),function(m){return ys.call(l,m)}))}:lg,Rd=Eo?function(l){for(var m=[];l;)Xi(m,Dc(l)),l=Ei(l);return m}:lg,uu=Lo;function yl(l,m,S){for(var Q=-1,Ie=(m=Ts(m,l)).length,qe=!1;++Q<Ie;){var Ct=ao(m[Q]);if(!(qe=null!=l&&S(l,Ct)))break;l=l[Ct]}return qe||++Q!=Ie?qe:!!(Ie=null==l?0:l.length)&&qd(Ie)&&_l(Ct,Ie)&&(us(l)||Eh(l))}function Cc(l){return"function"!=typeof l.constructor||Ea(l)?{}:ru(Ei(l))}function ic(l){return us(l)||Eh(l)||!!(So&&l&&l[So])}function _l(l,m){var S=typeof l;return!!(m=m??st)&&("number"==S||"symbol"!=S&&dr.test(l))&&l>-1&&l%1==0&&l<m}function Ya(l,m,S){if(!Xo(S))return!1;var Q=typeof m;return!!("number"==Q?Zs(S)&&_l(m,S.length):"string"==Q&&m in S)&&xc(S[m],l)}function vl(l,m){if(us(l))return!1;var S=typeof l;return!("number"!=S&&"symbol"!=S&&"boolean"!=S&&null!=l&&!nl(l))||te.test(l)||!Ee.test(l)||null!=m&&l in Nr(m)}function ah(l){var m=zc(l),S=ke[m];if("function"!=typeof S||!(m in qn.prototype))return!1;if(l===S)return!0;var Q=sa(S);return!!Q&&l===Q[0]}(Ws&&uu(new Ws(new ArrayBuffer(1)))!=Wn||ds&&uu(new ds)!=Kt||ar&&uu(ar.resolve())!=cr||Cr&&uu(new Cr)!=Qr||Wo&&uu(new Wo)!=ge)&&(uu=function(l){var m=Lo(l),S=m==lr?l.constructor:h,Q=S?zi(S):"";if(Q)switch(Q){case Ji:return Wn;case hu:return Kt;case No:return cr;case fc:return Qr;case fu:return ge}return m});var Wc=kr?Hl:pf;function Ea(l){var m=l&&l.constructor;return l===("function"==typeof m&&m.prototype||Ta)}function Od(l){return l==l&&!Xo(l)}function wc(l,m){return function(S){return null!=S&&S[l]===m&&(m!==h||l in Nr(S))}}function el(l,m,S){return m=cs(m===h?l.length-1:m,0),function(){for(var Q=arguments,Ie=-1,qe=cs(Q.length-m,0),Ct=en(qe);++Ie<qe;)Ct[Ie]=Q[m+Ie];Ie=-1;for(var kt=en(m+1);++Ie<m;)kt[Ie]=Q[Ie];return kt[m]=S(Ct),ii(l,this,kt)}}function sc(l,m){return m.length<2?l:Pl(l,fn(m,0,-1))}function zh(l,m){if(("constructor"!==m||"function"!=typeof l[m])&&"__proto__"!=m)return l[m]}var gd=uh(et),$l=da||function(l,m){return Li.setTimeout(l,m)},Nd=uh(Rt);function oc(l,m,S){var Q=m+"";return Nd(l,function wp(l,m){var S=m.length;if(!S)return l;var Q=S-1;return m[Q]=(S>1?"& ":"")+m[Q],m=m.join(S>2?", ":" "),l.replace(Ke,"{\n/* [wrapped with "+m+"] */\n")}(Q,function Gh(l,m){return Oi(Jt,function(S){var Q="_."+S[0];m&S[1]&&!Vs(l,Q)&&l.push(Q)}),l.sort()}(function sh(l){var m=l.match(It);return m?m[1].split(sn):[]}(Q),S)))}function uh(l){var m=0,S=0;return function(){var Q=ol(),Ie=16-(Q-S);if(S=Q,Ie>0){if(++m>=800)return arguments[0]}else m=0;return l.apply(h,arguments)}}function lh(l,m){var S=-1,Q=l.length,Ie=Q-1;for(m=m===h?Q:m;++S<m;){var qe=fl(S,Ie),Ct=l[qe];l[qe]=l[S],l[S]=Ct}return l.length=m,l}var kd=function qc(l){var m=as(l,function(Q){return 500===S.size&&S.clear(),Q}),S=m.cache;return m}(function(l){var m=[];return 46===l.charCodeAt(0)&&m.push(""),l.replace(q,function(S,Q,Ie,qe){m.push(Ie?qe.replace(rr,"$1"):Q||S)}),m});function ao(l){if("string"==typeof l||nl(l))return l;var m=l+"";return"0"==m&&1/l==-Et?"-0":m}function zi(l){if(null!=l){try{return tu.call(l)}catch{}try{return l+""}catch{}}return""}function ch(l){if(l instanceof qn)return l.clone();var m=new Ui(l.__wrapped__,l.__chain__);return m.__actions__=I(l.__actions__),m.__index__=l.__index__,m.__values__=l.__values__,m}var Af=Ci(function(l,m){return Ca(l)?ul(l,Do(m,1,Ca,!0)):[]}),Fu=Ci(function(l,m){var S=Vl(m);return Ca(S)&&(S=h),Ca(l)?ul(l,Do(m,1,Ca,!0),Zn(S,2)):[]}),md=Ci(function(l,m){var S=Vl(m);return Ca(S)&&(S=h),Ca(l)?ul(l,Do(m,1,Ca,!0),h,S):[]});function vd(l,m,S){var Q=null==l?0:l.length;if(!Q)return-1;var Ie=null==S?0:gs(S);return Ie<0&&(Ie=cs(Q+Ie,0)),Uo(l,Zn(m,3),Ie)}function xf(l,m,S){var Q=null==l?0:l.length;if(!Q)return-1;var Ie=Q-1;return S!==h&&(Ie=gs(S),Ie=S<0?cs(Q+Ie,0):eo(Ie,Q-1)),Uo(l,Zn(m,3),Ie,!0)}function qh(l){return null!=l&&l.length?Do(l,1):[]}function Mf(l){return l&&l.length?l[0]:h}var Pf=Ci(function(l){var m=fi(l,kl);return m.length&&m[0]===l[0]?mu(m):[]}),Qc=Ci(function(l){var m=Vl(l),S=fi(l,kl);return m===Vl(S)?m=h:S.pop(),S.length&&S[0]===l[0]?mu(S,Zn(m,2)):[]}),Bd=Ci(function(l){var m=Vl(l),S=fi(l,kl);return(m="function"==typeof m?m:h)&&S.pop(),S.length&&S[0]===l[0]?mu(S,h,m):[]});function Vl(l){var m=null==l?0:l.length;return m?l[m-1]:h}var Dl=Ci(ac);function ac(l,m){return l&&l.length&&m&&m.length?Ru(l,m):l}var Rf=gl(function(l,m){var S=null==l?0:l.length,Q=Ga(l,m);return Ho(l,fi(m,function(Ie){return _l(Ie,S)?+Ie:Ie}).sort(Uc)),Q});function ph(l){return null==l?l:Ms.call(l)}var Op=Ci(function(l){return fo(Do(l,1,Ca,!0))}),td=Ci(function(l){var m=Vl(l);return Ca(m)&&(m=h),fo(Do(l,1,Ca,!0),Zn(m,2))}),$d=Ci(function(l){var m=Vl(l);return m="function"==typeof m?m:h,fo(Do(l,1,Ca,!0),h,m)});function Ua(l){if(!l||!l.length)return[];var m=0;return l=Si(l,function(S){if(Ca(S))return m=cs(S.length,m),!0}),x(m,function(S){return fi(l,la(S))})}function Dd(l,m){if(!l||!l.length)return[];var S=Ua(l);return null==m?S:fi(S,function(Q){return ii(m,h,Q)})}var kf=Ci(function(l,m){return Ca(l)?ul(l,m):[]}),Ff=Ci(function(l){return Yo(Si(l,Ca))}),yh=Ci(function(l){var m=Vl(l);return Ca(m)&&(m=h),Yo(Si(l,Ca),Zn(m,2))}),Vd=Ci(function(l){var m=Vl(l);return m="function"==typeof m?m:h,Yo(Si(l,Ca),h,m)}),Hd=Ci(Ua),Eu=Ci(function(l){var m=l.length,S=m>1?l[m-1]:h;return S="function"==typeof S?(l.pop(),S):h,Dd(l,S)});function Id(l){var m=ke(l);return m.__chain__=!0,m}function jd(l,m){return m(l)}var kp=gl(function(l){var m=l.length,S=m?l[0]:0,Q=this.__wrapped__,Ie=function(qe){return Ga(qe,l)};return!(m>1||this.__actions__.length)&&Q instanceof qn&&_l(S)?((Q=Q.slice(S,+S+(m?1:0))).__actions__.push({func:jd,args:[Ie],thisArg:h}),new Ui(Q,this.__chain__).thru(function(qe){return m&&!qe.length&&qe.push(h),qe})):this.thru(Ie)}),Gd=Ut(function(l,m,S){V.call(l,S)?++l[S]:Ks(l,S,1)}),Lg=Ko(vd),Cd=Ko(xf);function Up(l,m){return(us(l)?Oi:Tu)(l,Zn(m,3))}function Bf(l,m){return(us(l)?Ns:gc)(l,Zn(m,3))}var $p=Ut(function(l,m,S){V.call(l,S)?l[S].push(m):Ks(l,S,[m])}),Vp=Ci(function(l,m,S){var Q=-1,Ie="function"==typeof m,qe=Zs(l)?en(l.length):[];return Tu(l,function(Ct){qe[++Q]=Ie?ii(m,Ct,S):cl(Ct,m,S)}),qe}),Wd=Ut(function(l,m,S){Ks(l,S,m)});function Rs(l,m){return(us(l)?fi:ma)(l,Zn(m,3))}var $f=Ut(function(l,m,S){l[S?0:1].push(m)},function(){return[[],[]]}),c=Ci(function(l,m){if(null==l)return[];var S=m.length;return S>1&&Ya(l,m[0],m[1])?m=[]:S>2&&Ya(m[0],m[1],m[2])&&(m=[m[0]]),xa(l,Do(m,1),[])}),v=ja||function(){return Li.Date.now()};function H(l,m,S){return m=S?h:m,nc(l,128,h,h,h,h,m=l&&null==m?l.length:m)}function re(l,m){var S;if("function"!=typeof m)throw new Ir(me);return l=gs(l),function(){return--l>0&&(S=m.apply(this,arguments)),l<=1&&(m=h),S}}var xe=Ci(function(l,m,S){var Q=1;if(S.length){var Ie=Hs(S,ml(xe));Q|=32}return nc(l,Q,m,S,Ie)}),Je=Ci(function(l,m,S){var Q=3;if(S.length){var Ie=Hs(S,ml(Je));Q|=32}return nc(m,Q,l,S,Ie)});function In(l,m,S){var Q,Ie,qe,Ct,kt,rn,Hn=0,Vn=!1,Yn=!1,Lr=!0;if("function"!=typeof l)throw new Ir(me);function oi(fa){var Rc=Q,Ad=Ie;return Q=Ie=h,Hn=fa,Ct=l.apply(Ad,Rc)}function bi(fa){var Rc=fa-rn;return rn===h||Rc>=m||Rc<0||Yn&&fa-Hn>=qe}function ks(){var fa=v();if(bi(fa))return Os(fa);kt=$l(ks,function Ss(fa){var ty=m-(fa-rn);return Yn?eo(ty,qe-(fa-Hn)):ty}(fa))}function Os(fa){return kt=h,Lr&&Q?oi(fa):(Q=Ie=h,Ct)}function wl(){var fa=v(),Rc=bi(fa);if(Q=arguments,Ie=this,rn=fa,Rc){if(kt===h)return function Ri(fa){return Hn=fa,kt=$l(ks,m),Vn?oi(fa):Ct}(rn);if(Yn)return Pd(kt),kt=$l(ks,m),oi(rn)}return kt===h&&(kt=$l(ks,m)),Ct}return m=Il(m)||0,Xo(S)&&(Vn=!!S.leading,qe=(Yn="maxWait"in S)?cs(Il(S.maxWait)||0,m):qe,Lr="trailing"in S?!!S.trailing:Lr),wl.cancel=function Cl(){kt!==h&&Pd(kt),Hn=0,Q=rn=Ie=kt=h},wl.flush=function Ra(){return kt===h?Ct:Os(v())},wl}var Rn=Ci(function(l,m){return Ml(l,1,m)}),gr=Ci(function(l,m,S){return Ml(l,Il(m)||0,S)});function as(l,m){if("function"!=typeof l||null!=m&&"function"!=typeof m)throw new Ir(me);var S=function(){var Q=arguments,Ie=m?m.apply(this,Q):Q[0],qe=S.cache;if(qe.has(Ie))return qe.get(Ie);var Ct=l.apply(this,Q);return S.cache=qe.set(Ie,Ct)||qe,Ct};return S.cache=new(as.Cache||ga),S}function Qo(l){if("function"!=typeof l)throw new Ir(me);return function(){var m=arguments;switch(m.length){case 0:return!l.call(this);case 1:return!l.call(this,m[0]);case 2:return!l.call(this,m[0],m[1]);case 3:return!l.call(this,m[0],m[1],m[2])}return!l.apply(this,m)}}as.Cache=ga;var lc=Ou(function(l,m){var S=(m=1==m.length&&us(m[0])?fi(m[0],L(Zn())):fi(Do(m,1),L(Zn()))).length;return Ci(function(Q){for(var Ie=-1,qe=eo(Q.length,S);++Ie<qe;)Q[Ie]=m[Ie].call(this,Q[Ie]);return ii(l,this,Q)})}),Ac=Ci(function(l,m){var S=Hs(m,ml(Ac));return nc(l,32,h,m,S)}),nd=Ci(function(l,m){var S=Hs(m,ml(nd));return nc(l,64,h,m,S)}),Ly=gl(function(l,m){return nc(l,256,h,h,h,m)});function xc(l,m){return l===m||l!=l&&m!=m}var V_=Bl(Jl),jf=Bl(function(l,m){return l>=m}),Eh=xu(function(){return arguments}())?xu:function(l){return aa(l)&&V.call(l,"callee")&&!ys.call(l,"callee")},us=en.isArray,zf=yn?L(yn):function Mu(l){return aa(l)&&Lo(l)==Ot};function Zs(l){return null!=l&&qd(l.length)&&!Hl(l)}function Ca(l){return aa(l)&&Zs(l)}var cc=Kl||pf,zp=$n?L($n):function bs(l){return aa(l)&&Lo(l)==hn};function Lm(l){if(!aa(l))return!1;var m=Lo(l);return m==ct||"[object DOMException]"==m||"string"==typeof l.message&&"string"==typeof l.name&&!ef(l)}function Hl(l){if(!Xo(l))return!1;var m=Lo(l);return m==Xt||m==Tt||"[object AsyncFunction]"==m||"[object Proxy]"==m}function Gf(l){return"number"==typeof l&&l==gs(l)}function qd(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=st}function Xo(l){var m=typeof l;return null!=l&&("object"==m||"function"==m)}function aa(l){return null!=l&&"object"==typeof l}var Wf=hr?L(hr):function Ps(l){return aa(l)&&uu(l)==Kt};function jg(l){return"number"==typeof l||aa(l)&&Lo(l)==kn}function ef(l){if(!aa(l)||Lo(l)!=lr)return!1;var m=Ei(l);if(null===m)return!0;var S=V.call(m,"constructor")&&m.constructor;return"function"==typeof S&&S instanceof S&&tu.call(S)==ot}var tf=fr?L(fr):function Sa(l){return aa(l)&&Lo(l)==Jn},Ch=Gr?L(Gr):function Bc(l){return aa(l)&&uu(l)==Qr};function rd(l){return"string"==typeof l||!us(l)&&aa(l)&&Lo(l)==Er}function nl(l){return"symbol"==typeof l||aa(l)&&Lo(l)==Ht}var id=mi?L(mi):function Rl(l){return aa(l)&&qd(l.length)&&!!ri[Lo(l)]},zy=Bl(qs),Yd=Bl(function(l,m){return l<=m});function nf(l){if(!l)return[];if(Zs(l))return rd(l)?ta(l):I(l);if(co&&l[co])return function Bu(Gt){for(var _n,en=[];!(_n=Gt.next()).done;)en.push(_n.value);return en}(l[co]());var m=uu(l);return(m==Kt?To:m==Qr?ca:Zd)(l)}function Mc(l){return l?(l=Il(l))===Et||l===-Et?17976931348623157e292*(l<0?-1:1):l==l?l:0:0===l?l:0}function gs(l){var m=Mc(l),S=m%1;return m==m?S?m-S:m:0}function zg(l){return l?ju(gs(l),0,Qe):0}function Il(l){if("number"==typeof l)return l;if(nl(l))return NaN;if(Xo(l)){var m="function"==typeof l.valueOf?l.valueOf():l;l=Xo(m)?m+"":m}if("string"!=typeof l)return 0===l?l:+l;l=M(l);var S=Bt.test(l);return S||Kn.test(l)?Yr(l.slice(2),S?2:8):an.test(l)?NaN:+l}function Kf(l){return B(l,jl(l))}function to(l){return null==l?"":qi(l)}var Zf=dn(function(l,m){if(Ea(m)||Zs(m))B(m,cu(m),l);else for(var S in m)V.call(m,S)&&Fa(l,S,m[S])}),Kd=dn(function(l,m){B(m,jl(m),l)}),wh=dn(function(l,m,S,Q){B(m,jl(m),l,Q)}),Gy=dn(function(l,m,S,Q){B(m,cu(m),l,Q)}),Gg=gl(Ga),Th=Ci(function(l,m){l=Nr(l);var S=-1,Q=m.length,Ie=Q>2?m[2]:h;for(Ie&&Ya(m[0],m[1],Ie)&&(Q=1);++S<Q;)for(var qe=m[S],Ct=jl(qe),kt=-1,rn=Ct.length;++kt<rn;){var Hn=Ct[kt],Vn=l[Hn];(Vn===h||xc(Vn,Ta[Hn])&&!V.call(l,Hn))&&(l[Hn]=qe[Hn])}return l}),qp=Ci(function(l){return l.push(h,rc),ii(Xf,h,l)});function bd(l,m,S){var Q=null==l?h:Pl(l,m);return Q===h?S:Q}function jm(l,m){return null!=l&&yl(l,m,Lc)}var Yy=tc(function(l,m,S){null!=m&&"function"!=typeof m.toString&&(m=Me.call(m)),l[m]=S},rg(rl)),H_=tc(function(l,m,S){null!=m&&"function"!=typeof m.toString&&(m=Me.call(m)),V.call(l,m)?l[m].push(S):l[m]=[S]},Zn),zm=Ci(cl);function cu(l){return Zs(l)?bu(l):hl(l)}function jl(l){return Zs(l)?bu(l,!0):function _o(l){if(!Xo(l))return function Yc(l){var m=[];if(null!=l)for(var S in Nr(l))m.push(S);return m}(l);var m=Ea(l),S=[];for(var Q in l)"constructor"==Q&&(m||!V.call(l,Q))||S.push(Q);return S}(l)}var Sh=dn(function(l,m,S){ya(l,m,S)}),Xf=dn(function(l,m,S,Q){ya(l,m,S,Q)}),Jf=gl(function(l,m){var S={};if(null==l)return S;var Q=!1;m=fi(m,function(qe){return qe=Ts(qe,l),Q||(Q=qe.length>1),qe}),B(l,jc(l),S),Q&&(S=_s(S,7,Ip));for(var Ie=m.length;Ie--;)Cs(S,m[Ie]);return S}),Zp=gl(function(l,m){return null==l?{}:function _u(l,m){return Pu(l,m,function(S,Q){return jm(l,Q)})}(l,m)});function Qp(l,m){if(null==l)return{};var S=fi(jc(l),function(Q){return[Q]});return m=Zn(m),Pu(l,S,function(Q,Ie){return m(Q,Ie[0])})}var qg=Hc(cu),Wm=Hc(jl);function Zd(l){return null==l?[]:fe(l,cu(l))}var Qd=_a(function(l,m,S){return m=m.toLowerCase(),l+(S?Zg(m):m)});function Zg(l){return ng(to(l).toLowerCase())}function qm(l){return(l=to(l))&&l.replace(mr,so).replace(ni,"")}var xh=_a(function(l,m,S){return l+(S?"-":"")+m.toLowerCase()}),Ym=_a(function(l,m,S){return l+(S?" ":"")+m.toLowerCase()}),tp=ps("toLowerCase"),em=_a(function(l,m,S){return l+(S?"_":"")+m.toLowerCase()}),uf=_a(function(l,m,S){return l+(S?" ":"")+ng(m)}),im=_a(function(l,m,S){return l+(S?" ":"")+m.toUpperCase()}),ng=ps("toUpperCase");function df(l,m,S){return l=to(l),(m=S?h:m)===h?function Go(Gt){return Wi.test(Gt)}(l)?function Uu(Gt){return Gt.match(xo)||[]}(l):function Za(Gt){return Gt.match(tn)||[]}(l):l.match(m)||[]}var sm=Ci(function(l,m){try{return ii(l,h,m)}catch(S){return Lm(S)?S:new si(S)}}),Xy=gl(function(l,m){return Oi(m,function(S){S=ao(S),Ks(l,S,xe(l[S],l))}),l});function rg(l){return function(){return l}}var Jy=Ec(),ig=Ec(!0);function rl(l){return l}function sg(l){return Ao("function"==typeof l?l:_s(l,1))}var t_=Ci(function(l,m){return function(S){return cl(S,l,m)}}),sd=Ci(function(l,m){return function(S){return cl(l,S,m)}});function ip(l,m,S){var Q=cu(m),Ie=Au(m,Q);null==S&&(!Xo(m)||!Ie.length&&Q.length)&&(S=m,m=l,l=this,Ie=Au(m,cu(m)));var qe=!(Xo(S)&&"chain"in S&&!S.chain),Ct=Hl(l);return Oi(Ie,function(kt){var rn=m[kt];l[kt]=rn,Ct&&(l.prototype[kt]=function(){var Hn=this.__chain__;if(qe||Hn){var Vn=l(this.__wrapped__);return(Vn.__actions__=I(this.__actions__)).push({func:rn,args:arguments,thisArg:l}),Vn.__chain__=Hn,Vn}return rn.apply(l,Xi([this.value()],arguments))})}),l}function hf(){}var Jm=Xu(fi),og=Xu(ji),ag=Xu(li);function ff(l){return vl(l)?la(ao(l)):function Ma(l){return function(m){return Pl(m,l)}}(l)}var ug=va(),cm=va(!0);function lg(){return[]}function pf(){return!1}var gm=Nu(function(l,m){return l+m},0),mm=fd("ceil"),sp=Nu(function(l,m){return l/m},1),ym=fd("floor"),gf=Nu(function(l,m){return l*m},1),s_=fd("round"),o_=Nu(function(l,m){return l-m},0);return ke.after=function A(l,m){if("function"!=typeof m)throw new Ir(me);return l=gs(l),function(){if(--l<1)return m.apply(this,arguments)}},ke.ary=H,ke.assign=Zf,ke.assignIn=Kd,ke.assignInWith=wh,ke.assignWith=Gy,ke.at=Gg,ke.before=re,ke.bind=xe,ke.bindAll=Xy,ke.bindKey=Je,ke.castArray=function Ug(){if(!arguments.length)return[];var l=arguments[0];return us(l)?l:[l]},ke.chain=Id,ke.chunk=function dh(l,m,S){m=(S?Ya(l,m,S):m===h)?1:cs(gs(m),0);var Q=null==l?0:l.length;if(!Q||m<1)return[];for(var Ie=0,qe=0,Ct=en(Fn(Q/m));Ie<Q;)Ct[qe++]=fn(l,Ie,Ie+=m);return Ct},ke.compact=function Fd(l){for(var m=-1,S=null==l?0:l.length,Q=0,Ie=[];++m<S;){var qe=l[m];qe&&(Ie[Q++]=qe)}return Ie},ke.concat=function hh(){var l=arguments.length;if(!l)return[];for(var m=en(l-1),S=arguments[0],Q=l;Q--;)m[Q-1]=arguments[Q];return Xi(us(S)?I(S):[S],Do(m,1))},ke.cond=function om(l){var m=null==l?0:l.length,S=Zn();return l=m?fi(l,function(Q){if("function"!=typeof Q[1])throw new Ir(me);return[S(Q[0]),Q[1]]}):[],Ci(function(Q){for(var Ie=-1;++Ie<m;){var qe=l[Ie];if(ii(qe[0],this,Q))return ii(qe[1],this,Q)}})},ke.conforms=function am(l){return function zu(l){var m=cu(l);return function(S){return Xl(S,l,m)}}(_s(l,1))},ke.constant=rg,ke.countBy=Gd,ke.create=function bh(l,m){var S=ru(l);return null==m?S:al(S,m)},ke.curry=function ft(l,m,S){var Q=nc(l,8,h,h,h,h,h,m=S?h:m);return Q.placeholder=ft.placeholder,Q},ke.curryRight=function pn(l,m,S){var Q=nc(l,16,h,h,h,h,h,m=S?h:m);return Q.placeholder=pn.placeholder,Q},ke.debounce=In,ke.defaults=Th,ke.defaultsDeep=qp,ke.defer=Rn,ke.delay=gr,ke.difference=Af,ke.differenceBy=Fu,ke.differenceWith=md,ke.drop=function Wh(l,m,S){var Q=null==l?0:l.length;return Q?fn(l,(m=S||m===h?1:gs(m))<0?0:m,Q):[]},ke.dropRight=function yd(l,m,S){var Q=null==l?0:l.length;return Q?fn(l,0,(m=Q-(m=S||m===h?1:gs(m)))<0?0:m):[]},ke.dropRightWhile=function Zc(l,m){return l&&l.length?au(l,Zn(m,3),!0,!0):[]},ke.dropWhile=function _d(l,m){return l&&l.length?au(l,Zn(m,3),!0):[]},ke.fill=function Ld(l,m,S,Q){var Ie=null==l?0:l.length;return Ie?(S&&"number"!=typeof S&&Ya(l,m,S)&&(S=0,Q=Ie),function nh(l,m,S,Q){var Ie=l.length;for((S=gs(S))<0&&(S=-S>Ie?0:Ie+S),(Q=Q===h||Q>Ie?Ie:gs(Q))<0&&(Q+=Ie),Q=S>Q?0:zg(Q);S<Q;)l[S++]=m;return l}(l,m,S,Q)):[]},ke.filter=function Bp(l,m){return(us(l)?Si:rh)(l,Zn(m,3))},ke.flatMap=function uc(l,m){return Do(Rs(l,m),1)},ke.flatMapDeep=function Sc(l,m){return Do(Rs(l,m),Et)},ke.flatMapDepth=function Lf(l,m,S){return S=S===h?1:gs(S),Do(Rs(l,m),S)},ke.flatten=qh,ke.flattenDeep=function Mg(l){return null!=l&&l.length?Do(l,Et):[]},ke.flattenDepth=function bp(l,m){return null!=l&&l.length?Do(l,m=m===h?1:gs(m)):[]},ke.flip=function Jr(l){return nc(l,512)},ke.flow=Jy,ke.flowRight=ig,ke.fromPairs=function Tp(l){for(var m=-1,S=null==l?0:l.length,Q={};++m<S;){var Ie=l[m];Q[Ie[0]]=Ie[1]}return Q},ke.functions=function Qf(l){return null==l?[]:Au(l,cu(l))},ke.functionsIn=function Kp(l){return null==l?[]:Au(l,jl(l))},ke.groupBy=$p,ke.initial=function Yh(l){return null!=l&&l.length?fn(l,0,-1):[]},ke.intersection=Pf,ke.intersectionBy=Qc,ke.intersectionWith=Bd,ke.invert=Yy,ke.invertBy=H_,ke.invokeMap=Vp,ke.iteratee=sg,ke.keyBy=Wd,ke.keys=cu,ke.keysIn=jl,ke.map=Rs,ke.mapKeys=function sf(l,m){var S={};return m=Zn(m,3),Wu(l,function(Q,Ie,qe){Ks(S,m(Q,Ie,qe),Q)}),S},ke.mapValues=function af(l,m){var S={};return m=Zn(m,3),Wu(l,function(Q,Ie,qe){Ks(S,Ie,m(Q,Ie,qe))}),S},ke.matches=function Xm(l){return Ol(_s(l,1))},ke.matchesProperty=function e_(l,m){return Aa(l,_s(m,1))},ke.memoize=as,ke.merge=Sh,ke.mergeWith=Xf,ke.method=t_,ke.methodOf=sd,ke.mixin=ip,ke.negate=Qo,ke.nthArg=function lm(l){return l=gs(l),Ci(function(m){return ou(m,l)})},ke.omit=Jf,ke.omitBy=function Yi(l,m){return Qp(l,Qo(Zn(m)))},ke.once=function lu(l){return re(2,l)},ke.orderBy=function wd(l,m,S,Q){return null==l?[]:(us(m)||(m=null==m?[]:[m]),us(S=Q?h:S)||(S=null==S?[]:[S]),xa(l,m,S))},ke.over=Jm,ke.overArgs=lc,ke.overEvery=og,ke.overSome=ag,ke.partial=Ac,ke.partialRight=nd,ke.partition=$f,ke.pick=Zp,ke.pickBy=Qp,ke.property=ff,ke.propertyOf=function n_(l){return function(m){return null==l?h:Pl(l,m)}},ke.pull=Dl,ke.pullAll=ac,ke.pullAllBy=function Lu(l,m,S){return l&&l.length&&m&&m.length?Ru(l,m,Zn(S,2)):l},ke.pullAllWith=function Ud(l,m,S){return l&&l.length&&m&&m.length?Ru(l,m,h,S):l},ke.pullAt=Rf,ke.range=ug,ke.rangeRight=cm,ke.rearg=Ly,ke.reject=function vh(l,m){return(us(l)?Si:rh)(l,Qo(Zn(m,3)))},ke.remove=function Ed(l,m){var S=[];if(!l||!l.length)return S;var Q=-1,Ie=[],qe=l.length;for(m=Zn(m,3);++Q<qe;){var Ct=l[Q];m(Ct,Q,l)&&(S.push(Ct),Ie.push(Q))}return Ho(l,Ie),S},ke.rest=function Nm(l,m){if("function"!=typeof l)throw new Ir(me);return Ci(l,m=m===h?m:gs(m))},ke.reverse=ph,ke.sampleSize=function jp(l,m,S){return m=(S?Ya(l,m,S):m===h)?1:gs(m),(us(l)?Hu:W)(l,m)},ke.set=function Wg(l,m,S){return null==l?l:de(l,m,S)},ke.setWith=function Sd(l,m,S,Q){return Q="function"==typeof Q?Q:h,null==l?l:de(l,m,S,Q)},ke.shuffle=function Vf(l){return(us(l)?iu:Qt)(l)},ke.slice=function Xc(l,m,S){var Q=null==l?0:l.length;return Q?(S&&"number"!=typeof S&&Ya(l,m,S)?(m=0,S=Q):(m=null==m?0:gs(m),S=S===h?Q:gs(S)),fn(l,m,S)):[]},ke.sortBy=c,ke.sortedUniq=function ed(l){return l&&l.length?wi(l):[]},ke.sortedUniqBy=function Nf(l,m){return l&&l.length?wi(l,Zn(m,2)):[]},ke.split=function tg(l,m,S){return S&&"number"!=typeof S&&Ya(l,m,S)&&(m=S=h),(S=S===h?Qe:S>>>0)?(l=to(l))&&("string"==typeof m||null!=m&&!tf(m))&&!(m=qi(m))&&vo(l)?qu(ta(l),0,S):l.split(m,S):[]},ke.spread=function By(l,m){if("function"!=typeof l)throw new Ir(me);return m=null==m?0:cs(gs(m),0),Ci(function(S){var Q=S[m],Ie=qu(S,0,m);return Q&&Xi(Ie,Q),ii(l,this,Ie)})},ke.tail=function Pp(l){var m=null==l?0:l.length;return m?fn(l,1,m):[]},ke.take=function Rg(l,m,S){return l&&l.length?fn(l,0,(m=S||m===h?1:gs(m))<0?0:m):[]},ke.takeRight=function Rp(l,m,S){var Q=null==l?0:l.length;return Q?fn(l,(m=Q-(m=S||m===h?1:gs(m)))<0?0:m,Q):[]},ke.takeRightWhile=function Og(l,m){return l&&l.length?au(l,Zn(m,3),!1,!0):[]},ke.takeWhile=function Ng(l,m){return l&&l.length?au(l,Zn(m,3)):[]},ke.tap=function Np(l,m){return m(l),l},ke.throttle=function Qh(l,m,S){var Q=!0,Ie=!0;if("function"!=typeof l)throw new Ir(me);return Xo(S)&&(Q="leading"in S?!!S.leading:Q,Ie="trailing"in S?!!S.trailing:Ie),In(l,m,{leading:Q,maxWait:m,trailing:Ie})},ke.thru=jd,ke.toArray=nf,ke.toPairs=qg,ke.toPairsIn=Wm,ke.toPath=function fm(l){return us(l)?fi(l,ao):nl(l)?[l]:I(kd(to(l)))},ke.toPlainObject=Kf,ke.transform=function Xp(l,m,S){var Q=us(l),Ie=Q||cc(l)||id(l);if(m=Zn(m,4),null==S){var qe=l&&l.constructor;S=Ie?Q?new qe:[]:Xo(l)&&Hl(qe)?ru(Ei(l)):{}}return(Ie?Oi:Wu)(l,function(Ct,kt,rn){return m(S,Ct,kt,rn)}),S},ke.unary=function Bg(l){return H(l,1)},ke.union=Op,ke.unionBy=td,ke.unionWith=$d,ke.uniq=function kg(l){return l&&l.length?fo(l):[]},ke.uniqBy=function Om(l,m){return l&&l.length?fo(l,Zn(m,2)):[]},ke.uniqWith=function mh(l,m){return m="function"==typeof m?m:h,l&&l.length?fo(l,h,m):[]},ke.unset=function Ky(l,m){return null==l||Cs(l,m)},ke.unzip=Ua,ke.unzipWith=Dd,ke.update=function Jp(l,m,S){return null==l?l:Pa(l,m,os(S))},ke.updateWith=function Zy(l,m,S,Q){return Q="function"==typeof Q?Q:h,null==l?l:Pa(l,m,os(S),Q)},ke.values=Zd,ke.valuesIn=function Yg(l){return null==l?[]:fe(l,jl(l))},ke.without=kf,ke.words=df,ke.wrap=function Uy(l,m){return Ac(os(m),l)},ke.xor=Ff,ke.xorBy=yh,ke.xorWith=Vd,ke.zip=Hd,ke.zipObject=function tl(l,m){return Wa(l||[],m||[],Fa)},ke.zipObjectDeep=function oa(l,m){return Wa(l||[],m||[],de)},ke.zipWith=Eu,ke.entries=qg,ke.entriesIn=Wm,ke.extend=Kd,ke.extendWith=wh,ip(ke,ke),ke.add=gm,ke.attempt=sm,ke.camelCase=Qd,ke.capitalize=Zg,ke.ceil=mm,ke.clamp=function eg(l,m,S){return S===h&&(S=m,m=h),S!==h&&(S=(S=Il(S))==S?S:0),m!==h&&(m=(m=Il(m))==m?m:0),ju(Il(l),m,S)},ke.clone=function $g(l){return _s(l,4)},ke.cloneDeep=function Xh(l){return _s(l,5)},ke.cloneDeepWith=function Hf(l,m){return _s(l,5,m="function"==typeof m?m:h)},ke.cloneWith=function $y(l,m){return _s(l,4,m="function"==typeof m?m:h)},ke.conformsTo=function km(l,m){return null==m||Xl(l,m,cu(m))},ke.deburr=qm,ke.defaultTo=function Qm(l,m){return null==l||l!=l?m:l},ke.divide=sp,ke.endsWith=function ep(l,m,S){l=to(l),m=qi(m);var Q=l.length,Ie=S=S===h?Q:ju(gs(S),0,Q);return(S-=m.length)>=0&&l.slice(S,Ie)==m},ke.eq=xc,ke.escape=function Ah(l){return(l=to(l))&&Gi.test(l)?l.replace(Pr,Vo):l},ke.escapeRegExp=function Qg(l){return(l=to(l))&&$e.test(l)?l.replace(X,"\\$&"):l},ke.every=function Ia(l,m,S){var Q=us(l)?ji:Md;return S&&Ya(l,m,S)&&(m=h),Q(l,Zn(m,3))},ke.find=Lg,ke.findIndex=vd,ke.findKey=function Vm(l,m){return Du(l,Zn(m,3),Wu)},ke.findLast=Cd,ke.findLastIndex=xf,ke.findLastKey=function Wy(l,m){return Du(l,Zn(m,3),mc)},ke.floor=ym,ke.forEach=Up,ke.forEachRight=Bf,ke.forIn=function Yu(l,m){return null==l?l:Gu(l,Zn(m,3),jl)},ke.forInRight=function qy(l,m){return null==l?l:Fc(l,Zn(m,3),jl)},ke.forOwn=function Hm(l,m){return l&&Wu(l,Zn(m,3))},ke.forOwnRight=function Yp(l,m){return l&&mc(l,Zn(m,3))},ke.get=bd,ke.gt=V_,ke.gte=jf,ke.has=function Td(l,m){return null!=l&&yl(l,m,cd)},ke.hasIn=jm,ke.head=Mf,ke.identity=rl,ke.includes=function Uf(l,m,S,Q){l=Zs(l)?l:Zd(l),S=S&&!Q?gs(S):0;var Ie=l.length;return S<0&&(S=cs(Ie+S,0)),rd(l)?S<=Ie&&l.indexOf(m,S)>-1:!!Ie&&Ro(l,m,S)>-1},ke.indexOf=function Sp(l,m,S){var Q=null==l?0:l.length;if(!Q)return-1;var Ie=null==S?0:gs(S);return Ie<0&&(Ie=cs(Q+Ie,0)),Ro(l,m,Ie)},ke.inRange=function Kg(l,m,S){return m=Mc(m),S===h?(S=m,m=0):S=Mc(S),function ll(l,m,S){return l>=eo(m,S)&&l<cs(m,S)}(l=Il(l),m,S)},ke.invoke=zm,ke.isArguments=Eh,ke.isArray=us,ke.isArrayBuffer=zf,ke.isArrayLike=Zs,ke.isArrayLikeObject=Ca,ke.isBoolean=function Vg(l){return!0===l||!1===l||aa(l)&&Lo(l)==St},ke.isBuffer=cc,ke.isDate=zp,ke.isElement=function Dh(l){return aa(l)&&1===l.nodeType&&!ef(l)},ke.isEmpty=function Fm(l){if(null==l)return!0;if(Zs(l)&&(us(l)||"string"==typeof l||"function"==typeof l.splice||cc(l)||id(l)||Eh(l)))return!l.length;var m=uu(l);if(m==Kt||m==Qr)return!l.size;if(Ea(l))return!hl(l).length;for(var S in l)if(V.call(l,S))return!1;return!0},ke.isEqual=function Jh(l,m){return su(l,m)},ke.isEqualWith=function Ih(l,m,S){var Q=(S="function"==typeof S?S:h)?S(l,m):h;return Q===h?su(l,m,h,S):!!Q},ke.isError=Lm,ke.isFinite=function Gp(l){return"number"==typeof l&&Gs(l)},ke.isFunction=Hl,ke.isInteger=Gf,ke.isLength=qd,ke.isMap=Wf,ke.isMatch=function Bm(l,m){return l===m||dl(l,m,Gc(m))},ke.isMatchWith=function Vy(l,m,S){return S="function"==typeof S?S:h,dl(l,m,Gc(m),S)},ke.isNaN=function Hy(l){return jg(l)&&l!=+l},ke.isNative=function Um(l){if(Wc(l))throw new si("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return yu(l)},ke.isNil=function Hg(l){return null==l},ke.isNull=function qf(l){return null===l},ke.isNumber=jg,ke.isObject=Xo,ke.isObjectLike=aa,ke.isPlainObject=ef,ke.isRegExp=tf,ke.isSafeInteger=function Wp(l){return Gf(l)&&l>=-st&&l<=st},ke.isSet=Ch,ke.isString=rd,ke.isSymbol=nl,ke.isTypedArray=id,ke.isUndefined=function jy(l){return l===h},ke.isWeakMap=function $m(l){return aa(l)&&uu(l)==ge},ke.isWeakSet=function Yf(l){return aa(l)&&"[object WeakSet]"==Lo(l)},ke.join=function Ap(l,m){return null==l?"":Sl.call(l,m)},ke.kebabCase=xh,ke.last=Vl,ke.lastIndexOf=function Da(l,m,S){var Q=null==l?0:l.length;if(!Q)return-1;var Ie=Q;return S!==h&&(Ie=(Ie=gs(S))<0?cs(Q+Ie,0):eo(Ie,Q-1)),m==m?function Iu(Gt,_n,en){for(var Ar=en+1;Ar--;)if(Gt[Ar]===_n)return Ar;return Ar}(l,m,Ie):Uo(l,pi,Ie,!0)},ke.lowerCase=Ym,ke.lowerFirst=tp,ke.lt=zy,ke.lte=Yd,ke.max=function _m(l){return l&&l.length?Su(l,rl,Jl):h},ke.maxBy=function cg(l,m){return l&&l.length?Su(l,Zn(m,2),Jl):h},ke.mean=function Ph(l){return Es(l,rl)},ke.meanBy=function dc(l,m){return Es(l,Zn(m,2))},ke.min=function ey(l){return l&&l.length?Su(l,rl,qs):h},ke.minBy=function i_(l,m){return l&&l.length?Su(l,Zn(m,2),qs):h},ke.stubArray=lg,ke.stubFalse=pf,ke.stubObject=function dm(){return{}},ke.stubString=function Pc(){return""},ke.stubTrue=function r_(){return!0},ke.multiply=gf,ke.nth=function fh(l,m){return l&&l.length?ou(l,gs(m)):h},ke.noConflict=function um(){return Li._===this&&(Li._=ln),this},ke.noop=hf,ke.now=v,ke.pad=function Xg(l,m,S){l=to(l);var Q=(m=gs(m))?Qa(l):0;if(!m||Q>=m)return l;var Ie=(m-Q)/2;return Zo(Di(Ie),S)+l+Zo(Fn(Ie),S)},ke.padEnd=function np(l,m,S){l=to(l);var Q=(m=gs(m))?Qa(l):0;return m&&Q<m?l+Zo(m-Q,S):l},ke.padStart=function Km(l,m,S){l=to(l);var Q=(m=gs(m))?Qa(l):0;return m&&Q<m?Zo(m-Q,S)+l:l},ke.parseInt=function rp(l,m,S){return S||null==m?m=0:m&&(m=+m),xd(to(l).replace(Se,""),m||0)},ke.random=function zl(l,m,S){if(S&&"boolean"!=typeof S&&Ya(l,m,S)&&(m=S=h),S===h&&("boolean"==typeof m?(S=m,m=h):"boolean"==typeof l&&(S=l,l=h)),l===h&&m===h?(l=0,m=1):(l=Mc(l),m===h?(m=l,l=0):m=Mc(m)),l>m){var Q=l;l=m,m=Q}if(S||l%1||m%1){var Ie=Mn();return eo(l+Ie*(m-l+ea("1e-"+((Ie+"").length-1))),m)}return fl(l,m)},ke.reduce=function _h(l,m,S){var Q=us(l)?Ai:bo,Ie=arguments.length<3;return Q(l,Zn(m,4),S,Ie,Tu)},ke.reduceRight=function Hp(l,m,S){var Q=us(l)?xi:bo,Ie=arguments.length<3;return Q(l,Zn(m,4),S,Ie,gc)},ke.repeat=function Zm(l,m,S){return m=(S?Ya(l,m,S):m===h)?1:gs(m),pl(to(l),m)},ke.replace=function Jg(){var l=arguments,m=to(l[0]);return l.length<3?m:m.replace(l[1],l[2])},ke.result=function Gm(l,m,S){var Q=-1,Ie=(m=Ts(m,l)).length;for(Ie||(Ie=1,l=h);++Q<Ie;){var qe=null==l?h:l[ao(m[Q])];qe===h&&(Q=Ie,qe=S),l=Hl(qe)?qe.call(l):qe}return l},ke.round=s_,ke.runInContext=Gt,ke.sample=function Zh(l){return(us(l)?qo:F)(l)},ke.size=function p(l){if(null==l)return 0;if(Zs(l))return rd(l)?Qa(l):l.length;var m=uu(l);return m==Kt||m==Qr?l.size:hl(l).length},ke.snakeCase=em,ke.some=function d(l,m,S){var Q=us(l)?li:pr;return S&&Ya(l,m,S)&&(m=h),Q(l,Zn(m,3))},ke.sortedIndex=function xp(l,m){return ur(l,m)},ke.sortedIndexBy=function Pg(l,m,S){return Hr(l,m,Zn(S,2))},ke.sortedIndexOf=function Mp(l,m){var S=null==l?0:l.length;if(S){var Q=ur(l,m);if(Q<S&&xc(l[Q],m))return Q}return-1},ke.sortedLastIndex=function gh(l,m){return ur(l,m,!0)},ke.sortedLastIndexBy=function Of(l,m,S){return Hr(l,m,Zn(S,2),!0)},ke.sortedLastIndexOf=function Jc(l,m){if(null!=l&&l.length){var Q=ur(l,m,!0)-1;if(xc(l[Q],m))return Q}return-1},ke.startCase=uf,ke.startsWith=function Xd(l,m,S){return l=to(l),S=null==S?0:ju(gs(S),0,l.length),m=qi(m),l.slice(S,S+m.length)==m},ke.subtract=o_,ke.sum=function vm(l){return l&&l.length?ie(l,rl):0},ke.sumBy=function Em(l,m){return l&&l.length?ie(l,Zn(m,2)):0},ke.template=function tm(l,m,S){var Q=ke.templateSettings;S&&Ya(l,m,S)&&(m=h),l=to(l),m=wh({},m,Q,Hh);var kt,rn,Ie=wh({},m.imports,Q.imports,Hh),qe=cu(Ie),Ct=fe(Ie,qe),Hn=0,Vn=m.interpolate||Fr,Yn="__p += '",Lr=na((m.escape||Fr).source+"|"+Vn.source+"|"+(Vn===lt?nr:Fr).source+"|"+(m.evaluate||Fr).source+"|$","g"),oi="//# sourceURL="+(V.call(m,"sourceURL")?(m.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ro+"]")+"\n";l.replace(Lr,function(bi,ks,Os,Cl,Ra,wl){return Os||(Os=Cl),Yn+=l.slice(Hn,wl).replace(_i,is),ks&&(kt=!0,Yn+="' +\n__e("+ks+") +\n'"),Ra&&(rn=!0,Yn+="';\n"+Ra+";\n__p += '"),Os&&(Yn+="' +\n((__t = ("+Os+")) == null ? '' : __t) +\n'"),Hn=wl+bi.length,bi}),Yn+="';\n";var Ri=V.call(m,"variable")&&m.variable;if(Ri){if(Dn.test(Ri))throw new si("Invalid `variable` option passed into `_.template`")}else Yn="with (obj) {\n"+Yn+"\n}\n";Yn=(rn?Yn.replace(Pi,""):Yn).replace(jr,"$1").replace(Le,"$1;"),Yn="function("+(Ri||"obj")+") {\n"+(Ri?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(kt?", __e = _.escape":"")+(rn?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Yn+"return __p\n}";var Ss=sm(function(){return Zi(qe,oi+"return "+Yn).apply(h,Ct)});if(Ss.source=Yn,Lm(Ss))throw Ss;return Ss},ke.times=function hm(l,m){if((l=gs(l))<1||l>st)return[];var S=Qe,Q=eo(l,Qe);m=Zn(m),l-=Qe;for(var Ie=x(Q,m);++S<l;)m(S);return Ie},ke.toFinite=Mc,ke.toInteger=gs,ke.toLength=zg,ke.toLower=function lf(l){return to(l).toLowerCase()},ke.toNumber=Il,ke.toSafeInteger=function rf(l){return l?ju(gs(l),-st,st):0===l?l:0},ke.toString=to,ke.toUpper=function Mh(l){return to(l).toUpperCase()},ke.trim=function nm(l,m,S){if((l=to(l))&&(S||m===h))return M(l);if(!l||!(m=qi(m)))return l;var Q=ta(l),Ie=ta(m);return qu(Q,wn(Q,Ie),Zr(Q,Ie)+1).join("")},ke.trimEnd=function cf(l,m,S){if((l=to(l))&&(S||m===h))return l.slice(0,oo(l)+1);if(!l||!(m=qi(m)))return l;var Q=ta(l);return qu(Q,0,Zr(Q,ta(m))+1).join("")},ke.trimStart=function Qy(l,m,S){if((l=to(l))&&(S||m===h))return l.replace(Se,"");if(!l||!(m=qi(m)))return l;var Q=ta(l);return qu(Q,wn(Q,ta(m))).join("")},ke.truncate=function Gl(l,m){var S=30,Q="...";if(Xo(m)){var Ie="separator"in m?m.separator:Ie;S="length"in m?gs(m.length):S,Q="omission"in m?qi(m.omission):Q}var qe=(l=to(l)).length;if(vo(l)){var Ct=ta(l);qe=Ct.length}if(S>=qe)return l;var kt=S-Qa(Q);if(kt<1)return Q;var rn=Ct?qu(Ct,0,kt).join(""):l.slice(0,kt);if(Ie===h)return rn+Q;if(Ct&&(kt+=rn.length-kt),tf(Ie)){if(l.slice(kt).search(Ie)){var Hn,Vn=rn;for(Ie.global||(Ie=na(Ie.source,to(Or.exec(Ie))+"g")),Ie.lastIndex=0;Hn=Ie.exec(Vn);)var Yn=Hn.index;rn=rn.slice(0,Yn===h?kt:Yn)}}else if(l.indexOf(qi(Ie),kt)!=kt){var Lr=rn.lastIndexOf(Ie);Lr>-1&&(rn=rn.slice(0,Lr))}return rn+Q},ke.unescape=function rm(l){return(l=to(l))&&ai.test(l)?l.replace(Ti,Yl):l},ke.uniqueId=function pm(l){var m=++ue;return to(l)+m},ke.upperCase=im,ke.upperFirst=ng,ke.each=Up,ke.eachRight=Bf,ke.first=Mf,ip(ke,function(){var l={};return Wu(ke,function(m,S){V.call(ke.prototype,S)||(l[S]=m)}),l}(),{chain:!1}),ke.VERSION="4.17.21",Oi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){ke[l].placeholder=ke}),Oi(["drop","take"],function(l,m){qn.prototype[l]=function(S){S=S===h?1:cs(gs(S),0);var Q=this.__filtered__&&!m?new qn(this):this.clone();return Q.__filtered__?Q.__takeCount__=eo(S,Q.__takeCount__):Q.__views__.push({size:eo(S,Qe),type:l+(Q.__dir__<0?"Right":"")}),Q},qn.prototype[l+"Right"]=function(S){return this.reverse()[l](S).reverse()}}),Oi(["filter","map","takeWhile"],function(l,m){var S=m+1,Q=1==S||3==S;qn.prototype[l]=function(Ie){var qe=this.clone();return qe.__iteratees__.push({iteratee:Zn(Ie,3),type:S}),qe.__filtered__=qe.__filtered__||Q,qe}}),Oi(["head","last"],function(l,m){var S="take"+(m?"Right":"");qn.prototype[l]=function(){return this[S](1).value()[0]}}),Oi(["initial","tail"],function(l,m){var S="drop"+(m?"":"Right");qn.prototype[l]=function(){return this.__filtered__?new qn(this):this[S](1)}}),qn.prototype.compact=function(){return this.filter(rl)},qn.prototype.find=function(l){return this.filter(l).head()},qn.prototype.findLast=function(l){return this.reverse().find(l)},qn.prototype.invokeMap=Ci(function(l,m){return"function"==typeof l?new qn(this):this.map(function(S){return cl(S,l,m)})}),qn.prototype.reject=function(l){return this.filter(Qo(Zn(l)))},qn.prototype.slice=function(l,m){l=gs(l);var S=this;return S.__filtered__&&(l>0||m<0)?new qn(S):(l<0?S=S.takeRight(-l):l&&(S=S.drop(l)),m!==h&&(S=(m=gs(m))<0?S.dropRight(-m):S.take(m-l)),S)},qn.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},qn.prototype.toArray=function(){return this.take(Qe)},Wu(qn.prototype,function(l,m){var S=/^(?:filter|find|map|reject)|While$/.test(m),Q=/^(?:head|last)$/.test(m),Ie=ke[Q?"take"+("last"==m?"Right":""):m],qe=Q||/^find/.test(m);Ie&&(ke.prototype[m]=function(){var Ct=this.__wrapped__,kt=Q?[1]:arguments,rn=Ct instanceof qn,Hn=kt[0],Vn=rn||us(Ct),Yn=function(ks){var Os=Ie.apply(ke,Xi([ks],kt));return Q&&Lr?Os[0]:Os};Vn&&S&&"function"==typeof Hn&&1!=Hn.length&&(rn=Vn=!1);var Lr=this.__chain__,Ri=qe&&!Lr,Ss=rn&&!this.__actions__.length;if(!qe&&Vn){Ct=Ss?Ct:new qn(this);var bi=l.apply(Ct,kt);return bi.__actions__.push({func:jd,args:[Yn],thisArg:h}),new Ui(bi,Lr)}return Ri&&Ss?l.apply(this,kt):(bi=this.thru(Yn),Ri?Q?bi.value()[0]:bi.value():bi)})}),Oi(["pop","push","shift","sort","splice","unshift"],function(l){var m=Ha[l],S=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",Q=/^(?:pop|shift)$/.test(l);ke.prototype[l]=function(){var Ie=arguments;if(Q&&!this.__chain__){var qe=this.value();return m.apply(us(qe)?qe:[],Ie)}return this[S](function(Ct){return m.apply(us(Ct)?Ct:[],Ie)})}}),Wu(qn.prototype,function(l,m){var S=ke[m];if(S){var Q=S.name+"";V.call(Pn,Q)||(Pn[Q]=[]),Pn[Q].push({name:m,func:S})}}),Pn[ec(h,2).name]=[{name:"wrapper",func:h}],qn.prototype.clone=function pu(){var l=new qn(this.__wrapped__);return l.__actions__=I(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=I(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=I(this.__views__),l},qn.prototype.reverse=function Zl(){if(this.__filtered__){var l=new qn(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},qn.prototype.value=function es(){var l=this.__wrapped__.value(),m=this.__dir__,S=us(l),Q=m<0,Ie=S?l.length:0,qe=function Cp(l,m,S){for(var Q=-1,Ie=S.length;++Q<Ie;){var qe=S[Q],Ct=qe.size;switch(qe.type){case"drop":l+=Ct;break;case"dropRight":m-=Ct;break;case"take":m=eo(m,l+Ct);break;case"takeRight":l=cs(l,m-Ct)}}return{start:l,end:m}}(0,Ie,this.__views__),Ct=qe.start,kt=qe.end,rn=kt-Ct,Hn=Q?kt:Ct-1,Vn=this.__iteratees__,Yn=Vn.length,Lr=0,oi=eo(rn,this.__takeCount__);if(!S||!Q&&Ie==rn&&oi==rn)return Ba(l,this.__actions__);var Ri=[];e:for(;rn--&&Lr<oi;){for(var Ss=-1,bi=l[Hn+=m];++Ss<Yn;){var ks=Vn[Ss],Cl=ks.type,Ra=(0,ks.iteratee)(bi);if(2==Cl)bi=Ra;else if(!Ra){if(1==Cl)continue e;break e}}Ri[Lr++]=bi}return Ri},ke.prototype.at=kp,ke.prototype.chain=function Fg(){return Id(this)},ke.prototype.commit=function Fp(){return new Ui(this.value(),this.__chain__)},ke.prototype.next=function Lp(){this.__values__===h&&(this.__values__=nf(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?h:this.__values__[this.__index__++]}},ke.prototype.plant=function bc(l){for(var m,S=this;S instanceof Al;){var Q=ch(S);Q.__index__=0,Q.__values__=h,m?Ie.__wrapped__=Q:m=Q;var Ie=Q;S=S.__wrapped__}return Ie.__wrapped__=l,m},ke.prototype.reverse=function Tc(){var l=this.__wrapped__;if(l instanceof qn){var m=l;return this.__actions__.length&&(m=new qn(this)),(m=m.reverse()).__actions__.push({func:jd,args:[ph],thisArg:h}),new Ui(m,this.__chain__)}return this.thru(ph)},ke.prototype.toJSON=ke.prototype.valueOf=ke.prototype.value=function Kh(){return Ba(this.__wrapped__,this.__actions__)},ke.prototype.first=ke.prototype.head,co&&(ke.prototype[co]=function zd(){return this}),ke}();Li._=Ja,(y=function(){return Ja}.call(bt,k,bt,xn))!==h&&(xn.exports=y)}.call(this)},1135:(xn,bt,k)=>{"use strict";k.d(bt,{X:()=>h});var y=k(7579);class h extends y.x{constructor(P){super(),this._value=P}get value(){return this.getValue()}_subscribe(P){const Te=super._subscribe(P);return!Te.closed&&P.next(this._value),Te}getValue(){const{hasError:P,thrownError:Te,_value:me}=this;if(P)throw Te;return this._throwIfClosed(),me}next(P){super.next(this._value=P)}}},9751:(xn,bt,k)=>{"use strict";k.d(bt,{y:()=>Xe});var y=k(930),h=k(727),K=k(8822),P=k(9635),Te=k(2416),me=k(576),Pe=k(2806);let Xe=(()=>{class we{constructor(je){je&&(this._subscribe=je)}lift(je){const at=new we;return at.source=this,at.operator=je,at}subscribe(je,at,Mt){const ze=function ye(we){return we&&we instanceof y.Lv||function De(we){return we&&(0,me.m)(we.next)&&(0,me.m)(we.error)&&(0,me.m)(we.complete)}(we)&&(0,h.Nn)(we)}(je)?je:new y.Hp(je,at,Mt);return(0,Pe.x)(()=>{const{operator:Ge,source:_e}=this;ze.add(Ge?Ge.call(ze,_e):_e?this._subscribe(ze):this._trySubscribe(ze))}),ze}_trySubscribe(je){try{return this._subscribe(je)}catch(at){je.error(at)}}forEach(je,at){return new(at=j(at))((Mt,ze)=>{const Ge=new y.Hp({next:_e=>{try{je(_e)}catch(mt){ze(mt),Ge.unsubscribe()}},error:ze,complete:Mt});this.subscribe(Ge)})}_subscribe(je){var at;return null===(at=this.source)||void 0===at?void 0:at.subscribe(je)}[K.L](){return this}pipe(...je){return(0,P.U)(je)(this)}toPromise(je){return new(je=j(je))((at,Mt)=>{let ze;this.subscribe(Ge=>ze=Ge,Ge=>Mt(Ge),()=>at(ze))})}}return we.create=Ve=>new we(Ve),we})();function j(we){var Ve;return null!==(Ve=we??Te.config.Promise)&&void 0!==Ve?Ve:Promise}},7579:(xn,bt,k)=>{"use strict";k.d(bt,{x:()=>Pe});var y=k(9751),h=k(727);const P=(0,k(3888).d)(j=>function(){j(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=k(8737),me=k(2806);let Pe=(()=>{class j extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ye){const we=new Xe(this,this);return we.operator=ye,we}_throwIfClosed(){if(this.closed)throw new P}next(ye){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const we of this.currentObservers)we.next(ye)}})}error(ye){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ye;const{observers:we}=this;for(;we.length;)we.shift().error(ye)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ye}=this;for(;ye.length;)ye.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ye;return(null===(ye=this.observers)||void 0===ye?void 0:ye.length)>0}_trySubscribe(ye){return this._throwIfClosed(),super._trySubscribe(ye)}_subscribe(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)}_innerSubscribe(ye){const{hasError:we,isStopped:Ve,observers:je}=this;return we||Ve?h.Lc:(this.currentObservers=null,je.push(ye),new h.w0(()=>{this.currentObservers=null,(0,Te.P)(je,ye)}))}_checkFinalizedStatuses(ye){const{hasError:we,thrownError:Ve,isStopped:je}=this;we?ye.error(Ve):je&&ye.complete()}asObservable(){const ye=new y.y;return ye.source=this,ye}}return j.create=(De,ye)=>new Xe(De,ye),j})();class Xe extends Pe{constructor(De,ye){super(),this.destination=De,this.source=ye}next(De){var ye,we;null===(we=null===(ye=this.destination)||void 0===ye?void 0:ye.next)||void 0===we||we.call(ye,De)}error(De){var ye,we;null===(we=null===(ye=this.destination)||void 0===ye?void 0:ye.error)||void 0===we||we.call(ye,De)}complete(){var De,ye;null===(ye=null===(De=this.destination)||void 0===De?void 0:De.complete)||void 0===ye||ye.call(De)}_subscribe(De){var ye,we;return null!==(we=null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(De))&&void 0!==we?we:h.Lc}}},930:(xn,bt,k)=>{"use strict";k.d(bt,{Hp:()=>Mt,Lv:()=>we});var y=k(576),h=k(727),K=k(2416),P=k(7849),Te=k(5032);const me=j("C",void 0,void 0);function j(dt,vt,pt){return{kind:dt,value:vt,error:pt}}var De=k(3410),ye=k(2806);class we extends h.w0{constructor(vt){super(),this.isStopped=!1,vt?(this.destination=vt,(0,h.Nn)(vt)&&vt.add(this)):this.destination=mt}static create(vt,pt,Dt){return new Mt(vt,pt,Dt)}next(vt){this.isStopped?_e(function Xe(dt){return j("N",dt,void 0)}(vt),this):this._next(vt)}error(vt){this.isStopped?_e(function Pe(dt){return j("E",void 0,dt)}(vt),this):(this.isStopped=!0,this._error(vt))}complete(){this.isStopped?_e(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(vt){this.destination.next(vt)}_error(vt){try{this.destination.error(vt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function je(dt,vt){return Ve.call(dt,vt)}class at{constructor(vt){this.partialObserver=vt}next(vt){const{partialObserver:pt}=this;if(pt.next)try{pt.next(vt)}catch(Dt){ze(Dt)}}error(vt){const{partialObserver:pt}=this;if(pt.error)try{pt.error(vt)}catch(Dt){ze(Dt)}else ze(vt)}complete(){const{partialObserver:vt}=this;if(vt.complete)try{vt.complete()}catch(pt){ze(pt)}}}class Mt extends we{constructor(vt,pt,Dt){let We;if(super(),(0,y.m)(vt)||!vt)We={next:vt??void 0,error:pt??void 0,complete:Dt??void 0};else{let be;this&&K.config.useDeprecatedNextContext?(be=Object.create(vt),be.unsubscribe=()=>this.unsubscribe(),We={next:vt.next&&je(vt.next,be),error:vt.error&&je(vt.error,be),complete:vt.complete&&je(vt.complete,be)}):We=vt}this.destination=new at(We)}}function ze(dt){K.config.useDeprecatedSynchronousErrorHandling?(0,ye.O)(dt):(0,P.h)(dt)}function _e(dt,vt){const{onStoppedNotification:pt}=K.config;pt&&De.z.setTimeout(()=>pt(dt,vt))}const mt={closed:!0,next:Te.Z,error:function Ge(dt){throw dt},complete:Te.Z}},727:(xn,bt,k)=>{"use strict";k.d(bt,{Lc:()=>me,w0:()=>Te,Nn:()=>Pe});var y=k(576);const K=(0,k(3888).d)(j=>function(ye){j(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((we,Ve)=>`${Ve+1}) ${we.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye});var P=k(8737);class Te{constructor(De){this.initialTeardown=De,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let De;if(!this.closed){this.closed=!0;const{_parentage:ye}=this;if(ye)if(this._parentage=null,Array.isArray(ye))for(const je of ye)je.remove(this);else ye.remove(this);const{initialTeardown:we}=this;if((0,y.m)(we))try{we()}catch(je){De=je instanceof K?je.errors:[je]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const je of Ve)try{Xe(je)}catch(at){De=De??[],at instanceof K?De=[...De,...at.errors]:De.push(at)}}if(De)throw new K(De)}}add(De){var ye;if(De&&De!==this)if(this.closed)Xe(De);else{if(De instanceof Te){if(De.closed||De._hasParent(this))return;De._addParent(this)}(this._finalizers=null!==(ye=this._finalizers)&&void 0!==ye?ye:[]).push(De)}}_hasParent(De){const{_parentage:ye}=this;return ye===De||Array.isArray(ye)&&ye.includes(De)}_addParent(De){const{_parentage:ye}=this;this._parentage=Array.isArray(ye)?(ye.push(De),ye):ye?[ye,De]:De}_removeParent(De){const{_parentage:ye}=this;ye===De?this._parentage=null:Array.isArray(ye)&&(0,P.P)(ye,De)}remove(De){const{_finalizers:ye}=this;ye&&(0,P.P)(ye,De),De instanceof Te&&De._removeParent(this)}}Te.EMPTY=(()=>{const j=new Te;return j.closed=!0,j})();const me=Te.EMPTY;function Pe(j){return j instanceof Te||j&&"closed"in j&&(0,y.m)(j.remove)&&(0,y.m)(j.add)&&(0,y.m)(j.unsubscribe)}function Xe(j){(0,y.m)(j)?j():j.unsubscribe()}},2416:(xn,bt,k)=>{"use strict";k.d(bt,{config:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(xn,bt,k)=>{"use strict";k.d(bt,{z:()=>Te});var y=k(8189),K=k(7669),P=k(8996);function Te(...me){return function h(){return(0,y.J)(1)}()((0,P.D)(me,(0,K.yG)(me)))}},515:(xn,bt,k)=>{"use strict";k.d(bt,{E:()=>h});const h=new(k(9751).y)(Te=>Te.complete())},8996:(xn,bt,k)=>{"use strict";k.d(bt,{D:()=>vt});var y=k(8421),h=k(5363),K=k(9468),me=k(9751),Xe=k(2202),j=k(576),De=k(9672);function we(pt,Dt){if(!pt)throw new Error("Iterable cannot be null");return new me.y(We=>{(0,De.f)(We,Dt,()=>{const be=pt[Symbol.asyncIterator]();(0,De.f)(We,Dt,()=>{be.next().then($t=>{$t.done?We.complete():We.next($t.value)})},0,!0)})})}var Ve=k(3670),je=k(8239),at=k(1144),Mt=k(6495),ze=k(2206),Ge=k(4532),_e=k(3260);function vt(pt,Dt){return Dt?function dt(pt,Dt){if(null!=pt){if((0,Ve.c)(pt))return function P(pt,Dt){return(0,y.Xf)(pt).pipe((0,K.R)(Dt),(0,h.Q)(Dt))}(pt,Dt);if((0,at.z)(pt))return function Pe(pt,Dt){return new me.y(We=>{let be=0;return Dt.schedule(function(){be===pt.length?We.complete():(We.next(pt[be++]),We.closed||this.schedule())})})}(pt,Dt);if((0,je.t)(pt))return function Te(pt,Dt){return(0,y.Xf)(pt).pipe((0,K.R)(Dt),(0,h.Q)(Dt))}(pt,Dt);if((0,ze.D)(pt))return we(pt,Dt);if((0,Mt.T)(pt))return function ye(pt,Dt){return new me.y(We=>{let be;return(0,De.f)(We,Dt,()=>{be=pt[Xe.h](),(0,De.f)(We,Dt,()=>{let $t,tt;try{({value:$t,done:tt}=be.next())}catch(Ft){return void We.error(Ft)}tt?We.complete():We.next($t)},0,!0)}),()=>(0,j.m)(be?.return)&&be.return()})}(pt,Dt);if((0,_e.L)(pt))return function mt(pt,Dt){return we((0,_e.Q)(pt),Dt)}(pt,Dt)}throw(0,Ge.z)(pt)}(pt,Dt):(0,y.Xf)(pt)}},8421:(xn,bt,k)=>{"use strict";k.d(bt,{Xf:()=>Ve});var y=k(655),h=k(1144),K=k(8239),P=k(9751),Te=k(3670),me=k(2206),Pe=k(4532),Xe=k(6495),j=k(3260),De=k(576),ye=k(7849),we=k(8822);function Ve(dt){if(dt instanceof P.y)return dt;if(null!=dt){if((0,Te.c)(dt))return function je(dt){return new P.y(vt=>{const pt=dt[we.L]();if((0,De.m)(pt.subscribe))return pt.subscribe(vt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(dt);if((0,h.z)(dt))return function at(dt){return new P.y(vt=>{for(let pt=0;pt<dt.length&&!vt.closed;pt++)vt.next(dt[pt]);vt.complete()})}(dt);if((0,K.t)(dt))return function Mt(dt){return new P.y(vt=>{dt.then(pt=>{vt.closed||(vt.next(pt),vt.complete())},pt=>vt.error(pt)).then(null,ye.h)})}(dt);if((0,me.D)(dt))return Ge(dt);if((0,Xe.T)(dt))return function ze(dt){return new P.y(vt=>{for(const pt of dt)if(vt.next(pt),vt.closed)return;vt.complete()})}(dt);if((0,j.L)(dt))return function _e(dt){return Ge((0,j.Q)(dt))}(dt)}throw(0,Pe.z)(dt)}function Ge(dt){return new P.y(vt=>{(function mt(dt,vt){var pt,Dt,We,be;return(0,y.mG)(this,void 0,void 0,function*(){try{for(pt=(0,y.KL)(dt);!(Dt=yield pt.next()).done;)if(vt.next(Dt.value),vt.closed)return}catch($t){We={error:$t}}finally{try{Dt&&!Dt.done&&(be=pt.return)&&(yield be.call(pt))}finally{if(We)throw We.error}}vt.complete()})})(dt,vt).catch(pt=>vt.error(pt))})}},6451:(xn,bt,k)=>{"use strict";k.d(bt,{T:()=>me});var y=k(8189),h=k(8421),K=k(515),P=k(7669),Te=k(8996);function me(...Pe){const Xe=(0,P.yG)(Pe),j=(0,P._6)(Pe,1/0),De=Pe;return De.length?1===De.length?(0,h.Xf)(De[0]):(0,y.J)(j)((0,Te.D)(De,Xe)):K.E}},9646:(xn,bt,k)=>{"use strict";k.d(bt,{of:()=>K});var y=k(7669),h=k(8996);function K(...P){const Te=(0,y.yG)(P);return(0,h.D)(P,Te)}},5403:(xn,bt,k)=>{"use strict";k.d(bt,{x:()=>h});var y=k(930);function h(P,Te,me,Pe,Xe){return new K(P,Te,me,Pe,Xe)}class K extends y.Lv{constructor(Te,me,Pe,Xe,j,De){super(Te),this.onFinalize=j,this.shouldUnsubscribe=De,this._next=me?function(ye){try{me(ye)}catch(we){Te.error(we)}}:super._next,this._error=Xe?function(ye){try{Xe(ye)}catch(we){Te.error(we)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(ye){Te.error(ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},262:(xn,bt,k)=>{"use strict";k.d(bt,{K:()=>P});var y=k(8421),h=k(5403),K=k(4482);function P(Te){return(0,K.e)((me,Pe)=>{let De,Xe=null,j=!1;Xe=me.subscribe((0,h.x)(Pe,void 0,void 0,ye=>{De=(0,y.Xf)(Te(ye,P(Te)(me))),Xe?(Xe.unsubscribe(),Xe=null,De.subscribe(Pe)):j=!0})),j&&(Xe.unsubscribe(),Xe=null,De.subscribe(Pe))})}},4351:(xn,bt,k)=>{"use strict";k.d(bt,{b:()=>K});var y=k(5577),h=k(576);function K(P,Te){return(0,h.m)(Te)?(0,y.z)(P,Te,1):(0,y.z)(P,1)}},6590:(xn,bt,k)=>{"use strict";k.d(bt,{d:()=>K});var y=k(4482),h=k(5403);function K(P){return(0,y.e)((Te,me)=>{let Pe=!1;Te.subscribe((0,h.x)(me,Xe=>{Pe=!0,me.next(Xe)},()=>{Pe||me.next(P),me.complete()}))})}},1884:(xn,bt,k)=>{"use strict";k.d(bt,{x:()=>P});var y=k(4671),h=k(4482),K=k(5403);function P(me,Pe=y.y){return me=me??Te,(0,h.e)((Xe,j)=>{let De,ye=!0;Xe.subscribe((0,K.x)(j,we=>{const Ve=Pe(we);(ye||!me(De,Ve))&&(ye=!1,De=Ve,j.next(we))}))})}function Te(me,Pe){return me===Pe}},9300:(xn,bt,k)=>{"use strict";k.d(bt,{h:()=>K});var y=k(4482),h=k(5403);function K(P,Te){return(0,y.e)((me,Pe)=>{let Xe=0;me.subscribe((0,h.x)(Pe,j=>P.call(Te,j,Xe++)&&Pe.next(j)))})}},8746:(xn,bt,k)=>{"use strict";k.d(bt,{x:()=>h});var y=k(4482);function h(K){return(0,y.e)((P,Te)=>{try{P.subscribe(Te)}finally{Te.add(K)}})}},590:(xn,bt,k)=>{"use strict";k.d(bt,{P:()=>Pe});var y=k(6805),h=k(9300),K=k(5698),P=k(6590),Te=k(8068),me=k(4671);function Pe(Xe,j){const De=arguments.length>=2;return ye=>ye.pipe(Xe?(0,h.h)((we,Ve)=>Xe(we,Ve,ye)):me.y,(0,K.q)(1),De?(0,P.d)(j):(0,Te.T)(()=>new y.K))}},4004:(xn,bt,k)=>{"use strict";k.d(bt,{U:()=>K});var y=k(4482),h=k(5403);function K(P,Te){return(0,y.e)((me,Pe)=>{let Xe=0;me.subscribe((0,h.x)(Pe,j=>{Pe.next(P.call(Te,j,Xe++))}))})}},8189:(xn,bt,k)=>{"use strict";k.d(bt,{J:()=>K});var y=k(5577),h=k(4671);function K(P=1/0){return(0,y.z)(h.y,P)}},5577:(xn,bt,k)=>{"use strict";k.d(bt,{z:()=>Xe});var y=k(4004),h=k(8421),K=k(4482),P=k(9672),Te=k(5403),Pe=k(576);function Xe(j,De,ye=1/0){return(0,Pe.m)(De)?Xe((we,Ve)=>(0,y.U)((je,at)=>De(we,je,Ve,at))((0,h.Xf)(j(we,Ve))),ye):("number"==typeof De&&(ye=De),(0,K.e)((we,Ve)=>function me(j,De,ye,we,Ve,je,at,Mt){const ze=[];let Ge=0,_e=0,mt=!1;const dt=()=>{mt&&!ze.length&&!Ge&&De.complete()},vt=Dt=>Ge<we?pt(Dt):ze.push(Dt),pt=Dt=>{je&&De.next(Dt),Ge++;let We=!1;(0,h.Xf)(ye(Dt,_e++)).subscribe((0,Te.x)(De,be=>{Ve?.(be),je?vt(be):De.next(be)},()=>{We=!0},void 0,()=>{if(We)try{for(Ge--;ze.length&&Ge<we;){const be=ze.shift();at?(0,P.f)(De,at,()=>pt(be)):pt(be)}dt()}catch(be){De.error(be)}}))};return j.subscribe((0,Te.x)(De,vt,()=>{mt=!0,dt()})),()=>{Mt?.()}}(we,Ve,j,ye)))}},5363:(xn,bt,k)=>{"use strict";k.d(bt,{Q:()=>P});var y=k(9672),h=k(4482),K=k(5403);function P(Te,me=0){return(0,h.e)((Pe,Xe)=>{Pe.subscribe((0,K.x)(Xe,j=>(0,y.f)(Xe,Te,()=>Xe.next(j),me),()=>(0,y.f)(Xe,Te,()=>Xe.complete(),me),j=>(0,y.f)(Xe,Te,()=>Xe.error(j),me)))})}},5026:(xn,bt,k)=>{"use strict";k.d(bt,{R:()=>P});var y=k(4482),h=k(5403);function P(Te,me){return(0,y.e)(function K(Te,me,Pe,Xe,j){return(De,ye)=>{let we=Pe,Ve=me,je=0;De.subscribe((0,h.x)(ye,at=>{const Mt=je++;Ve=we?Te(Ve,at,Mt):(we=!0,at),Xe&&ye.next(Ve)},j&&(()=>{we&&ye.next(Ve),ye.complete()})))}}(Te,me,arguments.length>=2,!0))}},3099:(xn,bt,k)=>{"use strict";k.d(bt,{B:()=>Te});var y=k(8421),h=k(7579),K=k(930),P=k(4482);function Te(Pe={}){const{connector:Xe=(()=>new h.x),resetOnError:j=!0,resetOnComplete:De=!0,resetOnRefCountZero:ye=!0}=Pe;return we=>{let Ve,je,at,Mt=0,ze=!1,Ge=!1;const _e=()=>{je?.unsubscribe(),je=void 0},mt=()=>{_e(),Ve=at=void 0,ze=Ge=!1},dt=()=>{const vt=Ve;mt(),vt?.unsubscribe()};return(0,P.e)((vt,pt)=>{Mt++,!Ge&&!ze&&_e();const Dt=at=at??Xe();pt.add(()=>{Mt--,0===Mt&&!Ge&&!ze&&(je=me(dt,ye))}),Dt.subscribe(pt),!Ve&&Mt>0&&(Ve=new K.Hp({next:We=>Dt.next(We),error:We=>{Ge=!0,_e(),je=me(mt,j,We),Dt.error(We)},complete:()=>{ze=!0,_e(),je=me(mt,De),Dt.complete()}}),(0,y.Xf)(vt).subscribe(Ve))})(we)}}function me(Pe,Xe,...j){if(!0===Xe)return void Pe();if(!1===Xe)return;const De=new K.Hp({next:()=>{De.unsubscribe(),Pe()}});return(0,y.Xf)(Xe(...j)).subscribe(De)}},8675:(xn,bt,k)=>{"use strict";k.d(bt,{O:()=>P});var y=k(7272),h=k(7669),K=k(4482);function P(...Te){const me=(0,h.yG)(Te);return(0,K.e)((Pe,Xe)=>{(me?(0,y.z)(Te,Pe,me):(0,y.z)(Te,Pe)).subscribe(Xe)})}},9468:(xn,bt,k)=>{"use strict";k.d(bt,{R:()=>h});var y=k(4482);function h(K,P=0){return(0,y.e)((Te,me)=>{me.add(K.schedule(()=>Te.subscribe(me),P))})}},3900:(xn,bt,k)=>{"use strict";k.d(bt,{w:()=>P});var y=k(8421),h=k(4482),K=k(5403);function P(Te,me){return(0,h.e)((Pe,Xe)=>{let j=null,De=0,ye=!1;const we=()=>ye&&!j&&Xe.complete();Pe.subscribe((0,K.x)(Xe,Ve=>{j?.unsubscribe();let je=0;const at=De++;(0,y.Xf)(Te(Ve,at)).subscribe(j=(0,K.x)(Xe,Mt=>Xe.next(me?me(Ve,Mt,at,je++):Mt),()=>{j=null,we()}))},()=>{ye=!0,we()}))})}},5698:(xn,bt,k)=>{"use strict";k.d(bt,{q:()=>P});var y=k(515),h=k(4482),K=k(5403);function P(Te){return Te<=0?()=>y.E:(0,h.e)((me,Pe)=>{let Xe=0;me.subscribe((0,K.x)(Pe,j=>{++Xe<=Te&&(Pe.next(j),Te<=Xe&&Pe.complete())}))})}},8505:(xn,bt,k)=>{"use strict";k.d(bt,{b:()=>Te});var y=k(576),h=k(4482),K=k(5403),P=k(4671);function Te(me,Pe,Xe){const j=(0,y.m)(me)||Pe||Xe?{next:me,error:Pe,complete:Xe}:me;return j?(0,h.e)((De,ye)=>{var we;null===(we=j.subscribe)||void 0===we||we.call(j);let Ve=!0;De.subscribe((0,K.x)(ye,je=>{var at;null===(at=j.next)||void 0===at||at.call(j,je),ye.next(je)},()=>{var je;Ve=!1,null===(je=j.complete)||void 0===je||je.call(j),ye.complete()},je=>{var at;Ve=!1,null===(at=j.error)||void 0===at||at.call(j,je),ye.error(je)},()=>{var je,at;Ve&&(null===(je=j.unsubscribe)||void 0===je||je.call(j)),null===(at=j.finalize)||void 0===at||at.call(j)}))}):P.y}},8068:(xn,bt,k)=>{"use strict";k.d(bt,{T:()=>P});var y=k(6805),h=k(4482),K=k(5403);function P(me=Te){return(0,h.e)((Pe,Xe)=>{let j=!1;Pe.subscribe((0,K.x)(Xe,De=>{j=!0,Xe.next(De)},()=>j?Xe.complete():Xe.error(me())))})}function Te(){return new y.K}},4408:(xn,bt,k)=>{"use strict";k.d(bt,{o:()=>Te});var y=k(727);class h extends y.w0{constructor(Pe,Xe){super()}schedule(Pe,Xe=0){return this}}const K={setInterval(me,Pe,...Xe){const{delegate:j}=K;return j?.setInterval?j.setInterval(me,Pe,...Xe):setInterval(me,Pe,...Xe)},clearInterval(me){const{delegate:Pe}=K;return(Pe?.clearInterval||clearInterval)(me)},delegate:void 0};var P=k(8737);class Te extends h{constructor(Pe,Xe){super(Pe,Xe),this.scheduler=Pe,this.work=Xe,this.pending=!1}schedule(Pe,Xe=0){var j;if(this.closed)return this;this.state=Pe;const De=this.id,ye=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(ye,De,Xe)),this.pending=!0,this.delay=Xe,this.id=null!==(j=this.id)&&void 0!==j?j:this.requestAsyncId(ye,this.id,Xe),this}requestAsyncId(Pe,Xe,j=0){return K.setInterval(Pe.flush.bind(Pe,this),j)}recycleAsyncId(Pe,Xe,j=0){if(null!=j&&this.delay===j&&!1===this.pending)return Xe;null!=Xe&&K.clearInterval(Xe)}execute(Pe,Xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const j=this._execute(Pe,Xe);if(j)return j;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Pe,Xe){let De,j=!1;try{this.work(Pe)}catch(ye){j=!0,De=ye||new Error("Scheduled action threw falsy error")}if(j)return this.unsubscribe(),De}unsubscribe(){if(!this.closed){const{id:Pe,scheduler:Xe}=this,{actions:j}=Xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,P.P)(j,this),null!=Pe&&(this.id=this.recycleAsyncId(Xe,Pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(xn,bt,k)=>{"use strict";k.d(bt,{v:()=>K});var y=k(6063);class h{constructor(Te,me=h.now){this.schedulerActionCtor=Te,this.now=me}schedule(Te,me=0,Pe){return new this.schedulerActionCtor(this,Te).schedule(Pe,me)}}h.now=y.l.now;class K extends h{constructor(Te,me=h.now){super(Te,me),this.actions=[],this._active=!1}flush(Te){const{actions:me}=this;if(this._active)return void me.push(Te);let Pe;this._active=!0;do{if(Pe=Te.execute(Te.state,Te.delay))break}while(Te=me.shift());if(this._active=!1,Pe){for(;Te=me.shift();)Te.unsubscribe();throw Pe}}}},4986:(xn,bt,k)=>{"use strict";k.d(bt,{z:()=>K});var y=k(4408);const K=new(k(7565).v)(y.o)},6063:(xn,bt,k)=>{"use strict";k.d(bt,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(xn,bt,k)=>{"use strict";k.d(bt,{z:()=>y});const y={setTimeout(h,K,...P){const{delegate:Te}=y;return Te?.setTimeout?Te.setTimeout(h,K,...P):setTimeout(h,K,...P)},clearTimeout(h){const{delegate:K}=y;return(K?.clearTimeout||clearTimeout)(h)},delegate:void 0}},2202:(xn,bt,k)=>{"use strict";k.d(bt,{h:()=>h});const h=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xn,bt,k)=>{"use strict";k.d(bt,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(xn,bt,k)=>{"use strict";k.d(bt,{K:()=>h});const h=(0,k(3888).d)(K=>function(){K(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(xn,bt,k)=>{"use strict";k.d(bt,{_6:()=>me,jO:()=>P,yG:()=>Te});var y=k(576);function K(Pe){return Pe[Pe.length-1]}function P(Pe){return(0,y.m)(K(Pe))?Pe.pop():void 0}function Te(Pe){return function h(Pe){return Pe&&(0,y.m)(Pe.schedule)}(K(Pe))?Pe.pop():void 0}function me(Pe,Xe){return"number"==typeof K(Pe)?Pe.pop():Xe}},4742:(xn,bt,k)=>{"use strict";k.d(bt,{D:()=>Te});const{isArray:y}=Array,{getPrototypeOf:h,prototype:K,keys:P}=Object;function Te(Pe){if(1===Pe.length){const Xe=Pe[0];if(y(Xe))return{args:Xe,keys:null};if(function me(Pe){return Pe&&"object"==typeof Pe&&h(Pe)===K}(Xe)){const j=P(Xe);return{args:j.map(De=>Xe[De]),keys:j}}}return{args:Pe,keys:null}}},8737:(xn,bt,k)=>{"use strict";function y(h,K){if(h){const P=h.indexOf(K);0<=P&&h.splice(P,1)}}k.d(bt,{P:()=>y})},3888:(xn,bt,k)=>{"use strict";function y(h){const P=h(Te=>{Error.call(Te),Te.stack=(new Error).stack});return P.prototype=Object.create(Error.prototype),P.prototype.constructor=P,P}k.d(bt,{d:()=>y})},1810:(xn,bt,k)=>{"use strict";function y(h,K){return h.reduce((P,Te,me)=>(P[Te]=K[me],P),{})}k.d(bt,{n:()=>y})},2806:(xn,bt,k)=>{"use strict";k.d(bt,{O:()=>P,x:()=>K});var y=k(2416);let h=null;function K(Te){if(y.config.useDeprecatedSynchronousErrorHandling){const me=!h;if(me&&(h={errorThrown:!1,error:null}),Te(),me){const{errorThrown:Pe,error:Xe}=h;if(h=null,Pe)throw Xe}}else Te()}function P(Te){y.config.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=Te)}},9672:(xn,bt,k)=>{"use strict";function y(h,K,P,Te=0,me=!1){const Pe=K.schedule(function(){P(),me?h.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(h.add(Pe),!me)return Pe}k.d(bt,{f:()=>y})},4671:(xn,bt,k)=>{"use strict";function y(h){return h}k.d(bt,{y:()=>y})},1144:(xn,bt,k)=>{"use strict";k.d(bt,{z:()=>y});const y=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(xn,bt,k)=>{"use strict";k.d(bt,{D:()=>h});var y=k(576);function h(K){return Symbol.asyncIterator&&(0,y.m)(K?.[Symbol.asyncIterator])}},576:(xn,bt,k)=>{"use strict";function y(h){return"function"==typeof h}k.d(bt,{m:()=>y})},3670:(xn,bt,k)=>{"use strict";k.d(bt,{c:()=>K});var y=k(8822),h=k(576);function K(P){return(0,h.m)(P[y.L])}},6495:(xn,bt,k)=>{"use strict";k.d(bt,{T:()=>K});var y=k(2202),h=k(576);function K(P){return(0,h.m)(P?.[y.h])}},8239:(xn,bt,k)=>{"use strict";k.d(bt,{t:()=>h});var y=k(576);function h(K){return(0,y.m)(K?.then)}},3260:(xn,bt,k)=>{"use strict";k.d(bt,{L:()=>P,Q:()=>K});var y=k(655),h=k(576);function K(Te){return(0,y.FC)(this,arguments,function*(){const Pe=Te.getReader();try{for(;;){const{value:Xe,done:j}=yield(0,y.qq)(Pe.read());if(j)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Xe)}}finally{Pe.releaseLock()}})}function P(Te){return(0,h.m)(Te?.getReader)}},4482:(xn,bt,k)=>{"use strict";k.d(bt,{A:()=>h,e:()=>K});var y=k(576);function h(P){return(0,y.m)(P?.lift)}function K(P){return Te=>{if(h(Te))return Te.lift(function(me){try{return P(me,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(xn,bt,k)=>{"use strict";k.d(bt,{Z:()=>P});var y=k(4004);const{isArray:h}=Array;function P(Te){return(0,y.U)(me=>function K(Te,me){return h(me)?Te(...me):Te(me)}(Te,me))}},5032:(xn,bt,k)=>{"use strict";function y(){}k.d(bt,{Z:()=>y})},9635:(xn,bt,k)=>{"use strict";k.d(bt,{U:()=>K,z:()=>h});var y=k(4671);function h(...P){return K(P)}function K(P){return 0===P.length?y.y:1===P.length?P[0]:function(me){return P.reduce((Pe,Xe)=>Xe(Pe),me)}}},7849:(xn,bt,k)=>{"use strict";k.d(bt,{h:()=>K});var y=k(2416),h=k(3410);function K(P){h.z.setTimeout(()=>{const{onUnhandledError:Te}=y.config;if(!Te)throw P;Te(P)})}},4532:(xn,bt,k)=>{"use strict";function y(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(bt,{z:()=>y})},863:(xn,bt,k)=>{var y={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function h(K){if(!k.o(y,K))return Promise.resolve().then(()=>{var me=new Error("Cannot find module '"+K+"'");throw me.code="MODULE_NOT_FOUND",me});var P=y[K],Te=P[0];return Promise.all(P.slice(1).map(k.e)).then(()=>k(Te))}h.keys=()=>Object.keys(y),h.id=863,xn.exports=h},655:(xn,bt,k)=>{"use strict";function P(Et,st){var Ye={};for(var Ue in Et)Object.prototype.hasOwnProperty.call(Et,Ue)&&st.indexOf(Ue)<0&&(Ye[Ue]=Et[Ue]);if(null!=Et&&"function"==typeof Object.getOwnPropertySymbols){var Qe=0;for(Ue=Object.getOwnPropertySymbols(Et);Qe<Ue.length;Qe++)st.indexOf(Ue[Qe])<0&&Object.prototype.propertyIsEnumerable.call(Et,Ue[Qe])&&(Ye[Ue[Qe]]=Et[Ue[Qe]])}return Ye}function Te(Et,st,Ye,Ue){var yt,Qe=arguments.length,ut=Qe<3?st:null===Ue?Ue=Object.getOwnPropertyDescriptor(st,Ye):Ue;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ut=Reflect.decorate(Et,st,Ye,Ue);else for(var Jt=Et.length-1;Jt>=0;Jt--)(yt=Et[Jt])&&(ut=(Qe<3?yt(ut):Qe>3?yt(st,Ye,ut):yt(st,Ye))||ut);return Qe>3&&ut&&Object.defineProperty(st,Ye,ut),ut}function we(Et,st,Ye,Ue){return new(Ye||(Ye=Promise))(function(ut,yt){function Jt(On){try{mn(Ue.next(On))}catch(St){yt(St)}}function Nn(On){try{mn(Ue.throw(On))}catch(St){yt(St)}}function mn(On){On.done?ut(On.value):function Qe(ut){return ut instanceof Ye?ut:new Ye(function(yt){yt(ut)})}(On.value).then(Jt,Nn)}mn((Ue=Ue.apply(Et,st||[])).next())})}function dt(Et){return this instanceof dt?(this.v=Et,this):new dt(Et)}function vt(Et,st,Ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Ue=Ye.apply(Et,st||[]),ut=[];return Qe={},yt("next"),yt("throw"),yt("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe;function yt(hn){Ue[hn]&&(Qe[hn]=function(Yt){return new Promise(function(ct,Xt){ut.push([hn,Yt,ct,Xt])>1||Jt(hn,Yt)})})}function Jt(hn,Yt){try{!function Nn(hn){hn.value instanceof dt?Promise.resolve(hn.value.v).then(mn,On):St(ut[0][2],hn)}(Ue[hn](Yt))}catch(ct){St(ut[0][3],ct)}}function mn(hn){Jt("next",hn)}function On(hn){Jt("throw",hn)}function St(hn,Yt){hn(Yt),ut.shift(),ut.length&&Jt(ut[0][0],ut[0][1])}}function Dt(Et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,st=Et[Symbol.asyncIterator];return st?st.call(Et):(Et=function Mt(Et){var st="function"==typeof Symbol&&Symbol.iterator,Ye=st&&Et[st],Ue=0;if(Ye)return Ye.call(Et);if(Et&&"number"==typeof Et.length)return{next:function(){return Et&&Ue>=Et.length&&(Et=void 0),{value:Et&&Et[Ue++],done:!Et}}};throw new TypeError(st?"Object is not iterable.":"Symbol.iterator is not defined.")}(Et),Ye={},Ue("next"),Ue("throw"),Ue("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye);function Ue(ut){Ye[ut]=Et[ut]&&function(yt){return new Promise(function(Jt,Nn){!function Qe(ut,yt,Jt,Nn){Promise.resolve(Nn).then(function(mn){ut({value:mn,done:Jt})},yt)}(Jt,Nn,(yt=Et[ut](yt)).done,yt.value)})}}}k.d(bt,{FC:()=>vt,KL:()=>Dt,_T:()=>P,gn:()=>Te,mG:()=>we,qq:()=>dt})},4755:(xn,bt,k)=>{"use strict";k.d(bt,{Do:()=>Mt,EM:()=>gt,HT:()=>P,JF:()=>fr,K0:()=>me,Mx:()=>Dr,Nd:()=>xo,O5:()=>Kr,Ov:()=>Us,PC:()=>Lt,PM:()=>Li,RF:()=>se,S$:()=>Ve,V_:()=>Xe,Ye:()=>ze,b0:()=>at,bD:()=>io,ez:()=>wo,mk:()=>Z,n9:()=>Ae,p6:()=>ht,q:()=>K,sg:()=>Zt,tP:()=>qt,w_:()=>Te});var y=k(2223);let h=null;function K(){return h}function P(V){h||(h=V)}class Te{}const me=new y.OlP("DocumentToken");let Pe=(()=>{class V{historyGo(Y){throw new Error("Not implemented")}}return V.\u0275fac=function(Y){return new(Y||V)},V.\u0275prov=y.Yz7({token:V,factory:function(){return(0,y.f3M)(j)},providedIn:"platform"}),V})();const Xe=new y.OlP("Location Initialized");let j=(()=>{class V extends Pe{constructor(){super(),this._doc=(0,y.f3M)(me),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(Y){const Me=K().getGlobalEventTarget(this._doc,"window");return Me.addEventListener("popstate",Y,!1),()=>Me.removeEventListener("popstate",Y)}onHashChange(Y){const Me=K().getGlobalEventTarget(this._doc,"window");return Me.addEventListener("hashchange",Y,!1),()=>Me.removeEventListener("hashchange",Y)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Y){this._location.pathname=Y}pushState(Y,Me,ot){this._history.pushState(Y,Me,ot)}replaceState(Y,Me,ot){this._history.replaceState(Y,Me,ot)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Y=0){this._history.go(Y)}getState(){return this._history.state}}return V.\u0275fac=function(Y){return new(Y||V)},V.\u0275prov=y.Yz7({token:V,factory:function(){return new V},providedIn:"platform"}),V})();function De(V,ue){if(0==V.length)return ue;if(0==ue.length)return V;let Y=0;return V.endsWith("/")&&Y++,ue.startsWith("/")&&Y++,2==Y?V+ue.substring(1):1==Y?V+ue:V+"/"+ue}function ye(V){const ue=V.match(/#|\?|$/),Y=ue&&ue.index||V.length;return V.slice(0,Y-("/"===V[Y-1]?1:0))+V.slice(Y)}function we(V){return V&&"?"!==V[0]?"?"+V:V}let Ve=(()=>{class V{historyGo(Y){throw new Error("Not implemented")}}return V.\u0275fac=function(Y){return new(Y||V)},V.\u0275prov=y.Yz7({token:V,factory:function(){return(0,y.f3M)(at)},providedIn:"root"}),V})();const je=new y.OlP("appBaseHref");let at=(()=>{class V extends Ve{constructor(Y,Me){super(),this._platformLocation=Y,this._removeListenerFns=[],this._baseHref=Me??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Y){this._removeListenerFns.push(this._platformLocation.onPopState(Y),this._platformLocation.onHashChange(Y))}getBaseHref(){return this._baseHref}prepareExternalUrl(Y){return De(this._baseHref,Y)}path(Y=!1){const Me=this._platformLocation.pathname+we(this._platformLocation.search),ot=this._platformLocation.hash;return ot&&Y?`${Me}${ot}`:Me}pushState(Y,Me,ot,ln){const Tn=this.prepareExternalUrl(ot+we(ln));this._platformLocation.pushState(Y,Me,Tn)}replaceState(Y,Me,ot,ln){const Tn=this.prepareExternalUrl(ot+we(ln));this._platformLocation.replaceState(Y,Me,Tn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Y=0){this._platformLocation.historyGo?.(Y)}}return V.\u0275fac=function(Y){return new(Y||V)(y.LFG(Pe),y.LFG(je,8))},V.\u0275prov=y.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),Mt=(()=>{class V extends Ve{constructor(Y,Me){super(),this._platformLocation=Y,this._baseHref="",this._removeListenerFns=[],null!=Me&&(this._baseHref=Me)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Y){this._removeListenerFns.push(this._platformLocation.onPopState(Y),this._platformLocation.onHashChange(Y))}getBaseHref(){return this._baseHref}path(Y=!1){let Me=this._platformLocation.hash;return null==Me&&(Me="#"),Me.length>0?Me.substring(1):Me}prepareExternalUrl(Y){const Me=De(this._baseHref,Y);return Me.length>0?"#"+Me:Me}pushState(Y,Me,ot,ln){let Tn=this.prepareExternalUrl(ot+we(ln));0==Tn.length&&(Tn=this._platformLocation.pathname),this._platformLocation.pushState(Y,Me,Tn)}replaceState(Y,Me,ot,ln){let Tn=this.prepareExternalUrl(ot+we(ln));0==Tn.length&&(Tn=this._platformLocation.pathname),this._platformLocation.replaceState(Y,Me,Tn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Y=0){this._platformLocation.historyGo?.(Y)}}return V.\u0275fac=function(Y){return new(Y||V)(y.LFG(Pe),y.LFG(je,8))},V.\u0275prov=y.Yz7({token:V,factory:V.\u0275fac}),V})(),ze=(()=>{class V{constructor(Y){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Y;const Me=this._locationStrategy.getBaseHref();this._basePath=function dt(V){if(new RegExp("^(https?:)?//").test(V)){const[,Y]=V.split(/\/\/[^\/]+/);return Y}return V}(ye(mt(Me))),this._locationStrategy.onPopState(ot=>{this._subject.emit({url:this.path(!0),pop:!0,state:ot.state,type:ot.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Y=!1){return this.normalize(this._locationStrategy.path(Y))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Y,Me=""){return this.path()==this.normalize(Y+we(Me))}normalize(Y){return V.stripTrailingSlash(function _e(V,ue){if(!V||!ue.startsWith(V))return ue;const Y=ue.substring(V.length);return""===Y||["/",";","?","#"].includes(Y[0])?Y:ue}(this._basePath,mt(Y)))}prepareExternalUrl(Y){return Y&&"/"!==Y[0]&&(Y="/"+Y),this._locationStrategy.prepareExternalUrl(Y)}go(Y,Me="",ot=null){this._locationStrategy.pushState(ot,"",Y,Me),this._notifyUrlChangeListeners(this.prepareExternalUrl(Y+we(Me)),ot)}replaceState(Y,Me="",ot=null){this._locationStrategy.replaceState(ot,"",Y,Me),this._notifyUrlChangeListeners(this.prepareExternalUrl(Y+we(Me)),ot)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Y=0){this._locationStrategy.historyGo?.(Y)}onUrlChange(Y){return this._urlChangeListeners.push(Y),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Me=>{this._notifyUrlChangeListeners(Me.url,Me.state)})),()=>{const Me=this._urlChangeListeners.indexOf(Y);this._urlChangeListeners.splice(Me,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Y="",Me){this._urlChangeListeners.forEach(ot=>ot(Y,Me))}subscribe(Y,Me,ot){return this._subject.subscribe({next:Y,error:Me,complete:ot})}}return V.normalizeQueryParams=we,V.joinWithSlash=De,V.stripTrailingSlash=ye,V.\u0275fac=function(Y){return new(Y||V)(y.LFG(Ve))},V.\u0275prov=y.Yz7({token:V,factory:function(){return function Ge(){return new ze((0,y.LFG)(Ve))}()},providedIn:"root"}),V})();function mt(V){return V.replace(/\/index.html$/,"")}var We=(()=>((We=We||{})[We.Format=0]="Format",We[We.Standalone=1]="Standalone",We))(),be=(()=>((be=be||{})[be.Narrow=0]="Narrow",be[be.Abbreviated=1]="Abbreviated",be[be.Wide=2]="Wide",be[be.Short=3]="Short",be))(),$t=(()=>(($t=$t||{})[$t.Short=0]="Short",$t[$t.Medium=1]="Medium",$t[$t.Long=2]="Long",$t[$t.Full=3]="Full",$t))(),tt=(()=>((tt=tt||{})[tt.Decimal=0]="Decimal",tt[tt.Group=1]="Group",tt[tt.List=2]="List",tt[tt.PercentSign=3]="PercentSign",tt[tt.PlusSign=4]="PlusSign",tt[tt.MinusSign=5]="MinusSign",tt[tt.Exponential=6]="Exponential",tt[tt.SuperscriptingExponent=7]="SuperscriptingExponent",tt[tt.PerMille=8]="PerMille",tt[tt.Infinity=9]="Infinity",tt[tt.NaN=10]="NaN",tt[tt.TimeSeparator=11]="TimeSeparator",tt[tt.CurrencyDecimal=12]="CurrencyDecimal",tt[tt.CurrencyGroup=13]="CurrencyGroup",tt))();function Qe(V,ue){return kn((0,y.cg1)(V)[y.wAp.DateFormat],ue)}function ut(V,ue){return kn((0,y.cg1)(V)[y.wAp.TimeFormat],ue)}function yt(V,ue){return kn((0,y.cg1)(V)[y.wAp.DateTimeFormat],ue)}function Jt(V,ue){const Y=(0,y.cg1)(V),Me=Y[y.wAp.NumberSymbols][ue];if(typeof Me>"u"){if(ue===tt.CurrencyDecimal)return Y[y.wAp.NumberSymbols][tt.Decimal];if(ue===tt.CurrencyGroup)return Y[y.wAp.NumberSymbols][tt.Group]}return Me}function ct(V){if(!V[y.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${V[y.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function kn(V,ue){for(let Y=ue;Y>-1;Y--)if(typeof V[Y]<"u")return V[Y];throw new Error("Locale data API: locale data undefined")}function Xn(V){const[ue,Y]=V.split(":");return{hours:+ue,minutes:+Y}}const Jn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qr={},Er=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ht=(()=>((Ht=Ht||{})[Ht.Short=0]="Short",Ht[Ht.ShortGMT=1]="ShortGMT",Ht[Ht.Long=2]="Long",Ht[Ht.Extended=3]="Extended",Ht))(),vn=(()=>((vn=vn||{})[vn.FullYear=0]="FullYear",vn[vn.Month=1]="Month",vn[vn.Date=2]="Date",vn[vn.Hours=3]="Hours",vn[vn.Minutes=4]="Minutes",vn[vn.Seconds=5]="Seconds",vn[vn.FractionalSeconds=6]="FractionalSeconds",vn[vn.Day=7]="Day",vn))(),ge=(()=>((ge=ge||{})[ge.DayPeriods=0]="DayPeriods",ge[ge.Days=1]="Days",ge[ge.Months=2]="Months",ge[ge.Eras=3]="Eras",ge))();function ht(V,ue,Y,Me){let ot=function Ee(V){if(q(V))return V;if("number"==typeof V&&!isNaN(V))return new Date(V);if("string"==typeof V){if(V=V.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(V)){const[ot,ln=1,Tn=1]=V.split("-").map(_r=>+_r);return Ot(ot,ln-1,Tn)}const Y=parseFloat(V);if(!isNaN(V-Y))return new Date(Y);let Me;if(Me=V.match(Jn))return function te(V){const ue=new Date(0);let Y=0,Me=0;const ot=V[8]?ue.setUTCFullYear:ue.setFullYear,ln=V[8]?ue.setUTCHours:ue.setHours;V[9]&&(Y=Number(V[9]+V[10]),Me=Number(V[9]+V[11])),ot.call(ue,Number(V[1]),Number(V[2])-1,Number(V[3]));const Tn=Number(V[4]||0)-Y,_r=Number(V[5]||0)-Me,ci=Number(V[6]||0),Gn=Math.floor(1e3*parseFloat("0."+(V[7]||0)));return ln.call(ue,Tn,_r,ci,Gn),ue}(Me)}const ue=new Date(V);if(!q(ue))throw new Error(`Unable to convert "${V}" into a date`);return ue}(V);ue=Wn(Y,ue)||ue;let _r,Tn=[];for(;ue;){if(_r=Er.exec(ue),!_r){Tn.push(ue);break}{Tn=Tn.concat(_r.slice(1));const Bi=Tn.pop();if(!Bi)break;ue=Bi}}let ci=ot.getTimezoneOffset();Me&&(ci=ti(Me,ci),ot=function lt(V,ue,Y){const Me=Y?-1:1,ot=V.getTimezoneOffset();return function ui(V,ue){return(V=new Date(V.getTime())).setMinutes(V.getMinutes()+ue),V}(V,Me*(ti(ue,ot)-ot))}(ot,Me,!0));let Gn="";return Tn.forEach(Bi=>{const Ei=function Gi(V){if(ai[V])return ai[V];let ue;switch(V){case"G":case"GG":case"GGG":ue=Un(ge.Eras,be.Abbreviated);break;case"GGGG":ue=Un(ge.Eras,be.Wide);break;case"GGGGG":ue=Un(ge.Eras,be.Narrow);break;case"y":ue=qr(vn.FullYear,1,0,!1,!0);break;case"yy":ue=qr(vn.FullYear,2,0,!0,!0);break;case"yyy":ue=qr(vn.FullYear,3,0,!1,!0);break;case"yyyy":ue=qr(vn.FullYear,4,0,!1,!0);break;case"Y":ue=Pr(1);break;case"YY":ue=Pr(2,!0);break;case"YYY":ue=Pr(3);break;case"YYYY":ue=Pr(4);break;case"M":case"L":ue=qr(vn.Month,1,1);break;case"MM":case"LL":ue=qr(vn.Month,2,1);break;case"MMM":ue=Un(ge.Months,be.Abbreviated);break;case"MMMM":ue=Un(ge.Months,be.Wide);break;case"MMMMM":ue=Un(ge.Months,be.Narrow);break;case"LLL":ue=Un(ge.Months,be.Abbreviated,We.Standalone);break;case"LLLL":ue=Un(ge.Months,be.Wide,We.Standalone);break;case"LLLLL":ue=Un(ge.Months,be.Narrow,We.Standalone);break;case"w":ue=Ti(1);break;case"ww":ue=Ti(2);break;case"W":ue=Ti(1,!0);break;case"d":ue=qr(vn.Date,1);break;case"dd":ue=qr(vn.Date,2);break;case"c":case"cc":ue=qr(vn.Day,1);break;case"ccc":ue=Un(ge.Days,be.Abbreviated,We.Standalone);break;case"cccc":ue=Un(ge.Days,be.Wide,We.Standalone);break;case"ccccc":ue=Un(ge.Days,be.Narrow,We.Standalone);break;case"cccccc":ue=Un(ge.Days,be.Short,We.Standalone);break;case"E":case"EE":case"EEE":ue=Un(ge.Days,be.Abbreviated);break;case"EEEE":ue=Un(ge.Days,be.Wide);break;case"EEEEE":ue=Un(ge.Days,be.Narrow);break;case"EEEEEE":ue=Un(ge.Days,be.Short);break;case"a":case"aa":case"aaa":ue=Un(ge.DayPeriods,be.Abbreviated);break;case"aaaa":ue=Un(ge.DayPeriods,be.Wide);break;case"aaaaa":ue=Un(ge.DayPeriods,be.Narrow);break;case"b":case"bb":case"bbb":ue=Un(ge.DayPeriods,be.Abbreviated,We.Standalone,!0);break;case"bbbb":ue=Un(ge.DayPeriods,be.Wide,We.Standalone,!0);break;case"bbbbb":ue=Un(ge.DayPeriods,be.Narrow,We.Standalone,!0);break;case"B":case"BB":case"BBB":ue=Un(ge.DayPeriods,be.Abbreviated,We.Format,!0);break;case"BBBB":ue=Un(ge.DayPeriods,be.Wide,We.Format,!0);break;case"BBBBB":ue=Un(ge.DayPeriods,be.Narrow,We.Format,!0);break;case"h":ue=qr(vn.Hours,1,-12);break;case"hh":ue=qr(vn.Hours,2,-12);break;case"H":ue=qr(vn.Hours,1);break;case"HH":ue=qr(vn.Hours,2);break;case"m":ue=qr(vn.Minutes,1);break;case"mm":ue=qr(vn.Minutes,2);break;case"s":ue=qr(vn.Seconds,1);break;case"ss":ue=qr(vn.Seconds,2);break;case"S":ue=qr(vn.FractionalSeconds,1);break;case"SS":ue=qr(vn.FractionalSeconds,2);break;case"SSS":ue=qr(vn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ue=Qi(Ht.Short);break;case"ZZZZZ":ue=Qi(Ht.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ue=Qi(Ht.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ue=Qi(Ht.Long);break;default:return null}return ai[V]=ue,ue}(Bi);Gn+=Ei?Ei(ot,Y,ci):"''"===Bi?"'":Bi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Gn}function Ot(V,ue,Y){const Me=new Date(0);return Me.setFullYear(V,ue,Y),Me.setHours(0,0,0),Me}function Wn(V,ue){const Y=function zt(V){return(0,y.cg1)(V)[y.wAp.LocaleId]}(V);if(Qr[Y]=Qr[Y]||{},Qr[Y][ue])return Qr[Y][ue];let Me="";switch(ue){case"shortDate":Me=Qe(V,$t.Short);break;case"mediumDate":Me=Qe(V,$t.Medium);break;case"longDate":Me=Qe(V,$t.Long);break;case"fullDate":Me=Qe(V,$t.Full);break;case"shortTime":Me=ut(V,$t.Short);break;case"mediumTime":Me=ut(V,$t.Medium);break;case"longTime":Me=ut(V,$t.Long);break;case"fullTime":Me=ut(V,$t.Full);break;case"short":const ot=Wn(V,"shortTime"),ln=Wn(V,"shortDate");Me=nn(yt(V,$t.Short),[ot,ln]);break;case"medium":const Tn=Wn(V,"mediumTime"),_r=Wn(V,"mediumDate");Me=nn(yt(V,$t.Medium),[Tn,_r]);break;case"long":const ci=Wn(V,"longTime"),Gn=Wn(V,"longDate");Me=nn(yt(V,$t.Long),[ci,Gn]);break;case"full":const Bi=Wn(V,"fullTime"),Ei=Wn(V,"fullDate");Me=nn(yt(V,$t.Full),[Bi,Ei])}return Me&&(Qr[Y][ue]=Me),Me}function nn(V,ue){return ue&&(V=V.replace(/\{([^}]+)}/g,function(Y,Me){return null!=ue&&Me in ue?ue[Me]:Y})),V}function Wr(V,ue,Y="-",Me,ot){let ln="";(V<0||ot&&V<=0)&&(ot?V=1-V:(V=-V,ln=Y));let Tn=String(V);for(;Tn.length<ue;)Tn="0"+Tn;return Me&&(Tn=Tn.slice(Tn.length-ue)),ln+Tn}function qr(V,ue,Y=0,Me=!1,ot=!1){return function(ln,Tn){let _r=function xr(V,ue){switch(V){case vn.FullYear:return ue.getFullYear();case vn.Month:return ue.getMonth();case vn.Date:return ue.getDate();case vn.Hours:return ue.getHours();case vn.Minutes:return ue.getMinutes();case vn.Seconds:return ue.getSeconds();case vn.FractionalSeconds:return ue.getMilliseconds();case vn.Day:return ue.getDay();default:throw new Error(`Unknown DateType value "${V}".`)}}(V,ln);if((Y>0||_r>-Y)&&(_r+=Y),V===vn.Hours)0===_r&&-12===Y&&(_r=12);else if(V===vn.FractionalSeconds)return function ei(V,ue){return Wr(V,3).substring(0,ue)}(_r,ue);const ci=Jt(Tn,tt.MinusSign);return Wr(_r,ue,ci,Me,ot)}}function Un(V,ue,Y=We.Format,Me=!1){return function(ot,ln){return function Xr(V,ue,Y,Me,ot,ln){switch(Y){case ge.Months:return function Et(V,ue,Y){const Me=(0,y.cg1)(V),ln=kn([Me[y.wAp.MonthsFormat],Me[y.wAp.MonthsStandalone]],ue);return kn(ln,Y)}(ue,ot,Me)[V.getMonth()];case ge.Days:return function Sn(V,ue,Y){const Me=(0,y.cg1)(V),ln=kn([Me[y.wAp.DaysFormat],Me[y.wAp.DaysStandalone]],ue);return kn(ln,Y)}(ue,ot,Me)[V.getDay()];case ge.DayPeriods:const Tn=V.getHours(),_r=V.getMinutes();if(ln){const Gn=function Xt(V){const ue=(0,y.cg1)(V);return ct(ue),(ue[y.wAp.ExtraData][2]||[]).map(Me=>"string"==typeof Me?Xn(Me):[Xn(Me[0]),Xn(Me[1])])}(ue),Bi=function Tt(V,ue,Y){const Me=(0,y.cg1)(V);ct(Me);const ln=kn([Me[y.wAp.ExtraData][0],Me[y.wAp.ExtraData][1]],ue)||[];return kn(ln,Y)||[]}(ue,ot,Me),Ei=Gn.findIndex(ss=>{if(Array.isArray(ss)){const[ys,zs]=ss,So=Tn>=ys.hours&&_r>=ys.minutes,co=Tn<zs.hours||Tn===zs.hours&&_r<zs.minutes;if(ys.hours<zs.hours){if(So&&co)return!0}else if(So||co)return!0}else if(ss.hours===Tn&&ss.minutes===_r)return!0;return!1});if(-1!==Ei)return Bi[Ei]}return function Vt(V,ue,Y){const Me=(0,y.cg1)(V),ln=kn([Me[y.wAp.DayPeriodsFormat],Me[y.wAp.DayPeriodsStandalone]],ue);return kn(ln,Y)}(ue,ot,Me)[Tn<12?0:1];case ge.Eras:return function st(V,ue){return kn((0,y.cg1)(V)[y.wAp.Eras],ue)}(ue,Me)[V.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Y}`)}}(ot,ln,V,ue,Y,Me)}}function Qi(V){return function(ue,Y,Me){const ot=-1*Me,ln=Jt(Y,tt.MinusSign),Tn=ot>0?Math.floor(ot/60):Math.ceil(ot/60);switch(V){case Ht.Short:return(ot>=0?"+":"")+Wr(Tn,2,ln)+Wr(Math.abs(ot%60),2,ln);case Ht.ShortGMT:return"GMT"+(ot>=0?"+":"")+Wr(Tn,1,ln);case Ht.Long:return"GMT"+(ot>=0?"+":"")+Wr(Tn,2,ln)+":"+Wr(Math.abs(ot%60),2,ln);case Ht.Extended:return 0===Me?"Z":(ot>=0?"+":"")+Wr(Tn,2,ln)+":"+Wr(Math.abs(ot%60),2,ln);default:throw new Error(`Unknown zone width "${V}"`)}}}const Mi=0,Pi=4;function Le(V){return Ot(V.getFullYear(),V.getMonth(),V.getDate()+(Pi-V.getDay()))}function Ti(V,ue=!1){return function(Y,Me){let ot;if(ue){const ln=new Date(Y.getFullYear(),Y.getMonth(),1).getDay()-1,Tn=Y.getDate();ot=1+Math.floor((Tn+ln)/7)}else{const ln=Le(Y),Tn=function jr(V){const ue=Ot(V,Mi,1).getDay();return Ot(V,0,1+(ue<=Pi?Pi:Pi+7)-ue)}(ln.getFullYear()),_r=ln.getTime()-Tn.getTime();ot=1+Math.round(_r/6048e5)}return Wr(ot,V,Jt(Me,tt.MinusSign))}}function Pr(V,ue=!1){return function(Y,Me){return Wr(Le(Y).getFullYear(),V,Jt(Me,tt.MinusSign),ue)}}const ai={};function ti(V,ue){V=V.replace(/:/g,"");const Y=Date.parse("Jan 01, 1970 00:00:00 "+V)/6e4;return isNaN(Y)?ue:Y}function q(V){return V instanceof Date&&!isNaN(V.valueOf())}function Dr(V,ue){ue=encodeURIComponent(ue);for(const Y of V.split(";")){const Me=Y.indexOf("="),[ot,ln]=-1==Me?[Y,""]:[Y.slice(0,Me),Y.slice(Me+1)];if(ot.trim()===ue)return decodeURIComponent(ln)}return null}const Bs=/\s+/,hi=[];let Z=(()=>{class V{constructor(Y,Me,ot,ln){this._iterableDiffers=Y,this._keyValueDiffers=Me,this._ngEl=ot,this._renderer=ln,this.initialClasses=hi,this.stateMap=new Map}set klass(Y){this.initialClasses=null!=Y?Y.trim().split(Bs):hi}set ngClass(Y){this.rawClass="string"==typeof Y?Y.trim().split(Bs):Y}ngDoCheck(){for(const Me of this.initialClasses)this._updateState(Me,!0);const Y=this.rawClass;if(Array.isArray(Y)||Y instanceof Set)for(const Me of Y)this._updateState(Me,!0);else if(null!=Y)for(const Me of Object.keys(Y))this._updateState(Me,!!Y[Me]);this._applyStateDiff()}_updateState(Y,Me){const ot=this.stateMap.get(Y);void 0!==ot?(ot.enabled!==Me&&(ot.changed=!0,ot.enabled=Me),ot.touched=!0):this.stateMap.set(Y,{enabled:Me,changed:!0,touched:!0})}_applyStateDiff(){for(const Y of this.stateMap){const Me=Y[0],ot=Y[1];ot.changed?(this._toggleClass(Me,ot.enabled),ot.changed=!1):ot.touched||(ot.enabled&&this._toggleClass(Me,!1),this.stateMap.delete(Me)),ot.touched=!1}}_toggleClass(Y,Me){(Y=Y.trim()).length>0&&Y.split(Bs).forEach(ot=>{Me?this._renderer.addClass(this._ngEl.nativeElement,ot):this._renderer.removeClass(this._ngEl.nativeElement,ot)})}}return V.\u0275fac=function(Y){return new(Y||V)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))},V.\u0275dir=y.lG2({type:V,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),V})();class Pt{constructor(ue,Y,Me,ot){this.$implicit=ue,this.ngForOf=Y,this.index=Me,this.count=ot}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zt=(()=>{class V{set ngForOf(Y){this._ngForOf=Y,this._ngForOfDirty=!0}set ngForTrackBy(Y){this._trackByFn=Y}get ngForTrackBy(){return this._trackByFn}constructor(Y,Me,ot){this._viewContainer=Y,this._template=Me,this._differs=ot,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Y){Y&&(this._template=Y)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Y=this._ngForOf;!this._differ&&Y&&(this._differ=this._differs.find(Y).create(this.ngForTrackBy))}if(this._differ){const Y=this._differ.diff(this._ngForOf);Y&&this._applyChanges(Y)}}_applyChanges(Y){const Me=this._viewContainer;Y.forEachOperation((ot,ln,Tn)=>{if(null==ot.previousIndex)Me.createEmbeddedView(this._template,new Pt(ot.item,this._ngForOf,-1,-1),null===Tn?void 0:Tn);else if(null==Tn)Me.remove(null===ln?void 0:ln);else if(null!==ln){const _r=Me.get(ln);Me.move(_r,Tn),An(_r,ot)}});for(let ot=0,ln=Me.length;ot<ln;ot++){const _r=Me.get(ot).context;_r.index=ot,_r.count=ln,_r.ngForOf=this._ngForOf}Y.forEachIdentityChange(ot=>{An(Me.get(ot.currentIndex),ot)})}static ngTemplateContextGuard(Y,Me){return!0}}return V.\u0275fac=function(Y){return new(Y||V)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},V.\u0275dir=y.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),V})();function An(V,ue){V.context.$implicit=ue.item}let Kr=(()=>{class V{constructor(Y,Me){this._viewContainer=Y,this._context=new ns,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Me}set ngIf(Y){this._context.$implicit=this._context.ngIf=Y,this._updateView()}set ngIfThen(Y){Fs("ngIfThen",Y),this._thenTemplateRef=Y,this._thenViewRef=null,this._updateView()}set ngIfElse(Y){Fs("ngIfElse",Y),this._elseTemplateRef=Y,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Y,Me){return!0}}return V.\u0275fac=function(Y){return new(Y||V)(y.Y36(y.s_b),y.Y36(y.Rgc))},V.\u0275dir=y.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),V})();class ns{constructor(){this.$implicit=null,this.ngIf=null}}function Fs(V,ue){if(ue&&!ue.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,y.AaK)(ue)}'.`)}class ee{constructor(ue,Y){this._viewContainerRef=ue,this._templateRef=Y,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ue){ue&&!this._created?this.create():!ue&&this._created&&this.destroy()}}let se=(()=>{class V{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Y){this._ngSwitch=Y,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Y){this._defaultViews.push(Y)}_matchCase(Y){const Me=Y==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Me,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Me}_updateDefaultCases(Y){if(this._defaultViews.length>0&&Y!==this._defaultUsed){this._defaultUsed=Y;for(const Me of this._defaultViews)Me.enforceState(Y)}}}return V.\u0275fac=function(Y){return new(Y||V)},V.\u0275dir=y.lG2({type:V,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),V})(),Ae=(()=>{class V{constructor(Y,Me,ot){this.ngSwitch=ot,ot._addCase(),this._view=new ee(Y,Me)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return V.\u0275fac=function(Y){return new(Y||V)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(se,9))},V.\u0275dir=y.lG2({type:V,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),V})(),Lt=(()=>{class V{constructor(Y,Me,ot){this._ngEl=Y,this._differs=Me,this._renderer=ot,this._ngStyle=null,this._differ=null}set ngStyle(Y){this._ngStyle=Y,!this._differ&&Y&&(this._differ=this._differs.find(Y).create())}ngDoCheck(){if(this._differ){const Y=this._differ.diff(this._ngStyle);Y&&this._applyChanges(Y)}}_setStyle(Y,Me){const[ot,ln]=Y.split("."),Tn=-1===ot.indexOf("-")?void 0:y.JOm.DashCase;null!=Me?this._renderer.setStyle(this._ngEl.nativeElement,ot,ln?`${Me}${ln}`:Me,Tn):this._renderer.removeStyle(this._ngEl.nativeElement,ot,Tn)}_applyChanges(Y){Y.forEachRemovedItem(Me=>this._setStyle(Me.key,null)),Y.forEachAddedItem(Me=>this._setStyle(Me.key,Me.currentValue)),Y.forEachChangedItem(Me=>this._setStyle(Me.key,Me.currentValue))}}return V.\u0275fac=function(Y){return new(Y||V)(y.Y36(y.SBq),y.Y36(y.aQg),y.Y36(y.Qsj))},V.\u0275dir=y.lG2({type:V,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),V})(),qt=(()=>{class V{constructor(Y){this._viewContainerRef=Y,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Y){if(Y.ngTemplateOutlet||Y.ngTemplateOutletInjector){const Me=this._viewContainerRef;if(this._viewRef&&Me.remove(Me.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ot,ngTemplateOutletContext:ln,ngTemplateOutletInjector:Tn}=this;this._viewRef=Me.createEmbeddedView(ot,ln,Tn?{injector:Tn}:void 0)}else this._viewRef=null}else this._viewRef&&Y.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return V.\u0275fac=function(Y){return new(Y||V)(y.Y36(y.s_b))},V.\u0275dir=y.lG2({type:V,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[y.TTD]}),V})();class vr{createSubscription(ue,Y){return ue.subscribe({next:Y,error:Me=>{throw Me}})}dispose(ue){ue.unsubscribe()}}class wr{createSubscription(ue,Y){return ue.then(Y,Me=>{throw Me})}dispose(ue){}}const $i=new wr,Js=new vr;let Us=(()=>{class V{constructor(Y){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Y}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Y){return this._obj?Y!==this._obj?(this._dispose(),this.transform(Y)):this._latestValue:(Y&&this._subscribe(Y),this._latestValue)}_subscribe(Y){this._obj=Y,this._strategy=this._selectStrategy(Y),this._subscription=this._strategy.createSubscription(Y,Me=>this._updateLatestValue(Y,Me))}_selectStrategy(Y){if((0,y.QGY)(Y))return $i;if((0,y.F4k)(Y))return Js;throw function Bn(V,ue){return new y.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Y,Me){Y===this._obj&&(this._latestValue=Me,this._ref.markForCheck())}}return V.\u0275fac=function(Y){return new(Y||V)(y.Y36(y.sBO,16))},V.\u0275pipe=y.Yjl({name:"async",type:V,pure:!1,standalone:!0}),V})(),xo=(()=>{class V{constructor(Y){this.differs=Y,this.keyValues=[],this.compareFn=no}transform(Y,Me=no){if(!Y||!(Y instanceof Map)&&"object"!=typeof Y)return null;this.differ||(this.differ=this.differs.find(Y).create());const ot=this.differ.diff(Y),ln=Me!==this.compareFn;return ot&&(this.keyValues=[],ot.forEachItem(Tn=>{this.keyValues.push(function As(V,ue){return{key:V,value:ue}}(Tn.key,Tn.currentValue))})),(ot||ln)&&(this.keyValues.sort(Me),this.compareFn=Me),this.keyValues}}return V.\u0275fac=function(Y){return new(Y||V)(y.Y36(y.aQg,16))},V.\u0275pipe=y.Yjl({name:"keyvalue",type:V,pure:!1,standalone:!0}),V})();function no(V,ue){const Y=V.key,Me=ue.key;if(Y===Me)return 0;if(void 0===Y)return 1;if(void 0===Me)return-1;if(null===Y)return 1;if(null===Me)return-1;if("string"==typeof Y&&"string"==typeof Me)return Y<Me?-1:1;if("number"==typeof Y&&"number"==typeof Me)return Y-Me;if("boolean"==typeof Y&&"boolean"==typeof Me)return Y<Me?-1:1;const ot=String(Y),ln=String(Me);return ot==ln?0:ot<ln?-1:1}let wo=(()=>{class V{}return V.\u0275fac=function(Y){return new(Y||V)},V.\u0275mod=y.oAB({type:V}),V.\u0275inj=y.cJS({}),V})();const io="browser",ea="server";function Li(V){return V===ea}let gt=(()=>{class V{}return V.\u0275prov=(0,y.Yz7)({token:V,providedIn:"root",factory:()=>new At((0,y.LFG)(me),window)}),V})();class At{constructor(ue,Y){this.document=ue,this.window=Y,this.offset=()=>[0,0]}setOffset(ue){this.offset=Array.isArray(ue)?()=>ue:ue}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ue){this.supportsScrolling()&&this.window.scrollTo(ue[0],ue[1])}scrollToAnchor(ue){if(!this.supportsScrolling())return;const Y=function $n(V,ue){const Y=V.getElementById(ue)||V.getElementsByName(ue)[0];if(Y)return Y;if("function"==typeof V.createTreeWalker&&V.body&&"function"==typeof V.body.attachShadow){const Me=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let ot=Me.currentNode;for(;ot;){const ln=ot.shadowRoot;if(ln){const Tn=ln.getElementById(ue)||ln.querySelector(`[name="${ue}"]`);if(Tn)return Tn}ot=Me.nextNode()}}return null}(this.document,ue);Y&&(this.scrollToElement(Y),Y.focus())}setHistoryScrollRestoration(ue){if(this.supportScrollRestoration()){const Y=this.window.history;Y&&Y.scrollRestoration&&(Y.scrollRestoration=ue)}}scrollToElement(ue){const Y=ue.getBoundingClientRect(),Me=Y.left+this.window.pageXOffset,ot=Y.top+this.window.pageYOffset,ln=this.offset();this.window.scrollTo(Me-ln[0],ot-ln[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ue=yn(this.window.history)||yn(Object.getPrototypeOf(this.window.history));return!(!ue||!ue.writable&&!ue.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function yn(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class fr{}},3144:(xn,bt,k)=>{"use strict";k.d(bt,{JF:()=>Gi,LE:()=>mt,eN:()=>Ye});var y=k(2223),h=k(9646),K=k(8996),P=k(9751),Te=k(4351),me=k(9300),Pe=k(4004),Xe=k(3900),j=k(4755);class De{}class ye{}class we{constructor(ve){this.normalizedNames=new Map,this.lazyUpdate=null,ve?this.lazyInit="string"==typeof ve?()=>{this.headers=new Map,ve.split("\n").forEach(Ke=>{const It=Ke.indexOf(":");if(It>0){const sn=Ke.slice(0,It),tn=sn.toLowerCase(),Dn=Ke.slice(It+1).trim();this.maybeSetNormalizedName(sn,tn),this.headers.has(tn)?this.headers.get(tn).push(Dn):this.headers.set(tn,[Dn])}})}:()=>{this.headers=new Map,Object.entries(ve).forEach(([Ke,It])=>{let sn;if(sn="string"==typeof It?[It]:"number"==typeof It?[It.toString()]:It.map(tn=>tn.toString()),sn.length>0){const tn=Ke.toLowerCase();this.headers.set(tn,sn),this.maybeSetNormalizedName(Ke,tn)}})}:this.headers=new Map}has(ve){return this.init(),this.headers.has(ve.toLowerCase())}get(ve){this.init();const Ke=this.headers.get(ve.toLowerCase());return Ke&&Ke.length>0?Ke[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ve){return this.init(),this.headers.get(ve.toLowerCase())||null}append(ve,Ke){return this.clone({name:ve,value:Ke,op:"a"})}set(ve,Ke){return this.clone({name:ve,value:Ke,op:"s"})}delete(ve,Ke){return this.clone({name:ve,value:Ke,op:"d"})}maybeSetNormalizedName(ve,Ke){this.normalizedNames.has(Ke)||this.normalizedNames.set(Ke,ve)}init(){this.lazyInit&&(this.lazyInit instanceof we?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ve=>this.applyUpdate(ve)),this.lazyUpdate=null))}copyFrom(ve){ve.init(),Array.from(ve.headers.keys()).forEach(Ke=>{this.headers.set(Ke,ve.headers.get(Ke)),this.normalizedNames.set(Ke,ve.normalizedNames.get(Ke))})}clone(ve){const Ke=new we;return Ke.lazyInit=this.lazyInit&&this.lazyInit instanceof we?this.lazyInit:this,Ke.lazyUpdate=(this.lazyUpdate||[]).concat([ve]),Ke}applyUpdate(ve){const Ke=ve.name.toLowerCase();switch(ve.op){case"a":case"s":let It=ve.value;if("string"==typeof It&&(It=[It]),0===It.length)return;this.maybeSetNormalizedName(ve.name,Ke);const sn=("a"===ve.op?this.headers.get(Ke):void 0)||[];sn.push(...It),this.headers.set(Ke,sn);break;case"d":const tn=ve.value;if(tn){let Dn=this.headers.get(Ke);if(!Dn)return;Dn=Dn.filter(rr=>-1===tn.indexOf(rr)),0===Dn.length?(this.headers.delete(Ke),this.normalizedNames.delete(Ke)):this.headers.set(Ke,Dn)}else this.headers.delete(Ke),this.normalizedNames.delete(Ke)}}forEach(ve){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ke=>ve(this.normalizedNames.get(Ke),this.headers.get(Ke)))}}class je{encodeKey(ve){return Ge(ve)}encodeValue(ve){return Ge(ve)}decodeKey(ve){return decodeURIComponent(ve)}decodeValue(ve){return decodeURIComponent(ve)}}const Mt=/%(\d[a-f0-9])/gi,ze={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ge(Se){return encodeURIComponent(Se).replace(Mt,(ve,Ke)=>ze[Ke]??ve)}function _e(Se){return`${Se}`}class mt{constructor(ve={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ve.encoder||new je,ve.fromString){if(ve.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function at(Se,ve){const Ke=new Map;return Se.length>0&&Se.replace(/^\?/,"").split("&").forEach(sn=>{const tn=sn.indexOf("="),[Dn,rr]=-1==tn?[ve.decodeKey(sn),""]:[ve.decodeKey(sn.slice(0,tn)),ve.decodeValue(sn.slice(tn+1))],nr=Ke.get(Dn)||[];nr.push(rr),Ke.set(Dn,nr)}),Ke}(ve.fromString,this.encoder)}else ve.fromObject?(this.map=new Map,Object.keys(ve.fromObject).forEach(Ke=>{const It=ve.fromObject[Ke],sn=Array.isArray(It)?It.map(_e):[_e(It)];this.map.set(Ke,sn)})):this.map=null}has(ve){return this.init(),this.map.has(ve)}get(ve){this.init();const Ke=this.map.get(ve);return Ke?Ke[0]:null}getAll(ve){return this.init(),this.map.get(ve)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ve,Ke){return this.clone({param:ve,value:Ke,op:"a"})}appendAll(ve){const Ke=[];return Object.keys(ve).forEach(It=>{const sn=ve[It];Array.isArray(sn)?sn.forEach(tn=>{Ke.push({param:It,value:tn,op:"a"})}):Ke.push({param:It,value:sn,op:"a"})}),this.clone(Ke)}set(ve,Ke){return this.clone({param:ve,value:Ke,op:"s"})}delete(ve,Ke){return this.clone({param:ve,value:Ke,op:"d"})}toString(){return this.init(),this.keys().map(ve=>{const Ke=this.encoder.encodeKey(ve);return this.map.get(ve).map(It=>Ke+"="+this.encoder.encodeValue(It)).join("&")}).filter(ve=>""!==ve).join("&")}clone(ve){const Ke=new mt({encoder:this.encoder});return Ke.cloneFrom=this.cloneFrom||this,Ke.updates=(this.updates||[]).concat(ve),Ke}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ve=>this.map.set(ve,this.cloneFrom.map.get(ve))),this.updates.forEach(ve=>{switch(ve.op){case"a":case"s":const Ke=("a"===ve.op?this.map.get(ve.param):void 0)||[];Ke.push(_e(ve.value)),this.map.set(ve.param,Ke);break;case"d":if(void 0===ve.value){this.map.delete(ve.param);break}{let It=this.map.get(ve.param)||[];const sn=It.indexOf(_e(ve.value));-1!==sn&&It.splice(sn,1),It.length>0?this.map.set(ve.param,It):this.map.delete(ve.param)}}}),this.cloneFrom=this.updates=null)}}class vt{constructor(){this.map=new Map}set(ve,Ke){return this.map.set(ve,Ke),this}get(ve){return this.map.has(ve)||this.map.set(ve,ve.defaultValue()),this.map.get(ve)}delete(ve){return this.map.delete(ve),this}has(ve){return this.map.has(ve)}keys(){return this.map.keys()}}function Dt(Se){return typeof ArrayBuffer<"u"&&Se instanceof ArrayBuffer}function We(Se){return typeof Blob<"u"&&Se instanceof Blob}function be(Se){return typeof FormData<"u"&&Se instanceof FormData}class tt{constructor(ve,Ke,It,sn){let tn;if(this.url=Ke,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ve.toUpperCase(),function pt(Se){switch(Se){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||sn?(this.body=void 0!==It?It:null,tn=sn):tn=It,tn&&(this.reportProgress=!!tn.reportProgress,this.withCredentials=!!tn.withCredentials,tn.responseType&&(this.responseType=tn.responseType),tn.headers&&(this.headers=tn.headers),tn.context&&(this.context=tn.context),tn.params&&(this.params=tn.params)),this.headers||(this.headers=new we),this.context||(this.context=new vt),this.params){const Dn=this.params.toString();if(0===Dn.length)this.urlWithParams=Ke;else{const rr=Ke.indexOf("?");this.urlWithParams=Ke+(-1===rr?"?":rr<Ke.length-1?"&":"")+Dn}}else this.params=new mt,this.urlWithParams=Ke}serializeBody(){return null===this.body?null:Dt(this.body)||We(this.body)||be(this.body)||function $t(Se){return typeof URLSearchParams<"u"&&Se instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof mt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||be(this.body)?null:We(this.body)?this.body.type||null:Dt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof mt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ve={}){const Ke=ve.method||this.method,It=ve.url||this.url,sn=ve.responseType||this.responseType,tn=void 0!==ve.body?ve.body:this.body,Dn=void 0!==ve.withCredentials?ve.withCredentials:this.withCredentials,rr=void 0!==ve.reportProgress?ve.reportProgress:this.reportProgress;let nr=ve.headers||this.headers,Or=ve.params||this.params;const an=ve.context??this.context;return void 0!==ve.setHeaders&&(nr=Object.keys(ve.setHeaders).reduce((Bt,gn)=>Bt.set(gn,ve.setHeaders[gn]),nr)),ve.setParams&&(Or=Object.keys(ve.setParams).reduce((Bt,gn)=>Bt.set(gn,ve.setParams[gn]),Or)),new tt(Ke,It,tn,{params:Or,headers:nr,context:an,reportProgress:rr,responseType:sn,withCredentials:Dn})}}var Ft=(()=>((Ft=Ft||{})[Ft.Sent=0]="Sent",Ft[Ft.UploadProgress=1]="UploadProgress",Ft[Ft.ResponseHeader=2]="ResponseHeader",Ft[Ft.DownloadProgress=3]="DownloadProgress",Ft[Ft.Response=4]="Response",Ft[Ft.User=5]="User",Ft))();class zt{constructor(ve,Ke=200,It="OK"){this.headers=ve.headers||new we,this.status=void 0!==ve.status?ve.status:Ke,this.statusText=ve.statusText||It,this.url=ve.url||null,this.ok=this.status>=200&&this.status<300}}class Vt extends zt{constructor(ve={}){super(ve),this.type=Ft.ResponseHeader}clone(ve={}){return new Vt({headers:ve.headers||this.headers,status:void 0!==ve.status?ve.status:this.status,statusText:ve.statusText||this.statusText,url:ve.url||this.url||void 0})}}class Sn extends zt{constructor(ve={}){super(ve),this.type=Ft.Response,this.body=void 0!==ve.body?ve.body:null}clone(ve={}){return new Sn({body:void 0!==ve.body?ve.body:this.body,headers:ve.headers||this.headers,status:void 0!==ve.status?ve.status:this.status,statusText:ve.statusText||this.statusText,url:ve.url||this.url||void 0})}}class Et extends zt{constructor(ve){super(ve,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ve.url||"(unknown url)"}`:`Http failure response for ${ve.url||"(unknown url)"}: ${ve.status} ${ve.statusText}`,this.error=ve.error||null}}function st(Se,ve){return{body:ve,headers:Se.headers,context:Se.context,observe:Se.observe,params:Se.params,reportProgress:Se.reportProgress,responseType:Se.responseType,withCredentials:Se.withCredentials}}let Ye=(()=>{class Se{constructor(Ke){this.handler=Ke}request(Ke,It,sn={}){let tn;if(Ke instanceof tt)tn=Ke;else{let nr,Or;nr=sn.headers instanceof we?sn.headers:new we(sn.headers),sn.params&&(Or=sn.params instanceof mt?sn.params:new mt({fromObject:sn.params})),tn=new tt(Ke,It,void 0!==sn.body?sn.body:null,{headers:nr,context:sn.context,params:Or,reportProgress:sn.reportProgress,responseType:sn.responseType||"json",withCredentials:sn.withCredentials})}const Dn=(0,h.of)(tn).pipe((0,Te.b)(nr=>this.handler.handle(nr)));if(Ke instanceof tt||"events"===sn.observe)return Dn;const rr=Dn.pipe((0,me.h)(nr=>nr instanceof Sn));switch(sn.observe||"body"){case"body":switch(tn.responseType){case"arraybuffer":return rr.pipe((0,Pe.U)(nr=>{if(null!==nr.body&&!(nr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return nr.body}));case"blob":return rr.pipe((0,Pe.U)(nr=>{if(null!==nr.body&&!(nr.body instanceof Blob))throw new Error("Response is not a Blob.");return nr.body}));case"text":return rr.pipe((0,Pe.U)(nr=>{if(null!==nr.body&&"string"!=typeof nr.body)throw new Error("Response is not a string.");return nr.body}));default:return rr.pipe((0,Pe.U)(nr=>nr.body))}case"response":return rr;default:throw new Error(`Unreachable: unhandled observe type ${sn.observe}}`)}}delete(Ke,It={}){return this.request("DELETE",Ke,It)}get(Ke,It={}){return this.request("GET",Ke,It)}head(Ke,It={}){return this.request("HEAD",Ke,It)}jsonp(Ke,It){return this.request("JSONP",Ke,{params:(new mt).append(It,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ke,It={}){return this.request("OPTIONS",Ke,It)}patch(Ke,It,sn={}){return this.request("PATCH",Ke,st(sn,It))}post(Ke,It,sn={}){return this.request("POST",Ke,st(sn,It))}put(Ke,It,sn={}){return this.request("PUT",Ke,st(sn,It))}}return Se.\u0275fac=function(Ke){return new(Ke||Se)(y.LFG(De))},Se.\u0275prov=y.Yz7({token:Se,factory:Se.\u0275fac}),Se})();function Ue(Se,ve){return ve(Se)}function Qe(Se,ve){return(Ke,It)=>ve.intercept(Ke,{handle:sn=>Se(sn,It)})}const yt=new y.OlP(""),Jt=new y.OlP(""),Nn=new y.OlP("");function mn(){let Se=null;return(ve,Ke)=>(null===Se&&(Se=((0,y.f3M)(yt,{optional:!0})??[]).reduceRight(Qe,Ue)),Se(ve,Ke))}let On=(()=>{class Se extends De{constructor(Ke,It){super(),this.backend=Ke,this.injector=It,this.chain=null}handle(Ke){if(null===this.chain){const It=Array.from(new Set([...this.injector.get(Jt),...this.injector.get(Nn,[])]));this.chain=It.reduceRight((sn,tn)=>function ut(Se,ve,Ke){return(It,sn)=>Ke.runInContext(()=>ve(It,tn=>Se(tn,sn)))}(sn,tn,this.injector),Ue)}return this.chain(Ke,It=>this.backend.handle(It))}}return Se.\u0275fac=function(Ke){return new(Ke||Se)(y.LFG(ye),y.LFG(y.lqb))},Se.\u0275prov=y.Yz7({token:Se,factory:Se.\u0275fac}),Se})();const bn=/^\)\]\}',?\n/;let Qr=(()=>{class Se{constructor(Ke){this.xhrFactory=Ke}handle(Ke){if("JSONP"===Ke.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");const It=this.xhrFactory;return(It.\u0275loadImpl?(0,K.D)(It.\u0275loadImpl()):(0,h.of)(null)).pipe((0,Xe.w)(()=>new P.y(tn=>{const Dn=It.build();if(Dn.open(Ke.method,Ke.urlWithParams),Ke.withCredentials&&(Dn.withCredentials=!0),Ke.headers.forEach((Sr,er)=>Dn.setRequestHeader(Sr,er.join(","))),Ke.headers.has("Accept")||Dn.setRequestHeader("Accept","application/json, text/plain, */*"),!Ke.headers.has("Content-Type")){const Sr=Ke.detectContentTypeHeader();null!==Sr&&Dn.setRequestHeader("Content-Type",Sr)}if(Ke.responseType){const Sr=Ke.responseType.toLowerCase();Dn.responseType="json"!==Sr?Sr:"text"}const rr=Ke.serializeBody();let nr=null;const Or=()=>{if(null!==nr)return nr;const Sr=Dn.statusText||"OK",er=new we(Dn.getAllResponseHeaders()),Dr=function Jn(Se){return"responseURL"in Se&&Se.responseURL?Se.responseURL:/^X-Request-URL:/m.test(Se.getAllResponseHeaders())?Se.getResponseHeader("X-Request-URL"):null}(Dn)||Ke.url;return nr=new Vt({headers:er,status:Dn.status,statusText:Sr,url:Dr}),nr},an=()=>{let{headers:Sr,status:er,statusText:Dr,url:Bs}=Or(),hi=null;204!==er&&(hi=typeof Dn.response>"u"?Dn.responseText:Dn.response),0===er&&(er=hi?200:0);let Z=er>=200&&er<300;if("json"===Ke.responseType&&"string"==typeof hi){const wt=hi;hi=hi.replace(bn,"");try{hi=""!==hi?JSON.parse(hi):null}catch(J){hi=wt,Z&&(Z=!1,hi={error:J,text:hi})}}Z?(tn.next(new Sn({body:hi,headers:Sr,status:er,statusText:Dr,url:Bs||void 0})),tn.complete()):tn.error(new Et({error:hi,headers:Sr,status:er,statusText:Dr,url:Bs||void 0}))},Bt=Sr=>{const{url:er}=Or(),Dr=new Et({error:Sr,status:Dn.status||0,statusText:Dn.statusText||"Unknown Error",url:er||void 0});tn.error(Dr)};let gn=!1;const Kn=Sr=>{gn||(tn.next(Or()),gn=!0);let er={type:Ft.DownloadProgress,loaded:Sr.loaded};Sr.lengthComputable&&(er.total=Sr.total),"text"===Ke.responseType&&Dn.responseText&&(er.partialText=Dn.responseText),tn.next(er)},dr=Sr=>{let er={type:Ft.UploadProgress,loaded:Sr.loaded};Sr.lengthComputable&&(er.total=Sr.total),tn.next(er)};let mr;Dn.addEventListener("load",an),Dn.addEventListener("error",Bt),Dn.addEventListener("timeout",Bt),Dn.addEventListener("abort",Bt),Ke.reportProgress&&(Dn.addEventListener("progress",Kn),null!==rr&&Dn.upload&&Dn.upload.addEventListener("progress",dr));const Fr=()=>{mr??=function Ht(){const Se=setTimeout(()=>{},Er);return()=>clearTimeout(Se)}()},_i=()=>{mr?.()};return Dn.addEventListener("loadstart",Fr),Dn.addEventListener("loadend",_i),Dn.send(rr),tn.next({type:Ft.Sent}),()=>{Dn.removeEventListener("loadstart",Fr),Dn.removeEventListener("loadend",_i),Dn.removeEventListener("error",Bt),Dn.removeEventListener("abort",Bt),Dn.removeEventListener("load",an),Dn.removeEventListener("timeout",Bt),mr?.(),Ke.reportProgress&&(Dn.removeEventListener("progress",Kn),null!==rr&&Dn.upload&&Dn.upload.removeEventListener("progress",dr)),Dn.readyState!==Dn.DONE&&Dn.abort()}})))}}return Se.\u0275fac=function(Ke){return new(Ke||Se)(y.LFG(j.JF))},Se.\u0275prov=y.Yz7({token:Se,factory:Se.\u0275fac}),Se})();const Er=2147483647,vn=new y.OlP("XSRF_ENABLED"),ht=new y.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Wn=new y.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class nn{}let Wr=(()=>{class Se{constructor(Ke,It,sn){this.doc=Ke,this.platform=It,this.cookieName=sn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ke=this.doc.cookie||"";return Ke!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,j.Mx)(Ke,this.cookieName),this.lastCookieString=Ke),this.lastToken}}return Se.\u0275fac=function(Ke){return new(Ke||Se)(y.LFG(j.K0),y.LFG(y.Lbi),y.LFG(ht))},Se.\u0275prov=y.Yz7({token:Se,factory:Se.\u0275fac}),Se})();function ei(Se,ve){const Ke=Se.url.toLowerCase();if(!(0,y.f3M)(vn)||"GET"===Se.method||"HEAD"===Se.method||Ke.startsWith("http://")||Ke.startsWith("https://"))return ve(Se);const It=(0,y.f3M)(nn).getToken(),sn=(0,y.f3M)(Wn);return null!=It&&!Se.headers.has(sn)&&(Se=Se.clone({headers:Se.headers.set(sn,It)})),ve(Se)}var xr=(()=>((xr=xr||{})[xr.Interceptors=0]="Interceptors",xr[xr.LegacyInterceptors=1]="LegacyInterceptors",xr[xr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",xr[xr.NoXsrfProtection=3]="NoXsrfProtection",xr[xr.JsonpSupport=4]="JsonpSupport",xr[xr.RequestsMadeViaParent=5]="RequestsMadeViaParent",xr))();function Un(Se,ve){return{\u0275kind:Se,\u0275providers:ve}}function Xr(...Se){const ve=[Ye,Qr,On,{provide:De,useExisting:On},{provide:ye,useExisting:Qr},{provide:Jt,useValue:ei,multi:!0},{provide:vn,useValue:!0},{provide:nn,useClass:Wr}];for(const Ke of Se)ve.push(...Ke.\u0275providers);return(0,y.MR2)(ve)}const Mi=new y.OlP("LEGACY_INTERCEPTOR_FN");let Gi=(()=>{class Se{}return Se.\u0275fac=function(Ke){return new(Ke||Se)},Se.\u0275mod=y.oAB({type:Se}),Se.\u0275inj=y.cJS({providers:[Xr(Un(xr.LegacyInterceptors,[{provide:Mi,useFactory:mn},{provide:Jt,useExisting:Mi,multi:!0}]))]}),Se})()},2223:(xn,bt,k)=>{"use strict";k.d(bt,{$8M:()=>Lc,$WT:()=>En,$Z:()=>Zg,AFp:()=>Bg,ALo:()=>hD,AaK:()=>Xe,BQk:()=>Cm,CHM:()=>Eo,CRH:()=>AD,D6c:()=>Tb,EJc:()=>Mw,EiD:()=>Tc,EpF:()=>bm,F$t:()=>sv,F4k:()=>C_,FYo:()=>gs,FiY:()=>Hr,G48:()=>eb,Gf:()=>TD,GfV:()=>rf,GkF:()=>py,Gpc:()=>ye,HDt:()=>OI,Hsn:()=>pp,JOm:()=>va,JVY:()=>Pp,JZr:()=>Mt,KtG:()=>Kl,L6k:()=>Rg,LAX:()=>Og,LFG:()=>Le,LMc:()=>Ab,LSH:()=>Cd,Lbi:()=>$g,Lck:()=>vC,MAs:()=>mf,MGl:()=>b_,MMx:()=>ZE,MR2:()=>vh,NdJ:()=>fp,Ojb:()=>Hf,OlP:()=>Rs,Oqu:()=>M_,P3R:()=>$p,PXZ:()=>Gw,Q6J:()=>Dg,QGY:()=>Cg,Qsj:()=>zg,R0b:()=>hc,RDi:()=>Dl,Rgc:()=>U_,SBq:()=>nf,Sil:()=>Rw,Suo:()=>SD,TTD:()=>Na,TgZ:()=>Ig,Tol:()=>x_,VKq:()=>iD,W1O:()=>RD,WLB:()=>sD,X6Q:()=>Jw,XFs:()=>bn,Xpm:()=>Kr,Xts:()=>wd,Y36:()=>Qd,YKP:()=>YE,YNc:()=>X_,Yjl:()=>Ze,Yz7:()=>On,Z0I:()=>ct,ZZ4:()=>bE,_Bn:()=>qE,_UZ:()=>E_,_c5:()=>mb,_uU:()=>Iv,aQg:()=>TE,c2e:()=>ZD,cJS:()=>hn,cg1:()=>Ag,dDg:()=>Vw,dqk:()=>ge,eBb:()=>Rp,eFA:()=>cI,eJc:()=>uE,ekj:()=>Iy,eoX:()=>oI,f3M:()=>Pr,g9A:()=>Ug,h0i:()=>Oy,hGG:()=>yb,hij:()=>by,iGM:()=>bD,ifc:()=>X,ip1:()=>KD,jDz:()=>QE,kL8:()=>$v,l5B:()=>oD,lG2:()=>He,lcZ:()=>fD,lqb:()=>Jr,lri:()=>iI,mCW:()=>mh,n5z:()=>yc,oAB:()=>se,oxw:()=>kh,pB0:()=>Ng,q3G:()=>Ia,q4F:()=>to,qFp:()=>xb,qLn:()=>bh,qOj:()=>Os,qZA:()=>fy,qzn:()=>ed,rWj:()=>sI,s9C:()=>ov,sBO:()=>tb,s_b:()=>qv,soG:()=>Kv,tb:()=>vE,tp0:()=>di,uIk:()=>l_,uOi:()=>uc,vHH:()=>ze,vpe:()=>wf,wAp:()=>ki,xi3:()=>pD,xp6:()=>Zp,ynx:()=>Jd,z2F:()=>Fy,z3N:()=>Jc,zSh:()=>ft,zs3:()=>zl});var y=k(7579),h=k(727),K=k(9751),P=k(6451),Te=k(3099);function me(n){for(let r in n)if(n[r]===me)return r;throw Error("Could not find renamed property on target object.")}function Pe(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function Xe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Xe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function j(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const De=me({__forward_ref__:me});function ye(n){return n.__forward_ref__=ye,n.toString=function(){return Xe(this())},n}function we(n){return Ve(n)?n():n}function Ve(n){return"function"==typeof n&&n.hasOwnProperty(De)&&n.__forward_ref__===ye}function je(n){return n&&!!n.\u0275providers}const Mt="https://g.co/ng/security#xss";class ze extends Error{constructor(r,o){super(function Ge(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function _e(n){return"string"==typeof n?n:null==n?"":String(n)}function Dt(n,r){throw new ze(-201,!1)}function ut(n,r){null==n&&function yt(n,r,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function On(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function hn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Yt(n){return Xt(n,kn)||Xt(n,lr)}function ct(n){return null!==Yt(n)}function Xt(n,r){return n.hasOwnProperty(r)?n[r]:null}function Kt(n){return n&&(n.hasOwnProperty(Xn)||n.hasOwnProperty(cr))?n[Xn]:null}const kn=me({\u0275prov:me}),Xn=me({\u0275inj:me}),lr=me({ngInjectableDef:me}),cr=me({ngInjectorDef:me});var bn=(()=>((bn=bn||{})[bn.Default=0]="Default",bn[bn.Host=1]="Host",bn[bn.Self=2]="Self",bn[bn.SkipSelf=4]="SkipSelf",bn[bn.Optional=8]="Optional",bn))();let Jn;function Er(n){const r=Jn;return Jn=n,r}function Ht(n,r,o){const u=Yt(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&bn.Optional?null:void 0!==r?r:void Dt(Xe(n))}const ge=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),nn={},Wr="__NG_DI_FLAG__",ei="ngTempTokenPath",xr=/\n/gm,Xr="__source";let Qi;function Pi(n){const r=Qi;return Qi=n,r}function jr(n,r=bn.Default){if(void 0===Qi)throw new ze(-203,!1);return null===Qi?Ht(n,void 0,r):Qi.get(n,r&bn.Optional?null:void 0,r)}function Le(n,r=bn.Default){return(function Qr(){return Jn}()||jr)(we(n),r)}function Pr(n,r=bn.Default){return Le(n,ai(r))}function ai(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Gi(n){const r=[];for(let o=0;o<n.length;o++){const u=we(n[o]);if(Array.isArray(u)){if(0===u.length)throw new ze(900,!1);let f,_=bn.Default;for(let w=0;w<u.length;w++){const N=u[w],z=ui(N);"number"==typeof z?-1===z?f=N.token:_|=z:f=N}r.push(Le(f,_))}else r.push(Le(u))}return r}function ti(n,r){return n[Wr]=r,n.prototype[Wr]=r,n}function ui(n){return n[Wr]}function te(n){return{toString:n}.toString()}var q=(()=>((q=q||{})[q.OnPush=0]="OnPush",q[q.Default=1]="Default",q))(),X=(()=>{return(n=X||(X={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",X;var n})();const $e={},Se=[],ve=me({\u0275cmp:me}),Ke=me({\u0275dir:me}),It=me({\u0275pipe:me}),sn=me({\u0275mod:me}),tn=me({\u0275fac:me}),Dn=me({__NG_ELEMENT_ID__:me}),rr=me({__NG_ENV_ID__:me});function nr(n,r,o){let u=n.length;for(;;){const f=n.indexOf(r,o);if(-1===f)return f;if(0===f||n.charCodeAt(f-1)<=32){const _=r.length;if(f+_===u||n.charCodeAt(f+_)<=32)return f}o=f+1}}function Or(n,r,o){let u=0;for(;u<o.length;){const f=o[u];if("number"==typeof f){if(0!==f)break;u++;const _=o[u++],w=o[u++],N=o[u++];n.setAttribute(r,w,N,_)}else{const _=f,w=o[++u];Bt(_)?n.setProperty(r,_,w):n.setAttribute(r,_,w),u++}}return u}function an(n){return 3===n||4===n||6===n}function Bt(n){return 64===n.charCodeAt(0)}function gn(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let u=0;u<r.length;u++){const f=r[u];"number"==typeof f?o=f:0===o||Kn(n,o,f,null,-1===o||2===o?r[++u]:null)}}return n}function Kn(n,r,o,u,f){let _=0,w=n.length;if(-1===r)w=-1;else for(;_<n.length;){const N=n[_++];if("number"==typeof N){if(N===r){w=-1;break}if(N>r){w=_-1;break}}}for(;_<n.length;){const N=n[_];if("number"==typeof N)break;if(N===o){if(null===u)return void(null!==f&&(n[_+1]=f));if(u===n[_+1])return void(n[_+2]=f)}_++,null!==u&&_++,null!==f&&_++}-1!==w&&(n.splice(w,0,r),_=w+1),n.splice(_++,0,o),null!==u&&n.splice(_++,0,u),null!==f&&n.splice(_++,0,f)}const dr="ng-template";function mr(n,r,o){let u=0,f=!0;for(;u<n.length;){let _=n[u++];if("string"==typeof _&&f){const w=n[u++];if(o&&"class"===_&&-1!==nr(w.toLowerCase(),r,0))return!0}else{if(1===_){for(;u<n.length&&"string"==typeof(_=n[u++]);)if(_.toLowerCase()===r)return!0;return!1}"number"==typeof _&&(f=!1)}}return!1}function Fr(n){return 4===n.type&&n.value!==dr}function _i(n,r,o){return r===(4!==n.type||o?n.value:dr)}function Sr(n,r,o){let u=4;const f=n.attrs||[],_=function Z(n){for(let r=0;r<n.length;r++)if(an(n[r]))return r;return n.length}(f);let w=!1;for(let N=0;N<r.length;N++){const z=r[N];if("number"!=typeof z){if(!w)if(4&u){if(u=2|1&u,""!==z&&!_i(n,z,o)||""===z&&1===r.length){if(er(u))return!1;w=!0}}else{const oe=8&u?z:r[++N];if(8&u&&null!==n.attrs){if(!mr(n.attrs,oe,o)){if(er(u))return!1;w=!0}continue}const it=Dr(8&u?"class":z,f,Fr(n),o);if(-1===it){if(er(u))return!1;w=!0;continue}if(""!==oe){let jt;jt=it>_?"":f[it+1].toLowerCase();const on=8&u?jt:null;if(on&&-1!==nr(on,oe,0)||2&u&&oe!==jt){if(er(u))return!1;w=!0}}}}else{if(!w&&!er(u)&&!er(z))return!1;if(w&&er(z))continue;w=!1,u=z|1&u}}return er(u)||w}function er(n){return 0==(1&n)}function Dr(n,r,o,u){if(null===r)return-1;let f=0;if(u||!o){let _=!1;for(;f<r.length;){const w=r[f];if(w===n)return f;if(3===w||6===w)_=!0;else{if(1===w||2===w){let N=r[++f];for(;"string"==typeof N;)N=r[++f];continue}if(4===w)break;if(0===w){f+=4;continue}}f+=_?1:2}return-1}return function wt(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===r)return o;o++}return-1}(r,n)}function Bs(n,r,o=!1){for(let u=0;u<r.length;u++)if(Sr(n,r[u],o))return!0;return!1}function J(n,r){e:for(let o=0;o<r.length;o++){const u=r[o];if(n.length===u.length){for(let f=0;f<n.length;f++)if(n[f]!==u[f])continue e;return!0}}return!1}function Pt(n,r){return n?":not("+r.trim()+")":r}function Zt(n){let r=n[0],o=1,u=2,f="",_=!1;for(;o<n.length;){let w=n[o];if("string"==typeof w)if(2&u){const N=n[++o];f+="["+w+(N.length>0?'="'+N+'"':"")+"]"}else 8&u?f+="."+w:4&u&&(f+=" "+w);else""!==f&&!er(w)&&(r+=Pt(_,f),f=""),u=w,_=_||!er(u);o++}return""!==f&&(r+=Pt(_,f)),r}function Kr(n){return te(()=>{const r=vr(n),o={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===q.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||X.Emulated,styles:n.styles||Se,_:null,schemas:n.schemas||null,tView:null,id:""};wr(o);const u=n.dependencies;return o.directiveDefs=$i(u,!1),o.pipeDefs=$i(u,!0),o.id=function Us(n){let r=0;const o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const f of o)r=Math.imul(31,r)+f.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function Fs(n){return xt(n)||Lt(n)}function ee(n){return null!==n}function se(n){return te(()=>({type:n.type,bootstrap:n.bootstrap||Se,declarations:n.declarations||Se,imports:n.imports||Se,exports:n.exports||Se,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function he(n,r){if(null==n)return $e;const o={};for(const u in n)if(n.hasOwnProperty(u)){let f=n[u],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),o[f]=u,r&&(r[f]=_)}return o}function He(n){return te(()=>{const r=vr(n);return wr(r),r})}function Ze(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function xt(n){return n[ve]||null}function Lt(n){return n[Ke]||null}function qt(n){return n[It]||null}function En(n){const r=xt(n)||Lt(n)||qt(n);return null!==r&&r.standalone}function Bn(n,r){const o=n[sn]||null;if(!o&&!0===r)throw new Error(`Type ${Xe(n)} does not have '\u0275mod' property.`);return o}function vr(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Se,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:he(n.inputs,r),outputs:he(n.outputs)}}function wr(n){n.features?.forEach(r=>r(n))}function $i(n,r){if(!n)return null;const o=r?qt:Fs;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(ee)}const Fi=0,zn=1,$r=2,Vi=3,ws=4,uo=5,$s=6,po=7,Hi=8,Ys=9,lo=10,ni=11,As=12,xo=13,no=14,Wi=15,Mo=16,ro=17,ri=18,vi=19,Oa=20,Po=21,wo=22,io=23,ea=24,Yr=25,Bo=1,Li=2,Ce=7,ce=8,nt=9,At=11;function $n(n){return Array.isArray(n)&&"object"==typeof n[Bo]}function hr(n){return Array.isArray(n)&&!0===n[Bo]}function fr(n){return 0!=(4&n.flags)}function Gr(n){return n.componentOffset>-1}function mi(n){return 1==(1&n.flags)}function ii(n){return!!n.template}function rs(n){return 0!=(512&n[$r])}function $o(n,r){return n.hasOwnProperty(tn)?n[tn]:null}let M=ge.WeakRef??class C{constructor(r){this.ref=r}deref(){return this.ref}},Nt=0,wn=null,Zr=!1;function Ii(n){const r=wn;return wn=n,r}class so{constructor(){this.id=Nt++,this.ref=function L(n){return new M(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[r,o]of this.producers){const u=o.producerNode.deref();if(void 0!==u&&o.atTrackingVersion===this.trackingVersion){if(u.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(r),u?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const r=Zr;Zr=!0;try{for(const[o,u]of this.consumers){const f=u.consumerNode.deref();void 0!==f&&f.trackingVersion===u.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),f?.producers.delete(this.id))}}finally{Zr=r}}producerAccessed(){if(Zr)throw new Error("");if(null===wn)return;let r=wn.producers.get(this.id);void 0===r?(r={consumerNode:wn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:wn.trackingVersion},wn.producers.set(this.id,r),this.consumers.set(wn.id,r)):(r.seenValueVersion=this.valueVersion,r.atTrackingVersion=wn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==wn?.consumerAllowSignalWrites}producerPollStatus(r){return this.valueVersion!==r||(this.onProducerUpdateValueVersion(),this.valueVersion!==r)}}let To=null;const ta=()=>{};class oo extends so{constructor(r,o,u){super(),this.watch=r,this.schedule=o,this.dirty=!1,this.cleanupFn=ta,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=u}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const r=Ii(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ta,this.watch(this.registerOnCleanup)}finally{Ii(r)}}cleanup(){this.cleanupFn()}}class Yl{constructor(r,o,u){this.previousValue=r,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Na(){return Xa}function Xa(n){return n.type.prototype.ngOnChanges&&(n.setInput=Zu),Uu}function Uu(){const n=Gt(this),r=n?.current;if(r){const o=n.previous;if(o===$e)n.previous=r;else for(let u in r)o[u]=r[u];n.current=null,this.ngOnChanges(r)}}function Zu(n,r,o,u){const f=this.declaredInputs[o],_=Gt(n)||function _n(n,r){return n[Ja]=r}(n,{previous:$e,current:null}),w=_.current||(_.current={}),N=_.previous,z=N[f];w[f]=new Yl(z&&z.currentValue,r,N===$e),n[u]=r}Na.ngInherit=!0;const Ja="__ngSimpleChanges__";function Gt(n){return n[Ja]||null}const si=function(n,r,o){};function Nr(n){for(;Array.isArray(n);)n=n[Fi];return n}function eu(n,r){return Nr(r[n])}function Ir(n,r){return Nr(r[n.index])}function Oo(n,r){return n.data[r]}function Ta(n,r){return n[r]}function kr(n,r){const o=r[n];return $n(o)?o:o[Fi]}function V(n){return 128==(128&n[$r])}function Y(n,r){return null==r?null:n[r]}function Me(n){n[ro]=0}function ot(n){1024&n[$r]||(n[$r]|=1024,Tn(n,1))}function ln(n){1024&n[$r]&&(n[$r]&=-1025,Tn(n,-1))}function Tn(n,r){let o=n[Vi];if(null===o)return;o[uo]+=r;let u=o;for(o=o[Vi];null!==o&&(1===r&&1===u[uo]||-1===r&&0===u[uo]);)o[uo]+=r,u=o,o=o[Vi]}const Gn={lFrame:ru(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function So(){return Gn.bindingsEnabled}function co(){return null!==Gn.skipHydrationRootTNode}function Fn(){return Gn.lFrame.lView}function Di(){return Gn.lFrame.tView}function Eo(n){return Gn.lFrame.contextLView=n,n[Hi]}function Kl(n){return Gn.lFrame.contextLView=null,n}function Gs(){let n=Sl();for(;null!==n&&64===n.type;)n=n.parent;return n}function Sl(){return Gn.lFrame.currentTNode}function cs(n,r){const o=Gn.lFrame;o.currentTNode=n,o.isParent=r}function eo(){return Gn.lFrame.isParent}function ol(){Gn.lFrame.isParent=!1}function Ws(){const n=Gn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Cr(){return Gn.lFrame.bindingIndex++}function Wo(n){const r=Gn.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function Pn(n,r){const o=Gn.lFrame;o.bindingIndex=o.bindingRootIndex=n,hu(r)}function hu(n){Gn.lFrame.currentDirectiveIndex=n}function fc(){return Gn.lFrame.currentQueryIndex}function fu(n){Gn.lFrame.currentQueryIndex=n}function za(n){const r=n[zn];return 2===r.type?r.declTNode:1===r.type?n[$s]:null}function Qu(n,r,o){if(o&bn.SkipSelf){let f=r,_=n;for(;!(f=f.parent,null!==f||o&bn.Host||(f=za(_),null===f||(_=_[no],10&f.type))););if(null===f)return!1;r=f,n=_}const u=Gn.lFrame=ke();return u.currentTNode=r,u.lView=n,!0}function Cu(n){const r=ke(),o=n[zn];Gn.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function ke(){const n=Gn.lFrame,r=null===n?null:n.child;return null===r?ru(n):r}function ru(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Al(){const n=Gn.lFrame;return Gn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ui=Al;function qn(){const n=Al();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function es(){return Gn.lFrame.selectedIndex}function br(n){Gn.lFrame.selectedIndex=n}function Ds(){const n=Gn.lFrame;return Oo(n.tView,n.selectedIndex)}let Vu=!0;function gu(){return Vu}function wu(n){Vu=n}function pc(n,r){for(let o=r.directiveStart,u=r.directiveEnd;o<u;o++){const _=n.data[o].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:N,ngAfterViewInit:z,ngAfterViewChecked:oe,ngOnDestroy:Re}=_;w&&(n.contentHooks??=[]).push(-o,w),N&&((n.contentHooks??=[]).push(o,N),(n.contentCheckHooks??=[]).push(o,N)),z&&(n.viewHooks??=[]).push(-o,z),oe&&((n.viewHooks??=[]).push(o,oe),(n.viewCheckHooks??=[]).push(o,oe)),null!=Re&&(n.destroyHooks??=[]).push(o,Re)}}function ga(n,r,o){b(n,r,3,o)}function R(n,r,o,u){(3&n[$r])===o&&b(n,r,o,u)}function $(n,r){let o=n[$r];(3&o)===r&&(o&=4095,o+=1,n[$r]=o)}function b(n,r,o,u){const _=u??-1,w=r.length-1;let N=0;for(let z=void 0!==u?65535&n[ro]:0;z<w;z++)if("number"==typeof r[z+1]){if(N=r[z],null!=u&&N>=u)break}else r[z]<0&&(n[ro]+=65536),(N<_||-1==_)&&(ae(n,o,r,z),n[ro]=(4294901760&n[ro])+z+2),z++}function G(n,r){si(4,n,r);const o=Ii(null);try{r.call(n)}finally{Ii(o),si(5,n,r)}}function ae(n,r,o,u){const f=o[u]<0,_=o[u+1],N=n[f?-o[u]:o[u]];f?n[$r]>>12<n[ro]>>16&&(3&n[$r])===r&&(n[$r]+=4096,G(N,_)):G(N,_)}const Ne=-1;class Be{constructor(r,o,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function qo(n){return n!==Ne}function Hu(n){return 32767&n}function Ql(n,r){let o=function iu(n){return n>>16}(n),u=r;for(;o>0;)u=u[no],o--;return u}let Fa=!0;function Fo(n){const r=Fa;return Fa=n,r}const al=255,kc=5;let Ks=0;const Ga={};function _s(n,r){const o=Xl(n,r);if(-1!==o)return o;const u=r[zn];u.firstCreatePass&&(n.injectorIndex=r.length,zu(u.data,n),zu(r,null),zu(u.blueprint,null));const f=Ml(n,r),_=n.injectorIndex;if(qo(f)){const w=Hu(f),N=Ql(f,r),z=N[zn].data;for(let oe=0;oe<8;oe++)r[_+oe]=N[w+oe]|z[w+oe]}return r[_+8]=f,_}function zu(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Xl(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Ml(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,f=r;for(;null!==f;){if(u=cd(f),null===u)return Ne;if(o++,f=f[no],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Ne}function ul(n,r,o){!function ju(n,r,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Dn)&&(u=o[Dn]),null==u&&(u=o[Dn]=Ks++);const f=u&al;r.data[n+(f>>kc)]|=1<<f}(n,r,o)}function gc(n,r,o){if(o&bn.Optional||void 0!==n)return n;Dt()}function Md(n,r,o,u){if(o&bn.Optional&&void 0===u&&(u=null),!(o&(bn.Self|bn.Host))){const f=n[Ys],_=Er(void 0);try{return f?f.get(r,u,o&bn.Optional):Ht(r,u,o&bn.Optional)}finally{Er(_)}}return gc(u,0,o)}function Su(n,r,o,u=bn.Default,f){if(null!==n){if(2048&r[$r]){const w=function Jl(n,r,o,u,f){let _=n,w=r;for(;null!==_&&null!==w&&2048&w[$r]&&!(512&w[$r]);){const N=nh(_,w,o,u|bn.Self,Ga);if(N!==Ga)return N;let z=_.parent;if(!z){const oe=w[Oa];if(oe){const Re=oe.get(o,Ga,u);if(Re!==Ga)return Re}z=cd(w),w=w[no]}_=z}return f}(n,r,o,u,Ga);if(w!==Ga)return w}const _=nh(n,r,o,u,Ga);if(_!==Ga)return _}return Md(r,o,u,f)}function nh(n,r,o,u,f){const _=function Fc(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Dn)?n[Dn]:void 0;return"number"==typeof r?r>=0?r&al:Pl:r}(o);if("function"==typeof _){if(!Qu(r,n,u))return u&bn.Host?gc(f,0,u):Md(r,o,u,f);try{const w=_(u);if(null!=w||u&bn.Optional)return w;Dt()}finally{Ui()}}else if("number"==typeof _){let w=null,N=Xl(n,r),z=Ne,oe=u&bn.Host?r[Wi][$s]:null;for((-1===N||u&bn.SkipSelf)&&(z=-1===N?Ml(n,r):r[N+8],z!==Ne&&mc(u,!1)?(w=r[zn],N=Hu(z),r=Ql(z,r)):N=-1);-1!==N;){const Re=r[zn];if(Wu(_,N,Re.data)){const it=rh(N,r,o,w,u,oe);if(it!==Ga)return it}z=r[N+8],z!==Ne&&mc(u,r[zn].data[N+8]===oe)&&Wu(_,N,r)?(w=Re,N=Hu(z),r=Ql(z,r)):N=-1}}return f}function rh(n,r,o,u,f,_){const w=r[zn],N=w.data[n+8],Re=Do(N,w,o,null==u?Gr(N)&&Fa:u!=w&&0!=(3&N.type),f&bn.Host&&_===N);return null!==Re?Gu(r,w,Re,N):Ga}function Do(n,r,o,u,f){const _=n.providerIndexes,w=r.data,N=1048575&_,z=n.directiveStart,Re=_>>20,jt=f?N+Re:n.directiveEnd;for(let on=u?N:N+Re;on<jt;on++){const Ln=w[on];if(on<z&&o===Ln||on>=z&&Ln.type===o)return on}if(f){const on=w[z];if(on&&ii(on)&&on.type===o)return z}return null}function Gu(n,r,o,u){let f=n[o];const _=r.data;if(function Wt(n){return n instanceof Be}(f)){const w=f;w.resolving&&function dt(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ze(-200,`Circular dependency in DI detected for ${n}${o}`)}(function mt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():_e(n)}(_[o]));const N=Fo(w.canSeeViewProviders);w.resolving=!0;const z=w.injectImpl?Er(w.injectImpl):null;Qu(n,u,bn.Default);try{f=n[o]=w.factory(void 0,_,n,u),r.firstCreatePass&&o>=u.directiveStart&&function xl(n,r,o){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:_}=r.type.prototype;if(u){const w=Xa(r);(o.preOrderHooks??=[]).push(n,w),(o.preOrderCheckHooks??=[]).push(n,w)}f&&(o.preOrderHooks??=[]).push(0-n,f),_&&((o.preOrderHooks??=[]).push(n,_),(o.preOrderCheckHooks??=[]).push(n,_))}(o,_[o],r)}finally{null!==z&&Er(z),Fo(N),w.resolving=!1,Ui()}}return f}function Wu(n,r,o){return!!(o[r+(n>>kc)]&1<<n)}function mc(n,r){return!(n&bn.Self||n&bn.Host&&r)}class Au{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,u){return Su(this._tNode,this._lView,r,ai(u),o)}}function Pl(){return new Au(Gs(),Fn())}function yc(n){return te(()=>{const r=n.prototype.constructor,o=r[tn]||Lo(r),u=Object.prototype;let f=Object.getPrototypeOf(n.prototype).constructor;for(;f&&f!==u;){const _=f[tn]||Lo(f);if(_&&_!==o)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function Lo(n){return Ve(n)?()=>{const r=Lo(we(n));return r&&r()}:$o(n)}function cd(n){const r=n[zn],o=r.type;return 2===o?r.declTNode:1===o?n[$s]:null}function Lc(n){return function Tu(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const u=o.length;let f=0;for(;f<u;){const _=o[f];if(an(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<u&&"string"==typeof o[f];)f++;else{if(_===r)return o[f+1];f+=2}}}return null}(Gs(),n)}const mu="__parameters__";function Mu(n,r,o){return te(()=>{const u=function xu(n){return function(...o){if(n){const u=n(...o);for(const f in u)this[f]=u[f]}}}(r);function f(..._){if(this instanceof f)return u.apply(this,_),this;const w=new f(..._);return N.annotation=w,N;function N(z,oe,Re){const it=z.hasOwnProperty(mu)?z[mu]:Object.defineProperty(z,mu,{value:[]})[mu];for(;it.length<=Re;)it.push(null);return(it[Re]=it[Re]||[]).push(w),z}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=n,f.annotationCls=f,f})}function ya(n,r){n.forEach(o=>Array.isArray(o)?ya(o,r):r(o))}function Nl(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function ou(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function xa(n,r){const o=[];for(let u=0;u<n;u++)o.push(r);return o}function Ho(n,r,o){let u=vu(n,r);return u>=0?n[1|u]=o:(u=~u,function Ma(n,r,o,u){let f=n.length;if(f==r)n.push(o,u);else if(1===f)n.push(u,n[0]),n[0]=o;else{for(f--,n.push(n[f-1],n[f]);f>r;)n[f]=n[f-2],f--;n[r]=o,n[r+1]=u}}(n,u,r,o)),u}function fl(n,r){const o=vu(n,r);if(o>=0)return n[1|o]}function vu(n,r){return function Ci(n,r,o){let u=0,f=n.length>>o;for(;f!==u;){const _=u+(f-u>>1),w=n[_<<o];if(r===w)return _<<o;w>r?f=_:u=_+1}return~(f<<o)}(n,r,1)}const Hr=ti(Mu("Optional"),8),di=ti(Mu("SkipSelf"),4);function Zo(n){return 128==(128&n.flags)}var va=(()=>((va=va||{})[va.Important=1]="Important",va[va.DashCase=2]="DashCase",va))();const Bl=/^>|^->|<!--|-->|--!>|<!-$/g,$c=/(<|>)/,fd="\u200b$1\u200b";const Hc=new Map;let nc=0;const jc="__ngContext__";function sa(n,r){$n(r)?(n[jc]=r[vi],function rc(n){Hc.set(n[vi],n)}(r)):n[jc]=r}let sh;function yl(n,r){return sh(n,r)}function Cc(n){const r=n[Vi];return hr(r)?r[Vi]:r}function ic(n){return Ya(n[As])}function _l(n){return Ya(n[ws])}function Ya(n){for(;null!==n&&!hr(n);)n=n[ws];return n}function vl(n,r,o,u,f){if(null!=u){let _,w=!1;hr(u)?_=u:$n(u)&&(w=!0,u=u[Fi]);const N=Nr(u);0===n&&null!==o?null==f?uh(r,o,N):oc(r,o,N,f||null,!0):1===n&&null!==o?oc(r,o,N,f||null,!0):2===n?function Zc(n,r,o){const u=zi(n,r);u&&function kd(n,r,o,u){n.removeChild(r,o,u)}(n,u,r,o)}(r,N,w):3===n&&r.destroyNode(N),null!=_&&function Mg(n,r,o,u,f){const _=o[Ce];_!==Nr(o)&&vl(r,n,u,_,f);for(let N=At;N<o.length;N++){const z=o[N];vd(z[zn],z,n,r,u,_)}}(r,n,_,o,f)}}function Co(n,r){return n.createComment(function Vc(n){return n.replace(Bl,r=>r.replace($c,fd))}(r))}function Wc(n,r,o){return n.createElement(r,o)}function Kc(n,r){const o=n[nt],u=o.indexOf(r);ln(r),o.splice(u,1)}function el(n,r){if(n.length<=At)return;const o=At+r,u=n[o];if(u){const f=u[Mo];null!==f&&f!==n&&Kc(f,u),r>0&&(n[o-1][ws]=u[ws]);const _=ou(n,At+r);!function Ea(n,r){vd(n,r,r[ni],2,null,null),r[Fi]=null,r[$s]=null}(u[zn],u);const w=_[ri];null!==w&&w.detachView(_[zn]),u[Vi]=null,u[ws]=null,u[$r]&=-129}return u}function sc(n,r){if(!(256&r[$r])){const o=r[ni];r[io]?.destroy(),r[ea]?.destroy(),o.destroyNode&&vd(n,r,o,3,null,null),function qc(n){let r=n[As];if(!r)return Sf(n[zn],n);for(;r;){let o=null;if($n(r))o=r[As];else{const u=r[At];u&&(o=u)}if(!o){for(;r&&!r[ws]&&r!==n;)$n(r)&&Sf(r[zn],r),r=r[Vi];null===r&&(r=n),$n(r)&&Sf(r[zn],r),o=r&&r[ws]}r=o}}(r)}}function Sf(n,r){if(!(256&r[$r])){r[$r]&=-129,r[$r]|=256,function gd(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const f=r[o[u]];if(!(f instanceof Be)){const _=o[u+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const N=f[_[w]],z=_[w+1];si(4,N,z);try{z.call(N)}finally{si(5,N,z)}}else{si(4,f,_);try{_.call(f)}finally{si(5,f,_)}}}}}(n,r),function zh(n,r){const o=n.cleanup,u=r[po];if(null!==o)for(let _=0;_<o.length-1;_+=2)if("string"==typeof o[_]){const w=o[_+3];w>=0?u[w]():u[-w].unsubscribe(),_+=2}else o[_].call(u[o[_+1]]);null!==u&&(r[po]=null);const f=r[Po];if(null!==f){r[Po]=null;for(let _=0;_<f.length;_++)(0,f[_])()}}(n,r),1===r[zn].type&&r[ni].destroy();const o=r[Mo];if(null!==o&&hr(r[Vi])){o!==r[Vi]&&Kc(o,r);const u=r[ri];null!==u&&u.detachView(n)}!function ku(n){Hc.delete(n[vi])}(r)}}function $l(n,r,o){return function Nd(n,r,o){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return o[Fi];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:_}=n.data[u.directiveStart+f];if(_===X.None||_===X.Emulated)return null}return Ir(u,o)}}(n,r.parent,o)}function oc(n,r,o,u,f){n.insertBefore(r,o,u,f)}function uh(n,r,o){n.appendChild(r,o)}function lh(n,r,o,u,f){null!==u?oc(n,r,o,u,f):uh(n,r,o)}function zi(n,r){return n.parentNode(r)}function ch(n,r,o){return Fd(n,r,o)}let hh,Yh,fh,Lu,Fd=function dh(n,r,o){return 40&n.type?Ir(n,o):null};function Fu(n,r,o,u){const f=$l(n,u,r),_=r[ni],N=ch(u.parent||r[$s],u,r);if(null!=f)if(Array.isArray(o))for(let z=0;z<o.length;z++)lh(_,f,o[z],N,!1);else lh(_,f,o,N,!1);void 0!==hh&&hh(_,u,r,o,f)}function md(n,r){if(null!==r){const o=r.type;if(3&o)return Ir(r,n);if(4&o)return yd(-1,n[r.index]);if(8&o){const u=r.child;if(null!==u)return md(n,u);{const f=n[r.index];return hr(f)?yd(-1,f):Nr(f)}}if(32&o)return yl(r,n)()||Nr(n[r.index]);{const u=Wh(n,r);return null!==u?Array.isArray(u)?u[0]:md(Cc(n[Wi]),u):md(n,r.next)}}return null}function Wh(n,r){return null!==r?n[Wi][$s].projection[r.projection]:null}function yd(n,r){const o=At+n+1;if(o<r.length){const u=r[o],f=u[zn].firstChild;if(null!==f)return md(u,f)}return r[Ce]}function Ld(n,r,o,u,f,_,w){for(;null!=o;){const N=u[o.index],z=o.type;if(w&&0===r&&(N&&sa(Nr(N),u),o.flags|=2),32!=(32&o.flags))if(8&z)Ld(n,r,o.child,u,f,_,!1),vl(r,n,f,N,_);else if(32&z){const oe=yl(o,u);let Re;for(;Re=oe();)vl(r,n,f,Re,_);vl(r,n,f,N,_)}else 16&z?qh(n,r,u,o,f,_):vl(r,n,f,N,_);o=w?o.projectionNext:o.next}}function vd(n,r,o,u,f,_){Ld(o,u,n.firstChild,r,f,_,!1)}function qh(n,r,o,u,f,_){const w=o[Wi],z=w[$s].projection[u.projection];if(Array.isArray(z))for(let oe=0;oe<z.length;oe++)vl(r,n,f,z[oe],_);else{let oe=z;const Re=w[Vi];Zo(u)&&(oe.flags|=128),Ld(n,r,oe,Re,f,_,!0)}}function Mf(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function Sp(n,r,o){const{mergedAttrs:u,classes:f,styles:_}=o;null!==u&&Or(n,r,u),null!==f&&Mf(n,r,f),null!==_&&function Tp(n,r,o){n.setAttribute(r,"style",o)}(n,r,_)}function Qc(n){return function Pf(){if(void 0===Yh&&(Yh=null,ge.trustedTypes))try{Yh=ge.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Yh}()?.createHTML(n)||n}function Dl(n){fh=n}function ph(n){return function Ud(){if(void 0===Lu&&(Lu=null,ge.trustedTypes))try{Lu=ge.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Lu}()?.createScriptURL(n)||n}class Xc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mt})`}}class xp extends Xc{getTypeName(){return"HTML"}}class Pg extends Xc{getTypeName(){return"Style"}}class Mp extends Xc{getTypeName(){return"Script"}}class gh extends Xc{getTypeName(){return"URL"}}class Of extends Xc{getTypeName(){return"ResourceURL"}}function Jc(n){return n instanceof Xc?n.changingThisBreaksApplicationSecurity:n}function ed(n,r){const o=function Nf(n){return n instanceof Xc&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${Mt})`)}return o===r}function Pp(n){return new xp(n)}function Rg(n){return new Pg(n)}function Rp(n){return new Mp(n)}function Og(n){return new gh(n)}function Ng(n){return new Of(n)}class td{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(Qc(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class $d{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const o=this.inertDocument.createElement("template");return o.innerHTML=Qc(r),o}}const Om=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mh(n){return(n=String(n)).match(Om)?n:"unsafe:"+n}function Ua(n){const r={};for(const o of n.split(","))r[o]=!0;return r}function Dd(...n){const r={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(r[u]=!0);return r}const kf=Ua("area,br,col,hr,img,wbr"),Ff=Ua("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yh=Ua("rp,rt"),oa=Dd(kf,Dd(Ff,Ua("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dd(yh,Ua("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dd(yh,Ff)),Eu=Ua("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jd=Dd(Eu,Ua("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ua("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kp=Ua("script,style,template");class Fg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=this.checkClobberedElement(o,o.nextSibling);if(f){o=f;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!oa.hasOwnProperty(o))return this.sanitizedSomething=!0,!kp.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=r.attributes;for(let f=0;f<u.length;f++){const _=u.item(f),w=_.name,N=w.toLowerCase();if(!jd.hasOwnProperty(N)){this.sanitizedSomething=!0;continue}let z=_.value;Eu[N]&&(z=mh(z)),this.buf.push(" ",w,'="',zd(z),'"')}return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();oa.hasOwnProperty(o)&&!kf.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(zd(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const Fp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lp=/([^\#-~ |!])/g;function zd(n){return n.replace(/&/g,"&amp;").replace(Fp,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Lp,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bc;function Tc(n,r){let o=null;try{bc=bc||function Op(n){const r=new $d(n);return function kg(){try{return!!(new window.DOMParser).parseFromString(Qc(""),"text/html")}catch{return!1}}()?new td(r):r}(n);let u=r?String(r):"";o=bc.getInertBodyElement(u);let f=5,_=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=_,_=o.innerHTML,o=bc.getInertBodyElement(u)}while(u!==_);return Qc((new Fg).sanitizeChildren(Kh(o)||o))}finally{if(o){const u=Kh(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Kh(n){return"content"in n&&function Gd(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ia=(()=>((Ia=Ia||{})[Ia.NONE=0]="NONE",Ia[Ia.HTML=1]="HTML",Ia[Ia.STYLE=2]="STYLE",Ia[Ia.SCRIPT=3]="SCRIPT",Ia[Ia.URL=4]="URL",Ia[Ia.RESOURCE_URL=5]="RESOURCE_URL",Ia))();function Cd(n){const r=Wd();return r?r.sanitize(Ia.URL,n)||"":ed(n,"URL")?Jc(n):mh(_e(n))}function uc(n){const r=Wd();if(r)return ph(r.sanitize(Ia.RESOURCE_URL,n)||"");if(ed(n,"ResourceURL"))return ph(Jc(n));throw new ze(904,!1)}function $p(n,r,o){return function Bf(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?uc:Cd}(r,o)(n)}function Wd(){const n=Fn();return n&&n[lo].sanitizer}class Rs{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=On({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const wd=new Rs("ENVIRONMENT_INITIALIZER"),$f=new Rs("INJECTOR",-1),_h=new Rs("INJECTOR_DEF_TYPES");class Hp{get(r,o=nn){if(o===nn){const u=new Error(`NullInjectorError: No provider for ${Xe(r)}!`);throw u.name="NullInjectorError",u}return o}}function vh(n){return{\u0275providers:n}}function Zh(...n){return{\u0275providers:jp(0,n),\u0275fromNgModule:!0}}function jp(n,...r){const o=[],u=new Set;let f;return ya(r,_=>{const w=_;p(w,o,[],u)&&(f||=[],f.push(w))}),void 0!==f&&Vf(f,o),o}function Vf(n,r){for(let o=0;o<n.length;o++){const{providers:f}=n[o];c(f,_=>{r.push(_)})}}function p(n,r,o,u){if(!(n=we(n)))return!1;let f=null,_=Kt(n);const w=!_&&xt(n);if(_||w){if(w&&!w.standalone)return!1;f=n}else{const z=n.ngModule;if(_=Kt(z),!_)return!1;f=z}const N=u.has(f);if(w){if(N)return!1;if(u.add(f),w.dependencies){const z="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const oe of z)p(oe,r,o,u)}}else{if(!_)return!1;{if(null!=_.imports&&!N){let oe;u.add(f);try{ya(_.imports,Re=>{p(Re,r,o,u)&&(oe||=[],oe.push(Re))})}finally{}void 0!==oe&&Vf(oe,r)}if(!N){const oe=$o(f)||(()=>new f);r.push({provide:f,useFactory:oe,deps:Se},{provide:_h,useValue:f,multi:!0},{provide:wd,useValue:()=>Le(f),multi:!0})}const z=_.providers;null==z||N||c(z,Re=>{r.push(Re)})}}return f!==n&&void 0!==n.providers}function c(n,r){for(let o of n)je(o)&&(o=o.\u0275providers),Array.isArray(o)?c(o,r):r(o)}const v=me({provide:String,useValue:me});function A(n){return null!==n&&"object"==typeof n&&v in n}function xe(n){return"function"==typeof n}const ft=new Rs("Set Injector scope."),pn={},In={};let Rn;function gr(){return void 0===Rn&&(Rn=new Hp),Rn}class Jr{}class as extends Jr{get destroyed(){return this._destroyed}constructor(r,o,u,f){super(),this.parent=o,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qh(r,w=>this.processProvider(w)),this.records.set($f,nd(void 0,this)),f.has("environment")&&this.records.set(Jr,nd(void 0,this));const _=this.records.get(ft);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(_h.multi,Se,bn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Pi(this),u=Er(void 0);try{return r()}finally{Pi(o),Er(u)}}get(r,o=nn,u=bn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(rr))return r[rr](this);u=ai(u);const f=Pi(this),_=Er(void 0);try{if(!(u&bn.SkipSelf)){let N=this.records.get(r);if(void 0===N){const z=function By(n){return"function"==typeof n||"object"==typeof n&&n instanceof Rs}(r)&&Yt(r);N=z&&this.injectableDefInScope(z)?nd(Qo(r),pn):null,this.records.set(r,N)}if(null!=N)return this.hydrate(r,N)}return(u&bn.Self?gr():this.parent).get(r,o=u&bn.Optional&&o===nn?null:o)}catch(w){if("NullInjectorError"===w.name){if((w[ei]=w[ei]||[]).unshift(Xe(r)),f)throw w;return function lt(n,r,o,u){const f=n[ei];throw r[Xr]&&f.unshift(r[Xr]),n.message=function Ee(n,r,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let f=Xe(r);if(Array.isArray(r))f=r.map(Xe).join(" -> ");else if("object"==typeof r){let _=[];for(let w in r)if(r.hasOwnProperty(w)){let N=r[w];_.push(w+":"+("string"==typeof N?JSON.stringify(N):Xe(N)))}f=`{${_.join(", ")}}`}return`${o}${u?"("+u+")":""}[${f}]: ${n.replace(xr,"\n  ")}`}("\n"+n.message,f,o,u),n.ngTokenPath=f,n[ei]=null,n}(w,r,"R3InjectorError",this.source)}throw w}finally{Er(_),Pi(f)}}resolveInjectorInitializers(){const r=Pi(this),o=Er(void 0);try{const u=this.get(wd.multi,Se,bn.Self);for(const f of u)f()}finally{Pi(r),Er(o)}}toString(){const r=[],o=this.records;for(const u of o.keys())r.push(Xe(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(r){let o=xe(r=we(r))?r:we(r&&r.provide);const u=function lc(n){return A(n)?nd(void 0,n.useValue):nd(Ac(n),pn)}(r);if(xe(r)||!0!==r.multi)this.records.get(o);else{let f=this.records.get(o);f||(f=nd(void 0,pn,!0),f.factory=()=>Gi(f.multi),this.records.set(o,f)),o=r,f.multi.push(r)}this.records.set(o,u)}hydrate(r,o){return o.value===pn&&(o.value=In,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Nm(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=we(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Qo(n){const r=Yt(n),o=null!==r?r.factory:$o(n);if(null!==o)return o;if(n instanceof Rs)throw new ze(204,!1);if(n instanceof Function)return function lu(n){const r=n.length;if(r>0)throw xa(r,"?"),new ze(204,!1);const o=function Tt(n){return n&&(n[kn]||n[lr])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new ze(204,!1)}function Ac(n,r,o){let u;if(xe(n)){const f=we(n);return $o(f)||Qo(f)}if(A(n))u=()=>we(n.useValue);else if(function re(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Gi(n.deps||[]));else if(function H(n){return!(!n||!n.useExisting)}(n))u=()=>Le(we(n.useExisting));else{const f=we(n&&(n.useClass||n.provide));if(!function Ly(n){return!!n.deps}(n))return $o(f)||Qo(f);u=()=>new f(...Gi(n.deps))}return u}function nd(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function Qh(n,r){for(const o of n)Array.isArray(o)?Qh(o,r):o&&je(o)?Qh(o.\u0275providers,r):r(o)}const Bg=new Rs("AppId",{providedIn:"root",factory:()=>Uy}),Uy="ng",Ug=new Rs("Platform Initializer"),$g=new Rs("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hf=new Rs("CSP nonce",{providedIn:"root",factory:()=>function ac(){if(void 0!==fh)return fh;if(typeof document<"u")return document;throw new ze(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Gf=(n,r)=>null;function aa(n,r){return Gf(n,r)}class Ch{}class rd{}class $m{resolveComponentFactory(r){throw function nl(n){const r=Error(`No component factory found for ${Xe(n)}.`);return r.ngComponent=n,r}(r)}}let Yf=(()=>{class n{}return n.NULL=new $m,n})();function zy(){return Yd(Gs(),Fn())}function Yd(n,r){return new nf(Ir(n,r))}let nf=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=zy,n})();function Mc(n){return n instanceof nf?n.nativeElement:n}class gs{}let zg=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Il(){const n=Fn(),o=kr(Gs().index,n);return($n(o)?o:n)[ni]}(),n})(),Kf=(()=>{class n{}return n.\u0275prov=On({token:n,providedIn:"root",factory:()=>null}),n})();class rf{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const to=new rf("16.0.2"),Zf={};function Kd(n){for(;n;){n[$r]|=64;const r=Cc(n);if(rs(n)&&!r)return n;n=r}return null}function Gg(n){return n.ngOriginalError}class bh{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Gg(r);for(;o&&Gg(o);)o=Gg(o);return o||null}}const Vm=new Rs("",{providedIn:"root",factory:()=>!1});function Td(n){return n instanceof Function?n():n}class sf extends so{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(r){this._lView=r}onConsumerDependencyMayHaveChanged(){Kd(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(r,o,u){const f=Ii(this);this.trackingVersion++;try{r(o,u)}finally{Ii(f)}}destroy(){this.trackingVersion++}}let af=null;function Sh(){return af??=new sf,af}function Xf(n,r){return n[r]??Sh()}function Jf(n,r){const o=Sh();o.hasReadASignal&&(n[r]=af,o.lView=n,af=new sf)}const Yi={};function Zp(n){Qp(Di(),Fn(),es()+n,!1)}function Qp(n,r,o,u){if(!u)if(3==(3&r[$r])){const _=n.preOrderCheckHooks;null!==_&&ga(r,_,o)}else{const _=n.preOrderHooks;null!==_&&R(r,_,0,o)}br(o)}function eg(n,r=null,o=null,u){const f=Kg(n,r,o,u);return f.resolveInjectorInitializers(),f}function Kg(n,r=null,o=null,u,f=new Set){const _=[o||Se,Zh(n)];return u=u||("object"==typeof n?void 0:Xe(n)),new as(_,r||gr(),u||null,f)}let zl=(()=>{class n{static create(o,u){if(Array.isArray(o))return eg({name:""},u,o,"");{const f=o.name??"";return eg({name:f},o.parent,o.providers,f)}}}return n.THROW_IF_NOT_FOUND=nn,n.NULL=new Hp,n.\u0275prov=On({token:n,providedIn:"any",factory:()=>Le($f)}),n.__NG_ELEMENT_ID__=-1,n})();function Qd(n,r=bn.Default){const o=Fn();return null===o?Le(n,r):Su(Gs(),o,we(n),r)}function Zg(){throw new Error("invalid")}function ep(n,r,o,u,f,_,w,N,z,oe,Re){const it=r.blueprint.slice();return it[Fi]=f,it[$r]=140|u,(null!==oe||n&&2048&n[$r])&&(it[$r]|=2048),Me(it),it[Vi]=it[no]=n,it[Hi]=o,it[lo]=w||n&&n[lo],it[ni]=N||n&&n[ni],it[Ys]=z||n&&n[Ys]||null,it[$s]=_,it[vi]=function Hh(){return nc++}(),it[wo]=Re,it[Oa]=oe,it[Wi]=2==r.type?n[Wi]:it,it}function Ah(n,r,o,u,f){let _=n.data[r];if(null===_)_=function Qg(n,r,o,u,f){const _=Sl(),w=eo(),z=n.data[r]=function lf(n,r,o,u,f,_){let w=r?r.injectorIndex:-1,N=0;return co()&&(N|=128),{type:o,index:u,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:N,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,o,r,u,f);return null===n.firstChild&&(n.firstChild=z),null!==_&&(w?null==_.child&&null!==z.parent&&(_.child=z):null===_.next&&(_.next=z,z.prev=_)),z}(n,r,o,u,f),function sr(){return Gn.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=o,_.value=u,_.attrs=f;const w=function yo(){const n=Gn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return cs(_,!0),_}function xh(n,r,o,u){if(0===o)return-1;const f=r.length;for(let _=0;_<o;_++)r.push(u),n.blueprint.push(u),n.data.push(null);return f}function Ym(n,r,o,u,f){const _=Xf(r,io),w=es(),N=2&u;try{if(br(-1),N&&r.length>Yr&&Qp(n,r,Yr,!1),si(N?2:0,f),N)_.runInContext(o,u,f);else{const oe=Ii(null);try{o(u,f)}finally{Ii(oe)}}}finally{N&&null===r[io]&&Jf(r,io),br(w),si(N?3:1,f)}}function tp(n,r,o){if(fr(r)){const u=Ii(null);try{const _=r.directiveEnd;for(let w=r.directiveStart;w<_;w++){const N=n.data[w];N.contentQueries&&N.contentQueries(1,o[w],w)}}finally{Ii(u)}}}function Xg(n,r,o){So()&&(function am(n,r,o,u){const f=o.directiveStart,_=o.directiveEnd;Gr(o)&&function t_(n,r,o){const u=Ir(r,n),w=ag(n,ep(n,Km(o),null,o.onPush?64:16,u,r,null,n[lo].rendererFactory.createRenderer(u,o),null,null,null));n[r.index]=w}(r,o,n.data[f+o.componentOffset]),n.firstCreatePass||_s(o,r),sa(u,r);const w=o.initialInputs;for(let N=f;N<_;N++){const z=n.data[N],oe=Gu(r,n,N,o);sa(oe,r),null!==w&&um(0,N-f,oe,z,0,w),ii(z)&&(kr(o.index,r)[Hi]=Gu(r,n,N,o))}}(n,r,o,Ir(o,r)),64==(64&o.flags)&&rg(n,r,o))}function np(n,r,o=Ir){const u=r.localNames;if(null!==u){let f=r.index+1;for(let _=0;_<u.length;_+=2){const w=u[_+1],N=-1===w?o(r,n):n[w];n[f++]=N}}}function Km(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=rp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function rp(n,r,o,u,f,_,w,N,z,oe,Re){const it=Yr+u,jt=it+f,on=function Zm(n,r){const o=[];for(let u=0;u<r;u++)o.push(u<n?null:Yi);return o}(it,jt),Ln="function"==typeof oe?oe():oe;return on[zn]={type:n,blueprint:on,template:o,queries:null,viewQuery:N,declTNode:r,data:on.slice().fill(null,it),bindingStartIndex:it,expandoStartIndex:jt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:z,consts:Ln,incompleteFirstPass:!1,ssrId:Re}}let tg=n=>null;function Mh(n,r,o,u){for(let f in n)if(n.hasOwnProperty(f)){o=null===o?{}:o;const _=n[f];null===u?nm(o,r,f,_):u.hasOwnProperty(f)&&nm(o,r,u[f],_)}return o}function nm(n,r,o,u){n.hasOwnProperty(o)?n[o].push(r,u):n[o]=[r,u]}function Gl(n,r,o,u,f,_,w,N){const z=Ir(r,o);let Re,oe=r.inputs;!N&&null!=oe&&(Re=oe[u])?(dm(n,o,Re,u,f),Gr(r)&&function rm(n,r){const o=kr(r,n);16&o[$r]||(o[$r]|=64)}(o,r.index)):3&r.type&&(u=function Qy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),f=null!=w?w(f,r.value||"",u):f,_.setProperty(z,u,f))}function df(n,r,o,u){if(So()){const f=null===u?null:{"":-1},_=function Jy(n,r){const o=n.directiveRegistry;let u=null,f=null;if(o)for(let _=0;_<o.length;_++){const w=o[_];if(Bs(r,w.selectors,!1))if(u||(u=[]),ii(w))if(null!==w.findHostDirectiveDefs){const N=[];f=f||new Map,w.findHostDirectiveDefs(w,N,f),u.unshift(...N,w),ig(n,r,N.length)}else u.unshift(w),ig(n,r,0);else f=f||new Map,w.findHostDirectiveDefs?.(w,u,f),u.push(w)}return null===u?null:[u,f]}(n,o);let w,N;null===_?w=N=null:[w,N]=_,null!==w&&sm(n,r,o,w,f,N),f&&function rl(n,r,o){if(r){const u=n.localNames=[];for(let f=0;f<r.length;f+=2){const _=o[r[f+1]];if(null==_)throw new ze(-301,!1);u.push(r[f],_)}}}(o,u,f)}o.mergedAttrs=gn(o.mergedAttrs,o.attrs)}function sm(n,r,o,u,f,_){for(let oe=0;oe<u.length;oe++)ul(_s(o,r),n,u[oe].type);!function Xm(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}(o,n.data.length,u.length);for(let oe=0;oe<u.length;oe++){const Re=u[oe];Re.providersResolver&&Re.providersResolver(Re)}let w=!1,N=!1,z=xh(n,r,u.length,null);for(let oe=0;oe<u.length;oe++){const Re=u[oe];o.mergedAttrs=gn(o.mergedAttrs,Re.hostAttrs),e_(n,o,r,z,Re),sg(z,Re,f),null!==Re.contentQueries&&(o.flags|=4),(null!==Re.hostBindings||null!==Re.hostAttrs||0!==Re.hostVars)&&(o.flags|=64);const it=Re.type.prototype;!w&&(it.ngOnChanges||it.ngOnInit||it.ngDoCheck)&&((n.preOrderHooks??=[]).push(o.index),w=!0),!N&&(it.ngOnChanges||it.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(o.index),N=!0),z++}!function cf(n,r,o){const f=r.directiveEnd,_=n.data,w=r.attrs,N=[];let z=null,oe=null;for(let Re=r.directiveStart;Re<f;Re++){const it=_[Re],jt=o?o.get(it):null,Ln=jt?jt.outputs:null;z=Mh(it.inputs,Re,z,jt?jt.inputs:null),oe=Mh(it.outputs,Re,oe,Ln);const tr=null===z||null===w||Fr(r)?null:lm(z,Re,w);N.push(tr)}null!==z&&(z.hasOwnProperty("class")&&(r.flags|=8),z.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=N,r.inputs=z,r.outputs=oe}(n,o,_)}function rg(n,r,o){const u=o.directiveStart,f=o.directiveEnd,_=o.index,w=function Ji(){return Gn.lFrame.currentDirectiveIndex}();try{br(_);for(let N=u;N<f;N++){const z=n.data[N],oe=r[N];hu(N),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&Qm(z,oe)}}finally{br(-1),hu(w)}}function Qm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function ig(n,r,o){r.componentOffset=o,(n.components??=[]).push(r.index)}function sg(n,r,o){if(o){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)o[r.exportAs[u]]=n;ii(r)&&(o[""]=n)}}function e_(n,r,o,u,f){n.data[u]=f;const _=f.factory||(f.factory=$o(f.type)),w=new Be(_,ii(f),Qd);n.blueprint[u]=w,o[u]=w,function Xy(n,r,o,u,f){const _=f.hostBindings;if(_){let w=n.hostBindingOpCodes;null===w&&(w=n.hostBindingOpCodes=[]);const N=~r.index;(function om(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(w)!=N&&w.push(N),w.push(o,u,_)}}(n,r,u,xh(n,o,f.hostVars,Yi),f)}function sd(n,r,o,u,f,_){const w=Ir(n,r);!function ip(n,r,o,u,f,_,w){if(null==_)n.removeAttribute(r,f,o);else{const N=null==w?_e(_):w(_,u||"",f);n.setAttribute(r,f,N,o)}}(r[ni],w,_,n.value,o,u,f)}function um(n,r,o,u,f,_){const w=_[r];if(null!==w)for(let N=0;N<w.length;)hf(u,o,w[N++],w[N++],w[N++])}function hf(n,r,o,u,f){const _=Ii(null);try{null!==n.setInput?n.setInput(r,f,o,u):r[u]=f}finally{Ii(_)}}function lm(n,r,o){let u=null,f=0;for(;f<o.length;){const _=o[f];if(0!==_)if(5!==_){if("number"==typeof _)break;if(n.hasOwnProperty(_)){null===u&&(u=[]);const w=n[_];for(let N=0;N<w.length;N+=2)if(w[N]===r){u.push(_,w[N+1],o[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function Jm(n,r,o,u){return[n,!0,!1,r,null,0,u,o,null,null,null]}function og(n,r){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const _=o[u+1];if(-1!==_){const w=n.data[_];fu(o[u]),w.contentQueries(2,r[_],_)}}}function ag(n,r){return n[As]?n[xo][ws]=r:n[As]=r,n[xo]=r,r}function ff(n,r,o){fu(0);const u=Ii(null);try{r(n,o)}finally{Ii(u)}}function ug(n){return n[po]||(n[po]=[])}function cm(n){return n.cleanup||(n.cleanup=[])}function pf(n,r){const o=n[Ys],u=o?o.get(bh,null):null;u&&u.handleError(r)}function dm(n,r,o,u,f){for(let _=0;_<o.length;){const w=o[_++],N=o[_++];hf(n.data[w],r[w],u,N,f)}}function r_(n,r){const o=kr(r,n),u=o[zn];!function hm(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])}(u,o);const f=o[Fi];null!==f&&null===o[wo]&&(o[wo]=aa(f,o[Ys])),fm(u,o,o[Hi])}function fm(n,r,o){Cu(r);try{const u=n.viewQuery;null!==u&&ff(1,u,o);const f=n.template;null!==f&&Ym(n,r,f,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&og(n,r),n.staticViewQueries&&ff(2,n.viewQuery,o);const _=n.components;null!==_&&function pm(n,r){for(let o=0;o<r.length;o++)r_(n,r[o])}(r,_)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[$r]&=-5,qn()}}let ym=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(o,u,f){const _=typeof Zone>"u"?null:Zone.current,w=new oo(o,oe=>{this.all.has(oe)&&this.queue.set(oe,_)},f);let N;this.all.add(w),w.notify();const z=()=>{w.cleanup(),N?.(),this.all.delete(w),this.queue.delete(w)};return N=u?.onDestroy(z),{destroy:z}}flush(){if(0!==this.queue.size)for(const[o,u]of this.queue)this.queue.delete(o),u?u.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=On({token:n,providedIn:"root",factory:()=>new n}),n})();function cg(n,r,o){let u=o?n.styles:null,f=o?n.classes:null,_=0;if(null!==r)for(let w=0;w<r.length;w++){const N=r[w];"number"==typeof N?_=N:1==_?f=j(f,N):2==_&&(u=j(u,N+": "+r[++w]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=f:n.classesWithoutHost=f}function Ph(n,r,o,u,f=!1){for(;null!==o;){const _=r[o.index];if(null!==_&&u.push(Nr(_)),hr(_)){for(let N=At;N<_.length;N++){const z=_[N],oe=z[zn].firstChild;null!==oe&&Ph(z[zn],z,oe,u)}_[Ce]!==_[Fi]&&u.push(_[Ce])}const w=o.type;if(8&w)Ph(n,r,o.child,u);else if(32&w){const N=yl(o,r);let z;for(;z=N();)u.push(z)}else if(16&w){const N=Wh(r,o);if(Array.isArray(N))u.push(...N);else{const z=Cc(r[Wi]);Ph(z[zn],z,N,u,!0)}}o=f?o.projectionNext:o.next}return u}function dc(n,r,o,u=!0){const f=r[lo].rendererFactory;f.begin&&f.begin();try{gf(n,r,n.template,o)}catch(w){throw u&&pf(r,w),w}finally{f.end&&f.end(),r[lo].effectManager?.flush()}}function gf(n,r,o,u){const f=r[$r];if(256!=(256&f)){r[lo].effectManager?.flush(),Cu(r);try{Me(r),function ar(n){return Gn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Ym(n,r,o,2,u);const w=3==(3&f);if(w){const oe=n.preOrderCheckHooks;null!==oe&&ga(r,oe,null)}else{const oe=n.preOrderHooks;null!==oe&&R(r,oe,0,null),$(r,0)}if(function o_(n){for(let r=ic(n);null!==r;r=_l(r)){if(!r[Li])continue;const o=r[nt];for(let u=0;u<o.length;u++){ot(o[u])}}}(r),function s_(n){for(let r=ic(n);null!==r;r=_l(r))for(let o=At;o<r.length;o++){const u=r[o],f=u[zn];V(u)&&gf(f,u,f.template,u[Hi])}}(r),null!==n.contentQueries&&og(n,r),w){const oe=n.contentCheckHooks;null!==oe&&ga(r,oe)}else{const oe=n.contentHooks;null!==oe&&R(r,oe,1),$(r,1)}!function qm(n,r){const o=n.hostBindingOpCodes;if(null===o)return;const u=Xf(r,ea);try{for(let f=0;f<o.length;f++){const _=o[f];if(_<0)br(~_);else{const w=_,N=o[++f],z=o[++f];Pn(N,w),u.runInContext(z,2,r[w])}}}finally{null===r[ea]&&Jf(r,ea),br(-1)}}(n,r);const N=n.components;null!==N&&function l(n,r){for(let o=0;o<r.length;o++)vm(n,r[o])}(r,N);const z=n.viewQuery;if(null!==z&&ff(2,z,u),w){const oe=n.viewCheckHooks;null!==oe&&ga(r,oe)}else{const oe=n.viewHooks;null!==oe&&R(r,oe,2),$(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[$r]&=-73,ln(r)}finally{qn()}}}function vm(n,r){const o=kr(r,n);if(V(o)){const u=o[zn];80&o[$r]?gf(u,o,u.template,o[Hi]):o[uo]>0&&Em(o)}}function Em(n){for(let u=ic(n);null!==u;u=_l(u))for(let f=At;f<u.length;f++){const _=u[f];if(V(_))if(1024&_[$r]){const w=_[zn];gf(w,_,w.template,_[Hi])}else _[uo]>0&&Em(_)}const o=n[zn].components;if(null!==o)for(let u=0;u<o.length;u++){const f=kr(o[u],n);V(f)&&f[uo]>0&&Em(f)}}class m{get rootNodes(){const r=this._lView,o=r[zn];return Ph(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Hi]}set context(r){this._lView[Hi]=r}get destroyed(){return 256==(256&this._lView[$r])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Vi];if(hr(r)){const o=r[ce],u=o?o.indexOf(this):-1;u>-1&&(el(r,u),ou(o,u))}this._attachedToViewContainer=!1}sc(this._lView[zn],this._lView)}onDestroy(r){!function _r(n,r){if(256==(256&n[$r]))throw new ze(911,!1);null===n[Po]&&(n[Po]=[]),n[Po].push(r)}(this._lView,r)}markForCheck(){Kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[$r]&=-129}reattach(){this._lView[$r]|=128}detectChanges(){dc(this._lView[zn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wc(n,r){vd(n,r,r[ni],2,null,null)}(this._lView[zn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=r}}class S extends m{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;dc(r[zn],r,r[Hi],!1)}checkNoChanges(){}get context(){return null}}class Q extends Yf{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=xt(r);return new kt(o,this.ngModule)}}function Ie(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class Ct{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,u){u=ai(u);const f=this.injector.get(r,Zf,u);return f!==Zf||o===Zf?f:this.parentInjector.get(r,o,u)}}class kt extends rd{get inputs(){return Ie(this.componentDef.inputs)}get outputs(){return Ie(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function An(n){return n.map(Zt).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,u,f){let _=(f=f||this.ngModule)instanceof Jr?f:f?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const w=_?new Ct(r,_):r,N=w.get(gs,null);if(null===N)throw new ze(407,!1);const Re={rendererFactory:N,sanitizer:w.get(Kf,null),effectManager:w.get(ym,null)},it=N.createRenderer(null,this.componentDef),jt=this.componentDef.selectors[0][0]||"div",on=u?function Jg(n,r,o,u){const _=u.get(Vm,!1)||o===X.ShadowDom,w=n.selectRootElement(r,_);return function em(n){tg(n)}(w),w}(it,u,this.componentDef.encapsulation,w):Wc(it,jt,function qe(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(jt)),Ln=this.componentDef.onPush?576:528,tr=rp(0,null,null,1,0,null,null,null,null,null,null),Rr=ep(null,tr,null,Ln,null,null,Re,it,w,null,null);let yi,jn;Cu(Rr);try{const Ki=this.componentDef;let Xs,Jo=null;Ki.findHostDirectiveDefs?(Xs=[],Jo=new Map,Ki.findHostDirectiveDefs(Ki,Xs,Jo),Xs.push(Ki)):Xs=[Ki];const $h=function Vn(n,r){const o=n[zn],u=Yr;return n[u]=r,Ah(o,u,2,"#host",null)}(Rr,on),kI=function Yn(n,r,o,u,f,_,w){const N=f[zn];!function Lr(n,r,o,u){for(const f of n)r.mergedAttrs=gn(r.mergedAttrs,f.hostAttrs);null!==r.mergedAttrs&&(cg(r,r.mergedAttrs,!0),null!==o&&Sp(u,o,r))}(u,n,r,w);let z=null;null!==r&&(z=aa(r,f[Ys]));const oe=_.rendererFactory.createRenderer(r,o),Re=ep(f,Km(o),null,o.onPush?64:16,f[n.index],n,_,oe,null,null,z);return N.firstCreatePass&&ig(N,n,u.length-1),ag(f,Re),f[n.index]=Re}($h,on,Ki,Xs,Rr,Re,it);jn=Oo(tr,Yr),on&&function Ri(n,r,o,u){if(u)Or(n,o,["ng-version",to.full]);else{const{attrs:f,classes:_}=function yr(n){const r=[],o=[];let u=1,f=2;for(;u<n.length;){let _=n[u];if("string"==typeof _)2===f?""!==_&&r.push(_,n[++u]):8===f&&o.push(_);else{if(!er(f))break;f=_}u++}return{attrs:r,classes:o}}(r.selectors[0]);f&&Or(n,o,f),_&&_.length>0&&Mf(n,o,_.join(" "))}}(it,Ki,on,u),void 0!==o&&function Ss(n,r,o){const u=n.projection=[];for(let f=0;f<r.length;f++){const _=o[f];u.push(null!=_?Array.from(_):null)}}(jn,this.ngContentSelectors,o),yi=function oi(n,r,o,u,f,_){const w=Gs(),N=f[zn],z=Ir(w,f);sm(N,f,w,o,null,u);for(let Re=0;Re<o.length;Re++)sa(Gu(f,N,w.directiveStart+Re,w),f);rg(N,f,w),z&&sa(z,f);const oe=Gu(f,N,w.directiveStart+w.componentOffset,w);if(n[Hi]=f[Hi]=oe,null!==_)for(const Re of _)Re(oe,r);return tp(N,w,n),oe}(kI,Ki,Xs,Jo,Rr,[bi]),fm(tr,Rr,null)}finally{qn()}return new rn(this.componentType,yi,Yd(jn,Rr),Rr,jn)}}class rn extends Ch{constructor(r,o,u,f,_){super(),this.location=u,this._rootLView=f,this._tNode=_,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new S(f),this.componentType=r}setInput(r,o){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const _=this._rootLView;dm(_[zn],_,f,r,o),this.previousInputValues.set(r,o),Kd(kr(this._tNode.index,_))}}get injector(){return new Au(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function bi(){const n=Gs();pc(Fn()[zn],n)}function Os(n){let r=function ks(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;r;){let f;if(ii(n))f=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ze(903,!1);f=r.\u0275dir}if(f){if(o){u.push(f);const w=n;w.inputs=Ra(n.inputs),w.declaredInputs=Ra(n.declaredInputs),w.outputs=Ra(n.outputs);const N=f.hostBindings;N&&Rc(n,N);const z=f.viewQuery,oe=f.contentQueries;if(z&&wl(n,z),oe&&fa(n,oe),Pe(n.inputs,f.inputs),Pe(n.declaredInputs,f.declaredInputs),Pe(n.outputs,f.outputs),ii(f)&&f.data.animation){const Re=n.data;Re.animation=(Re.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let w=0;w<_.length;w++){const N=_[w];N&&N.ngInherit&&N(n),N===Os&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Cl(n){let r=0,o=null;for(let u=n.length-1;u>=0;u--){const f=n[u];f.hostVars=r+=f.hostVars,f.hostAttrs=gn(f.hostAttrs,o=gn(o,f.hostAttrs))}}(u)}function Ra(n){return n===$e?{}:n===Se?[]:n}function wl(n,r){const o=n.viewQuery;n.viewQuery=o?(u,f)=>{r(u,f),o(u,f)}:r}function fa(n,r){const o=n.contentQueries;n.contentQueries=o?(u,f,_)=>{r(u,f,_),o(u,f,_)}:r}function Rc(n,r){const o=n.hostBindings;n.hostBindings=o?(u,f)=>{r(u,f),o(u,f)}:r}function op(n){return!!dg(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function dg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function od(n,r,o){return n[r]=o}function du(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Rh(n,r,o,u){const f=du(n,r,o);return du(n,r+1,u)||f}function l_(n,r,o,u){const f=Fn();return du(f,Cr(),r)&&(Di(),sd(Ds(),f,n,r,o,u)),l_}function fg(n,r,o,u){return du(n,Cr(),o)?r+_e(o)+u:Yi}function X_(n,r,o,u,f,_,w,N){const z=Fn(),oe=Di(),Re=n+Yr,it=oe.firstCreatePass?function dy(n,r,o,u,f,_,w,N,z){const oe=r.consts,Re=Ah(r,n,4,w||null,Y(oe,N));df(r,o,Re,Y(oe,z)),pc(r,Re);const it=Re.tView=rp(2,Re,u,f,_,r.directiveRegistry,r.pipeRegistry,null,r.schemas,oe,null);return null!==r.queries&&(r.queries.template(r,Re),it.queries=r.queries.embeddedTView(Re)),Re}(Re,oe,z,r,o,u,f,_,w):oe.data[Re];cs(it,!1);const jt=J_(oe,z,it,n);gu()&&Fu(oe,z,jt,it),sa(jt,z),ag(z,z[Re]=Jm(jt,z,jt,it)),mi(it)&&Xg(oe,z,it),null!=w&&np(z,it,N)}let J_=function v_(n,r,o,u){return wu(!0),r[ni].createComment("")};function mf(n){return Ta(function xd(){return Gn.lFrame.contextLView}(),Yr+n)}function Dg(n,r,o){const u=Fn();return du(u,Cr(),r)&&Gl(Di(),Ds(),u,n,r,u[ni],o,!1),Dg}function hp(n,r,o,u,f){const w=f?"class":"style";dm(n,o,r.inputs[w],w,u)}function Ig(n,r,o,u){const f=Fn(),_=Di(),w=Yr+n,N=f[ni],z=_.firstCreatePass?function tv(n,r,o,u,f,_){const w=r.consts,z=Ah(r,n,2,u,Y(w,f));return df(r,o,z,Y(w,_)),null!==z.attrs&&cg(z,z.attrs,!1),null!==z.mergedAttrs&&cg(z,z.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,z),z}(w,_,f,r,o,u):_.data[w],oe=nv(_,f,z,N,r,n);f[w]=oe;const Re=mi(z);return cs(z,!0),Sp(N,oe,z),32!=(32&z.flags)&&gu()&&Fu(_,f,oe,z),0===function ss(){return Gn.lFrame.elementDepthCount}()&&sa(oe,f),function ys(){Gn.lFrame.elementDepthCount++}(),Re&&(Xg(_,f,z),tp(_,z,f)),null!==u&&np(f,z),Ig}function fy(){let n=Gs();eo()?ol():(n=n.parent,cs(n,!1));const r=n;(function ka(n){return Gn.skipHydrationRootTNode===n})(r)&&function da(){Gn.skipHydrationRootTNode=null}(),function zs(){Gn.lFrame.elementDepthCount--}();const o=Di();return o.firstCreatePass&&(pc(o,n),fr(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Is(n){return 0!=(8&n.flags)}(r)&&hp(o,r,Fn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function ko(n){return 0!=(16&n.flags)}(r)&&hp(o,r,Fn(),r.stylesWithoutHost,!1),fy}function E_(n,r,o,u){return Ig(n,r,o,u),fy(),E_}let nv=(n,r,o,u,f,_)=>(wu(!0),Wc(u,f,function ra(){return Gn.lFrame.currentNamespace}()));function Jd(n,r,o){const u=Fn(),f=Di(),_=n+Yr,w=f.firstCreatePass?function rv(n,r,o,u,f){const _=r.consts,w=Y(_,u),N=Ah(r,n,8,"ng-container",w);return null!==w&&cg(N,w,!0),df(r,o,N,Y(_,f)),null!==r.queries&&r.queries.elementStart(r,N),N}(_,f,u,r,o):f.data[_];cs(w,!0);const N=gy(f,u,w,n);return u[_]=N,gu()&&Fu(f,u,N,w),sa(N,u),mi(w)&&(Xg(f,u,w),tp(f,w,u)),null!=o&&np(u,w),Jd}function Cm(){let n=Gs();const r=Di();return eo()?ol():(n=n.parent,cs(n,!1)),r.firstCreatePass&&(pc(r,n),fr(n)&&r.queries.elementEnd(n)),Cm}function py(n,r,o){return Jd(n,r,o),Cm(),py}let gy=(n,r,o,u)=>(wu(!0),Co(r[ni],""));function bm(){return Fn()}function Cg(n){return!!n&&"function"==typeof n.then}function C_(n){return!!n&&"function"==typeof n.subscribe}function fp(n,r,o,u){const f=Fn(),_=Di(),w=Gs();return function w_(n,r,o,u,f,_,w){const N=mi(u),oe=n.firstCreatePass&&cm(n),Re=r[Hi],it=ug(r);let jt=!0;if(3&u.type||w){const tr=Ir(u,r),Rr=w?w(tr):tr,yi=it.length,jn=w?Xs=>w(Nr(Xs[u.index])):u.index;let Ki=null;if(!w&&N&&(Ki=function my(n,r,o,u){const f=n.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const w=f[_];if(w===o&&f[_+1]===u){const N=r[po],z=f[_+2];return N.length>z?N[z]:null}"string"==typeof w&&(_+=2)}return null}(n,r,f,u.index)),null!==Ki)(Ki.__ngLastListenerFn__||Ki).__ngNextListenerFn__=_,Ki.__ngLastListenerFn__=_,jt=!1;else{_=wg(u,r,Re,_,!1);const Xs=o.listen(Rr,f,_);it.push(_,Xs),oe&&oe.push(f,jn,yi,yi+1)}}else _=wg(u,r,Re,_,!1);const on=u.outputs;let Ln;if(jt&&null!==on&&(Ln=on[f])){const tr=Ln.length;if(tr)for(let Rr=0;Rr<tr;Rr+=2){const Jo=r[Ln[Rr]][Ln[Rr+1]].subscribe(_),$h=it.length;it.push(_,Jo),oe&&oe.push(f,u.index,$h,-($h+1))}}}(_,f,f[ni],w,n,r,u),fp}function yy(n,r,o,u){try{return si(6,r,o),!1!==o(u)}catch(f){return pf(n,f),!1}finally{si(7,r,o)}}function wg(n,r,o,u,f){return function _(w){if(w===Function)return u;Kd(n.componentOffset>-1?kr(n.index,r):r);let z=yy(r,o,u,w),oe=_.__ngNextListenerFn__;for(;oe;)z=yy(r,o,oe,w)&&z,oe=oe.__ngNextListenerFn__;return f&&!1===z&&w.preventDefault(),z}}function kh(n=1){return function pu(n){return(Gn.lFrame.contextLView=function Zl(n,r){for(;n>0;)r=r[no],n--;return r}(n,Gn.lFrame.contextLView))[Hi]}(n)}function Tm(n,r){let o=null;const u=function hi(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(n);for(let f=0;f<r.length;f++){const _=r[f];if("*"!==_){if(null===u?Bs(n,_,!0):J(u,_))return f}else o=f}return o}function sv(n){const r=Fn()[Wi][$s];if(!r.projection){const u=r.projection=xa(n?n.length:1,null),f=u.slice();let _=r.child;for(;null!==_;){const w=n?Tm(_,n):0;null!==w&&(f[w]?f[w].projectionNext=_:u[w]=_,f[w]=_),_=_.next}}}function pp(n,r=0,o){const u=Fn(),f=Di(),_=Ah(f,Yr+n,16,null,o||null);null===_.projection&&(_.projection=r),ol(),(!u[wo]||co())&&32!=(32&_.flags)&&function xf(n,r,o){qh(r[ni],0,r,o,$l(n,o,r),ch(o.parent||r[$s],o,r))}(f,u,_)}function ov(n,r,o){return b_(n,"",r,"",o),ov}function b_(n,r,o,u,f){const _=Fn(),w=fg(_,r,o,u);return w!==Yi&&Gl(Di(),Ds(),_,n,w,_[ni],f,!1),b_}function gp(n,r){return n<<17|r<<2}function yf(n){return n>>17&32767}function vy(n){return 2|n}function _f(n){return(131068&n)>>2}function Ey(n,r){return-131069&n|r<<2}function Dy(n){return 1|n}function _0(n,r,o,u,f){const _=n[o+1],w=null===r;let N=u?yf(_):_f(_),z=!1;for(;0!==N&&(!1===z||w);){const Re=n[N+1];v0(n[N],r)&&(z=!0,n[N+1]=u?Dy(Re):vy(Re)),N=u?yf(Re):_f(Re)}z&&(n[o+1]=u?vy(_):Dy(_))}function v0(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&vu(n,r)>=0}const Ku={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function E0(n){return n.substring(Ku.key,Ku.keyEnd)}function bg(n,r){const o=Ku.textEnd;return o===r?-1:(r=Ku.keyEnd=function Ef(n,r,o){for(;r<o&&n.charCodeAt(r)>32;)r++;return r}(n,Ku.key=r,o),Tg(n,r,o))}function Tg(n,r,o){for(;r<o&&n.charCodeAt(r)<=32;)r++;return r}function Iy(n,r){return function Tl(n,r,o,u){const f=Fn(),_=Di(),w=Wo(2);_.firstUpdatePass&&_v(_,n,w,u),r!==Yi&&du(f,w,r)&&Ev(_,_.data[es()],f,f[ni],n,f[w+1]=function Dv(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Xe(Jc(n)))),n}(r,o),u,w)}(n,r,null,!0),Iy}function x_(n){!function Oc(n,r,o,u){const f=Di(),_=Wo(2);f.firstUpdatePass&&_v(f,null,_,u);const w=Fn();if(o!==Yi&&du(w,_,o)){const N=f.data[es()];if(Lh(N,u)&&!w0(f,_)){let z=u?N.classesWithoutHost:N.stylesWithoutHost;null!==z&&(o=j(z,o||"")),hp(f,N,w,o,u)}else!function P0(n,r,o,u,f,_,w,N){f===Yi&&(f=Se);let z=0,oe=0,Re=0<f.length?f[0]:null,it=0<_.length?_[0]:null;for(;null!==Re||null!==it;){const jt=z<f.length?f[z+1]:void 0,on=oe<_.length?_[oe+1]:void 0;let tr,Ln=null;Re===it?(z+=2,oe+=2,jt!==on&&(Ln=it,tr=on)):null===it||null!==Re&&Re<it?(z+=2,Ln=Re):(oe+=2,Ln=it,tr=on),null!==Ln&&Ev(n,r,o,u,Ln,tr,w,N),Re=z<f.length?f[z]:null,it=oe<_.length?_[oe]:null}}(f,N,w,w[ni],w[_+1],w[_+1]=function PE(n,r,o){if(null==o||""===o)return Se;const u=[],f=Jc(o);if(Array.isArray(f))for(let _=0;_<f.length;_++)n(u,f[_],!0);else if("object"==typeof f)for(const _ in f)f.hasOwnProperty(_)&&n(u,_,f[_]);else"string"==typeof f&&r(u,f);return u}(n,r,o),u,_)}}(M0,th,n,!0)}function th(n,r){for(let o=function Fh(n){return function S_(n){Ku.key=0,Ku.keyEnd=0,Ku.value=0,Ku.valueEnd=0,Ku.textEnd=n.length}(n),bg(n,Tg(n,0,Ku.textEnd))}(r);o>=0;o=bg(r,o))Ho(n,E0(r),!0)}function w0(n,r){return r>=n.expandoStartIndex}function _v(n,r,o,u){const f=n.data;if(null===f[o+1]){const _=f[es()],w=w0(n,o);Lh(_,u)&&null===r&&!w&&(r=!1),r=function b0(n,r,o,u){const f=function No(n){const r=Gn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let _=u?r.residualClasses:r.residualStyles;if(null===f)0===(u?r.classBindings:r.styleBindings)&&(o=Cy(o=vv(null,n,r,o,u),r.attrs,u),_=null);else{const w=r.directiveStylingLast;if(-1===w||n[w]!==f)if(o=vv(f,n,r,o,u),null===_){let z=function T0(n,r,o){const u=o?r.classBindings:r.styleBindings;if(0!==_f(u))return n[yf(u)]}(n,r,u);void 0!==z&&Array.isArray(z)&&(z=vv(null,n,r,z[1],u),z=Cy(z,r.attrs,u),function S0(n,r,o,u){n[yf(o?r.classBindings:r.styleBindings)]=u}(n,r,u,z))}else _=function A0(n,r,o){let u;const f=r.directiveEnd;for(let _=1+r.directiveStylingLast;_<f;_++)u=Cy(u,n[_].hostAttrs,o);return Cy(u,r.attrs,o)}(n,r,u)}return void 0!==_&&(u?r.residualClasses=_:r.residualStyles=_),o}(f,_,r,u),function y0(n,r,o,u,f,_){let w=_?r.classBindings:r.styleBindings,N=yf(w),z=_f(w);n[u]=o;let Re,oe=!1;if(Array.isArray(o)?(Re=o[1],(null===Re||vu(o,Re)>0)&&(oe=!0)):Re=o,f)if(0!==z){const jt=yf(n[N+1]);n[u+1]=gp(jt,N),0!==jt&&(n[jt+1]=Ey(n[jt+1],u)),n[N+1]=function hv(n,r){return 131071&n|r<<17}(n[N+1],u)}else n[u+1]=gp(N,0),0!==N&&(n[N+1]=Ey(n[N+1],u)),N=u;else n[u+1]=gp(z,0),0===N?N=u:n[z+1]=Ey(n[z+1],u),z=u;oe&&(n[u+1]=vy(n[u+1])),_0(n,Re,u,!0),_0(n,Re,u,!1),function xE(n,r,o,u,f){const _=f?n.residualClasses:n.residualStyles;null!=_&&"string"==typeof r&&vu(_,r)>=0&&(o[u+1]=Dy(o[u+1]))}(r,Re,n,u,_),w=gp(N,z),_?r.classBindings=w:r.styleBindings=w}(f,_,r,o,w,u)}}function vv(n,r,o,u,f){let _=null;const w=o.directiveEnd;let N=o.directiveStylingLast;for(-1===N?N=o.directiveStart:N++;N<w&&(_=r[N],u=Cy(u,_.hostAttrs,f),_!==n);)N++;return null!==n&&(o.directiveStylingLast=N),u}function Cy(n,r,o){const u=o?1:2;let f=-1;if(null!==r)for(let _=0;_<r.length;_++){const w=r[_];"number"==typeof w?f=w:f===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ho(n,w,!!o||r[++_]))}return void 0===n?null:n}function M0(n,r,o){const u=String(r);""!==u&&!u.includes(" ")&&Ho(n,u,o)}function Ev(n,r,o,u,f,_,w,N){if(!(3&r.type))return;const z=n.data,oe=z[N+1],Re=function fv(n){return 1==(1&n)}(oe)?R0(z,r,o,f,_f(oe),w):void 0;wy(Re)||(wy(_)||function m0(n){return 2==(2&n)}(oe)&&(_=R0(z,null,o,f,N,w)),function bp(n,r,o,u,f){if(r)f?n.addClass(o,u):n.removeClass(o,u);else{let _=-1===u.indexOf("-")?void 0:va.DashCase;null==f?n.removeStyle(o,u,_):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),_|=va.Important),n.setStyle(o,u,f,_))}}(u,w,eu(es(),o),f,_))}function R0(n,r,o,u,f,_){const w=null===r;let N;for(;f>0;){const z=n[f],oe=Array.isArray(z),Re=oe?z[1]:z,it=null===Re;let jt=o[f+1];jt===Yi&&(jt=it?Se:void 0);let on=it?fl(jt,u):Re===u?jt:void 0;if(oe&&!wy(on)&&(on=fl(z,u)),wy(on)&&(N=on,w))return N;const Ln=n[f+1];f=w?yf(Ln):_f(Ln)}if(null!==r){let z=_?r.residualClasses:r.residualStyles;null!=z&&(N=fl(z,u))}return N}function wy(n){return void 0!==n}function Lh(n,r){return 0!=(n.flags&(r?8:16))}function Iv(n,r=""){const o=Fn(),u=Di(),f=n+Yr,_=u.firstCreatePass?Ah(u,f,1,r,null):u.data[f],w=Cv(u,o,_,r,n);o[f]=w,gu()&&Fu(u,o,w,_),cs(_,!1)}let Cv=(n,r,o,u,f)=>(wu(!0),function oh(n,r){return n.createText(r)}(r[ni],u));function M_(n){return by("",n,""),M_}function by(n,r,o){const u=Fn(),f=fg(u,n,r,o);return f!==Yi&&function Pc(n,r,o){const u=eu(r,n);!function ah(n,r,o){n.setValue(r,o)}(n[ni],u,o)}(u,es(),f),by}const vp=void 0;var Bv=["en",[["a","p"],["AM","PM"],vp],[["AM","PM"],vp,vp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vp,"{1} 'at' {0}",vp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $0(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Sg={};function Ag(n){const r=function Vv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=My(r);if(o)return o;const u=r.split("-")[0];if(o=My(u),o)return o;if("en"===u)return Bv;throw new ze(701,!1)}function $v(n){return Ag(n)[ki.PluralCase]}function My(n){return n in Sg||(Sg[n]=ge.ng&&ge.ng.common&&ge.ng.common.locales&&ge.ng.common.locales[n]),Sg[n]}var ki=(()=>((ki=ki||{})[ki.LocaleId=0]="LocaleId",ki[ki.DayPeriodsFormat=1]="DayPeriodsFormat",ki[ki.DayPeriodsStandalone=2]="DayPeriodsStandalone",ki[ki.DaysFormat=3]="DaysFormat",ki[ki.DaysStandalone=4]="DaysStandalone",ki[ki.MonthsFormat=5]="MonthsFormat",ki[ki.MonthsStandalone=6]="MonthsStandalone",ki[ki.Eras=7]="Eras",ki[ki.FirstDayOfWeek=8]="FirstDayOfWeek",ki[ki.WeekendRange=9]="WeekendRange",ki[ki.DateFormat=10]="DateFormat",ki[ki.TimeFormat=11]="TimeFormat",ki[ki.DateTimeFormat=12]="DateTimeFormat",ki[ki.NumberSymbols=13]="NumberSymbols",ki[ki.NumberFormats=14]="NumberFormats",ki[ki.CurrencyCode=15]="CurrencyCode",ki[ki.CurrencySymbol=16]="CurrencySymbol",ki[ki.CurrencyName=17]="CurrencyName",ki[ki.Currencies=18]="Currencies",ki[ki.Directionality=19]="Directionality",ki[ki.PluralCase=20]="PluralCase",ki[ki.ExtraData=21]="ExtraData",ki))();const Ep="en-US";let zv=Ep;function W0(n,r,o,u,f){if(n=we(n),Array.isArray(n))for(let _=0;_<n.length;_++)W0(n[_],r,o,u,f);else{const _=Di(),w=Fn();let N=xe(n)?n:we(n.provide),z=Ac(n);const oe=Gs(),Re=1048575&oe.providerIndexes,it=oe.directiveStart,jt=oe.providerIndexes>>20;if(xe(n)||!n.multi){const on=new Be(z,f,Qd),Ln=Y0(N,r,f?Re:Re+jt,it);-1===Ln?(ul(_s(oe,w),_,N),q0(_,n,r.length),r.push(N),oe.directiveStart++,oe.directiveEnd++,f&&(oe.providerIndexes+=1048576),o.push(on),w.push(on)):(o[Ln]=on,w[Ln]=on)}else{const on=Y0(N,r,Re+jt,it),Ln=Y0(N,r,Re,Re+jt),Rr=Ln>=0&&o[Ln];if(f&&!Rr||!f&&!(on>=0&&o[on])){ul(_s(oe,w),_,N);const yi=function _C(n,r,o,u,f){const _=new Be(n,o,Qd);return _.multi=[],_.index=r,_.componentProviders=0,WE(_,f,u&&!o),_}(f?yC:mC,o.length,f,u,z);!f&&Rr&&(o[Ln].providerFactory=yi),q0(_,n,r.length,0),r.push(N),oe.directiveStart++,oe.directiveEnd++,f&&(oe.providerIndexes+=1048576),o.push(yi),w.push(yi)}else q0(_,n,on>-1?on:Ln,WE(o[f?Ln:on],z,!f&&u));!f&&u&&Rr&&o[Ln].componentProviders++}}}function q0(n,r,o,u){const f=xe(r),_=function Je(n){return!!n.useClass}(r);if(f||_){const z=(_?we(r.useClass):r).prototype.ngOnDestroy;if(z){const oe=n.destroyHooks||(n.destroyHooks=[]);if(!f&&r.multi){const Re=oe.indexOf(o);-1===Re?oe.push(o,[u,z]):oe[Re+1].push(u,z)}else oe.push(o,z)}}}function WE(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function Y0(n,r,o,u){for(let f=o;f<u;f++)if(r[f]===n)return f;return-1}function mC(n,r,o,u){return K0(this.multi,[])}function yC(n,r,o,u){const f=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,N=Gu(o,o[zn],this.providerFactory.index,u);_=N.slice(0,w),K0(f,_);for(let z=w;z<N.length;z++)_.push(N[z])}else _=[],K0(f,_);return _}function K0(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function qE(n,r=[]){return o=>{o.providersResolver=(u,f)=>function gC(n,r,o){const u=Di();if(u.firstCreatePass){const f=ii(n);W0(o,u.data,u.blueprint,f,!0),W0(r,u.data,u.blueprint,f,!1)}}(u,f?f(n):n,r)}}class Oy{}class YE{}function vC(n,r){return new Z0(n,r??null,[])}class Z0 extends Oy{constructor(r,o,u){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Q(this);const f=Bn(r);this._bootstrapComponents=Td(f.bootstrap),this._r3Injector=Kg(r,o,[{provide:Oy,useValue:this},{provide:Yf,useValue:this.componentFactoryResolver},...u],Xe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Q0 extends YE{constructor(r){super(),this.moduleType=r}create(r){return new Z0(this.moduleType,r,[])}}class KE extends Oy{constructor(r){super(),this.componentFactoryResolver=new Q(this),this.instance=null;const o=new as([...r.providers,{provide:Oy,useValue:this},{provide:Yf,useValue:this.componentFactoryResolver}],r.parent||gr(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function ZE(n,r,o=null){return new KE({providers:n,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let DC=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=jp(0,o.type),f=u.length>0?ZE([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,f)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=On({token:n,providedIn:"environment",factory:()=>new n(Le(Jr))}),n})();function QE(n){n.getStandaloneInjector=r=>r.get(DC).getOrCreateStandaloneInjector(n)}function iD(n,r,o,u){return aD(Fn(),Ws(),n,r,o,u)}function sD(n,r,o,u,f){return uD(Fn(),Ws(),n,r,o,u,f)}function oD(n,r,o,u,f,_,w){return function cD(n,r,o,u,f,_,w,N,z){const oe=r+o;return function ad(n,r,o,u,f,_){const w=Rh(n,r,o,u);return Rh(n,r+2,f,_)||w}(n,oe,f,_,w,N)?od(n,oe+4,z?u.call(z,f,_,w,N):u(f,_,w,N)):L_(n,oe+4)}(Fn(),Ws(),n,r,o,u,f,_,w)}function L_(n,r){const o=n[r];return o===Yi?void 0:o}function aD(n,r,o,u,f,_){const w=r+o;return du(n,w,f)?od(n,w+1,_?u.call(_,f):u(f)):L_(n,w+1)}function uD(n,r,o,u,f,_,w){const N=r+o;return Rh(n,N,f,_)?od(n,N+2,w?u.call(w,f,_):u(f,_)):L_(n,N+2)}function hD(n,r){const o=Di();let u;const f=n+Yr;o.firstCreatePass?(u=function LC(n,r){if(r)for(let o=r.length-1;o>=0;o--){const u=r[o];if(n===u.name)return u}}(r,o.pipeRegistry),o.data[f]=u,u.onDestroy&&(o.destroyHooks??=[]).push(f,u.onDestroy)):u=o.data[f];const _=u.factory||(u.factory=$o(u.type)),w=Er(Qd);try{const N=Fo(!1),z=_();return Fo(N),function p0(n,r,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=u}(o,Fn(),f,z),z}finally{Er(w)}}function fD(n,r,o){const u=n+Yr,f=Fn(),_=Ta(f,u);return B_(f,u)?aD(f,Ws(),r,_.transform,o,_):_.transform(o)}function pD(n,r,o,u){const f=n+Yr,_=Fn(),w=Ta(_,f);return B_(_,f)?uD(_,Ws(),r,w.transform,o,u,w):w.transform(o,u)}function B_(n,r){return n[zn].data[r].pure}function J0(n){return r=>{setTimeout(n,void 0,r)}}const wf=class VC extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,u){let f=r,_=o||(()=>null),w=u;if(r&&"object"==typeof r){const z=r;f=z.next?.bind(z),_=z.error?.bind(z),w=z.complete?.bind(z)}this.__isAsync&&(_=J0(_),f&&(f=J0(f)),w&&(w=J0(w)));const N=super.subscribe({next:f,error:_,complete:w});return r instanceof h.w0&&r.add(N),N}};function HC(){return this._results[Symbol.iterator]()}class eE{get changes(){return this._changes||(this._changes=new wf)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=eE.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=HC)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const u=this;u.dirty=!1;const f=function Aa(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Ol(n,r,o){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let f=n[u],_=r[u];if(o&&(f=o(f),_=o(_)),_!==f)return!1}return!0}(u._results,f,o))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let U_=(()=>{class n{}return n.__NG_ELEMENT_ID__=GC,n})();const jC=U_,zC=class extends jC{constructor(r,o,u){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o,null)}createEmbeddedViewImpl(r,o,u){const f=this._declarationTContainer.tView,_=ep(this._declarationLView,f,r,16,null,f.declTNode,null,null,null,o||null,u||null);_[Mo]=this._declarationLView[this._declarationTContainer.index];const N=this._declarationLView[ri];return null!==N&&(_[ri]=N.createEmbeddedView(f)),fm(f,_,r),new m(_)}};function GC(){return Wv(Gs(),Fn())}function Wv(n,r){return 4&n.type?new zC(r,n,Yd(n,r)):null}let qv=(()=>{class n{}return n.__NG_ELEMENT_ID__=XC,n})();function XC(){return ED(Gs(),Fn())}const JC=qv,_D=class extends JC{constructor(r,o,u){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=u}get element(){return Yd(this._hostTNode,this._hostLView)}get injector(){return new Au(this._hostTNode,this._hostLView)}get parentInjector(){const r=Ml(this._hostTNode,this._hostLView);if(qo(r)){const o=Ql(r,this._hostLView),u=Hu(r);return new Au(o[zn].data[u+8],o)}return new Au(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=vD(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-At}createEmbeddedView(r,o,u){let f,_;"number"==typeof u?f=u:null!=u&&(f=u.index,_=u.injector);const N=r.createEmbeddedViewImpl(o||{},_,null);return this.insertImpl(N,f,false),N}createComponent(r,o,u,f,_){const w=r&&!function ma(n){return"function"==typeof n}(r);let N;if(w)N=o;else{const tr=o||{};N=tr.index,u=tr.injector,f=tr.projectableNodes,_=tr.environmentInjector||tr.ngModuleRef}const z=w?r:new kt(xt(r)),oe=u||this.parentInjector;if(!_&&null==z.ngModule){const Rr=(w?oe:this.parentInjector).get(Jr,null);Rr&&(_=Rr)}xt(z.componentType??{});const on=z.create(oe,f,null,_);return this.insertImpl(on.hostView,N,false),on}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,u){const f=r._lView,_=f[zn];if(function ue(n){return hr(n[Vi])}(f)){const z=this.indexOf(r);if(-1!==z)this.detach(z);else{const oe=f[Vi],Re=new _D(oe,oe[$s],oe[Vi]);Re.detach(Re.indexOf(r))}}const w=this._adjustIndex(o),N=this._lContainer;if(function El(n,r,o,u){const f=At+u,_=o.length;u>0&&(o[f-1][ws]=r),u<_-At?(r[ws]=o[f],Nl(o,At+u,r)):(o.push(r),r[ws]=null),r[Vi]=o;const w=r[Mo];null!==w&&o!==w&&function Yc(n,r){const o=n[nt];r[Wi]!==r[Vi][Vi][Wi]&&(n[Li]=!0),null===o?n[nt]=[r]:o.push(r)}(w,r);const N=r[ri];null!==N&&N.insertView(n),r[$r]|=128}(_,f,N,w),!u){const z=yd(w,N),oe=f[ni],Re=zi(oe,N[Ce]);null!==Re&&function Od(n,r,o,u,f,_){u[Fi]=f,u[$s]=r,vd(n,u,o,1,f,_)}(_,N[$s],oe,f,Re,z)}return r.attachToViewContainerRef(),Nl(nE(N),w,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=vD(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),u=el(this._lContainer,o);u&&(ou(nE(this._lContainer),o),sc(u[zn],u))}detach(r){const o=this._adjustIndex(r,-1),u=el(this._lContainer,o);return u&&null!=ou(nE(this._lContainer),o)?new m(u):null}_adjustIndex(r,o=0){return r??this.length+o}};function vD(n){return n[ce]}function nE(n){return n[ce]||(n[ce]=[])}function ED(n,r){let o;const u=r[n.index];return hr(u)?o=u:(o=Jm(u,r,null,n),r[n.index]=o,ag(r,o)),DD(o,r,n,u),new _D(o,n,r)}let DD=function ID(n,r,o,u){if(n[Ce])return;let f;f=8&o.type?Nr(u):function ew(n,r){const o=n[ni],u=o.createComment(""),f=Ir(r,n);return oc(o,zi(o,f),u,function Gh(n,r){return n.nextSibling(r)}(o,f),!1),u}(r,o),n[Ce]=f};class rE{constructor(r){this.queryList=r,this.matches=null}clone(){return new rE(this.queryList)}setDirty(){this.queryList.setDirty()}}class iE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const u=null!==r.contentQueries?r.contentQueries[0]:o.length,f=[];for(let _=0;_<u;_++){const w=o.getByIndex(_);f.push(this.queries[w.indexInDeclarationView].clone())}return new iE(f)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==PD(r,o).matches&&this.queries[o].setDirty()}}class CD{constructor(r,o,u=null){this.predicate=r,this.flags=o,this.read=u}}class sE{constructor(r=[]){this.queries=r}elementStart(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let u=0;u<this.length;u++){const f=null!==o?o.length:0,_=this.getByIndex(u).embeddedTView(r,f);_&&(_.indexInDeclarationView=u,null!==o?o.push(_):o=[_])}return null!==o?new sE(o):null}template(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class oE{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new oE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const _=u[f];this.matchTNodeWithReadOption(r,o,rw(o,_)),this.matchTNodeWithReadOption(r,o,Do(o,r,_,!1,!1))}else u===U_?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Do(o,r,u,!1,!1))}matchTNodeWithReadOption(r,o,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===nf||f===qv||f===U_&&4&o.type)this.addMatch(o.index,-2);else{const _=Do(o,r,f,!1,!1);null!==_&&this.addMatch(o.index,_)}else this.addMatch(o.index,u)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function rw(n,r){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===r)return o[u+1];return null}function sw(n,r,o,u){return-1===o?function iw(n,r){return 11&n.type?Yd(n,r):4&n.type?Wv(n,r):null}(r,n):-2===o?function ow(n,r,o){return o===nf?Yd(r,n):o===U_?Wv(r,n):o===qv?ED(r,n):void 0}(n,r,u):Gu(n,n[zn],o,r)}function wD(n,r,o,u){const f=r[ri].queries[u];if(null===f.matches){const _=n.data,w=o.matches,N=[];for(let z=0;z<w.length;z+=2){const oe=w[z];N.push(oe<0?null:sw(r,_[oe],w[z+1],o.metadata.read))}f.matches=N}return f.matches}function aE(n,r,o,u){const f=n.queries.getByIndex(o),_=f.matches;if(null!==_){const w=wD(n,r,f,o);for(let N=0;N<_.length;N+=2){const z=_[N];if(z>0)u.push(w[N/2]);else{const oe=_[N+1],Re=r[-z];for(let it=At;it<Re.length;it++){const jt=Re[it];jt[Mo]===jt[Vi]&&aE(jt[zn],jt,oe,u)}if(null!==Re[nt]){const it=Re[nt];for(let jt=0;jt<it.length;jt++){const on=it[jt];aE(on[zn],on,oe,u)}}}}}return u}function bD(n){const r=Fn(),o=Di(),u=fc();fu(u+1);const f=PD(o,u);if(n.dirty&&function tu(n){return 4==(4&n[$r])}(r)===(2==(2&f.metadata.flags))){if(null===f.matches)n.reset([]);else{const _=f.crossesNgTemplate?aE(o,r,u,[]):wD(o,r,f,u);n.reset(_,Mc),n.notifyOnChanges()}return!0}return!1}function TD(n,r,o){const u=Di();u.firstCreatePass&&(MD(u,new CD(n,r,o),-1),2==(2&r)&&(u.staticViewQueries=!0)),xD(u,Fn(),r)}function SD(n,r,o,u){const f=Di();if(f.firstCreatePass){const _=Gs();MD(f,new CD(r,o,u),_.index),function uw(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(f,n),2==(2&o)&&(f.staticContentQueries=!0)}xD(f,Fn(),o)}function AD(){return function aw(n,r){return n[ri].queries[r].queryList}(Fn(),fc())}function xD(n,r,o){const u=new eE(4==(4&o));(function tm(n,r,o,u){const f=ug(r);f.push(o),n.firstCreatePass&&cm(n).push(u,f.length-1)})(n,r,u,u.destroy),null===r[ri]&&(r[ri]=new iE),r[ri].queries.push(new rE(u))}function MD(n,r,o){null===n.queries&&(n.queries=new sE),n.queries.track(new oE(r,o))}function PD(n,r){return n.queries.getByIndex(r)}function RD(n,r){return Wv(n,r)}function uE(n){return!!Bn(n)}const KD=new Rs("Application Initializer");let fE=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,u)=>{this.resolve=o,this.reject=u}),this.appInits=Pr(KD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const f of this.appInits){const _=f();if(Cg(_))o.push(_);else if(C_(_)){const w=new Promise((N,z)=>{_.subscribe({complete:N,error:z})});o.push(w)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{u()}).catch(f=>{this.reject(f)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZD=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Kv=new Rs("LocaleId",{providedIn:"root",factory:()=>Pr(Kv,bn.Optional|bn.SkipSelf)||function xw(){return typeof $localize<"u"&&$localize.locale||Ep}()}),Mw=new Rs("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Pw{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Rw=(()=>{class n{compileModuleSync(o){return new Q0(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),_=Td(Bn(o).declarations).reduce((w,N)=>{const z=xt(N);return z&&w.push(new kt(z)),w},[]);return new Pw(u,_)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kw=(()=>Promise.resolve(0))();function pE(n){typeof Zone>"u"?kw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function JD(...n){}class hc{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wf(!1),this.onMicrotaskEmpty=new wf(!1),this.onStable=new wf(!1),this.onError=new wf(!1),typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&o,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Fw(){let n=ge.requestAnimationFrame,r=ge.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Uw(n){const r=()=>{!function Bw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ge,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,mE(n),n.isCheckStableRunning=!0,gE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),mE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,f,_,w,N)=>{try{return eI(n),o.invokeTask(f,_,w,N)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||n.shouldCoalesceRunChangeDetection)&&r(),tI(n)}},onInvoke:(o,u,f,_,w,N,z)=>{try{return eI(n),o.invoke(f,_,w,N,z)}finally{n.shouldCoalesceRunChangeDetection&&r(),tI(n)}},onHasTask:(o,u,f,_)=>{o.hasTask(f,_),u===f&&("microTask"==_.change?(n._hasPendingMicrotasks=_.microTask,mE(n),gE(n)):"macroTask"==_.change&&(n.hasPendingMacrotasks=_.macroTask))},onHandleError:(o,u,f,_)=>(o.handleError(f,_),n.runOutsideAngular(()=>n.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hc.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(hc.isInAngularZone())throw new ze(909,!1)}run(r,o,u){return this._inner.run(r,o,u)}runTask(r,o,u,f){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+f,r,Lw,JD,JD);try{return _.runTask(w,o,u)}finally{_.cancelTask(w)}}runGuarded(r,o,u){return this._inner.runGuarded(r,o,u)}runOutsideAngular(r){return this._outer.run(r)}}const Lw={};function gE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function mE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function eI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function tI(n){n._nesting--,gE(n)}class $w{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wf,this.onMicrotaskEmpty=new wf,this.onStable=new wf,this.onError=new wf}run(r,o,u){return r.apply(o,u)}runGuarded(r,o,u){return r.apply(o,u)}runOutsideAngular(r){return r()}runTask(r,o,u,f){return r.apply(o,u)}}const nI=new Rs("",{providedIn:"root",factory:rI});function rI(){const n=Pr(hc);let r=!0;const o=new K.y(f=>{r=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{f.next(r),f.complete()})}),u=new K.y(f=>{let _;n.runOutsideAngular(()=>{_=n.onStable.subscribe(()=>{hc.assertNotInAngularZone(),pE(()=>{!r&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(r=!0,f.next(!0))})})});const w=n.onUnstable.subscribe(()=>{hc.assertInAngularZone(),r&&(r=!1,n.runOutsideAngular(()=>{f.next(!1)}))});return()=>{_.unsubscribe(),w.unsubscribe()}});return(0,P.T)(o,u.pipe((0,Te.B)()))}const iI=new Rs(""),sI=new Rs("");let yE,Vw=(()=>{class n{constructor(o,u,f){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yE||(function Hw(n){yE=n}(f),f.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hc.assertNotInAngularZone(),pE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pE(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,f){let _=-1;u&&u>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:_,updateCb:f})}whenStable(o,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,f){return[]}}return n.\u0275fac=function(o){return new(o||n)(Le(hc),Le(oI),Le(sI))},n.\u0275prov=On({token:n,factory:n.\u0275fac}),n})(),oI=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return yE?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),xg=null;const aI=new Rs("AllowMultipleToken"),_E=new Rs("PlatformDestroyListeners"),vE=new Rs("appBootstrapListener");class Gw{constructor(r,o){this.name=r,this.token=o}}function cI(n,r,o=[]){const u=`Platform: ${r}`,f=new Rs(u);return(_=[])=>{let w=EE();if(!w||w.injector.get(aI,!1)){const N=[...o,..._,{provide:f,useValue:!0}];n?n(N):function Ww(n){if(xg&&!xg.get(aI,!1))throw new ze(400,!1);(function uI(){!function Hs(n){To=n}(()=>{throw new ze(600,!1)})})(),xg=n;const r=n.get(hI);(function lI(n){n.get(Ug,null)?.forEach(o=>o())})(n)}(function dI(n=[],r){return zl.create({name:r,providers:[{provide:ft,useValue:"platform"},{provide:_E,useValue:new Set([()=>xg=null])},...n]})}(N,u))}return function Yw(n){const r=EE();if(!r)throw new ze(401,!1);return r}()}}function EE(){return xg?.get(hI)??null}let hI=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const f=function Kw(n="zone.js",r){return"noop"===n?new $w:"zone.js"===n?new hc(r):n}(u?.ngZone,function fI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const _=function EC(n,r,o){return new Z0(n,r,o)}(o.moduleType,this.injector,function _I(n){return[{provide:hc,useFactory:n},{provide:wd,multi:!0,useFactory:()=>{const r=Pr(Qw,{optional:!0});return()=>r.initialize()}},{provide:yI,useFactory:Zw},{provide:nI,useFactory:rI}]}(()=>f)),w=_.injector.get(bh,null);return f.runOutsideAngular(()=>{const N=f.onError.subscribe({next:z=>{w.handleError(z)}});_.onDestroy(()=>{Zv(this._modules,_),N.unsubscribe()})}),function pI(n,r,o){try{const u=o();return Cg(u)?u.catch(f=>{throw r.runOutsideAngular(()=>n.handleError(f)),f}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(w,f,()=>{const N=_.injector.get(fE);return N.runInitializers(),N.donePromise.then(()=>(function i(n){ut(n,"Expected localeId to be defined"),"string"==typeof n&&(zv=n.toLowerCase().replace(/_/g,"-"))}(_.injector.get(Kv,Ep)||Ep),this._moduleDoBootstrap(_),_))})})}bootstrapModule(o,u=[]){const f=gI({},u);return function jw(n,r,o){const u=new Q0(o);return Promise.resolve(u)}(0,0,o).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(o){const u=o.injector.get(Fy);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!o.instance.ngDoBootstrap)throw new ze(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(_E,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Le(zl))},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function gI(n,r){return Array.isArray(r)?r.reduce(gI,n):{...n,...r}}let Fy=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Pr(yI),this.componentTypes=[],this.components=[],this.isStable=Pr(nI),this._injector=Pr(Jr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const f=o instanceof rd;if(!this._injector.get(fE).done)throw!f&&En(o),new ze(405,!1);let w;w=f?o:this._injector.get(Yf).resolveComponentFactory(o),this.componentTypes.push(w.componentType);const N=function zw(n){return n.isBoundToModule}(w)?void 0:this._injector.get(Oy),oe=w.create(zl.NULL,[],u||w.selector,N),Re=oe.location.nativeElement,it=oe.injector.get(iI,null);return it?.registerApplication(Re),oe.onDestroy(()=>{this.detachView(oe.hostView),Zv(this.components,oe),it?.unregisterApplication(Re)}),this._loadComponent(oe),oe}tick(){if(this._runningTick)throw new ze(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Zv(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(vE,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Zv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ze(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zv(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}const yI=new Rs("",{providedIn:"root",factory:()=>Pr(bh).handleError.bind(void 0)});function Zw(){const n=Pr(hc),r=Pr(bh);return o=>n.runOutsideAngular(()=>r.handleError(o))}let Qw=(()=>{class n{constructor(){this.zone=Pr(hc),this.applicationRef=Pr(Fy)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jw(){return!1}function eb(){}let tb=(()=>{class n{}return n.__NG_ELEMENT_ID__=nb,n})();function nb(n){return function rb(n,r,o){if(Gr(n)&&!o){const u=kr(n.index,r);return new m(u,u)}return 47&n.type?new m(r[Wi],r):null}(Gs(),Fn(),16==(16&n))}class II{constructor(){}supports(r){return op(r)}create(r){return new lb(r)}}const ub=(n,r)=>r;class lb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||ub}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,u=this._removalsHead,f=0,_=null;for(;o||u;){const w=!u||o&&o.currentIndex<wI(u,f,_)?o:u,N=wI(w,f,_),z=w.currentIndex;if(w===u)f--,u=u._nextRemoved;else if(o=o._next,null==w.previousIndex)f++;else{_||(_=[]);const oe=N-f,Re=z-f;if(oe!=Re){for(let jt=0;jt<oe;jt++){const on=jt<_.length?_[jt]:_[jt]=0,Ln=on+jt;Re<=Ln&&Ln<oe&&(_[jt]=on+1)}_[w.previousIndex]=Re-oe}}N!==z&&r(w,N,z)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!op(r))throw new ze(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let f,_,w,o=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let N=0;N<this.length;N++)_=r[N],w=this._trackByFn(N,_),null!==o&&Object.is(o.trackById,w)?(u&&(o=this._verifyReinsertion(o,_,w,N)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,w,N),u=!0),o=o._next}else f=0,function z_(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)r(u.value)}}(r,N=>{w=this._trackByFn(f,N),null!==o&&Object.is(o.trackById,w)?(u&&(o=this._verifyReinsertion(o,N,w,f)),Object.is(o.item,N)||this._addIdentityChange(o,N)):(o=this._mismatch(o,N,w,f),u=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,u,f){let _;return null===r?_=this._itTail:(_=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,_,f)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,_,f)):r=this._addAfter(new cb(o,u),_,f),r}_verifyReinsertion(r,o,u,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==_?r=this._reinsertAfter(_,r._prev,f):r.currentIndex!=f&&(r.currentIndex=f,this._addToMoves(r,f)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const f=r._prevRemoved,_=r._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(r,o,u),this._addToMoves(r,u),r}_moveAfter(r,o,u){return this._unlink(r),this._insertAfter(r,o,u),this._addToMoves(r,u),r}_addAfter(r,o,u){return this._insertAfter(r,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,u){const f=null===o?this._itHead:o._next;return r._next=f,r._prev=o,null===f?this._itTail=r:f._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new CI),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,u=r._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CI),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class cb{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class db{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const o=r._prevDup,u=r._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class CI{constructor(){this.map=new Map}put(r){const o=r.trackById;let u=this.map.get(o);u||(u=new db,this.map.set(o,u)),u.add(r)}get(r,o){const f=this.map.get(r);return f?f.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wI(n,r,o){const u=n.previousIndex;if(null===u)return u;let f=0;return o&&u<o.length&&(f=o[u]),u+r+f}class bI{constructor(){}supports(r){return r instanceof Map||dg(r)}create(){return new hb}}class hb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||dg(r)))throw new ze(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const _=this._getOrCreateRecordForKey(f,u);o=this._insertBeforeOrAppend(o,_)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const u=r._prev;return o._next=r,o._prev=u,r._prev=o,u&&(u._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const f=this._records.get(r);this._maybeAddToChanges(f,o);const _=f._prev,w=f._next;return _&&(_._next=w),w&&(w._prev=_),f._next=null,f._prev=null,f}const u=new fb(r);return this._records.set(r,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(u=>o(r[u],u))}}class fb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function TI(){return new bE([new II])}let bE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const f=u.factories.slice();o=o.concat(f)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||TI()),deps:[[n,new di,new Hr]]}}find(o){const u=this.factories.find(f=>f.supports(o));if(null!=u)return u;throw new ze(901,!1)}}return n.\u0275prov=On({token:n,providedIn:"root",factory:TI}),n})();function SI(){return new TE([new bI])}let TE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const f=u.factories.slice();o=o.concat(f)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||SI()),deps:[[n,new di,new Hr]]}}find(o){const u=this.factories.find(f=>f.supports(o));if(u)return u;throw new ze(901,!1)}}return n.\u0275prov=On({token:n,providedIn:"root",factory:SI}),n})();const mb=cI(null,"core",[]);let yb=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Le(Fy))},n.\u0275mod=se({type:n}),n.\u0275inj=hn({}),n})(),OI=(()=>{class n{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=Pr(hc),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(o=>{this.resolve=o})})}add(){if(this.completed)return-1;const o=this.taskId++;return this.collection.add(o),o}remove(o){this.completed||(this.collection.delete(o),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=On({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tb(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Ab(n,r){const o=xt(n),u=r.elementInjector||gr();return new kt(o).create(u,r.projectableNodes,r.hostElement,r.environmentInjector)}function xb(n){const r=xt(n);if(!r)return null;const o=new kt(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone}}}},6101:(xn,bt,k)=>{"use strict";k.d(bt,{Z:()=>at});var y=k(5578),h=k(1617),K=k(5752),P=k(1877);class Te{constructor(ze,Ge){this._delegate=ze,this.firebase=Ge,(0,K._addComponent)(ze,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this._delegate.automaticDataCollectionEnabled=ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ze=>{this._delegate.checkDestroyed(),ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(ze,Ge=K._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(ze);return!mt.isInitialized()&&"EXPLICIT"===(null===(_e=mt.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:Ge})}_removeServiceInstance(ze,Ge=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ze).clearInstance(Ge)}_addComponent(ze){(0,K._addComponent)(this._delegate,ze)}_addOrOverwriteComponent(ze){(0,K._addOrOverwriteComponent)(this._delegate,ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pe=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),De=function j(){const Mt=function Xe(Mt){const ze={},Ge={__esModule:!0,initializeApp:function dt(We,be={}){const $t=K.initializeApp(We,be);if((0,y.r3)(ze,$t.name))return ze[$t.name];const tt=new Mt($t,Ge);return ze[$t.name]=tt,tt},app:mt,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function pt(We){const be=We.name,$t=be.replace("-compat","");if(K._registerComponent(We)&&"PUBLIC"===We.type){const tt=(Ft=mt())=>{if("function"!=typeof Ft[$t])throw Pe.create("invalid-app-argument",{appName:be});return Ft[$t]()};void 0!==We.serviceProps&&(0,y.ZB)(tt,We.serviceProps),Ge[$t]=tt,Mt.prototype[$t]=function(...Ft){return this._getService.bind(this,be).apply(this,We.multipleInstances?Ft:[])}}return"PUBLIC"===We.type?Ge[$t]:null},removeApp:function _e(We){delete ze[We]},useAsService:function Dt(We,be){return"serverAuth"===be?null:be},modularAPIs:K}};function mt(We){if(!(0,y.r3)(ze,We=We||K._DEFAULT_ENTRY_NAME))throw Pe.create("no-app",{appName:We});return ze[We]}return Ge.default=Ge,Object.defineProperty(Ge,"apps",{get:function vt(){return Object.keys(ze).map(We=>ze[We])}}),mt.App=Mt,Ge}(Te);return Mt.INTERNAL=Object.assign(Object.assign({},Mt.INTERNAL),{createFirebaseNamespace:j,extendNamespace:function ze(Ge){(0,y.ZB)(Mt,Ge)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),Mt}(),ye=new P.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){ye.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Mt=self.firebase.SDK_VERSION;Mt&&Mt.indexOf("LITE")>=0&&ye.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const at=De;!function je(Mt){(0,K.registerVersion)("@firebase/app-compat","0.2.13",Mt)}()},5752:(xn,bt,k)=>{"use strict";k.r(bt),k.d(bt,{FirebaseError:()=>P.ZR,SDK_VERSION:()=>Qi,_DEFAULT_ENTRY_NAME:()=>Ht,_addComponent:()=>Ot,_addOrOverwriteComponent:()=>Wn,_apps:()=>ge,_clearComponents:()=>qr,_components:()=>ht,_getProvider:()=>Wr,_registerComponent:()=>nn,_removeServiceInstance:()=>ei,deleteApp:()=>Le,getApp:()=>Pi,getApps:()=>jr,initializeApp:()=>Mi,onLog:()=>ai,registerVersion:()=>Pr,setLogLevel:()=>Gi});var y=k(5861),h=k(1617),K=k(1877),P=k(5578);const Te=(an,Bt)=>Bt.some(gn=>an instanceof gn);let me,Pe;const De=new WeakMap,ye=new WeakMap,we=new WeakMap,Ve=new WeakMap,je=new WeakMap;let ze={get(an,Bt,gn){if(an instanceof IDBTransaction){if("done"===Bt)return ye.get(an);if("objectStoreNames"===Bt)return an.objectStoreNames||we.get(an);if("store"===Bt)return gn.objectStoreNames[1]?void 0:gn.objectStore(gn.objectStoreNames[0])}return dt(an[Bt])},set:(an,Bt,gn)=>(an[Bt]=gn,!0),has:(an,Bt)=>an instanceof IDBTransaction&&("done"===Bt||"store"===Bt)||Bt in an};function mt(an){return"function"==typeof an?function _e(an){return an!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function j(){return Pe||(Pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(an)?function(...Bt){return an.apply(vt(this),Bt),dt(De.get(this))}:function(...Bt){return dt(an.apply(vt(this),Bt))}:function(Bt,...gn){const Kn=an.call(vt(this),Bt,...gn);return we.set(Kn,Bt.sort?Bt.sort():[Bt]),dt(Kn)}}(an):(an instanceof IDBTransaction&&function Mt(an){if(ye.has(an))return;const Bt=new Promise((gn,Kn)=>{const dr=()=>{an.removeEventListener("complete",mr),an.removeEventListener("error",Fr),an.removeEventListener("abort",Fr)},mr=()=>{gn(),dr()},Fr=()=>{Kn(an.error||new DOMException("AbortError","AbortError")),dr()};an.addEventListener("complete",mr),an.addEventListener("error",Fr),an.addEventListener("abort",Fr)});ye.set(an,Bt)}(an),Te(an,function Xe(){return me||(me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(an,ze):an)}function dt(an){if(an instanceof IDBRequest)return function at(an){const Bt=new Promise((gn,Kn)=>{const dr=()=>{an.removeEventListener("success",mr),an.removeEventListener("error",Fr)},mr=()=>{gn(dt(an.result)),dr()},Fr=()=>{Kn(an.error),dr()};an.addEventListener("success",mr),an.addEventListener("error",Fr)});return Bt.then(gn=>{gn instanceof IDBCursor&&De.set(gn,an)}).catch(()=>{}),je.set(Bt,an),Bt}(an);if(Ve.has(an))return Ve.get(an);const Bt=mt(an);return Bt!==an&&(Ve.set(an,Bt),je.set(Bt,an)),Bt}const vt=an=>je.get(an),We=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],$t=new Map;function tt(an,Bt){if(!(an instanceof IDBDatabase)||Bt in an||"string"!=typeof Bt)return;if($t.get(Bt))return $t.get(Bt);const gn=Bt.replace(/FromIndex$/,""),Kn=Bt!==gn,dr=be.includes(gn);if(!(gn in(Kn?IDBIndex:IDBObjectStore).prototype)||!dr&&!We.includes(gn))return;const mr=function(){var Fr=(0,y.Z)(function*(_i,...Sr){const er=this.transaction(_i,dr?"readwrite":"readonly");let Dr=er.store;return Kn&&(Dr=Dr.index(Sr.shift())),(yield Promise.all([Dr[gn](...Sr),dr&&er.done]))[0]});return function(Sr){return Fr.apply(this,arguments)}}();return $t.set(Bt,mr),mr}!function Ge(an){ze=an(ze)}(an=>({...an,get:(Bt,gn,Kn)=>tt(Bt,gn)||an.get(Bt,gn,Kn),has:(Bt,gn)=>!!tt(Bt,gn)||an.has(Bt,gn)}));class Ft{constructor(Bt){this.container=Bt}getPlatformInfoString(){return this.container.getProviders().map(gn=>{if(function zt(an){const Bt=an.getComponent();return"VERSION"===Bt?.type}(gn)){const Kn=gn.getImmediate();return`${Kn.library}/${Kn.version}`}return null}).filter(gn=>gn).join(" ")}}const Vt="@firebase/app",Et=new K.Yd("@firebase/app"),Ht="[DEFAULT]",vn={[Vt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ge=new Map,ht=new Map;function Ot(an,Bt){try{an.container.addComponent(Bt)}catch(gn){Et.debug(`Component ${Bt.name} failed to register with FirebaseApp ${an.name}`,gn)}}function Wn(an,Bt){an.container.addOrOverwriteComponent(Bt)}function nn(an){const Bt=an.name;if(ht.has(Bt))return Et.debug(`There were multiple attempts to register component ${Bt}.`),!1;ht.set(Bt,an);for(const gn of ge.values())Ot(gn,an);return!0}function Wr(an,Bt){const gn=an.container.getProvider("heartbeat").getImmediate({optional:!0});return gn&&gn.triggerHeartbeat(),an.container.getProvider(Bt)}function ei(an,Bt,gn=Ht){Wr(an,Bt).clearInstance(gn)}function qr(){ht.clear()}const Un=new P.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xr{constructor(Bt,gn,Kn){this._isDeleted=!1,this._options=Object.assign({},Bt),this._config=Object.assign({},gn),this._name=gn.name,this._automaticDataCollectionEnabled=gn.automaticDataCollectionEnabled,this._container=Kn,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Bt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Bt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Bt){this._isDeleted=Bt}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const Qi="9.23.0";function Mi(an,Bt={}){let gn=an;"object"!=typeof Bt&&(Bt={name:Bt});const Kn=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},Bt),dr=Kn.name;if("string"!=typeof dr||!dr)throw Un.create("bad-app-name",{appName:String(dr)});if(gn||(gn=(0,P.aH)()),!gn)throw Un.create("no-options");const mr=ge.get(dr);if(mr){if((0,P.vZ)(gn,mr.options)&&(0,P.vZ)(Kn,mr.config))return mr;throw Un.create("duplicate-app",{appName:dr})}const Fr=new h.H0(dr);for(const Sr of ht.values())Fr.addComponent(Sr);const _i=new Xr(gn,Kn,Fr);return ge.set(dr,_i),_i}function Pi(an=Ht){const Bt=ge.get(an);if(!Bt&&an===Ht&&(0,P.aH)())return Mi();if(!Bt)throw Un.create("no-app",{appName:an});return Bt}function jr(){return Array.from(ge.values())}function Le(an){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,y.Z)(function*(an){const Bt=an.name;ge.has(Bt)&&(ge.delete(Bt),yield Promise.all(an.container.getProviders().map(gn=>gn.delete())),an.isDeleted=!0)})).apply(this,arguments)}function Pr(an,Bt,gn){var Kn;let dr=null!==(Kn=vn[an])&&void 0!==Kn?Kn:an;gn&&(dr+=`-${gn}`);const mr=dr.match(/\s|\//),Fr=Bt.match(/\s|\//);if(mr||Fr){const _i=[`Unable to register library "${dr}" with version "${Bt}":`];return mr&&_i.push(`library name "${dr}" contains illegal characters (whitespace or "/")`),mr&&Fr&&_i.push("and"),Fr&&_i.push(`version name "${Bt}" contains illegal characters (whitespace or "/")`),void Et.warn(_i.join(" "))}nn(new h.wA(`${dr}-version`,()=>({library:dr,version:Bt}),"VERSION"))}function ai(an,Bt){if(null!==an&&"function"!=typeof an)throw Un.create("invalid-log-argument");(0,K.Am)(an,Bt)}function Gi(an){(0,K.Ub)(an)}const ti="firebase-heartbeat-database",ui=1,lt="firebase-heartbeat-store";let Ee=null;function te(){return Ee||(Ee=function pt(an,Bt,{blocked:gn,upgrade:Kn,blocking:dr,terminated:mr}={}){const Fr=indexedDB.open(an,Bt),_i=dt(Fr);return Kn&&Fr.addEventListener("upgradeneeded",Sr=>{Kn(dt(Fr.result),Sr.oldVersion,Sr.newVersion,dt(Fr.transaction),Sr)}),gn&&Fr.addEventListener("blocked",Sr=>gn(Sr.oldVersion,Sr.newVersion,Sr)),_i.then(Sr=>{mr&&Sr.addEventListener("close",()=>mr()),dr&&Sr.addEventListener("versionchange",er=>dr(er.oldVersion,er.newVersion,er))}).catch(()=>{}),_i}(ti,ui,{upgrade:(an,Bt)=>{0===Bt&&an.createObjectStore(lt)}}).catch(an=>{throw Un.create("idb-open",{originalErrorMessage:an.message})})),Ee}function X(){return(X=(0,y.Z)(function*(an){try{return yield(yield te()).transaction(lt).objectStore(lt).get(ve(an))}catch(Bt){if(Bt instanceof P.ZR)Et.warn(Bt.message);else{const gn=Un.create("idb-get",{originalErrorMessage:Bt?.message});Et.warn(gn.message)}}})).apply(this,arguments)}function $e(an,Bt){return Se.apply(this,arguments)}function Se(){return(Se=(0,y.Z)(function*(an,Bt){try{const Kn=(yield te()).transaction(lt,"readwrite");yield Kn.objectStore(lt).put(Bt,ve(an)),yield Kn.done}catch(gn){if(gn instanceof P.ZR)Et.warn(gn.message);else{const Kn=Un.create("idb-set",{originalErrorMessage:gn?.message});Et.warn(Kn.message)}}})).apply(this,arguments)}function ve(an){return`${an.name}!${an.options.appId}`}class sn{constructor(Bt){this.container=Bt,this._heartbeatsCache=null;const gn=this.container.getProvider("app").getImmediate();this._storage=new rr(gn),this._heartbeatsCachePromise=this._storage.read().then(Kn=>(this._heartbeatsCache=Kn,Kn))}triggerHeartbeat(){var Bt=this;return(0,y.Z)(function*(){const Kn=Bt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dr=tn();if(null===Bt._heartbeatsCache&&(Bt._heartbeatsCache=yield Bt._heartbeatsCachePromise),Bt._heartbeatsCache.lastSentHeartbeatDate!==dr&&!Bt._heartbeatsCache.heartbeats.some(mr=>mr.date===dr))return Bt._heartbeatsCache.heartbeats.push({date:dr,agent:Kn}),Bt._heartbeatsCache.heartbeats=Bt._heartbeatsCache.heartbeats.filter(mr=>{const Fr=new Date(mr.date).valueOf();return Date.now()-Fr<=2592e6}),Bt._storage.overwrite(Bt._heartbeatsCache)})()}getHeartbeatsHeader(){var Bt=this;return(0,y.Z)(function*(){if(null===Bt._heartbeatsCache&&(yield Bt._heartbeatsCachePromise),null===Bt._heartbeatsCache||0===Bt._heartbeatsCache.heartbeats.length)return"";const gn=tn(),{heartbeatsToSend:Kn,unsentEntries:dr}=function Dn(an,Bt=1024){const gn=[];let Kn=an.slice();for(const dr of an){const mr=gn.find(Fr=>Fr.agent===dr.agent);if(mr){if(mr.dates.push(dr.date),nr(gn)>Bt){mr.dates.pop();break}}else if(gn.push({agent:dr.agent,dates:[dr.date]}),nr(gn)>Bt){gn.pop();break}Kn=Kn.slice(1)}return{heartbeatsToSend:gn,unsentEntries:Kn}}(Bt._heartbeatsCache.heartbeats),mr=(0,P.L)(JSON.stringify({version:2,heartbeats:Kn}));return Bt._heartbeatsCache.lastSentHeartbeatDate=gn,dr.length>0?(Bt._heartbeatsCache.heartbeats=dr,yield Bt._storage.overwrite(Bt._heartbeatsCache)):(Bt._heartbeatsCache.heartbeats=[],Bt._storage.overwrite(Bt._heartbeatsCache)),mr})()}}function tn(){return(new Date).toISOString().substring(0,10)}class rr{constructor(Bt){this.app=Bt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,P.hl)()&&(0,P.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Bt=this;return(0,y.Z)(function*(){return(yield Bt._canUseIndexedDBPromise)&&(yield function q(an){return X.apply(this,arguments)}(Bt.app))||{heartbeats:[]}})()}overwrite(Bt){var gn=this;return(0,y.Z)(function*(){var Kn;if(yield gn._canUseIndexedDBPromise){const mr=yield gn.read();return $e(gn.app,{lastSentHeartbeatDate:null!==(Kn=Bt.lastSentHeartbeatDate)&&void 0!==Kn?Kn:mr.lastSentHeartbeatDate,heartbeats:Bt.heartbeats})}})()}add(Bt){var gn=this;return(0,y.Z)(function*(){var Kn;if(yield gn._canUseIndexedDBPromise){const mr=yield gn.read();return $e(gn.app,{lastSentHeartbeatDate:null!==(Kn=Bt.lastSentHeartbeatDate)&&void 0!==Kn?Kn:mr.lastSentHeartbeatDate,heartbeats:[...mr.heartbeats,...Bt.heartbeats]})}})()}}function nr(an){return(0,P.L)(JSON.stringify({version:2,heartbeats:an})).length}!function Or(an){nn(new h.wA("platform-logger",Bt=>new Ft(Bt),"PRIVATE")),nn(new h.wA("heartbeat",Bt=>new sn(Bt),"PRIVATE")),Pr(Vt,"0.9.13",an),Pr(Vt,"0.9.13","esm2017"),Pr("fire-js","")}("")},1617:(xn,bt,k)=>{"use strict";k.d(bt,{H0:()=>Xe,wA:()=>K,zt:()=>Te});var y=k(5861),h=k(5578);class K{constructor(De,ye,we){this.name=De,this.instanceFactory=ye,this.type=we,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(De){return this.instantiationMode=De,this}setMultipleInstances(De){return this.multipleInstances=De,this}setServiceProps(De){return this.serviceProps=De,this}setInstanceCreatedCallback(De){return this.onInstanceCreated=De,this}}const P="[DEFAULT]";class Te{constructor(De,ye){this.name=De,this.container=ye,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(De){const ye=this.normalizeInstanceIdentifier(De);if(!this.instancesDeferred.has(ye)){const we=new h.BH;if(this.instancesDeferred.set(ye,we),this.isInitialized(ye)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:ye});Ve&&we.resolve(Ve)}catch{}}return this.instancesDeferred.get(ye).promise}getImmediate(De){var ye;const we=this.normalizeInstanceIdentifier(De?.identifier),Ve=null!==(ye=De?.optional)&&void 0!==ye&&ye;if(!this.isInitialized(we)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:we})}catch(je){if(Ve)return null;throw je}}getComponent(){return this.component}setComponent(De){if(De.name!==this.name)throw Error(`Mismatching Component ${De.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=De,this.shouldAutoInitialize()){if(function Pe(j){return"EAGER"===j.instantiationMode}(De))try{this.getOrInitializeService({instanceIdentifier:P})}catch{}for(const[ye,we]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(ye);try{const je=this.getOrInitializeService({instanceIdentifier:Ve});we.resolve(je)}catch{}}}}clearInstance(De=P){this.instancesDeferred.delete(De),this.instancesOptions.delete(De),this.instances.delete(De)}delete(){var De=this;return(0,y.Z)(function*(){const ye=Array.from(De.instances.values());yield Promise.all([...ye.filter(we=>"INTERNAL"in we).map(we=>we.INTERNAL.delete()),...ye.filter(we=>"_delete"in we).map(we=>we._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(De=P){return this.instances.has(De)}getOptions(De=P){return this.instancesOptions.get(De)||{}}initialize(De={}){const{options:ye={}}=De,we=this.normalizeInstanceIdentifier(De.instanceIdentifier);if(this.isInitialized(we))throw Error(`${this.name}(${we}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:we,options:ye});for(const[je,at]of this.instancesDeferred.entries())we===this.normalizeInstanceIdentifier(je)&&at.resolve(Ve);return Ve}onInit(De,ye){var we;const Ve=this.normalizeInstanceIdentifier(ye),je=null!==(we=this.onInitCallbacks.get(Ve))&&void 0!==we?we:new Set;je.add(De),this.onInitCallbacks.set(Ve,je);const at=this.instances.get(Ve);return at&&De(at,Ve),()=>{je.delete(De)}}invokeOnInitCallbacks(De,ye){const we=this.onInitCallbacks.get(ye);if(we)for(const Ve of we)try{Ve(De,ye)}catch{}}getOrInitializeService({instanceIdentifier:De,options:ye={}}){let we=this.instances.get(De);if(!we&&this.component&&(we=this.component.instanceFactory(this.container,{instanceIdentifier:(j=De,j===P?void 0:j),options:ye}),this.instances.set(De,we),this.instancesOptions.set(De,ye),this.invokeOnInitCallbacks(we,De),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,De,we)}catch{}var j;return we||null}normalizeInstanceIdentifier(De=P){return this.component?this.component.multipleInstances?De:P:De}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xe{constructor(De){this.name=De,this.providers=new Map}addComponent(De){const ye=this.getProvider(De.name);if(ye.isComponentSet())throw new Error(`Component ${De.name} has already been registered with ${this.name}`);ye.setComponent(De)}addOrOverwriteComponent(De){this.getProvider(De.name).isComponentSet()&&this.providers.delete(De.name),this.addComponent(De)}getProvider(De){if(this.providers.has(De))return this.providers.get(De);const ye=new Te(De,this);return this.providers.set(De,ye),ye}getProviders(){return Array.from(this.providers.values())}}},8140:(xn,bt,k)=>{"use strict";k.d(bt,{C6:()=>y.getApps,Mq:()=>y.getApp});var y=k(5752);(0,y.registerVersion)("firebase","9.23.0","app")},1274:(xn,bt,k)=>{"use strict";k.d(bt,{Z:()=>y.Z});var y=k(6101);y.Z.registerVersion("firebase","9.23.0","app-compat")},5054:(xn,bt,k)=>{"use strict";k.r(bt);var y=k(5861),h=k(6101),K=k(9500),P=k(5578),Pe=(k(5752),k(1877),k(1617));function Xe(){return window}function ye(){return ye=(0,y.Z)(function*(te,q,X){var $e;const{BuildInfo:Se}=Xe();(0,K.as)(q.sessionId,"AuthEvent did not contain a session ID");const ve=yield function Ge(te){return _e.apply(this,arguments)}(q.sessionId),Ke={};return(0,K.at)()?Ke.ibi=Se.packageName:(0,K.au)()?Ke.apn=Se.packageName:(0,K.av)(te,"operation-not-supported-in-this-environment"),Se.displayName&&(Ke.appDisplayName=Se.displayName),Ke.sessionId=ve,(0,K.aw)(te,X,q.type,void 0,null!==($e=q.eventId)&&void 0!==$e?$e:void 0,Ke)}),ye.apply(this,arguments)}function Ve(){return(Ve=(0,y.Z)(function*(te){const{BuildInfo:q}=Xe(),X={};(0,K.at)()?X.iosBundleId=q.packageName:(0,K.au)()?X.androidPackageName=q.packageName:(0,K.av)(te,"operation-not-supported-in-this-environment"),yield(0,K.ax)(te,X)})).apply(this,arguments)}function Mt(){return(Mt=(0,y.Z)(function*(te,q,X){const{cordova:$e}=Xe();let Se=()=>{};try{yield new Promise((ve,Ke)=>{let It=null;function sn(){var rr;ve();const nr=null===(rr=$e.plugins.browsertab)||void 0===rr?void 0:rr.close;"function"==typeof nr&&nr(),"function"==typeof X?.close&&X.close()}function tn(){It||(It=window.setTimeout(()=>{Ke((0,K.az)(te,"redirect-cancelled-by-user"))},2e3))}function Dn(){"visible"===document?.visibilityState&&tn()}q.addPassiveListener(sn),document.addEventListener("resume",tn,!1),(0,K.au)()&&document.addEventListener("visibilitychange",Dn,!1),Se=()=>{q.removePassiveListener(sn),document.removeEventListener("resume",tn,!1),document.removeEventListener("visibilitychange",Dn,!1),It&&window.clearTimeout(It)}})}finally{Se()}})).apply(this,arguments)}function _e(){return(_e=(0,y.Z)(function*(te){const q=function mt(te){if((0,K.as)(/[0-9a-zA-Z]+/.test(te),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(te);const q=new ArrayBuffer(te.length),X=new Uint8Array(q);for(let $e=0;$e<te.length;$e++)X[$e]=te.charCodeAt($e);return X}(te),X=yield crypto.subtle.digest("SHA-256",q);return Array.from(new Uint8Array(X)).map(Se=>Se.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class vt extends K.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(q=>{this.resolveInialized=q})}addPassiveListener(q){this.passiveListeners.add(q)}removePassiveListener(q){this.passiveListeners.delete(q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(q){return this.resolveInialized(),this.passiveListeners.forEach(X=>X(q)),super.onEvent(q)}initialized(){var q=this;return(0,y.Z)(function*(){yield q.initPromise})()}}function We(te){return be.apply(this,arguments)}function be(){return(be=(0,y.Z)(function*(te){const q=yield Ft()._get(zt(te));return q&&(yield Ft()._remove(zt(te))),q})).apply(this,arguments)}function tt(){const te=[];for(let X=0;X<20;X++){const $e=Math.floor(62*Math.random());te.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt($e))}return te.join("")}function Ft(){return(0,K.aC)(K.b)}function zt(te){return(0,K.aD)("authEvent",te.config.apiKey,te.name)}function Et(te){if(!te?.includes("?"))return{};const[q,...X]=te.split("?");return(0,P.zd)(X.join("?"))}const Ue=class Ye{constructor(){this._redirectPersistence=K.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=K.aE,this._overrideRedirectResult=K.aF}_initialize(q){var X=this;return(0,y.Z)(function*(){const $e=q._key();let Se=X.eventManagers.get($e);return Se||(Se=new vt(q),X.eventManagers.set($e,Se),X.attachCallbackListeners(q,Se)),Se})()}_openPopup(q){(0,K.av)(q,"operation-not-supported-in-this-environment")}_openRedirect(q,X,$e,Se){var ve=this;return(0,y.Z)(function*(){!function ze(te){var q,X,$e,Se,ve,Ke,It,sn,tn,Dn;const rr=Xe();(0,K.aA)("function"==typeof(null===(q=rr?.universalLinks)||void 0===q?void 0:q.subscribe),te,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,K.aA)(typeof(null===(X=rr?.BuildInfo)||void 0===X?void 0:X.packageName)<"u",te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,K.aA)("function"==typeof(null===(ve=null===(Se=null===($e=rr?.cordova)||void 0===$e?void 0:$e.plugins)||void 0===Se?void 0:Se.browsertab)||void 0===ve?void 0:ve.openUrl),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.aA)("function"==typeof(null===(sn=null===(It=null===(Ke=rr?.cordova)||void 0===Ke?void 0:Ke.plugins)||void 0===It?void 0:It.browsertab)||void 0===sn?void 0:sn.isAvailable),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.aA)("function"==typeof(null===(Dn=null===(tn=rr?.cordova)||void 0===tn?void 0:tn.InAppBrowser)||void 0===Dn?void 0:Dn.open),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(q);const Ke=yield ve._initialize(q);yield Ke.initialized(),Ke.resetRedirect(),(0,K.aG)(),yield ve._originValidation(q);const It=function pt(te,q,X=null){return{type:q,eventId:X,urlResponse:null,sessionId:tt(),postBody:null,tenantId:te.tenantId,error:(0,K.az)(te,"no-auth-event")}}(q,$e,Se);yield function Dt(te,q){return Ft()._set(zt(te),q)}(q,It);const sn=yield function De(te,q,X){return ye.apply(this,arguments)}(q,It,X),tn=yield function je(te){const{cordova:q}=Xe();return new Promise(X=>{q.plugins.browsertab.isAvailable($e=>{let Se=null;$e?q.plugins.browsertab.openUrl(te):Se=q.InAppBrowser.open(te,(0,K.ay)()?"_blank":"_system","location=yes"),X(Se)})})}(sn);return function at(te,q,X){return Mt.apply(this,arguments)}(q,Ke,tn)})()}_isIframeWebStorageSupported(q,X){throw new Error("Method not implemented.")}_originValidation(q){const X=q._key();return this.originValidationPromises[X]||(this.originValidationPromises[X]=function we(te){return Ve.apply(this,arguments)}(q)),this.originValidationPromises[X]}attachCallbackListeners(q,X){const{universalLinks:$e,handleOpenURL:Se,BuildInfo:ve}=Xe(),Ke=setTimeout((0,y.Z)(function*(){yield We(q),X.onEvent(Qe())}),500),It=function(){var Dn=(0,y.Z)(function*(rr){clearTimeout(Ke);const nr=yield We(q);let Or=null;nr&&rr?.url&&(Or=function $t(te,q){var X,$e;const Se=function Sn(te){const q=Et(te),X=q.link?decodeURIComponent(q.link):void 0,$e=Et(X).link,Se=q.deep_link_id?decodeURIComponent(q.deep_link_id):void 0;return Et(Se).link||Se||$e||X||te}(q);if(Se.includes("/__/auth/callback")){const ve=Et(Se),Ke=ve.firebaseError?function Vt(te){try{return JSON.parse(te)}catch{return null}}(decodeURIComponent(ve.firebaseError)):null,It=null===($e=null===(X=Ke?.code)||void 0===X?void 0:X.split("auth/"))||void 0===$e?void 0:$e[1],sn=It?(0,K.az)(It):null;return sn?{type:te.type,eventId:te.eventId,tenantId:te.tenantId,error:sn,urlResponse:null,sessionId:null,postBody:null}:{type:te.type,eventId:te.eventId,tenantId:te.tenantId,sessionId:te.sessionId,urlResponse:Se,postBody:null}}return null}(nr,rr.url)),X.onEvent(Or||Qe())});return function(nr){return Dn.apply(this,arguments)}}();typeof $e<"u"&&"function"==typeof $e.subscribe&&$e.subscribe(null,It);const sn=Se,tn=`${ve.packageName.toLowerCase()}://`;Xe().handleOpenURL=function(){var Dn=(0,y.Z)(function*(rr){if(rr.toLowerCase().startsWith(tn)&&It({url:rr}),"function"==typeof sn)try{sn(rr)}catch(nr){console.error(nr)}});return function(rr){return Dn.apply(this,arguments)}}()}};function Qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,K.az)("no-auth-event")}}function mn(){var te;return(null===(te=self?.location)||void 0===te?void 0:te.protocol)||null}function St(te=(0,P.z$)()){return!("file:"!==mn()&&"ionic:"!==mn()&&"capacitor:"!==mn()||!te.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tt(){try{const te=self.localStorage,q=K.aL();if(te)return te.setItem(q,"1"),te.removeItem(q),!function Xt(te=(0,P.z$)()){return function Yt(){return(0,P.w1)()&&11===document?.documentMode}()||function ct(te=(0,P.z$)()){return/Edge\/\d+/.test(te)}(te)}()||(0,P.hl)()}catch{return Kt()&&(0,P.hl)()}return!1}function Kt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function kn(){return(function On(){return"http:"===mn()||"https:"===mn()}()||(0,P.ru)()||St())&&!function hn(){return(0,P.b$)()||(0,P.UG)()}()&&Tt()&&!Kt()}function Xn(){return St()&&typeof document<"u"}function cr(){return(cr=(0,y.Z)(function*(){return!!Xn()&&new Promise(te=>{const q=setTimeout(()=>{te(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(q),te(!0)})})})).apply(this,arguments)}const Jn={LOCAL:"local",NONE:"none",SESSION:"session"},Qr=K.aA,Er="persistence";function vn(te){return ge.apply(this,arguments)}function ge(){return(ge=(0,y.Z)(function*(te){yield te._initializationPromise;const q=Ot(),X=K.aD(Er,te.config.apiKey,te.name);q&&q.setItem(X,te._getPersistence())})).apply(this,arguments)}function Ot(){var te;try{return(null===(te=function bn(){return typeof window<"u"?window:null}())||void 0===te?void 0:te.sessionStorage)||null}catch{return null}}const Wn=K.aA;class nn{constructor(){this.browserResolver=K.aC(K.k),this.cordovaResolver=K.aC(Ue),this.underlyingResolver=null,this._redirectPersistence=K.a,this._completeRedirectFn=K.aE,this._overrideRedirectResult=K.aF}_initialize(q){var X=this;return(0,y.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._initialize(q)})()}_openPopup(q,X,$e,Se){var ve=this;return(0,y.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openPopup(q,X,$e,Se)})()}_openRedirect(q,X,$e,Se){var ve=this;return(0,y.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openRedirect(q,X,$e,Se)})()}_isIframeWebStorageSupported(q,X){this.assertedUnderlyingResolver._isIframeWebStorageSupported(q,X)}_originValidation(q){return this.assertedUnderlyingResolver._originValidation(q)}get _shouldInitProactively(){return Xn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Wn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var q=this;return(0,y.Z)(function*(){if(q.underlyingResolver)return;const X=yield function lr(){return cr.apply(this,arguments)}();q.underlyingResolver=X?q.cordovaResolver:q.browserResolver})()}}function Wr(te){return te.unwrap()}function qr(te){return Un(te)}function Un(te){const{_tokenResponse:q}=te instanceof P.ZR?te.customData:te;if(!q)return null;if(!(te instanceof P.ZR)&&"temporaryProof"in q&&"phoneNumber"in q)return K.P.credentialFromResult(te);const X=q.providerId;if(!X||X===K.p.PASSWORD)return null;let $e;switch(X){case K.p.GOOGLE:$e=K.V;break;case K.p.FACEBOOK:$e=K.U;break;case K.p.GITHUB:$e=K.W;break;case K.p.TWITTER:$e=K.Z;break;default:const{oauthIdToken:Se,oauthAccessToken:ve,oauthTokenSecret:Ke,pendingToken:It,nonce:sn}=q;return ve||Ke||Se||It?It?X.startsWith("saml.")?K.aO._create(X,It):K.L._fromParams({providerId:X,signInMethod:X,pendingToken:It,idToken:Se,accessToken:ve}):new K.X(X).credential({idToken:Se,accessToken:ve,rawNonce:sn}):null}return te instanceof P.ZR?$e.credentialFromError(te):$e.credentialFromResult(te)}function Xr(te,q){return q.catch(X=>{throw X instanceof P.ZR&&function xr(te,q){var X;const $e=null===(X=q.customData)||void 0===X?void 0:X._tokenResponse;if("auth/multi-factor-auth-required"===q?.code)q.resolver=new Pi(te,K.aq(te,q));else if($e){const Se=Un(q),ve=q;Se&&(ve.credential=Se,ve.tenantId=$e.tenantId||void 0,ve.email=$e.email||void 0,ve.phoneNumber=$e.phoneNumber||void 0)}}(te,X),X}).then(X=>{const Se=X.user;return{operationType:X.operationType,credential:qr(X),additionalUserInfo:K.ao(X),user:jr.getOrCreate(Se)}})}function Qi(te,q){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,y.Z)(function*(te,q){const X=yield q;return{verificationId:X.verificationId,confirm:$e=>Xr(te,X.confirm($e))}})).apply(this,arguments)}class Pi{constructor(q,X){this.resolver=X,this.auth=function ei(te){return te.wrapped()}(q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(q){return Xr(Wr(this.auth),this.resolver.resolveSignIn(q))}}class jr{constructor(q){this._delegate=q,this.multiFactor=K.ar(q)}static getOrCreate(q){return jr.USER_MAP.has(q)||jr.USER_MAP.set(q,new jr(q)),jr.USER_MAP.get(q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(q){return this._delegate.getIdTokenResult(q)}getIdToken(q){return this._delegate.getIdToken(q)}linkAndRetrieveDataWithCredential(q){return this.linkWithCredential(q)}linkWithCredential(q){var X=this;return(0,y.Z)(function*(){return Xr(X.auth,K.a0(X._delegate,q))})()}linkWithPhoneNumber(q,X){var $e=this;return(0,y.Z)(function*(){return Qi($e.auth,K.l($e._delegate,q,X))})()}linkWithPopup(q){var X=this;return(0,y.Z)(function*(){return Xr(X.auth,K.d(X._delegate,q,nn))})()}linkWithRedirect(q){var X=this;return(0,y.Z)(function*(){return yield vn(K.aH(X.auth)),K.g(X._delegate,q,nn)})()}reauthenticateAndRetrieveDataWithCredential(q){return this.reauthenticateWithCredential(q)}reauthenticateWithCredential(q){var X=this;return(0,y.Z)(function*(){return Xr(X.auth,K.a1(X._delegate,q))})()}reauthenticateWithPhoneNumber(q,X){return Qi(this.auth,K.r(this._delegate,q,X))}reauthenticateWithPopup(q){return Xr(this.auth,K.e(this._delegate,q,nn))}reauthenticateWithRedirect(q){var X=this;return(0,y.Z)(function*(){return yield vn(K.aH(X.auth)),K.h(X._delegate,q,nn)})()}sendEmailVerification(q){return K.ae(this._delegate,q)}unlink(q){var X=this;return(0,y.Z)(function*(){return yield K.an(X._delegate,q),X})()}updateEmail(q){return K.aj(this._delegate,q)}updatePassword(q){return K.ak(this._delegate,q)}updatePhoneNumber(q){return K.u(this._delegate,q)}updateProfile(q){return K.ai(this._delegate,q)}verifyBeforeUpdateEmail(q,X){return K.af(this._delegate,q,X)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}jr.USER_MAP=new WeakMap;const Le=K.aA;let Ti=(()=>{class te{constructor(X,$e){if(this.app=X,$e.isInitialized())return this._delegate=$e.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Se}=X.options;Le(Se,"invalid-api-key",{appName:X.name}),Le(Se,"invalid-api-key",{appName:X.name});const ve=typeof window<"u"?nn:void 0;this._delegate=$e.initialize({options:{persistence:ai(Se,X.name),popupRedirectResolver:ve}}),this._delegate._updateErrorMap(K.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?jr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(X){this._delegate.languageCode=X}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(X){this._delegate.tenantId=X}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(X,$e){K.I(this._delegate,X,$e)}applyActionCode(X){return K.a5(this._delegate,X)}checkActionCode(X){return K.a6(this._delegate,X)}confirmPasswordReset(X,$e){return K.a4(this._delegate,X,$e)}createUserWithEmailAndPassword(X,$e){var Se=this;return(0,y.Z)(function*(){return Xr(Se._delegate,K.a8(Se._delegate,X,$e))})()}fetchProvidersForEmail(X){return this.fetchSignInMethodsForEmail(X)}fetchSignInMethodsForEmail(X){return K.ad(this._delegate,X)}isSignInWithEmailLink(X){return K.ab(this._delegate,X)}getRedirectResult(){var X=this;return(0,y.Z)(function*(){Le(kn(),X._delegate,"operation-not-supported-in-this-environment");const $e=yield K.j(X._delegate,nn);return $e?Xr(X._delegate,Promise.resolve($e)):{credential:null,user:null}})()}addFrameworkForLogging(X){!function ut(te,q){(0,K.aH)(te)._logFramework(q)}(this._delegate,X)}onAuthStateChanged(X,$e,Se){const{next:ve,error:Ke,complete:It}=Pr(X,$e,Se);return this._delegate.onAuthStateChanged(ve,Ke,It)}onIdTokenChanged(X,$e,Se){const{next:ve,error:Ke,complete:It}=Pr(X,$e,Se);return this._delegate.onIdTokenChanged(ve,Ke,It)}sendSignInLinkToEmail(X,$e){return K.aa(this._delegate,X,$e)}sendPasswordResetEmail(X,$e){return K.a3(this._delegate,X,$e||void 0)}setPersistence(X){var $e=this;return(0,y.Z)(function*(){let Se;switch(function Ht(te,q){Qr(Object.values(Jn).includes(q),te,"invalid-persistence-type"),(0,P.b$)()?Qr(q!==Jn.SESSION,te,"unsupported-persistence-type"):(0,P.UG)()?Qr(q===Jn.NONE,te,"unsupported-persistence-type"):Kt()?Qr(q===Jn.NONE||q===Jn.LOCAL&&(0,P.hl)(),te,"unsupported-persistence-type"):Qr(q===Jn.NONE||Tt(),te,"unsupported-persistence-type")}($e._delegate,X),X){case Jn.SESSION:Se=K.a;break;case Jn.LOCAL:Se=(yield K.aC(K.i)._isAvailable())?K.i:K.b;break;case Jn.NONE:Se=K.N;break;default:return K.av("argument-error",{appName:$e._delegate.name})}return $e._delegate.setPersistence(Se)})()}signInAndRetrieveDataWithCredential(X){return this.signInWithCredential(X)}signInAnonymously(){return Xr(this._delegate,K._(this._delegate))}signInWithCredential(X){return Xr(this._delegate,K.$(this._delegate,X))}signInWithCustomToken(X){return Xr(this._delegate,K.a2(this._delegate,X))}signInWithEmailAndPassword(X,$e){return Xr(this._delegate,K.a9(this._delegate,X,$e))}signInWithEmailLink(X,$e){return Xr(this._delegate,K.ac(this._delegate,X,$e))}signInWithPhoneNumber(X,$e){return Qi(this._delegate,K.s(this._delegate,X,$e))}signInWithPopup(X){var $e=this;return(0,y.Z)(function*(){return Le(kn(),$e._delegate,"operation-not-supported-in-this-environment"),Xr($e._delegate,K.c($e._delegate,X,nn))})()}signInWithRedirect(X){var $e=this;return(0,y.Z)(function*(){return Le(kn(),$e._delegate,"operation-not-supported-in-this-environment"),yield vn($e._delegate),K.f($e._delegate,X,nn)})()}updateCurrentUser(X){return this._delegate.updateCurrentUser(X)}verifyPasswordResetCode(X){return K.a7(this._delegate,X)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return te.Persistence=Jn,te})();function Pr(te,q,X){let $e=te;"function"!=typeof te&&({next:$e,error:q,complete:X}=te);const Se=$e;return{next:Ke=>Se(Ke&&jr.getOrCreate(Ke)),error:q,complete:X}}function ai(te,q){const X=function ht(te,q){const X=Ot();if(!X)return[];const $e=K.aD(Er,te,q);switch(X.getItem($e)){case Jn.NONE:return[K.N];case Jn.LOCAL:return[K.i,K.a];case Jn.SESSION:return[K.a];default:return[]}}(te,q);if(typeof self<"u"&&!X.includes(K.i)&&X.push(K.i),typeof window<"u")for(const $e of[K.b,K.a])X.includes($e)||X.push($e);return X.includes(K.N)||X.push(K.N),X}class Gi{constructor(){this.providerId="phone",this._delegate=new K.P(Wr(h.Z.auth()))}static credential(q,X){return K.P.credential(q,X)}verifyPhoneNumber(q,X){return this._delegate.verifyPhoneNumber(q,X)}unwrap(){return this._delegate}}Gi.PHONE_SIGN_IN_METHOD=K.P.PHONE_SIGN_IN_METHOD,Gi.PROVIDER_ID=K.P.PROVIDER_ID;const ti=K.aA;class ui{constructor(q,X,$e=h.Z.app()){var Se;ti(null===(Se=$e.options)||void 0===Se?void 0:Se.apiKey,"invalid-api-key",{appName:$e.name}),this._delegate=new K.R(q,X,$e.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ee(te){te.INTERNAL.registerComponent(new Pe.wA("auth-compat",q=>{const X=q.getProvider("app-compat").getImmediate(),$e=q.getProvider("auth");return new Ti(X,$e)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K.A.EMAIL_SIGNIN,PASSWORD_RESET:K.A.PASSWORD_RESET,RECOVER_EMAIL:K.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K.A.VERIFY_EMAIL}},EmailAuthProvider:K.Q,FacebookAuthProvider:K.U,GithubAuthProvider:K.W,GoogleAuthProvider:K.V,OAuthProvider:K.X,SAMLAuthProvider:K.Y,PhoneAuthProvider:Gi,PhoneMultiFactorGenerator:K.m,RecaptchaVerifier:ui,TwitterAuthProvider:K.Z,Auth:Ti,AuthCredential:K.J,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),te.registerVersion("@firebase/auth-compat","0.4.2")}(h.Z)},5030:(xn,bt,k)=>{"use strict";k.d(bt,{CE:()=>Oa,qu:()=>la,NI:()=>Ze,u:()=>io,sg:()=>Mo,x0:()=>ri,u5:()=>ie,JU:()=>at,a5:()=>Jn,JJ:()=>vn,JL:()=>ge,UX:()=>x,Q7:()=>ji,kI:()=>$t,_Y:()=>$r});var y=k(2223),h=k(4755),K=k(8996),P=k(9751),Te=k(4742),me=k(8421),Pe=k(7669),Xe=k(5403),j=k(3268),De=k(1810),we=k(4004);let Ve=(()=>{class C{constructor(L,fe){this._renderer=L,this._elementRef=fe,this.onChange=Nt=>{},this.onTouched=()=>{}}setProperty(L,fe){this._renderer.setProperty(this._elementRef.nativeElement,L,fe)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return C.\u0275fac=function(L){return new(L||C)(y.Y36(y.Qsj),y.Y36(y.SBq))},C.\u0275dir=y.lG2({type:C}),C})(),je=(()=>{class C extends Ve{}return C.\u0275fac=function(){let M;return function(fe){return(M||(M=y.n5z(C)))(fe||C)}}(),C.\u0275dir=y.lG2({type:C,features:[y.qOj]}),C})();const at=new y.OlP("NgValueAccessor"),Ge={provide:at,useExisting:(0,y.Gpc)(()=>dt),multi:!0},mt=new y.OlP("CompositionEventMode");let dt=(()=>{class C extends Ve{constructor(L,fe,Nt){super(L,fe),this._compositionMode=Nt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _e(){const C=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test(C.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return C.\u0275fac=function(L){return new(L||C)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(mt,8))},C.\u0275dir=y.lG2({type:C,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,fe){1&L&&y.NdJ("input",function(wn){return fe._handleInput(wn.target.value)})("blur",function(){return fe.onTouched()})("compositionstart",function(){return fe._compositionStart()})("compositionend",function(wn){return fe._compositionEnd(wn.target.value)})},features:[y._Bn([Ge]),y.qOj]}),C})();function vt(C){return null==C||("string"==typeof C||Array.isArray(C))&&0===C.length}function pt(C){return null!=C&&"number"==typeof C.length}const Dt=new y.OlP("NgValidators"),We=new y.OlP("NgAsyncValidators"),be=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $t{static min(M){return function tt(C){return M=>{if(vt(M.value)||vt(C))return null;const L=parseFloat(M.value);return!isNaN(L)&&L<C?{min:{min:C,actual:M.value}}:null}}(M)}static max(M){return function Ft(C){return M=>{if(vt(M.value)||vt(C))return null;const L=parseFloat(M.value);return!isNaN(L)&&L>C?{max:{max:C,actual:M.value}}:null}}(M)}static required(M){return zt(M)}static requiredTrue(M){return function Vt(C){return!0===C.value?null:{required:!0}}(M)}static email(M){return function Sn(C){return vt(C.value)||be.test(C.value)?null:{email:!0}}(M)}static minLength(M){return function Et(C){return M=>vt(M.value)||!pt(M.value)?null:M.value.length<C?{minlength:{requiredLength:C,actualLength:M.value.length}}:null}(M)}static maxLength(M){return function st(C){return M=>pt(M.value)&&M.value.length>C?{maxlength:{requiredLength:C,actualLength:M.value.length}}:null}(M)}static pattern(M){return function Ye(C){if(!C)return Ue;let M,L;return"string"==typeof C?(L="","^"!==C.charAt(0)&&(L+="^"),L+=C,"$"!==C.charAt(C.length-1)&&(L+="$"),M=new RegExp(L)):(L=C.toString(),M=C),fe=>{if(vt(fe.value))return null;const Nt=fe.value;return M.test(Nt)?null:{pattern:{requiredPattern:L,actualValue:Nt}}}}(M)}static nullValidator(M){return null}static compose(M){return On(M)}static composeAsync(M){return hn(M)}}function zt(C){return vt(C.value)?{required:!0}:null}function Ue(C){return null}function Qe(C){return null!=C}function ut(C){return(0,y.QGY)(C)?(0,K.D)(C):C}function yt(C){let M={};return C.forEach(L=>{M=null!=L?{...M,...L}:M}),0===Object.keys(M).length?null:M}function Jt(C,M){return M.map(L=>L(C))}function mn(C){return C.map(M=>function Nn(C){return!C.validate}(M)?M:L=>M.validate(L))}function On(C){if(!C)return null;const M=C.filter(Qe);return 0==M.length?null:function(L){return yt(Jt(L,M))}}function St(C){return null!=C?On(mn(C)):null}function hn(C){if(!C)return null;const M=C.filter(Qe);return 0==M.length?null:function(L){return function ye(...C){const M=(0,Pe.jO)(C),{args:L,keys:fe}=(0,Te.D)(C),Nt=new P.y(wn=>{const{length:Zr}=L;if(!Zr)return void wn.complete();const Ii=new Array(Zr);let so=Zr,Vo=Zr;for(let is=0;is<Zr;is++){let gi=!1;(0,me.Xf)(L[is]).subscribe((0,Xe.x)(wn,vo=>{gi||(gi=!0,Vo--),Ii[is]=vo},()=>so--,void 0,()=>{(!so||!gi)&&(Vo||wn.next(fe?(0,De.n)(fe,Ii):Ii),wn.complete())}))}});return M?Nt.pipe((0,j.Z)(M)):Nt}(Jt(L,M).map(ut)).pipe((0,we.U)(yt))}}function Yt(C){return null!=C?hn(mn(C)):null}function ct(C,M){return null===C?[M]:Array.isArray(C)?[...C,M]:[C,M]}function Xt(C){return C._rawValidators}function Tt(C){return C._rawAsyncValidators}function Kt(C){return C?Array.isArray(C)?C:[C]:[]}function kn(C,M){return Array.isArray(C)?C.includes(M):C===M}function Xn(C,M){const L=Kt(M);return Kt(C).forEach(Nt=>{kn(L,Nt)||L.push(Nt)}),L}function lr(C,M){return Kt(M).filter(L=>!kn(C,L))}class cr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=St(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=Yt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M=void 0){this.control&&this.control.reset(M)}hasError(M,L){return!!this.control&&this.control.hasError(M,L)}getError(M,L){return this.control?this.control.getError(M,L):null}}class bn extends cr{get formDirective(){return null}get path(){return null}}class Jn extends cr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qr{constructor(M){this._cd=M}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let vn=(()=>{class C extends Qr{constructor(L){super(L)}}return C.\u0275fac=function(L){return new(L||C)(y.Y36(Jn,2))},C.\u0275dir=y.lG2({type:C,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,fe){2&L&&y.ekj("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)},features:[y.qOj]}),C})(),ge=(()=>{class C extends Qr{constructor(L){super(L)}}return C.\u0275fac=function(L){return new(L||C)(y.Y36(bn,10))},C.\u0275dir=y.lG2({type:C,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,fe){2&L&&y.ekj("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)("ng-submitted",fe.isSubmitted)},features:[y.qOj]}),C})();const ai="VALID",Gi="INVALID",ti="PENDING",ui="DISABLED";function lt(C){return(X(C)?C.validators:C)||null}function te(C,M){return(X(M)?M.asyncValidators:C)||null}function X(C){return null!=C&&!Array.isArray(C)&&"object"==typeof C}function $e(C,M,L){const fe=C.controls;if(!(M?Object.keys(fe):fe).length)throw new y.vHH(1e3,"");if(!fe[L])throw new y.vHH(1001,"")}function Se(C,M,L){C._forEachChild((fe,Nt)=>{if(void 0===L[Nt])throw new y.vHH(1002,"")})}class ve{constructor(M,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(M),this._assignAsyncValidators(L)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get valid(){return this.status===ai}get invalid(){return this.status===Gi}get pending(){return this.status==ti}get disabled(){return this.status===ui}get enabled(){return this.status!==ui}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._assignValidators(M)}setAsyncValidators(M){this._assignAsyncValidators(M)}addValidators(M){this.setValidators(Xn(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(Xn(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(lr(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(lr(M,this._rawAsyncValidators))}hasValidator(M){return kn(this._rawValidators,M)}hasAsyncValidator(M){return kn(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){this.touched=!0,this._parent&&!M.onlySelf&&this._parent.markAsTouched(M)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(M=>M.markAllAsTouched())}markAsUntouched(M={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}markAsDirty(M={}){this.pristine=!1,this._parent&&!M.onlySelf&&this._parent.markAsDirty(M)}markAsPristine(M={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}markAsPending(M={}){this.status=ti,!1!==M.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!M.onlySelf&&this._parent.markAsPending(M)}disable(M={}){const L=this._parentMarkedDirty(M.onlySelf);this.status=ui,this.errors=null,this._forEachChild(fe=>{fe.disable({...M,onlySelf:!0})}),this._updateValue(),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:L}),this._onDisabledChange.forEach(fe=>fe(!0))}enable(M={}){const L=this._parentMarkedDirty(M.onlySelf);this.status=ai,this._forEachChild(fe=>{fe.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:L}),this._onDisabledChange.forEach(fe=>fe(!1))}_updateAncestors(M){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ai||this.status===ti)&&this._runAsyncValidator(M.emitEvent)),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity(M)}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ui:ai}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M){if(this.asyncValidator){this.status=ti,this._hasOwnPendingAsyncValidator=!0;const L=ut(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(fe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(fe,{emitEvent:M})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(M,L={}){this.errors=M,this._updateControlsErrors(!1!==L.emitEvent)}get(M){let L=M;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((fe,Nt)=>fe&&fe._find(Nt),this)}getError(M,L){const fe=L?this.get(L):this;return fe&&fe.errors?fe.errors[M]:null}hasError(M,L){return!!this.getError(M,L)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(M)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?ui:this.errors?Gi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ti)?ti:this._anyControlsHaveStatus(Gi)?Gi:ai}_anyControlsHaveStatus(M){return this._anyControls(L=>L.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M={}){this.pristine=!this._anyControlsDirty(),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}_updateTouched(M={}){this.touched=this._anyControlsTouched(),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){X(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}_assignValidators(M){this._rawValidators=Array.isArray(M)?M.slice():M,this._composedValidatorFn=function Ee(C){return Array.isArray(C)?St(C):C||null}(this._rawValidators)}_assignAsyncValidators(M){this._rawAsyncValidators=Array.isArray(M)?M.slice():M,this._composedAsyncValidatorFn=function q(C){return Array.isArray(C)?Yt(C):C||null}(this._rawAsyncValidators)}}class Ke extends ve{constructor(M,L,fe){super(lt(L),te(fe,L)),this.controls=M,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(M,L){return this.controls[M]?this.controls[M]:(this.controls[M]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(M,L,fe={}){this.registerControl(M,L),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}removeControl(M,L={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(M,L,fe={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],L&&this.registerControl(M,L),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,L={}){Se(this,0,M),Object.keys(M).forEach(fe=>{$e(this,!0,fe),this.controls[fe].setValue(M[fe],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(M,L={}){null!=M&&(Object.keys(M).forEach(fe=>{const Nt=this.controls[fe];Nt&&Nt.patchValue(M[fe],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(M={},L={}){this._forEachChild((fe,Nt)=>{fe.reset(M[Nt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(M,L,fe)=>(M[fe]=L.getRawValue(),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(L,fe)=>!!fe._syncPendingControls()||L);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){Object.keys(this.controls).forEach(L=>{const fe=this.controls[L];fe&&M(fe,L)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const[L,fe]of Object.entries(this.controls))if(this.contains(L)&&M(fe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,fe,Nt)=>((fe.enabled||this.disabled)&&(L[Nt]=fe.value),L))}_reduceChildren(M,L){let fe=M;return this._forEachChild((Nt,wn)=>{fe=L(fe,Nt,wn)}),fe}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(M){return this.controls.hasOwnProperty(M)?this.controls[M]:null}}class tn extends Ke{}const rr=new y.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>nr}),nr="always";function Or(C,M){return[...M.path,C]}function an(C,M,L=nr){dr(C,M),M.valueAccessor.writeValue(C.value),(C.disabled||"always"===L)&&M.valueAccessor.setDisabledState?.(C.disabled),function Fr(C,M){M.valueAccessor.registerOnChange(L=>{C._pendingValue=L,C._pendingChange=!0,C._pendingDirty=!0,"change"===C.updateOn&&Sr(C,M)})}(C,M),function er(C,M){const L=(fe,Nt)=>{M.valueAccessor.writeValue(fe),Nt&&M.viewToModelUpdate(fe)};C.registerOnChange(L),M._registerOnDestroy(()=>{C._unregisterOnChange(L)})}(C,M),function _i(C,M){M.valueAccessor.registerOnTouched(()=>{C._pendingTouched=!0,"blur"===C.updateOn&&C._pendingChange&&Sr(C,M),"submit"!==C.updateOn&&C.markAsTouched()})}(C,M),function Kn(C,M){if(M.valueAccessor.setDisabledState){const L=fe=>{M.valueAccessor.setDisabledState(fe)};C.registerOnDisabledChange(L),M._registerOnDestroy(()=>{C._unregisterOnDisabledChange(L)})}}(C,M)}function Bt(C,M,L=!0){const fe=()=>{};M.valueAccessor&&(M.valueAccessor.registerOnChange(fe),M.valueAccessor.registerOnTouched(fe)),mr(C,M),C&&(M._invokeOnDestroyCallbacks(),C._registerOnCollectionChange(()=>{}))}function gn(C,M){C.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(M)})}function dr(C,M){const L=Xt(C);null!==M.validator?C.setValidators(ct(L,M.validator)):"function"==typeof L&&C.setValidators([L]);const fe=Tt(C);null!==M.asyncValidator?C.setAsyncValidators(ct(fe,M.asyncValidator)):"function"==typeof fe&&C.setAsyncValidators([fe]);const Nt=()=>C.updateValueAndValidity();gn(M._rawValidators,Nt),gn(M._rawAsyncValidators,Nt)}function mr(C,M){let L=!1;if(null!==C){if(null!==M.validator){const Nt=Xt(C);if(Array.isArray(Nt)&&Nt.length>0){const wn=Nt.filter(Zr=>Zr!==M.validator);wn.length!==Nt.length&&(L=!0,C.setValidators(wn))}}if(null!==M.asyncValidator){const Nt=Tt(C);if(Array.isArray(Nt)&&Nt.length>0){const wn=Nt.filter(Zr=>Zr!==M.asyncValidator);wn.length!==Nt.length&&(L=!0,C.setAsyncValidators(wn))}}}const fe=()=>{};return gn(M._rawValidators,fe),gn(M._rawAsyncValidators,fe),L}function Sr(C,M){C._pendingDirty&&C.markAsDirty(),C.setValue(C._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(C._pendingValue),C._pendingChange=!1}function he(C,M){const L=C.indexOf(M);L>-1&&C.splice(L,1)}function He(C){return"object"==typeof C&&null!==C&&2===Object.keys(C).length&&"value"in C&&"disabled"in C}const Ze=class extends ve{constructor(M=null,L,fe){super(lt(L),te(fe,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(M),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),X(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=He(M)?M.value:M)}setValue(M,L={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(fe=>fe(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(M,L={}){this.setValue(M,L)}reset(M=this.defaultValue,L={}){this._applyFormState(M),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){he(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){he(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){He(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}};let qt=(()=>{class C extends bn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Or(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return C.\u0275fac=function(){let M;return function(fe){return(M||(M=y.n5z(C)))(fe||C)}}(),C.\u0275dir=y.lG2({type:C,features:[y.qOj]}),C})(),$r=(()=>{class C{}return C.\u0275fac=function(L){return new(L||C)},C.\u0275dir=y.lG2({type:C,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),C})(),po=(()=>{class C{}return C.\u0275fac=function(L){return new(L||C)},C.\u0275mod=y.oAB({type:C}),C.\u0275inj=y.cJS({}),C})();const As=new y.OlP("NgModelWithFormControlWarning"),Wi={provide:bn,useExisting:(0,y.Gpc)(()=>Mo)};let Mo=(()=>{class C extends bn{constructor(L,fe,Nt){super(),this.callSetDisabledState=Nt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.vpe,this._setValidators(L),this._setAsyncValidators(fe)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const fe=this.form.get(L.path);return an(fe,L,this.callSetDisabledState),fe.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),fe}getControl(L){return this.form.get(L.path)}removeControl(L){Bt(L.control||null,L,!1),function ns(C,M){const L=C.indexOf(M);L>-1&&C.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,fe){this.form.get(L.path).setValue(fe)}onSubmit(L){return this.submitted=!0,function yr(C,M){C._syncPendingControls(),M.forEach(L=>{const fe=L.control;"submit"===fe.updateOn&&fe._pendingChange&&(L.viewToModelUpdate(fe._pendingValue),fe._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const fe=L.control,Nt=this.form.get(L.path);fe!==Nt&&(Bt(fe||null,L),(C=>C instanceof Ze)(Nt)&&(an(Nt,L,this.callSetDisabledState),L.control=Nt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const fe=this.form.get(L.path);(function Dr(C,M){dr(C,M)})(fe,L),fe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const fe=this.form.get(L.path);fe&&function Bs(C,M){return mr(C,M)}(fe,L)&&fe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dr(this.form,this),this._oldForm&&mr(this._oldForm,this)}_checkFormPresent(){}}return C.\u0275fac=function(L){return new(L||C)(y.Y36(Dt,10),y.Y36(We,10),y.Y36(rr,8))},C.\u0275dir=y.lG2({type:C,selectors:[["","formGroup",""]],hostBindings:function(L,fe){1&L&&y.NdJ("submit",function(wn){return fe.onSubmit(wn)})("reset",function(){return fe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([Wi]),y.qOj,y.TTD]}),C})();const ro={provide:bn,useExisting:(0,y.Gpc)(()=>ri)};let ri=(()=>{class C extends qt{constructor(L,fe,Nt){super(),this.name=null,this._parent=L,this._setValidators(fe),this._setAsyncValidators(Nt)}_checkParentType(){Po(this._parent)}}return C.\u0275fac=function(L){return new(L||C)(y.Y36(bn,13),y.Y36(Dt,10),y.Y36(We,10))},C.\u0275dir=y.lG2({type:C,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[y._Bn([ro]),y.qOj]}),C})();const vi={provide:bn,useExisting:(0,y.Gpc)(()=>Oa)};let Oa=(()=>{class C extends bn{constructor(L,fe,Nt){super(),this.name=null,this._parent=L,this._setValidators(fe),this._setAsyncValidators(Nt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Or(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Po(this._parent)}}return C.\u0275fac=function(L){return new(L||C)(y.Y36(bn,13),y.Y36(Dt,10),y.Y36(We,10))},C.\u0275dir=y.lG2({type:C,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[y._Bn([vi]),y.qOj]}),C})();function Po(C){return!(C instanceof ri||C instanceof Mo||C instanceof Oa)}const wo={provide:Jn,useExisting:(0,y.Gpc)(()=>io)};let io=(()=>{class C extends Jn{set isDisabled(L){}constructor(L,fe,Nt,wn,Zr){super(),this._ngModelWarningConfig=Zr,this._added=!1,this.name=null,this.update=new y.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(fe),this._setAsyncValidators(Nt),this.valueAccessor=function Kr(C,M){if(!M)return null;let L,fe,Nt;return Array.isArray(M),M.forEach(wn=>{wn.constructor===dt?L=wn:function An(C){return Object.getPrototypeOf(C.constructor)===je}(wn)?fe=wn:Nt=wn}),Nt||fe||L||null}(0,wn)}ngOnChanges(L){this._added||this._setUpControl(),function Zt(C,M){if(!C.hasOwnProperty("model"))return!1;const L=C.model;return!!L.isFirstChange()||!Object.is(M,L.currentValue)}(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return Or(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return C._ngModelWarningSentOnce=!1,C.\u0275fac=function(L){return new(L||C)(y.Y36(bn,13),y.Y36(Dt,10),y.Y36(We,10),y.Y36(at,10),y.Y36(As,8))},C.\u0275dir=y.lG2({type:C,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y._Bn([wo]),y.qOj,y.TTD]}),C})(),fr=(()=>{class C{constructor(){this._validator=Ue}ngOnChanges(L){if(this.inputName in L){const fe=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(fe),this._validator=this._enabled?this.createValidator(fe):Ue,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return C.\u0275fac=function(L){return new(L||C)},C.\u0275dir=y.lG2({type:C,features:[y.TTD]}),C})();const Oi={provide:Dt,useExisting:(0,y.Gpc)(()=>ji),multi:!0};let ji=(()=>{class C extends fr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=y.D6c,this.createValidator=L=>zt}enabled(L){return L}}return C.\u0275fac=function(){let M;return function(fe){return(M||(M=y.n5z(C)))(fe||C)}}(),C.\u0275dir=y.lG2({type:C,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(L,fe){2&L&&y.uIk("required",fe._enabled?"":null)},inputs:{required:"required"},features:[y._Bn([Oi]),y.qOj]}),C})(),Uo=(()=>{class C{}return C.\u0275fac=function(L){return new(L||C)},C.\u0275mod=y.oAB({type:C}),C.\u0275inj=y.cJS({imports:[po]}),C})();class Ro extends ve{constructor(M,L,fe){super(lt(L),te(fe,L)),this.controls=M,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(M){return this.controls[this._adjustIndex(M)]}push(M,L={}){this.controls.push(M),this._registerControl(M),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(M,L,fe={}){this.controls.splice(M,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:fe.emitEvent})}removeAt(M,L={}){let fe=this._adjustIndex(M);fe<0&&(fe=0),this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),this.controls.splice(fe,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(M,L,fe={}){let Nt=this._adjustIndex(M);Nt<0&&(Nt=0),this.controls[Nt]&&this.controls[Nt]._registerOnCollectionChange(()=>{}),this.controls.splice(Nt,1),L&&(this.controls.splice(Nt,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(M,L={}){Se(this,0,M),M.forEach((fe,Nt)=>{$e(this,!1,Nt),this.at(Nt).setValue(fe,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(M,L={}){null!=M&&(M.forEach((fe,Nt)=>{this.at(Nt)&&this.at(Nt).patchValue(fe,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(M=[],L={}){this._forEachChild((fe,Nt)=>{fe.reset(M[Nt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(M=>M.getRawValue())}clear(M={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:M.emitEvent}))}_adjustIndex(M){return M<0?M+this.length:M}_syncPendingControls(){let M=this.controls.reduce((L,fe)=>!!fe._syncPendingControls()||L,!1);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){this.controls.forEach((L,fe)=>{M(L,fe)})}_updateValue(){this.value=this.controls.filter(M=>M.enabled||this.disabled).map(M=>M.value)}_anyControls(M){return this.controls.some(L=>L.enabled&&M(L))}_setUpControls(){this._forEachChild(M=>this._registerControl(M))}_allControlsDisabled(){for(const M of this.controls)if(M.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(M){M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)}_find(M){return this.at(M)??null}}function Es(C){return!!C&&(void 0!==C.asyncValidators||void 0!==C.validators||void 0!==C.updateOn)}let la=(()=>{class C{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new C;return L.useNonNullable=!0,L}group(L,fe=null){const Nt=this._reduceControls(L);let wn={};return Es(fe)?wn=fe:null!==fe&&(wn.validators=fe.validator,wn.asyncValidators=fe.asyncValidator),new Ke(Nt,wn)}record(L,fe=null){const Nt=this._reduceControls(L);return new tn(Nt,fe)}control(L,fe,Nt){let wn={};return this.useNonNullable?(Es(fe)?wn=fe:(wn.validators=fe,wn.asyncValidators=Nt),new Ze(L,{...wn,nonNullable:!0})):new Ze(L,fe,Nt)}array(L,fe,Nt){const wn=L.map(Zr=>this._createControl(Zr));return new Ro(wn,fe,Nt)}_reduceControls(L){const fe={};return Object.keys(L).forEach(Nt=>{fe[Nt]=this._createControl(L[Nt])}),fe}_createControl(L){return L instanceof Ze||L instanceof ve?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}}return C.\u0275fac=function(L){return new(L||C)},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),ie=(()=>{class C{static withConfig(L){return{ngModule:C,providers:[{provide:rr,useValue:L.callSetDisabledState??nr}]}}}return C.\u0275fac=function(L){return new(L||C)},C.\u0275mod=y.oAB({type:C}),C.\u0275inj=y.cJS({imports:[Uo]}),C})(),x=(()=>{class C{static withConfig(L){return{ngModule:C,providers:[{provide:As,useValue:L.warnOnNgModelWithFormControl??"always"},{provide:rr,useValue:L.callSetDisabledState??nr}]}}}return C.\u0275fac=function(L){return new(L||C)},C.\u0275mod=y.oAB({type:C}),C.\u0275inj=y.cJS({imports:[Uo]}),C})()},6550:(xn,bt,k)=>{"use strict";k.d(bt,{Dx:()=>Jn,H7:()=>Mi,b2:()=>kn,q6:()=>ct});var y=k(2223),h=k(4755);class K extends h.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class P extends K{static makeCurrent(){(0,h.HT)(new P)}onAndCancel(te,q,X){return te.addEventListener(q,X),()=>{te.removeEventListener(q,X)}}dispatchEvent(te,q){te.dispatchEvent(q)}remove(te){te.parentNode&&te.parentNode.removeChild(te)}createElement(te,q){return(q=q||this.getDefaultDocument()).createElement(te)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(te){return te.nodeType===Node.ELEMENT_NODE}isShadowRoot(te){return te instanceof DocumentFragment}getGlobalEventTarget(te,q){return"window"===q?window:"document"===q?te:"body"===q?te.body:null}getBaseHref(te){const q=function me(){return Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null}();return null==q?null:function Xe(Ee){Pe=Pe||document.createElement("a"),Pe.setAttribute("href",Ee);const te=Pe.pathname;return"/"===te.charAt(0)?te:`/${te}`}(q)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(te){return(0,h.Mx)(document.cookie,te)}}let Pe,Te=null,De=(()=>{class Ee{build(){return new XMLHttpRequest}}return Ee.\u0275fac=function(q){return new(q||Ee)},Ee.\u0275prov=y.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const ye=new y.OlP("EventManagerPlugins");let we=(()=>{class Ee{constructor(q,X){this._zone=X,this._eventNameToPlugin=new Map,q.forEach($e=>{$e.manager=this}),this._plugins=q.slice().reverse()}addEventListener(q,X,$e){return this._findPluginFor(X).addEventListener(q,X,$e)}getZone(){return this._zone}_findPluginFor(q){let X=this._eventNameToPlugin.get(q);if(X)return X;if(X=this._plugins.find(Se=>Se.supports(q)),!X)throw new y.vHH(5101,!1);return this._eventNameToPlugin.set(q,X),X}}return Ee.\u0275fac=function(q){return new(q||Ee)(y.LFG(ye),y.LFG(y.R0b))},Ee.\u0275prov=y.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class Ve{constructor(te){this._doc=te}}const je="ng-app-id";let at=(()=>{class Ee{constructor(q,X,$e,Se={}){this.doc=q,this.appId=X,this.nonce=$e,this.platformId=Se,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,h.PM)(Se),this.resetHostNodes()}addStyles(q){for(const X of q)1===this.changeUsageCount(X,1)&&this.onStyleAdded(X)}removeStyles(q){for(const X of q)this.changeUsageCount(X,-1)<=0&&this.onStyleRemoved(X)}ngOnDestroy(){const q=this.styleNodesInDOM;q&&(q.forEach(X=>X.remove()),q.clear());for(const X of this.getAllStyles())this.onStyleRemoved(X);this.resetHostNodes()}addHost(q){this.hostNodes.add(q);for(const X of this.getAllStyles())this.addStyleToHost(q,X)}removeHost(q){this.hostNodes.delete(q)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(q){for(const X of this.hostNodes)this.addStyleToHost(X,q)}onStyleRemoved(q){const X=this.styleRef;X.get(q)?.elements?.forEach($e=>$e.remove()),X.delete(q)}collectServerRenderedStyles(){const q=this.doc.head?.querySelectorAll(`style[${je}="${this.appId}"]`);if(q?.length){const X=new Map;return q.forEach($e=>{null!=$e.textContent&&X.set($e.textContent,$e)}),X}return null}changeUsageCount(q,X){const $e=this.styleRef;if($e.has(q)){const Se=$e.get(q);return Se.usage+=X,Se.usage}return $e.set(q,{usage:X,elements:[]}),X}getStyleElement(q,X){const $e=this.styleNodesInDOM,Se=$e?.get(X);if(Se?.parentNode===q)return $e.delete(X),Se.removeAttribute(je),Se;{const ve=this.doc.createElement("style");return this.nonce&&ve.setAttribute("nonce",this.nonce),ve.textContent=X,this.platformIsServer&&ve.setAttribute(je,this.appId),ve}}addStyleToHost(q,X){const $e=this.getStyleElement(q,X);q.appendChild($e);const Se=this.styleRef,ve=Se.get(X)?.elements;ve?ve.push($e):Se.set(X,{elements:[$e],usage:1})}resetHostNodes(){const q=this.hostNodes;q.clear(),q.add(this.doc.head)}}return Ee.\u0275fac=function(q){return new(q||Ee)(y.LFG(h.K0),y.LFG(y.AFp),y.LFG(y.Ojb,8),y.LFG(y.Lbi))},Ee.\u0275prov=y.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ze=/%COMP%/g,vt=new y.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function We(Ee,te){return te.map(q=>q.replace(ze,Ee))}let be=(()=>{class Ee{constructor(q,X,$e,Se,ve,Ke,It,sn=null){this.eventManager=q,this.sharedStylesHost=X,this.appId=$e,this.removeStylesOnCompDestory=Se,this.doc=ve,this.platformId=Ke,this.ngZone=It,this.nonce=sn,this.rendererByCompId=new Map,this.platformIsServer=(0,h.PM)(Ke),this.defaultRenderer=new $t(q,ve,It,this.platformIsServer)}createRenderer(q,X){if(!q||!X)return this.defaultRenderer;this.platformIsServer&&X.encapsulation===y.ifc.ShadowDom&&(X={...X,encapsulation:y.ifc.Emulated});const $e=this.getOrCreateRenderer(q,X);return $e instanceof Et?$e.applyToHost(q):$e instanceof Sn&&$e.applyStyles(),$e}getOrCreateRenderer(q,X){const $e=this.rendererByCompId;let Se=$e.get(X.id);if(!Se){const ve=this.doc,Ke=this.ngZone,It=this.eventManager,sn=this.sharedStylesHost,tn=this.removeStylesOnCompDestory,Dn=this.platformIsServer;switch(X.encapsulation){case y.ifc.Emulated:Se=new Et(It,sn,X,this.appId,tn,ve,Ke,Dn);break;case y.ifc.ShadowDom:return new Vt(It,sn,q,X,ve,Ke,this.nonce,Dn);default:Se=new Sn(It,sn,X,tn,ve,Ke,Dn)}Se.onDestroy=()=>$e.delete(X.id),$e.set(X.id,Se)}return Se}ngOnDestroy(){this.rendererByCompId.clear()}}return Ee.\u0275fac=function(q){return new(q||Ee)(y.LFG(we),y.LFG(at),y.LFG(y.AFp),y.LFG(vt),y.LFG(h.K0),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(y.Ojb))},Ee.\u0275prov=y.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class $t{constructor(te,q,X,$e){this.eventManager=te,this.doc=q,this.ngZone=X,this.platformIsServer=$e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(te,q){return q?this.doc.createElementNS(Mt[q]||q,te):this.doc.createElement(te)}createComment(te){return this.doc.createComment(te)}createText(te){return this.doc.createTextNode(te)}appendChild(te,q){(zt(te)?te.content:te).appendChild(q)}insertBefore(te,q,X){te&&(zt(te)?te.content:te).insertBefore(q,X)}removeChild(te,q){te&&te.removeChild(q)}selectRootElement(te,q){let X="string"==typeof te?this.doc.querySelector(te):te;if(!X)throw new y.vHH(5104,!1);return q||(X.textContent=""),X}parentNode(te){return te.parentNode}nextSibling(te){return te.nextSibling}setAttribute(te,q,X,$e){if($e){q=$e+":"+q;const Se=Mt[$e];Se?te.setAttributeNS(Se,q,X):te.setAttribute(q,X)}else te.setAttribute(q,X)}removeAttribute(te,q,X){if(X){const $e=Mt[X];$e?te.removeAttributeNS($e,q):te.removeAttribute(`${X}:${q}`)}else te.removeAttribute(q)}addClass(te,q){te.classList.add(q)}removeClass(te,q){te.classList.remove(q)}setStyle(te,q,X,$e){$e&(y.JOm.DashCase|y.JOm.Important)?te.style.setProperty(q,X,$e&y.JOm.Important?"important":""):te.style[q]=X}removeStyle(te,q,X){X&y.JOm.DashCase?te.style.removeProperty(q):te.style[q]=""}setProperty(te,q,X){te[q]=X}setValue(te,q){te.nodeValue=q}listen(te,q,X){if("string"==typeof te&&!(te=(0,h.q)().getGlobalEventTarget(this.doc,te)))throw new Error(`Unsupported event target ${te} for event ${q}`);return this.eventManager.addEventListener(te,q,this.decoratePreventDefault(X))}decoratePreventDefault(te){return q=>{if("__ngUnwrap__"===q)return te;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>te(q)):te(q))&&q.preventDefault()}}}function zt(Ee){return"TEMPLATE"===Ee.tagName&&void 0!==Ee.content}class Vt extends $t{constructor(te,q,X,$e,Se,ve,Ke,It){super(te,Se,ve,It),this.sharedStylesHost=q,this.hostEl=X,this.shadowRoot=X.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const sn=We($e.id,$e.styles);for(const tn of sn){const Dn=document.createElement("style");Ke&&Dn.setAttribute("nonce",Ke),Dn.textContent=tn,this.shadowRoot.appendChild(Dn)}}nodeOrShadowRoot(te){return te===this.hostEl?this.shadowRoot:te}appendChild(te,q){return super.appendChild(this.nodeOrShadowRoot(te),q)}insertBefore(te,q,X){return super.insertBefore(this.nodeOrShadowRoot(te),q,X)}removeChild(te,q){return super.removeChild(this.nodeOrShadowRoot(te),q)}parentNode(te){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(te)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Sn extends $t{constructor(te,q,X,$e,Se,ve,Ke,It){super(te,Se,ve,Ke),this.sharedStylesHost=q,this.removeStylesOnCompDestory=$e,this.rendererUsageCount=0,this.styles=It?We(It,X.styles):X.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Et extends Sn{constructor(te,q,X,$e,Se,ve,Ke,It){const sn=$e+"-"+X.id;super(te,q,X,Se,ve,Ke,It,sn),this.contentAttr=function pt(Ee){return"_ngcontent-%COMP%".replace(ze,Ee)}(sn),this.hostAttr=function Dt(Ee){return"_nghost-%COMP%".replace(ze,Ee)}(sn)}applyToHost(te){this.applyStyles(),this.setAttribute(te,this.hostAttr,"")}createElement(te,q){const X=super.createElement(te,q);return super.setAttribute(X,this.contentAttr,""),X}}let st=(()=>{class Ee extends Ve{constructor(q){super(q)}supports(q){return!0}addEventListener(q,X,$e){return q.addEventListener(X,$e,!1),()=>this.removeEventListener(q,X,$e)}removeEventListener(q,X,$e){return q.removeEventListener(X,$e)}}return Ee.\u0275fac=function(q){return new(q||Ee)(y.LFG(h.K0))},Ee.\u0275prov=y.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Ye=["alt","control","meta","shift"],Ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qe={alt:Ee=>Ee.altKey,control:Ee=>Ee.ctrlKey,meta:Ee=>Ee.metaKey,shift:Ee=>Ee.shiftKey};let ut=(()=>{class Ee extends Ve{constructor(q){super(q)}supports(q){return null!=Ee.parseEventName(q)}addEventListener(q,X,$e){const Se=Ee.parseEventName(X),ve=Ee.eventCallback(Se.fullKey,$e,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.q)().onAndCancel(q,Se.domEventName,ve))}static parseEventName(q){const X=q.toLowerCase().split("."),$e=X.shift();if(0===X.length||"keydown"!==$e&&"keyup"!==$e)return null;const Se=Ee._normalizeKey(X.pop());let ve="",Ke=X.indexOf("code");if(Ke>-1&&(X.splice(Ke,1),ve="code."),Ye.forEach(sn=>{const tn=X.indexOf(sn);tn>-1&&(X.splice(tn,1),ve+=sn+".")}),ve+=Se,0!=X.length||0===Se.length)return null;const It={};return It.domEventName=$e,It.fullKey=ve,It}static matchEventFullKeyCode(q,X){let $e=Ue[q.key]||q.key,Se="";return X.indexOf("code.")>-1&&($e=q.code,Se="code."),!(null==$e||!$e)&&($e=$e.toLowerCase()," "===$e?$e="space":"."===$e&&($e="dot"),Ye.forEach(ve=>{ve!==$e&&(0,Qe[ve])(q)&&(Se+=ve+".")}),Se+=$e,Se===X)}static eventCallback(q,X,$e){return Se=>{Ee.matchEventFullKeyCode(Se,q)&&$e.runGuarded(()=>X(Se))}}static _normalizeKey(q){return"esc"===q?"escape":q}}return Ee.\u0275fac=function(q){return new(q||Ee)(y.LFG(h.K0))},Ee.\u0275prov=y.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const ct=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:h.bD},{provide:y.g9A,useValue:function On(){P.makeCurrent()},multi:!0},{provide:h.K0,useFactory:function hn(){return(0,y.RDi)(document),document},deps:[]}]),Xt=new y.OlP(""),Tt=[{provide:y.rWj,useClass:class j{addToWindow(te){y.dqk.getAngularTestability=(X,$e=!0)=>{const Se=te.findTestabilityInTree(X,$e);if(null==Se)throw new y.vHH(5103,!1);return Se},y.dqk.getAllAngularTestabilities=()=>te.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>te.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(X=>{const $e=y.dqk.getAllAngularTestabilities();let Se=$e.length,ve=!1;const Ke=function(It){ve=ve||It,Se--,0==Se&&X(ve)};$e.forEach(function(It){It.whenStable(Ke)})})}findTestabilityInTree(te,q,X){return null==q?null:te.getTestability(q)??(X?(0,h.q)().isShadowRoot(q)?this.findTestabilityInTree(te,q.host,!0):this.findTestabilityInTree(te,q.parentElement,!0):null)}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],Kt=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function St(){return new y.qLn},deps:[]},{provide:ye,useClass:st,multi:!0,deps:[h.K0,y.R0b,y.Lbi]},{provide:ye,useClass:ut,multi:!0,deps:[h.K0]},be,at,we,{provide:y.FYo,useExisting:be},{provide:h.JF,useClass:De,deps:[]},[]];let kn=(()=>{class Ee{constructor(q){}static withServerTransition(q){return{ngModule:Ee,providers:[{provide:y.AFp,useValue:q.appId}]}}}return Ee.\u0275fac=function(q){return new(q||Ee)(y.LFG(Xt,12))},Ee.\u0275mod=y.oAB({type:Ee}),Ee.\u0275inj=y.cJS({providers:[...Kt,...Tt],imports:[h.ez,y.hGG]}),Ee})(),Jn=(()=>{class Ee{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}}return Ee.\u0275fac=function(q){return new(q||Ee)(y.LFG(h.K0))},Ee.\u0275prov=y.Yz7({token:Ee,factory:function(q){let X=null;return X=q?new q:function bn(){return new Jn((0,y.LFG)(h.K0))}(),X},providedIn:"root"}),Ee})();typeof window<"u"&&window;let Mi=(()=>{class Ee{}return Ee.\u0275fac=function(q){return new(q||Ee)},Ee.\u0275prov=y.Yz7({token:Ee,factory:function(q){let X=null;return X=q?new(q||Ee):y.LFG(jr),X},providedIn:"root"}),Ee})(),jr=(()=>{class Ee extends Mi{constructor(q){super(),this._doc=q}sanitize(q,X){if(null==X)return null;switch(q){case y.q3G.NONE:return X;case y.q3G.HTML:return(0,y.qzn)(X,"HTML")?(0,y.z3N)(X):(0,y.EiD)(this._doc,String(X)).toString();case y.q3G.STYLE:return(0,y.qzn)(X,"Style")?(0,y.z3N)(X):X;case y.q3G.SCRIPT:if((0,y.qzn)(X,"Script"))return(0,y.z3N)(X);throw new y.vHH(5200,!1);case y.q3G.URL:return(0,y.qzn)(X,"URL")?(0,y.z3N)(X):(0,y.mCW)(String(X));case y.q3G.RESOURCE_URL:if((0,y.qzn)(X,"ResourceURL"))return(0,y.z3N)(X);throw new y.vHH(5201,!1);default:throw new y.vHH(5202,!1)}}bypassSecurityTrustHtml(q){return(0,y.JVY)(q)}bypassSecurityTrustStyle(q){return(0,y.L6k)(q)}bypassSecurityTrustScript(q){return(0,y.eBb)(q)}bypassSecurityTrustUrl(q){return(0,y.LAX)(q)}bypassSecurityTrustResourceUrl(q){return(0,y.pB0)(q)}}return Ee.\u0275fac=function(q){return new(q||Ee)(y.LFG(h.K0))},Ee.\u0275prov=y.Yz7({token:Ee,factory:function(q){let X=null;return X=q?new q:function Pi(Ee){return new jr(Ee.get(h.K0))}(y.LFG(y.zs3)),X},providedIn:"root"}),Ee})()},9931:(xn,bt,k)=>{"use strict";k.d(bt,{gz:()=>no,y6:()=>uo,OD:()=>Ae,eC:()=>Kt,wm:()=>eo,wN:()=>ss,F0:()=>Eo,rH:()=>Gs,Od:()=>Sl,Bz:()=>es,Hx:()=>jr});var y=k(2223),h=k(9751),K=k(576),Te=k(8996),me=k(9646),Pe=k(1135),Xe=k(4742),j=k(4671),De=k(3268),ye=k(7669),we=k(1810),Ve=k(5403),je=k(9672);function at(...R){const $=(0,ye.yG)(R),b=(0,ye.jO)(R),{args:G,keys:ae}=(0,Xe.D)(R);if(0===G.length)return(0,Te.D)([],$);const Ne=new h.y(function Mt(R,$,b=j.y){return G=>{ze($,()=>{const{length:ae}=R,Ne=new Array(ae);let Be=ae,Wt=ae;for(let rt=0;rt<ae;rt++)ze($,()=>{const Vr=(0,Te.D)(R[rt],$);let Mr=!1;Vr.subscribe((0,Ve.x)(G,Is=>{Ne[rt]=Is,Mr||(Mr=!0,Wt--),Wt||G.next(b(Ne.slice()))},()=>{--Be||G.complete()}))},G)},G)}}(G,$,ae?Be=>(0,we.n)(ae,Be):j.y));return b?Ne.pipe((0,De.Z)(b)):Ne}function ze(R,$,b){R?(0,je.f)(b,R,$):$()}var Ge=k(6805),_e=k(7272),mt=k(8421);function dt(R){return new h.y($=>{(0,mt.Xf)(R()).subscribe($)})}var vt=k(9635);function pt(R,$){const b=(0,K.m)(R)?R:()=>R,G=ae=>ae.error(b());return new h.y($?ae=>$.schedule(G,0,ae):G)}var Dt=k(515),We=k(727),be=k(4482);function $t(){return(0,be.e)((R,$)=>{let b=null;R._refCount++;const G=(0,Ve.x)($,void 0,void 0,void 0,()=>{if(!R||R._refCount<=0||0<--R._refCount)return void(b=null);const ae=R._connection,Ne=b;b=null,ae&&(!Ne||ae===Ne)&&ae.unsubscribe(),$.unsubscribe()});R.subscribe(G),G.closed||(b=R.connect())})}class tt extends h.y{constructor($,b){super(),this.source=$,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,be.A)($)&&(this.lift=$.lift)}_subscribe($){return this.getSubject().subscribe($)}getSubject(){const $=this._subject;return(!$||$.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:$}=this;this._subject=this._connection=null,$?.unsubscribe()}connect(){let $=this._connection;if(!$){$=this._connection=new We.w0;const b=this.getSubject();$.add(this.source.subscribe((0,Ve.x)(b,void 0,()=>{this._teardown(),b.complete()},G=>{this._teardown(),b.error(G)},()=>this._teardown()))),$.closed&&(this._connection=null,$=We.w0.EMPTY)}return $}refCount(){return $t()(this)}}var Ft=k(7579),zt=k(4755),Vt=k(4004),Sn=k(3900),Et=k(5698),st=k(8675),Ye=k(9300),Ue=k(5577),Qe=k(590),ut=k(4351),yt=k(8505),Jt=k(262),Nn=k(5026),mn=k(6590);function On(R){return R<=0?()=>Dt.E:(0,be.e)(($,b)=>{let G=[];$.subscribe((0,Ve.x)(b,ae=>{G.push(ae),R<G.length&&G.shift()},()=>{for(const ae of G)b.next(ae);b.complete()},void 0,()=>{G=null}))})}var St=k(8068),ct=k(8746),Xt=k(8189),Tt=k(6550);const Kt="primary",kn=Symbol("RouteTitle");class Xn{constructor($){this.params=$||{}}has($){return Object.prototype.hasOwnProperty.call(this.params,$)}get($){if(this.has($)){const b=this.params[$];return Array.isArray(b)?b[0]:b}return null}getAll($){if(this.has($)){const b=this.params[$];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function lr(R){return new Xn(R)}function cr(R,$,b){const G=b.path.split("/");if(G.length>R.length||"full"===b.pathMatch&&($.hasChildren()||G.length<R.length))return null;const ae={};for(let Ne=0;Ne<G.length;Ne++){const Be=G[Ne],Wt=R[Ne];if(Be.startsWith(":"))ae[Be.substring(1)]=Wt;else if(Be!==Wt.path)return null}return{consumed:R.slice(0,G.length),posParams:ae}}function Jn(R,$){const b=R?Object.keys(R):void 0,G=$?Object.keys($):void 0;if(!b||!G||b.length!=G.length)return!1;let ae;for(let Ne=0;Ne<b.length;Ne++)if(ae=b[Ne],!Qr(R[ae],$[ae]))return!1;return!0}function Qr(R,$){if(Array.isArray(R)&&Array.isArray($)){if(R.length!==$.length)return!1;const b=[...R].sort(),G=[...$].sort();return b.every((ae,Ne)=>G[Ne]===ae)}return R===$}function Er(R){return R.length>0?R[R.length-1]:null}function Ht(R){return function P(R){return!!R&&(R instanceof h.y||(0,K.m)(R.lift)&&(0,K.m)(R.subscribe))}(R)?R:(0,y.QGY)(R)?(0,Te.D)(Promise.resolve(R)):(0,me.of)(R)}const vn={exact:function Wn(R,$,b){if(!Mi(R.segments,$.segments)||!qr(R.segments,$.segments,b)||R.numberOfChildren!==$.numberOfChildren)return!1;for(const G in $.children)if(!R.children[G]||!Wn(R.children[G],$.children[G],b))return!1;return!0},subset:Wr},ge={exact:function Ot(R,$){return Jn(R,$)},subset:function nn(R,$){return Object.keys($).length<=Object.keys(R).length&&Object.keys($).every(b=>Qr(R[b],$[b]))},ignored:()=>!0};function ht(R,$,b){return vn[b.paths](R.root,$.root,b.matrixParams)&&ge[b.queryParams](R.queryParams,$.queryParams)&&!("exact"===b.fragment&&R.fragment!==$.fragment)}function Wr(R,$,b){return ei(R,$,$.segments,b)}function ei(R,$,b,G){if(R.segments.length>b.length){const ae=R.segments.slice(0,b.length);return!(!Mi(ae,b)||$.hasChildren()||!qr(ae,b,G))}if(R.segments.length===b.length){if(!Mi(R.segments,b)||!qr(R.segments,b,G))return!1;for(const ae in $.children)if(!R.children[ae]||!Wr(R.children[ae],$.children[ae],G))return!1;return!0}{const ae=b.slice(0,R.segments.length),Ne=b.slice(R.segments.length);return!!(Mi(R.segments,ae)&&qr(R.segments,ae,G)&&R.children[Kt])&&ei(R.children[Kt],$,Ne,G)}}function qr(R,$,b){return $.every((G,ae)=>ge[b](R[ae].parameters,G.parameters))}class xr{constructor($=new Un([],{}),b={},G=null){this.root=$,this.queryParams=b,this.fragment=G}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lr(this.queryParams)),this._queryParamMap}toString(){return Ti.serialize(this)}}class Un{constructor($,b){this.segments=$,this.children=b,this.parent=null,Object.values(b).forEach(G=>G.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pr(this)}}class Xr{constructor($,b){this.path=$,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=lr(this.parameters)),this._parameterMap}toString(){return q(this)}}function Mi(R,$){return R.length===$.length&&R.every((b,G)=>b.path===$[G].path)}let jr=(()=>{class R{}return R.\u0275fac=function(b){return new(b||R)},R.\u0275prov=y.Yz7({token:R,factory:function(){return new Le},providedIn:"root"}),R})();class Le{parse($){const b=new nr($);return new xr(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize($){const b=`/${ai($.root,!0)}`,G=function $e(R){const $=Object.keys(R).map(b=>{const G=R[b];return Array.isArray(G)?G.map(ae=>`${ti(b)}=${ti(ae)}`).join("&"):`${ti(b)}=${ti(G)}`}).filter(b=>!!b);return $.length?`?${$.join("&")}`:""}($.queryParams);return`${b}${G}${"string"==typeof $.fragment?`#${function ui(R){return encodeURI(R)}($.fragment)}`:""}`}}const Ti=new Le;function Pr(R){return R.segments.map($=>q($)).join("/")}function ai(R,$){if(!R.hasChildren())return Pr(R);if($){const b=R.children[Kt]?ai(R.children[Kt],!1):"",G=[];return Object.entries(R.children).forEach(([ae,Ne])=>{ae!==Kt&&G.push(`${ae}:${ai(Ne,!1)}`)}),G.length>0?`${b}(${G.join("//")})`:b}{const b=function Pi(R,$){let b=[];return Object.entries(R.children).forEach(([G,ae])=>{G===Kt&&(b=b.concat($(ae,G)))}),Object.entries(R.children).forEach(([G,ae])=>{G!==Kt&&(b=b.concat($(ae,G)))}),b}(R,(G,ae)=>ae===Kt?[ai(R.children[Kt],!1)]:[`${ae}:${ai(G,!1)}`]);return 1===Object.keys(R.children).length&&null!=R.children[Kt]?`${Pr(R)}/${b[0]}`:`${Pr(R)}/(${b.join("//")})`}}function Gi(R){return encodeURIComponent(R).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ti(R){return Gi(R).replace(/%3B/gi,";")}function lt(R){return Gi(R).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ee(R){return decodeURIComponent(R)}function te(R){return Ee(R.replace(/\+/g,"%20"))}function q(R){return`${lt(R.path)}${function X(R){return Object.keys(R).map($=>`;${lt($)}=${lt(R[$])}`).join("")}(R.parameters)}`}const Se=/^[^\/()?;#]+/;function ve(R){const $=R.match(Se);return $?$[0]:""}const Ke=/^[^\/()?;=#]+/,sn=/^[^=?&#]+/,Dn=/^[^&#]+/;class nr{constructor($){this.url=$,this.remaining=$}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Un([],{}):new Un([],this.parseChildren())}parseQueryParams(){const $={};if(this.consumeOptional("?"))do{this.parseQueryParam($)}while(this.consumeOptional("&"));return $}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const $=[];for(this.peekStartsWith("(")||$.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),$.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let G={};return this.peekStartsWith("(")&&(G=this.parseParens(!1)),($.length>0||Object.keys(b).length>0)&&(G[Kt]=new Un($,b)),G}parseSegment(){const $=ve(this.remaining);if(""===$&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture($),new Xr(Ee($),this.parseMatrixParams())}parseMatrixParams(){const $={};for(;this.consumeOptional(";");)this.parseParam($);return $}parseParam($){const b=function It(R){const $=R.match(Ke);return $?$[0]:""}(this.remaining);if(!b)return;this.capture(b);let G="";if(this.consumeOptional("=")){const ae=ve(this.remaining);ae&&(G=ae,this.capture(G))}$[Ee(b)]=Ee(G)}parseQueryParam($){const b=function tn(R){const $=R.match(sn);return $?$[0]:""}(this.remaining);if(!b)return;this.capture(b);let G="";if(this.consumeOptional("=")){const Be=function rr(R){const $=R.match(Dn);return $?$[0]:""}(this.remaining);Be&&(G=Be,this.capture(G))}const ae=te(b),Ne=te(G);if($.hasOwnProperty(ae)){let Be=$[ae];Array.isArray(Be)||(Be=[Be],$[ae]=Be),Be.push(Ne)}else $[ae]=Ne}parseParens($){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const G=ve(this.remaining),ae=this.remaining[G.length];if("/"!==ae&&")"!==ae&&";"!==ae)throw new y.vHH(4010,!1);let Ne;G.indexOf(":")>-1?(Ne=G.slice(0,G.indexOf(":")),this.capture(Ne),this.capture(":")):$&&(Ne=Kt);const Be=this.parseChildren();b[Ne]=1===Object.keys(Be).length?Be[Kt]:new Un([],Be),this.consumeOptional("//")}return b}peekStartsWith($){return this.remaining.startsWith($)}consumeOptional($){return!!this.peekStartsWith($)&&(this.remaining=this.remaining.substring($.length),!0)}capture($){if(!this.consumeOptional($))throw new y.vHH(4011,!1)}}function Or(R){return R.segments.length>0?new Un([],{[Kt]:R}):R}function an(R){const $={};for(const G of Object.keys(R.children)){const Ne=an(R.children[G]);if(G===Kt&&0===Ne.segments.length&&Ne.hasChildren())for(const[Be,Wt]of Object.entries(Ne.children))$[Be]=Wt;else(Ne.segments.length>0||Ne.hasChildren())&&($[G]=Ne)}return function Bt(R){if(1===R.numberOfChildren&&R.children[Kt]){const $=R.children[Kt];return new Un(R.segments.concat($.segments),$.children)}return R}(new Un(R.segments,$))}function gn(R){return R instanceof xr}function dr(R){let $;const ae=Or(function b(Ne){const Be={};for(const rt of Ne.children){const Vr=b(rt);Be[rt.outlet]=Vr}const Wt=new Un(Ne.url,Be);return Ne===R&&($=Wt),Wt}(R.root));return $??ae}function mr(R,$,b,G){let ae=R;for(;ae.parent;)ae=ae.parent;if(0===$.length)return Sr(ae,ae,ae,b,G);const Ne=function Bs(R){if("string"==typeof R[0]&&1===R.length&&"/"===R[0])return new Dr(!0,0,R);let $=0,b=!1;const G=R.reduce((ae,Ne,Be)=>{if("object"==typeof Ne&&null!=Ne){if(Ne.outlets){const Wt={};return Object.entries(Ne.outlets).forEach(([rt,Vr])=>{Wt[rt]="string"==typeof Vr?Vr.split("/"):Vr}),[...ae,{outlets:Wt}]}if(Ne.segmentPath)return[...ae,Ne.segmentPath]}return"string"!=typeof Ne?[...ae,Ne]:0===Be?(Ne.split("/").forEach((Wt,rt)=>{0==rt&&"."===Wt||(0==rt&&""===Wt?b=!0:".."===Wt?$++:""!=Wt&&ae.push(Wt))}),ae):[...ae,Ne]},[]);return new Dr(b,$,G)}($);if(Ne.toRoot())return Sr(ae,ae,new Un([],{}),b,G);const Be=function Z(R,$,b){if(R.isAbsolute)return new hi($,!0,0);if(!b)return new hi($,!1,NaN);if(null===b.parent)return new hi(b,!0,0);const G=Fr(R.commands[0])?0:1;return function wt(R,$,b){let G=R,ae=$,Ne=b;for(;Ne>ae;){if(Ne-=ae,G=G.parent,!G)throw new y.vHH(4005,!1);ae=G.segments.length}return new hi(G,!1,ae-Ne)}(b,b.segments.length-1+G,R.numberOfDoubleDots)}(Ne,ae,R),Wt=Be.processChildren?Zt(Be.segmentGroup,Be.index,Ne.commands):Pt(Be.segmentGroup,Be.index,Ne.commands);return Sr(ae,Be.segmentGroup,Wt,b,G)}function Fr(R){return"object"==typeof R&&null!=R&&!R.outlets&&!R.segmentPath}function _i(R){return"object"==typeof R&&null!=R&&R.outlets}function Sr(R,$,b,G,ae){let Be,Ne={};G&&Object.entries(G).forEach(([rt,Vr])=>{Ne[rt]=Array.isArray(Vr)?Vr.map(Mr=>`${Mr}`):`${Vr}`}),Be=R===$?b:er(R,$,b);const Wt=Or(an(Be));return new xr(Wt,Ne,ae)}function er(R,$,b){const G={};return Object.entries(R.children).forEach(([ae,Ne])=>{G[ae]=Ne===$?b:er(Ne,$,b)}),new Un(R.segments,G)}class Dr{constructor($,b,G){if(this.isAbsolute=$,this.numberOfDoubleDots=b,this.commands=G,$&&G.length>0&&Fr(G[0]))throw new y.vHH(4003,!1);const ae=G.find(_i);if(ae&&ae!==Er(G))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hi{constructor($,b,G){this.segmentGroup=$,this.processChildren=b,this.index=G}}function Pt(R,$,b){if(R||(R=new Un([],{})),0===R.segments.length&&R.hasChildren())return Zt(R,$,b);const G=function An(R,$,b){let G=0,ae=$;const Ne={match:!1,pathIndex:0,commandIndex:0};for(;ae<R.segments.length;){if(G>=b.length)return Ne;const Be=R.segments[ae],Wt=b[G];if(_i(Wt))break;const rt=`${Wt}`,Vr=G<b.length-1?b[G+1]:null;if(ae>0&&void 0===rt)break;if(rt&&Vr&&"object"==typeof Vr&&void 0===Vr.outlets){if(!Fs(rt,Vr,Be))return Ne;G+=2}else{if(!Fs(rt,{},Be))return Ne;G++}ae++}return{match:!0,pathIndex:ae,commandIndex:G}}(R,$,b),ae=b.slice(G.commandIndex);if(G.match&&G.pathIndex<R.segments.length){const Ne=new Un(R.segments.slice(0,G.pathIndex),{});return Ne.children[Kt]=new Un(R.segments.slice(G.pathIndex),R.children),Zt(Ne,0,ae)}return G.match&&0===ae.length?new Un(R.segments,{}):G.match&&!R.hasChildren()?yr(R,$,b):G.match?Zt(R,0,ae):yr(R,$,b)}function Zt(R,$,b){if(0===b.length)return new Un(R.segments,{});{const G=function J(R){return _i(R[0])?R[0].outlets:{[Kt]:R}}(b),ae={};if(!G[Kt]&&R.children[Kt]&&1===R.numberOfChildren&&0===R.children[Kt].segments.length){const Ne=Zt(R.children[Kt],$,b);return new Un(R.segments,Ne.children)}return Object.entries(G).forEach(([Ne,Be])=>{"string"==typeof Be&&(Be=[Be]),null!==Be&&(ae[Ne]=Pt(R.children[Ne],$,Be))}),Object.entries(R.children).forEach(([Ne,Be])=>{void 0===G[Ne]&&(ae[Ne]=Be)}),new Un(R.segments,ae)}}function yr(R,$,b){const G=R.segments.slice(0,$);let ae=0;for(;ae<b.length;){const Ne=b[ae];if(_i(Ne)){const rt=Kr(Ne.outlets);return new Un(G,rt)}if(0===ae&&Fr(b[0])){G.push(new Xr(R.segments[$].path,ns(b[0]))),ae++;continue}const Be=_i(Ne)?Ne.outlets[Kt]:`${Ne}`,Wt=ae<b.length-1?b[ae+1]:null;Be&&Wt&&Fr(Wt)?(G.push(new Xr(Be,ns(Wt))),ae+=2):(G.push(new Xr(Be,{})),ae++)}return new Un(G,{})}function Kr(R){const $={};return Object.entries(R).forEach(([b,G])=>{"string"==typeof G&&(G=[G]),null!==G&&($[b]=yr(new Un([],{}),0,G))}),$}function ns(R){const $={};return Object.entries(R).forEach(([b,G])=>$[b]=`${G}`),$}function Fs(R,$,b){return R==b.path&&Jn($,b.parameters)}const ee="imperative";class se{constructor($,b){this.id=$,this.url=b}}class Ae extends se{constructor($,b,G="imperative",ae=null){super($,b),this.type=0,this.navigationTrigger=G,this.restoredState=ae}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class he extends se{constructor($,b,G){super($,b),this.urlAfterRedirects=G,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class He extends se{constructor($,b,G,ae){super($,b),this.reason=G,this.code=ae,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ze extends se{constructor($,b,G,ae){super($,b),this.reason=G,this.code=ae,this.type=16}}class xt extends se{constructor($,b,G,ae){super($,b),this.error=G,this.target=ae,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lt extends se{constructor($,b,G,ae){super($,b),this.urlAfterRedirects=G,this.state=ae,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qt extends se{constructor($,b,G,ae){super($,b),this.urlAfterRedirects=G,this.state=ae,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class En extends se{constructor($,b,G,ae,Ne){super($,b),this.urlAfterRedirects=G,this.state=ae,this.shouldActivate=Ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bn extends se{constructor($,b,G,ae){super($,b),this.urlAfterRedirects=G,this.state=ae,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vr extends se{constructor($,b,G,ae){super($,b),this.urlAfterRedirects=G,this.state=ae,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wr{constructor($){this.route=$,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $i{constructor($){this.route=$,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Js{constructor($){this.snapshot=$,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Us{constructor($){this.snapshot=$,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fi{constructor($){this.snapshot=$,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zn{constructor($){this.snapshot=$,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $r{constructor($,b,G){this.routerEvent=$,this.position=b,this.anchor=G,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ws{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new uo,this.attachRef=null}}let uo=(()=>{class R{constructor(){this.contexts=new Map}onChildOutletCreated(b,G){const ae=this.getOrCreateContext(b);ae.outlet=G,this.contexts.set(b,ae)}onChildOutletDestroyed(b){const G=this.getContext(b);G&&(G.outlet=null,G.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let G=this.getContext(b);return G||(G=new ws,this.contexts.set(b,G)),G}getContext(b){return this.contexts.get(b)||null}}return R.\u0275fac=function(b){return new(b||R)},R.\u0275prov=y.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();class $s{constructor($){this._root=$}get root(){return this._root.value}parent($){const b=this.pathFromRoot($);return b.length>1?b[b.length-2]:null}children($){const b=po($,this._root);return b?b.children.map(G=>G.value):[]}firstChild($){const b=po($,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings($){const b=Hi($,this._root);return b.length<2?[]:b[b.length-2].children.map(ae=>ae.value).filter(ae=>ae!==$)}pathFromRoot($){return Hi($,this._root).map(b=>b.value)}}function po(R,$){if(R===$.value)return $;for(const b of $.children){const G=po(R,b);if(G)return G}return null}function Hi(R,$){if(R===$.value)return[$];for(const b of $.children){const G=Hi(R,b);if(G.length)return G.unshift($),G}return[]}class Ys{constructor($,b){this.value=$,this.children=b}toString(){return`TreeNode(${this.value})`}}function lo(R){const $={};return R&&R.children.forEach(b=>$[b.value.outlet]=b),$}class ni extends $s{constructor($,b){super($),this.snapshot=b,vi(this,$)}toString(){return this.snapshot.toString()}}function As(R,$){const b=function xo(R,$){const Be=new ro([],{},{},"",{},Kt,$,null,{});return new ri("",new Ys(Be,[]))}(0,$),G=new Pe.X([new Xr("",{})]),ae=new Pe.X({}),Ne=new Pe.X({}),Be=new Pe.X({}),Wt=new Pe.X(""),rt=new no(G,ae,Be,Wt,Ne,Kt,$,b.root);return rt.snapshot=b.root,new ni(new Ys(rt,[]),b)}class no{constructor($,b,G,ae,Ne,Be,Wt,rt){this.urlSubject=$,this.paramsSubject=b,this.queryParamsSubject=G,this.fragmentSubject=ae,this.dataSubject=Ne,this.outlet=Be,this.component=Wt,this._futureSnapshot=rt,this.title=this.dataSubject?.pipe((0,Vt.U)(Vr=>Vr[kn]))??(0,me.of)(void 0),this.url=$,this.params=b,this.queryParams=G,this.fragment=ae,this.data=Ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Vt.U)($=>lr($)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Vt.U)($=>lr($)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wi(R,$="emptyOnly"){const b=R.pathFromRoot;let G=0;if("always"!==$)for(G=b.length-1;G>=1;){const ae=b[G],Ne=b[G-1];if(ae.routeConfig&&""===ae.routeConfig.path)G--;else{if(Ne.component)break;G--}}return function Mo(R){return R.reduce(($,b)=>({params:{...$.params,...b.params},data:{...$.data,...b.data},resolve:{...b.data,...$.resolve,...b.routeConfig?.data,...b._resolvedData}}),{params:{},data:{},resolve:{}})}(b.slice(G))}class ro{get title(){return this.data?.[kn]}constructor($,b,G,ae,Ne,Be,Wt,rt,Vr){this.url=$,this.params=b,this.queryParams=G,this.fragment=ae,this.data=Ne,this.outlet=Be,this.component=Wt,this.routeConfig=rt,this._resolve=Vr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(G=>G.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ri extends $s{constructor($,b){super(b),this.url=$,vi(this,b)}toString(){return Oa(this._root)}}function vi(R,$){$.value._routerState=R,$.children.forEach(b=>vi(R,b))}function Oa(R){const $=R.children.length>0?` { ${R.children.map(Oa).join(", ")} } `:"";return`${R.value}${$}`}function Po(R){if(R.snapshot){const $=R.snapshot,b=R._futureSnapshot;R.snapshot=b,Jn($.queryParams,b.queryParams)||R.queryParamsSubject.next(b.queryParams),$.fragment!==b.fragment&&R.fragmentSubject.next(b.fragment),Jn($.params,b.params)||R.paramsSubject.next(b.params),function bn(R,$){if(R.length!==$.length)return!1;for(let b=0;b<R.length;++b)if(!Jn(R[b],$[b]))return!1;return!0}($.url,b.url)||R.urlSubject.next(b.url),Jn($.data,b.data)||R.dataSubject.next(b.data)}else R.snapshot=R._futureSnapshot,R.dataSubject.next(R._futureSnapshot.data)}function wo(R,$){const b=Jn(R.params,$.params)&&function Qi(R,$){return Mi(R,$)&&R.every((b,G)=>Jn(b.parameters,$[G].parameters))}(R.url,$.url);return b&&!(!R.parent!=!$.parent)&&(!R.parent||wo(R.parent,$.parent))}let io=(()=>{class R{constructor(){this.activated=null,this._activatedRoute=null,this.name=Kt,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(uo),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb),this.inputBinder=(0,y.f3M)(Yr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(b){if(b.name){const{firstChange:G,previousValue:ae}=b.name;if(G)return;this.isTrackedInParentContexts(ae)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ae)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(b){return this.parentContexts.getContext(b)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);b?.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,!1);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,G){this.activated=b,this._activatedRoute=G,this.location.insert(b.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,G){if(this.isActivated)throw new y.vHH(4013,!1);this._activatedRoute=b;const ae=this.location,Be=b.snapshot.component,Wt=this.parentContexts.getOrCreateContext(this.name).children,rt=new ea(b,Wt,ae.injector);this.activated=ae.createComponent(Be,{index:ae.length,injector:rt,environmentInjector:G??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return R.\u0275fac=function(b){return new(b||R)},R.\u0275dir=y.lG2({type:R,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),R})();class ea{constructor($,b,G){this.route=$,this.childContexts=b,this.parent=G}get($,b){return $===no?this.route:$===uo?this.childContexts:this.parent.get($,b)}}const Yr=new y.OlP("");let go=(()=>{class R{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(b){this.unsubscribeFromRouteData(b),this.subscribeToRouteData(b)}unsubscribeFromRouteData(b){this.outletDataSubscriptions.get(b)?.unsubscribe(),this.outletDataSubscriptions.delete(b)}subscribeToRouteData(b){const{activatedRoute:G}=b,ae=at([G.queryParams,G.params,G.data]).pipe((0,Sn.w)(([Ne,Be,Wt],rt)=>(Wt={...Ne,...Be,...Wt},0===rt?(0,me.of)(Wt):Promise.resolve(Wt)))).subscribe(Ne=>{if(!b.isActivated||!b.activatedComponentRef||b.activatedRoute!==G||null===G.component)return void this.unsubscribeFromRouteData(b);const Be=(0,y.qFp)(G.component);if(Be)for(const{templateName:Wt}of Be.inputs)b.activatedComponentRef.setInput(Wt,Ne[Wt]);else this.unsubscribeFromRouteData(b)});this.outletDataSubscriptions.set(b,ae)}}return R.\u0275fac=function(b){return new(b||R)},R.\u0275prov=y.Yz7({token:R,factory:R.\u0275fac}),R})();function Li(R,$,b){if(b&&R.shouldReuseRoute($.value,b.value.snapshot)){const G=b.value;G._futureSnapshot=$.value;const ae=function Ce(R,$,b){return $.children.map(G=>{for(const ae of b.children)if(R.shouldReuseRoute(G.value,ae.value.snapshot))return Li(R,G,ae);return Li(R,G)})}(R,$,b);return new Ys(G,ae)}{if(R.shouldAttach($.value)){const Ne=R.retrieve($.value);if(null!==Ne){const Be=Ne.route;return Be.value._futureSnapshot=$.value,Be.children=$.children.map(Wt=>Li(R,Wt)),Be}}const G=function ce(R){return new no(new Pe.X(R.url),new Pe.X(R.params),new Pe.X(R.queryParams),new Pe.X(R.fragment),new Pe.X(R.data),R.outlet,R.component,R)}($.value),ae=$.children.map(Ne=>Li(R,Ne));return new Ys(G,ae)}}const nt="ngNavigationCancelingError";function gt(R,$){const{redirectTo:b,navigationBehaviorOptions:G}=gn($)?{redirectTo:$,navigationBehaviorOptions:void 0}:$,ae=At(!1,0,$);return ae.url=b,ae.navigationBehaviorOptions=G,ae}function At(R,$,b){const G=new Error("NavigationCancelingError: "+(R||""));return G[nt]=!0,G.cancellationCode=$,b&&(G.url=b),G}function yn(R){return $n(R)&&gn(R.url)}function $n(R){return R&&R[nt]}let hr=(()=>{class R{}return R.\u0275fac=function(b){return new(b||R)},R.\u0275cmp=y.Xpm({type:R,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(b,G){1&b&&y._UZ(0,"router-outlet")},dependencies:[io],encapsulation:2}),R})();function Vs(R){const $=R.children&&R.children.map(Vs),b=$?{...R,children:$}:{...R};return!b.component&&!b.loadComponent&&($||b.loadChildren)&&b.outlet&&b.outlet!==Kt&&(b.component=hr),b}function ls(R){return R.outlet||Kt}function Xi(R){if(!R)return null;if(R.routeConfig?._injector)return R.routeConfig._injector;for(let $=R.parent;$;$=$.parent){const b=$.routeConfig;if(b?._loadedInjector)return b._loadedInjector;if(b?._injector)return b._injector}return null}class li{constructor($,b,G,ae,Ne){this.routeReuseStrategy=$,this.futureState=b,this.currState=G,this.forwardEvent=ae,this.inputBindingEnabled=Ne}activate($){const b=this.futureState._root,G=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,G,$),Po(this.futureState.root),this.activateChildRoutes(b,G,$)}deactivateChildRoutes($,b,G){const ae=lo(b);$.children.forEach(Ne=>{const Be=Ne.value.outlet;this.deactivateRoutes(Ne,ae[Be],G),delete ae[Be]}),Object.values(ae).forEach(Ne=>{this.deactivateRouteAndItsChildren(Ne,G)})}deactivateRoutes($,b,G){const ae=$.value,Ne=b?b.value:null;if(ae===Ne)if(ae.component){const Be=G.getContext(ae.outlet);Be&&this.deactivateChildRoutes($,b,Be.children)}else this.deactivateChildRoutes($,b,G);else Ne&&this.deactivateRouteAndItsChildren(b,G)}deactivateRouteAndItsChildren($,b){$.value.component&&this.routeReuseStrategy.shouldDetach($.value.snapshot)?this.detachAndStoreRouteSubtree($,b):this.deactivateRouteAndOutlet($,b)}detachAndStoreRouteSubtree($,b){const G=b.getContext($.value.outlet),ae=G&&$.value.component?G.children:b,Ne=lo($);for(const Be of Object.keys(Ne))this.deactivateRouteAndItsChildren(Ne[Be],ae);if(G&&G.outlet){const Be=G.outlet.detach(),Wt=G.children.onOutletDeactivated();this.routeReuseStrategy.store($.value.snapshot,{componentRef:Be,route:$,contexts:Wt})}}deactivateRouteAndOutlet($,b){const G=b.getContext($.value.outlet),ae=G&&$.value.component?G.children:b,Ne=lo($);for(const Be of Object.keys(Ne))this.deactivateRouteAndItsChildren(Ne[Be],ae);G&&(G.outlet&&(G.outlet.deactivate(),G.children.onOutletDeactivated()),G.attachRef=null,G.route=null)}activateChildRoutes($,b,G){const ae=lo(b);$.children.forEach(Ne=>{this.activateRoutes(Ne,ae[Ne.value.outlet],G),this.forwardEvent(new zn(Ne.value.snapshot))}),$.children.length&&this.forwardEvent(new Us($.value.snapshot))}activateRoutes($,b,G){const ae=$.value,Ne=b?b.value:null;if(Po(ae),ae===Ne)if(ae.component){const Be=G.getOrCreateContext(ae.outlet);this.activateChildRoutes($,b,Be.children)}else this.activateChildRoutes($,b,G);else if(ae.component){const Be=G.getOrCreateContext(ae.outlet);if(this.routeReuseStrategy.shouldAttach(ae.snapshot)){const Wt=this.routeReuseStrategy.retrieve(ae.snapshot);this.routeReuseStrategy.store(ae.snapshot,null),Be.children.onOutletReAttached(Wt.contexts),Be.attachRef=Wt.componentRef,Be.route=Wt.route.value,Be.outlet&&Be.outlet.attach(Wt.componentRef,Wt.route.value),Po(Wt.route.value),this.activateChildRoutes($,null,Be.children)}else{const Wt=Xi(ae.snapshot);Be.attachRef=null,Be.route=ae,Be.injector=Wt,Be.outlet&&Be.outlet.activateWith(ae,Be.injector),this.activateChildRoutes($,null,Be.children)}}else this.activateChildRoutes($,null,G)}}class ms{constructor($){this.path=$,this.route=this.path[this.path.length-1]}}class Ni{constructor($,b){this.component=$,this.route=b}}function Za(R,$,b){const G=R._root;return Ro(G,$?$._root:null,b,[G.value])}function Uo(R,$){const b=Symbol(),G=$.get(R,b);return G===b?"function"!=typeof R||(0,y.Z0I)(R)?$.get(R):R:G}function Ro(R,$,b,G,ae={canDeactivateChecks:[],canActivateChecks:[]}){const Ne=lo($);return R.children.forEach(Be=>{(function xs(R,$,b,G,ae={canDeactivateChecks:[],canActivateChecks:[]}){const Ne=R.value,Be=$?$.value:null,Wt=b?b.getContext(R.value.outlet):null;if(Be&&Ne.routeConfig===Be.routeConfig){const rt=function pi(R,$,b){if("function"==typeof b)return b(R,$);switch(b){case"pathParamsChange":return!Mi(R.url,$.url);case"pathParamsOrQueryParamsChange":return!Mi(R.url,$.url)||!Jn(R.queryParams,$.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wo(R,$)||!Jn(R.queryParams,$.queryParams);default:return!wo(R,$)}}(Be,Ne,Ne.routeConfig.runGuardsAndResolvers);rt?ae.canActivateChecks.push(new ms(G)):(Ne.data=Be.data,Ne._resolvedData=Be._resolvedData),Ro(R,$,Ne.component?Wt?Wt.children:null:b,G,ae),rt&&Wt&&Wt.outlet&&Wt.outlet.isActivated&&ae.canDeactivateChecks.push(new Ni(Wt.outlet.component,Be))}else Be&&Es($,Wt,ae),ae.canActivateChecks.push(new ms(G)),Ro(R,null,Ne.component?Wt?Wt.children:null:b,G,ae)})(Be,Ne[Be.value.outlet],b,G.concat([Be.value]),ae),delete Ne[Be.value.outlet]}),Object.entries(Ne).forEach(([Be,Wt])=>Es(Wt,b.getContext(Be),ae)),ae}function Es(R,$,b){const G=lo(R),ae=R.value;Object.entries(G).forEach(([Ne,Be])=>{Es(Be,ae.component?$?$.children.getContext(Ne):null:$,b)}),b.canDeactivateChecks.push(new Ni(ae.component&&$&&$.outlet&&$.outlet.isActivated?$.outlet.component:null,ae))}function la(R){return"function"==typeof R}function fe(R){return R instanceof Ge.K||"EmptyError"===R?.name}const Nt=Symbol("INITIAL_VALUE");function wn(){return(0,Sn.w)(R=>at(R.map($=>$.pipe((0,Et.q)(1),(0,st.O)(Nt)))).pipe((0,Vt.U)($=>{for(const b of $)if(!0!==b){if(b===Nt)return Nt;if(!1===b||b instanceof xr)return b}return!0}),(0,Ye.h)($=>$!==Nt),(0,Et.q)(1)))}function To(R){return(0,vt.z)((0,yt.b)($=>{if(gn($))throw gt(0,$)}),(0,Vt.U)($=>!0===$))}class Hs{constructor($){this.segmentGroup=$||null}}class ca{constructor($){this.urlTree=$}}function mo(R){return pt(new Hs(R))}function sl(R){return pt(new ca(R))}class ta{constructor($,b){this.urlSerializer=$,this.urlTree=b}noMatchError($){return new y.vHH(4002,!1)}lineralizeSegments($,b){let G=[],ae=b.root;for(;;){if(G=G.concat(ae.segments),0===ae.numberOfChildren)return(0,me.of)(G);if(ae.numberOfChildren>1||!ae.children[Kt])return pt(new y.vHH(4e3,!1));ae=ae.children[Kt]}}applyRedirectCommands($,b,G){return this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),$,G)}applyRedirectCreateUrlTree($,b,G,ae){const Ne=this.createSegmentGroup($,b.root,G,ae);return new xr(Ne,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams($,b){const G={};return Object.entries($).forEach(([ae,Ne])=>{if("string"==typeof Ne&&Ne.startsWith(":")){const Wt=Ne.substring(1);G[ae]=b[Wt]}else G[ae]=Ne}),G}createSegmentGroup($,b,G,ae){const Ne=this.createSegments($,b.segments,G,ae);let Be={};return Object.entries(b.children).forEach(([Wt,rt])=>{Be[Wt]=this.createSegmentGroup($,rt,G,ae)}),new Un(Ne,Be)}createSegments($,b,G,ae){return b.map(Ne=>Ne.path.startsWith(":")?this.findPosParam($,Ne,ae):this.findOrReturn(Ne,G))}findPosParam($,b,G){const ae=G[b.path.substring(1)];if(!ae)throw new y.vHH(4001,!1);return ae}findOrReturn($,b){let G=0;for(const ae of b){if(ae.path===$.path)return b.splice(G),ae;G++}return $}}const oo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yl(R,$,b,G,ae){const Ne=Na(R,$,b);return Ne.matched?(G=function fr(R,$){return R.providers&&!R._injector&&(R._injector=(0,y.MMx)(R.providers,$,`Route: ${R.path}`)),R._injector??$}($,G),function ba(R,$,b,G){const ae=$.canMatch;if(!ae||0===ae.length)return(0,me.of)(!0);const Ne=ae.map(Be=>{const Wt=Uo(Be,R);return Ht(function C(R){return R&&la(R.canMatch)}(Wt)?Wt.canMatch($,b):R.runInContext(()=>Wt($,b)))});return(0,me.of)(Ne).pipe(wn(),To())}(G,$,b).pipe((0,Vt.U)(Be=>!0===Be?Ne:{...oo}))):(0,me.of)(Ne)}function Na(R,$,b){if(""===$.path)return"full"===$.pathMatch&&(R.hasChildren()||b.length>0)?{...oo}:{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const ae=($.matcher||cr)(b,R,$);if(!ae)return{...oo};const Ne={};Object.entries(ae.posParams??{}).forEach(([Wt,rt])=>{Ne[Wt]=rt.path});const Be=ae.consumed.length>0?{...Ne,...ae.consumed[ae.consumed.length-1].parameters}:Ne;return{matched:!0,consumedSegments:ae.consumed,remainingSegments:b.slice(ae.consumed.length),parameters:Be,positionalParamSegments:ae.posParams??{}}}function Xa(R,$,b,G){return b.length>0&&function Ja(R,$,b){return b.some(G=>_n(R,$,G)&&ls(G)!==Kt)}(R,b,G)?{segmentGroup:new Un($,Zu(G,new Un(b,R.children))),slicedSegments:[]}:0===b.length&&function Gt(R,$,b){return b.some(G=>_n(R,$,G))}(R,b,G)?{segmentGroup:new Un(R.segments,Uu(R,0,b,G,R.children)),slicedSegments:b}:{segmentGroup:new Un(R.segments,R.children),slicedSegments:b}}function Uu(R,$,b,G,ae){const Ne={};for(const Be of G)if(_n(R,b,Be)&&!ae[ls(Be)]){const Wt=new Un([],{});Ne[ls(Be)]=Wt}return{...ae,...Ne}}function Zu(R,$){const b={};b[Kt]=$;for(const G of R)if(""===G.path&&ls(G)!==Kt){const ae=new Un([],{});b[ls(G)]=ae}return b}function _n(R,$,b){return(!(R.hasChildren()||$.length>0)||"full"!==b.pathMatch)&&""===b.path}class Zi{constructor($,b,G,ae,Ne,Be,Wt){this.injector=$,this.configLoader=b,this.rootComponentType=G,this.config=ae,this.urlTree=Ne,this.paramsInheritanceStrategy=Be,this.urlSerializer=Wt,this.allowRedirects=!0,this.applyRedirects=new ta(this.urlSerializer,this.urlTree)}noMatchError($){return new y.vHH(4002,!1)}recognize(){const $=Xa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,$,Kt).pipe((0,Jt.K)(b=>{if(b instanceof ca)return this.allowRedirects=!1,this.urlTree=b.urlTree,this.match(b.urlTree);throw b instanceof Hs?this.noMatchError(b):b}),(0,Vt.U)(b=>{const G=new ro([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Kt,this.rootComponentType,null,{}),ae=new Ys(G,b),Ne=new ri("",ae),Be=function Kn(R,$,b=null,G=null){return mr(dr(R),$,b,G)}(G,[],this.urlTree.queryParams,this.urlTree.fragment);return Be.queryParams=this.urlTree.queryParams,Ne.url=this.urlSerializer.serialize(Be),this.inheritParamsAndData(Ne._root),{state:Ne,tree:Be}}))}match($){return this.processSegmentGroup(this.injector,this.config,$.root,Kt).pipe((0,Jt.K)(G=>{throw G instanceof Hs?this.noMatchError(G):G}))}inheritParamsAndData($){const b=$.value,G=Wi(b,this.paramsInheritanceStrategy);b.params=Object.freeze(G.params),b.data=Object.freeze(G.data),$.children.forEach(ae=>this.inheritParamsAndData(ae))}processSegmentGroup($,b,G,ae){return 0===G.segments.length&&G.hasChildren()?this.processChildren($,b,G):this.processSegment($,b,G,G.segments,ae,!0)}processChildren($,b,G){const ae=[];for(const Ne of Object.keys(G.children))"primary"===Ne?ae.unshift(Ne):ae.push(Ne);return(0,Te.D)(ae).pipe((0,ut.b)(Ne=>{const Be=G.children[Ne],Wt=function fi(R,$){const b=R.filter(G=>ls(G)===$);return b.push(...R.filter(G=>ls(G)!==$)),b}(b,Ne);return this.processSegmentGroup($,Wt,Be,Ne)}),(0,Nn.R)((Ne,Be)=>(Ne.push(...Be),Ne)),(0,mn.d)(null),function hn(R,$){const b=arguments.length>=2;return G=>G.pipe(R?(0,Ye.h)((ae,Ne)=>R(ae,Ne,G)):j.y,On(1),b?(0,mn.d)($):(0,St.T)(()=>new Ge.K))}(),(0,Ue.z)(Ne=>{if(null===Ne)return mo(G);const Be=na(Ne);return function js(R){R.sort(($,b)=>$.value.outlet===Kt?-1:b.value.outlet===Kt?1:$.value.outlet.localeCompare(b.value.outlet))}(Be),(0,me.of)(Be)}))}processSegment($,b,G,ae,Ne,Be){return(0,Te.D)(b).pipe((0,ut.b)(Wt=>this.processSegmentAgainstRoute(Wt._injector??$,b,Wt,G,ae,Ne,Be).pipe((0,Jt.K)(rt=>{if(rt instanceof Hs)return(0,me.of)(null);throw rt}))),(0,Qe.P)(Wt=>!!Wt),(0,Jt.K)(Wt=>{if(fe(Wt))return function Ar(R,$,b){return 0===$.length&&!R.children[b]}(G,ae,Ne)?(0,me.of)([]):mo(G);throw Wt}))}processSegmentAgainstRoute($,b,G,ae,Ne,Be,Wt){return function en(R,$,b,G){return!!(ls(R)===G||G!==Kt&&_n($,b,R))&&("**"===R.path||Na($,R,b).matched)}(G,ae,Ne,Be)?void 0===G.redirectTo?this.matchSegmentAgainstRoute($,ae,G,Ne,Be,Wt):Wt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect($,ae,b,G,Ne,Be):mo(ae):mo(ae)}expandSegmentAgainstRouteUsingRedirect($,b,G,ae,Ne,Be){return"**"===ae.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect($,G,ae,Be):this.expandRegularSegmentAgainstRouteUsingRedirect($,b,G,ae,Ne,Be)}expandWildCardWithParamsAgainstRouteUsingRedirect($,b,G,ae){const Ne=this.applyRedirects.applyRedirectCommands([],G.redirectTo,{});return G.redirectTo.startsWith("/")?sl(Ne):this.applyRedirects.lineralizeSegments(G,Ne).pipe((0,Ue.z)(Be=>{const Wt=new Un(Be,{});return this.processSegment($,b,Wt,Be,ae,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect($,b,G,ae,Ne,Be){const{matched:Wt,consumedSegments:rt,remainingSegments:Vr,positionalParamSegments:Mr}=Na(b,ae,Ne);if(!Wt)return mo(b);const Is=this.applyRedirects.applyRedirectCommands(rt,ae.redirectTo,Mr);return ae.redirectTo.startsWith("/")?sl(Is):this.applyRedirects.lineralizeSegments(ae,Is).pipe((0,Ue.z)(ko=>this.processSegment($,G,b,ko.concat(Vr),Be,!1)))}matchSegmentAgainstRoute($,b,G,ae,Ne,Be){let Wt;if("**"===G.path){const rt=ae.length>0?Er(ae).parameters:{},Vr=new ro(ae,rt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ir(G),ls(G),G.component??G._loadedComponent??null,G,Ha(G));Wt=(0,me.of)({snapshot:Vr,consumedSegments:[],remainingSegments:[]}),b.children={}}else Wt=Yl(b,G,ae,$).pipe((0,Vt.U)(({matched:rt,consumedSegments:Vr,remainingSegments:Mr,parameters:Is})=>rt?{snapshot:new ro(Vr,Is,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ir(G),ls(G),G.component??G._loadedComponent??null,G,Ha(G)),consumedSegments:Vr,remainingSegments:Mr}:null));return Wt.pipe((0,Sn.w)(rt=>null===rt?mo(b):this.getChildConfig($=G._injector??$,G,ae).pipe((0,Sn.w)(({routes:Vr})=>{const Mr=G._loadedInjector??$,{snapshot:Is,consumedSegments:ko,remainingSegments:ha}=rt,{segmentGroup:bu,slicedSegments:qo}=Xa(b,ko,ha,Vr);if(0===qo.length&&bu.hasChildren())return this.processChildren(Mr,Vr,bu).pipe((0,Vt.U)(iu=>null===iu?null:[new Ys(Is,iu)]));if(0===Vr.length&&0===qo.length)return(0,me.of)([new Ys(Is,[])]);const Hu=ls(G)===Ne;return this.processSegment(Mr,Vr,bu,qo,Hu?Kt:Ne,!0).pipe((0,Vt.U)(iu=>[new Ys(Is,iu)]))}))))}getChildConfig($,b,G){return b.children?(0,me.of)({routes:b.children,injector:$}):b.loadChildren?void 0!==b._loadedRoutes?(0,me.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):function Bu(R,$,b,G){const ae=$.canLoad;if(void 0===ae||0===ae.length)return(0,me.of)(!0);const Ne=ae.map(Be=>{const Wt=Uo(Be,R);return Ht(function bo(R){return R&&la(R.canLoad)}(Wt)?Wt.canLoad($,b):R.runInContext(()=>Wt($,b)))});return(0,me.of)(Ne).pipe(wn(),To())}($,b,G).pipe((0,Ue.z)(ae=>ae?this.configLoader.loadChildren($,b).pipe((0,yt.b)(Ne=>{b._loadedRoutes=Ne.routes,b._loadedInjector=Ne.injector})):function Qa(R){return pt(At(!1,3))}())):(0,me.of)({routes:[],injector:$})}}function Nr(R){const $=R.value.routeConfig;return $&&""===$.path}function na(R){const $=[],b=new Set;for(const G of R){if(!Nr(G)){$.push(G);continue}const ae=$.find(Ne=>G.value.routeConfig===Ne.value.routeConfig);void 0!==ae?(ae.children.push(...G.children),b.add(ae)):$.push(G)}for(const G of b){const ae=na(G.children);$.push(new Ys(G.value,ae))}return $.filter(G=>!b.has(G))}function Ir(R){return R.data||{}}function Ha(R){return R.resolve||{}}function Y(R){return"string"==typeof R.title||null===R.title}function Me(R){return(0,Sn.w)($=>{const b=R($);return b?(0,Te.D)(b).pipe((0,Vt.U)(()=>$)):(0,me.of)($)})}const ot=new y.OlP("ROUTES");let ln=(()=>{class R{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,me.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const G=Ht(b.loadComponent()).pipe((0,Vt.U)(_r),(0,yt.b)(Ne=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=Ne}),(0,ct.x)(()=>{this.componentLoaders.delete(b)})),ae=new tt(G,()=>new Ft.x).pipe($t());return this.componentLoaders.set(b,ae),ae}loadChildren(b,G){if(this.childrenLoaders.get(G))return this.childrenLoaders.get(G);if(G._loadedRoutes)return(0,me.of)({routes:G._loadedRoutes,injector:G._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(G);const Ne=this.loadModuleFactoryOrRoutes(G.loadChildren).pipe((0,Vt.U)(Wt=>{this.onLoadEndListener&&this.onLoadEndListener(G);let rt,Vr;return Array.isArray(Wt)?Vr=Wt:(rt=Wt.create(b).injector,Vr=rt.get(ot,[],y.XFs.Self|y.XFs.Optional).flat()),{routes:Vr.map(Vs),injector:rt}}),(0,ct.x)(()=>{this.childrenLoaders.delete(G)})),Be=new tt(Ne,()=>new Ft.x).pipe($t());return this.childrenLoaders.set(G,Be),Be}loadModuleFactoryOrRoutes(b){return Ht(b()).pipe((0,Vt.U)(_r),(0,Ue.z)(G=>G instanceof y.YKP||Array.isArray(G)?(0,me.of)(G):(0,Te.D)(this.compiler.compileModuleAsync(G))))}}return R.\u0275fac=function(b){return new(b||R)},R.\u0275prov=y.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function _r(R){return function Tn(R){return R&&"object"==typeof R&&"default"in R}(R)?R.default:R}let ci=(()=>{class R{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ft.x,this.configLoader=(0,y.f3M)(ln),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(jr),this.rootContexts=(0,y.f3M)(uo),this.inputBindingEnabled=null!==(0,y.f3M)(Yr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,me.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ae=>this.events.next(new $i(ae)),this.configLoader.onLoadStartListener=ae=>this.events.next(new wr(ae))}complete(){this.transitions?.complete()}handleNavigationRequest(b){const G=++this.navigationId;this.transitions?.next({...this.transitions.value,...b,id:G})}setupNavigations(b){return this.transitions=new Pe.X({id:0,currentUrlTree:b.currentUrlTree,currentRawUrl:b.currentUrlTree,extractedUrl:b.urlHandlingStrategy.extract(b.currentUrlTree),urlAfterRedirects:b.urlHandlingStrategy.extract(b.currentUrlTree),rawUrl:b.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ee,restoredState:null,currentSnapshot:b.routerState.snapshot,targetSnapshot:null,currentRouterState:b.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ye.h)(G=>0!==G.id),(0,Vt.U)(G=>({...G,extractedUrl:b.urlHandlingStrategy.extract(G.rawUrl)})),(0,Sn.w)(G=>{let ae=!1,Ne=!1;return(0,me.of)(G).pipe((0,yt.b)(Be=>{this.currentNavigation={id:Be.id,initialUrl:Be.rawUrl,extractedUrl:Be.extractedUrl,trigger:Be.source,extras:Be.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Sn.w)(Be=>{const Wt=b.browserUrlTree.toString(),rt=!b.navigated||Be.extractedUrl.toString()!==Wt||Wt!==b.currentUrlTree.toString();if(!rt&&"reload"!==(Be.extras.onSameUrlNavigation??b.onSameUrlNavigation)){const Mr="";return this.events.next(new Ze(Be.id,b.serializeUrl(G.rawUrl),Mr,0)),b.rawUrlTree=Be.rawUrl,Be.resolve(null),Dt.E}if(b.urlHandlingStrategy.shouldProcessUrl(Be.rawUrl))return Gn(Be.source)&&(b.browserUrlTree=Be.extractedUrl),(0,me.of)(Be).pipe((0,Sn.w)(Mr=>{const Is=this.transitions?.getValue();return this.events.next(new Ae(Mr.id,this.urlSerializer.serialize(Mr.extractedUrl),Mr.source,Mr.restoredState)),Is!==this.transitions?.getValue()?Dt.E:Promise.resolve(Mr)}),function Oo(R,$,b,G,ae,Ne){return(0,Ue.z)(Be=>function si(R,$,b,G,ae,Ne,Be="emptyOnly"){return new Zi(R,$,b,G,ae,Be,Ne).recognize()}(R,$,b,G,Be.extractedUrl,ae,Ne).pipe((0,Vt.U)(({state:Wt,tree:rt})=>({...Be,targetSnapshot:Wt,urlAfterRedirects:rt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,b.config,this.urlSerializer,b.paramsInheritanceStrategy),(0,yt.b)(Mr=>{if(G.targetSnapshot=Mr.targetSnapshot,G.urlAfterRedirects=Mr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Mr.urlAfterRedirects},"eager"===b.urlUpdateStrategy){if(!Mr.extras.skipLocationChange){const ko=b.urlHandlingStrategy.merge(Mr.urlAfterRedirects,Mr.rawUrl);b.setBrowserUrl(ko,Mr)}b.browserUrlTree=Mr.urlAfterRedirects}const Is=new Lt(Mr.id,this.urlSerializer.serialize(Mr.extractedUrl),this.urlSerializer.serialize(Mr.urlAfterRedirects),Mr.targetSnapshot);this.events.next(Is)}));if(rt&&b.urlHandlingStrategy.shouldProcessUrl(b.rawUrlTree)){const{id:Mr,extractedUrl:Is,source:ko,restoredState:ha,extras:bu}=Be,qo=new Ae(Mr,this.urlSerializer.serialize(Is),ko,ha);this.events.next(qo);const Hu=As(0,this.rootComponentType).snapshot;return G={...Be,targetSnapshot:Hu,urlAfterRedirects:Is,extras:{...bu,skipLocationChange:!1,replaceUrl:!1}},(0,me.of)(G)}{const Mr="";return this.events.next(new Ze(Be.id,b.serializeUrl(G.extractedUrl),Mr,1)),b.rawUrlTree=Be.rawUrl,Be.resolve(null),Dt.E}}),(0,yt.b)(Be=>{const Wt=new qt(Be.id,this.urlSerializer.serialize(Be.extractedUrl),this.urlSerializer.serialize(Be.urlAfterRedirects),Be.targetSnapshot);this.events.next(Wt)}),(0,Vt.U)(Be=>G={...Be,guards:Za(Be.targetSnapshot,Be.currentSnapshot,this.rootContexts)}),function Zr(R,$){return(0,Ue.z)(b=>{const{targetSnapshot:G,currentSnapshot:ae,guards:{canActivateChecks:Ne,canDeactivateChecks:Be}}=b;return 0===Be.length&&0===Ne.length?(0,me.of)({...b,guardsResult:!0}):function Ii(R,$,b,G){return(0,Te.D)(R).pipe((0,Ue.z)(ae=>function Go(R,$,b,G,ae){const Ne=$&&$.routeConfig?$.routeConfig.canDeactivate:null;if(!Ne||0===Ne.length)return(0,me.of)(!0);const Be=Ne.map(Wt=>{const rt=Xi($)??ae,Vr=Uo(Wt,rt);return Ht(function x(R){return R&&la(R.canDeactivate)}(Vr)?Vr.canDeactivate(R,$,b,G):rt.runInContext(()=>Vr(R,$,b,G))).pipe((0,Qe.P)())});return(0,me.of)(Be).pipe(wn())}(ae.component,ae.route,b,$,G)),(0,Qe.P)(ae=>!0!==ae,!0))}(Be,G,ae,R).pipe((0,Ue.z)(Wt=>Wt&&function $o(R){return"boolean"==typeof R}(Wt)?function so(R,$,b,G){return(0,Te.D)($).pipe((0,ut.b)(ae=>(0,_e.z)(function is(R,$){return null!==R&&$&&$(new Js(R)),(0,me.of)(!0)}(ae.route.parent,G),function Vo(R,$){return null!==R&&$&&$(new Fi(R)),(0,me.of)(!0)}(ae.route,G),function vo(R,$,b){const G=$[$.length-1],Ne=$.slice(0,$.length-1).reverse().map(Be=>function Du(R){const $=R.routeConfig?R.routeConfig.canActivateChild:null;return $&&0!==$.length?{node:R,guards:$}:null}(Be)).filter(Be=>null!==Be).map(Be=>dt(()=>{const Wt=Be.guards.map(rt=>{const Vr=Xi(Be.node)??b,Mr=Uo(rt,Vr);return Ht(function ie(R){return R&&la(R.canActivateChild)}(Mr)?Mr.canActivateChild(G,R):Vr.runInContext(()=>Mr(G,R))).pipe((0,Qe.P)())});return(0,me.of)(Wt).pipe(wn())}));return(0,me.of)(Ne).pipe(wn())}(R,ae.path,b),function gi(R,$,b){const G=$.routeConfig?$.routeConfig.canActivate:null;if(!G||0===G.length)return(0,me.of)(!0);const ae=G.map(Ne=>dt(()=>{const Be=Xi($)??b,Wt=Uo(Ne,Be);return Ht(function T(R){return R&&la(R.canActivate)}(Wt)?Wt.canActivate($,R):Be.runInContext(()=>Wt($,R))).pipe((0,Qe.P)())}));return(0,me.of)(ae).pipe(wn())}(R,ae.route,b))),(0,Qe.P)(ae=>!0!==ae,!0))}(G,Ne,R,$):(0,me.of)(Wt)),(0,Vt.U)(Wt=>({...b,guardsResult:Wt})))})}(this.environmentInjector,Be=>this.events.next(Be)),(0,yt.b)(Be=>{if(G.guardsResult=Be.guardsResult,gn(Be.guardsResult))throw gt(0,Be.guardsResult);const Wt=new En(Be.id,this.urlSerializer.serialize(Be.extractedUrl),this.urlSerializer.serialize(Be.urlAfterRedirects),Be.targetSnapshot,!!Be.guardsResult);this.events.next(Wt)}),(0,Ye.h)(Be=>!!Be.guardsResult||(b.restoreHistory(Be),this.cancelNavigationTransition(Be,"",3),!1)),Me(Be=>{if(Be.guards.canActivateChecks.length)return(0,me.of)(Be).pipe((0,yt.b)(Wt=>{const rt=new Bn(Wt.id,this.urlSerializer.serialize(Wt.extractedUrl),this.urlSerializer.serialize(Wt.urlAfterRedirects),Wt.targetSnapshot);this.events.next(rt)}),(0,Sn.w)(Wt=>{let rt=!1;return(0,me.of)(Wt).pipe(function Ta(R,$){return(0,Ue.z)(b=>{const{targetSnapshot:G,guards:{canActivateChecks:ae}}=b;if(!ae.length)return(0,me.of)(b);let Ne=0;return(0,Te.D)(ae).pipe((0,ut.b)(Be=>function kr(R,$,b,G){const ae=R.routeConfig,Ne=R._resolve;return void 0!==ae?.title&&!Y(ae)&&(Ne[kn]=ae.title),function tu(R,$,b,G){const ae=function V(R){return[...Object.keys(R),...Object.getOwnPropertySymbols(R)]}(R);if(0===ae.length)return(0,me.of)({});const Ne={};return(0,Te.D)(ae).pipe((0,Ue.z)(Be=>function ue(R,$,b,G){const ae=Xi($)??G,Ne=Uo(R,ae);return Ht(Ne.resolve?Ne.resolve($,b):ae.runInContext(()=>Ne($,b)))}(R[Be],$,b,G).pipe((0,Qe.P)(),(0,yt.b)(Wt=>{Ne[Be]=Wt}))),On(1),function Yt(R){return(0,Vt.U)(()=>R)}(Ne),(0,Jt.K)(Be=>fe(Be)?Dt.E:pt(Be)))}(Ne,R,$,G).pipe((0,Vt.U)(Be=>(R._resolvedData=Be,R.data=Wi(R,b).resolve,ae&&Y(ae)&&(R.data[kn]=ae.title),null)))}(Be.route,G,R,$)),(0,yt.b)(()=>Ne++),On(1),(0,Ue.z)(Be=>Ne===ae.length?(0,me.of)(b):Dt.E))})}(b.paramsInheritanceStrategy,this.environmentInjector),(0,yt.b)({next:()=>rt=!0,complete:()=>{rt||(b.restoreHistory(Wt),this.cancelNavigationTransition(Wt,"",2))}}))}),(0,yt.b)(Wt=>{const rt=new vr(Wt.id,this.urlSerializer.serialize(Wt.extractedUrl),this.urlSerializer.serialize(Wt.urlAfterRedirects),Wt.targetSnapshot);this.events.next(rt)}))}),Me(Be=>{const Wt=rt=>{const Vr=[];rt.routeConfig?.loadComponent&&!rt.routeConfig._loadedComponent&&Vr.push(this.configLoader.loadComponent(rt.routeConfig).pipe((0,yt.b)(Mr=>{rt.component=Mr}),(0,Vt.U)(()=>{})));for(const Mr of rt.children)Vr.push(...Wt(Mr));return Vr};return at(Wt(Be.targetSnapshot.root)).pipe((0,mn.d)(),(0,Et.q)(1))}),Me(()=>this.afterPreactivation()),(0,Vt.U)(Be=>{const Wt=function Bo(R,$,b){const G=Li(R,$._root,b?b._root:void 0);return new ni(G,$)}(b.routeReuseStrategy,Be.targetSnapshot,Be.currentRouterState);return G={...Be,targetRouterState:Wt}}),(0,yt.b)(Be=>{b.currentUrlTree=Be.urlAfterRedirects,b.rawUrlTree=b.urlHandlingStrategy.merge(Be.urlAfterRedirects,Be.rawUrl),b.routerState=Be.targetRouterState,"deferred"===b.urlUpdateStrategy&&(Be.extras.skipLocationChange||b.setBrowserUrl(b.rawUrlTree,Be),b.browserUrlTree=Be.urlAfterRedirects)}),((R,$,b,G)=>(0,Vt.U)(ae=>(new li($,ae.targetRouterState,ae.currentRouterState,b,G).activate(R),ae)))(this.rootContexts,b.routeReuseStrategy,Be=>this.events.next(Be),this.inputBindingEnabled),(0,Et.q)(1),(0,yt.b)({next:Be=>{ae=!0,this.lastSuccessfulNavigation=this.currentNavigation,b.navigated=!0,this.events.next(new he(Be.id,this.urlSerializer.serialize(Be.extractedUrl),this.urlSerializer.serialize(b.currentUrlTree))),b.titleStrategy?.updateTitle(Be.targetRouterState.snapshot),Be.resolve(!0)},complete:()=>{ae=!0}}),(0,ct.x)(()=>{ae||Ne||this.cancelNavigationTransition(G,"",1),this.currentNavigation?.id===G.id&&(this.currentNavigation=null)}),(0,Jt.K)(Be=>{if(Ne=!0,$n(Be)){yn(Be)||(b.navigated=!0,b.restoreHistory(G,!0));const Wt=new He(G.id,this.urlSerializer.serialize(G.extractedUrl),Be.message,Be.cancellationCode);if(this.events.next(Wt),yn(Be)){const rt=b.urlHandlingStrategy.merge(Be.url,b.rawUrlTree),Vr={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===b.urlUpdateStrategy||Gn(G.source)};b.scheduleNavigation(rt,ee,null,Vr,{resolve:G.resolve,reject:G.reject,promise:G.promise})}else G.resolve(!1)}else{b.restoreHistory(G,!0);const Wt=new xt(G.id,this.urlSerializer.serialize(G.extractedUrl),Be,G.targetSnapshot??void 0);this.events.next(Wt);try{G.resolve(b.errorHandler(Be))}catch(rt){G.reject(rt)}}return Dt.E}))}))}cancelNavigationTransition(b,G,ae){const Ne=new He(b.id,this.urlSerializer.serialize(b.extractedUrl),G,ae);this.events.next(Ne),b.resolve(!1)}}return R.\u0275fac=function(b){return new(b||R)},R.\u0275prov=y.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Gn(R){return R!==ee}let Bi=(()=>{class R{buildTitle(b){let G,ae=b.root;for(;void 0!==ae;)G=this.getResolvedTitleForRoute(ae)??G,ae=ae.children.find(Ne=>Ne.outlet===Kt);return G}getResolvedTitleForRoute(b){return b.data[kn]}}return R.\u0275fac=function(b){return new(b||R)},R.\u0275prov=y.Yz7({token:R,factory:function(){return(0,y.f3M)(Ei)},providedIn:"root"}),R})(),Ei=(()=>{class R extends Bi{constructor(b){super(),this.title=b}updateTitle(b){const G=this.buildTitle(b);void 0!==G&&this.title.setTitle(G)}}return R.\u0275fac=function(b){return new(b||R)(y.LFG(Tt.Dx))},R.\u0275prov=y.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),ss=(()=>{class R{}return R.\u0275fac=function(b){return new(b||R)},R.\u0275prov=y.Yz7({token:R,factory:function(){return(0,y.f3M)(zs)},providedIn:"root"}),R})();class ys{shouldDetach($){return!1}store($,b){}shouldAttach($){return!1}retrieve($){return null}shouldReuseRoute($,b){return $.routeConfig===b.routeConfig}}let zs=(()=>{class R extends ys{}return R.\u0275fac=function(){let $;return function(G){return($||($=y.n5z(R)))(G||R)}}(),R.\u0275prov=y.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const So=new y.OlP("",{providedIn:"root",factory:()=>({})});let co=(()=>{class R{}return R.\u0275fac=function(b){return new(b||R)},R.\u0275prov=y.Yz7({token:R,factory:function(){return(0,y.f3M)(ka)},providedIn:"root"}),R})(),ka=(()=>{class R{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,G){return b}}return R.\u0275fac=function(b){return new(b||R)},R.\u0275prov=y.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var fs=(()=>((fs=fs||{})[fs.COMPLETE=0]="COMPLETE",fs[fs.FAILED=1]="FAILED",fs[fs.REDIRECTING=2]="REDIRECTING",fs))();function nu(R,$){R.events.pipe((0,Ye.h)(b=>b instanceof he||b instanceof He||b instanceof xt||b instanceof Ze),(0,Vt.U)(b=>b instanceof he||b instanceof Ze?fs.COMPLETE:b instanceof He&&(0===b.code||1===b.code)?fs.REDIRECTING:fs.FAILED),(0,Ye.h)(b=>b!==fs.REDIRECTING),(0,Et.q)(1)).subscribe(()=>{$()})}function ja(R){throw R}function da(R,$,b){return $.parse("/")}const Fn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Di={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Eo=(()=>{class R{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(So,{optional:!0})||{},this.pendingTasks=(0,y.f3M)(y.HDt),this.errorHandler=this.options.errorHandler||ja,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||da,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(co),this.routeReuseStrategy=(0,y.f3M)(ss),this.titleStrategy=(0,y.f3M)(Bi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,y.f3M)(ot,{optional:!0})?.flat()??[],this.navigationTransitions=(0,y.f3M)(ci),this.urlSerializer=(0,y.f3M)(jr),this.location=(0,y.f3M)(zt.Ye),this.componentInputBindingEnabled=!!(0,y.f3M)(Yr,{optional:!0}),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=As(0,null),this.navigationTransitions.setupNavigations(this).subscribe(b=>{this.lastSuccessfulId=b.id,this.currentPageId=this.browserPageId??0},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const b=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ee,b)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const G="popstate"===b.type?"popstate":"hashchange";"popstate"===G&&setTimeout(()=>{this.navigateToSyncWithBrowser(b.url,G,b.state)},0)}))}navigateToSyncWithBrowser(b,G,ae){const Ne={replaceUrl:!0},Be=ae?.navigationId?ae:null;if(ae){const rt={...ae};delete rt.navigationId,delete rt.\u0275routerPageId,0!==Object.keys(rt).length&&(Ne.state=rt)}const Wt=this.parseUrl(b);this.scheduleNavigation(Wt,G,Be,Ne)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(b){this.config=b.map(Vs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,G={}){const{relativeTo:ae,queryParams:Ne,fragment:Be,queryParamsHandling:Wt,preserveFragment:rt}=G,Vr=rt?this.currentUrlTree.fragment:Be;let Is,Mr=null;switch(Wt){case"merge":Mr={...this.currentUrlTree.queryParams,...Ne};break;case"preserve":Mr=this.currentUrlTree.queryParams;break;default:Mr=Ne||null}null!==Mr&&(Mr=this.removeEmptyProps(Mr));try{Is=dr(ae?ae.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof b[0]||!b[0].startsWith("/"))&&(b=[]),Is=this.currentUrlTree.root}return mr(Is,b,Mr,Vr??null)}navigateByUrl(b,G={skipLocationChange:!1}){const ae=gn(b)?b:this.parseUrl(b),Ne=this.urlHandlingStrategy.merge(ae,this.rawUrlTree);return this.scheduleNavigation(Ne,ee,null,G)}navigate(b,G={skipLocationChange:!1}){return function Kl(R){for(let $=0;$<R.length;$++)if(null==R[$])throw new y.vHH(4008,!1)}(b),this.navigateByUrl(this.createUrlTree(b,G),G)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let G;try{G=this.urlSerializer.parse(b)}catch(ae){G=this.malformedUriErrorHandler(ae,this.urlSerializer,b)}return G}isActive(b,G){let ae;if(ae=!0===G?{...Fn}:!1===G?{...Di}:G,gn(b))return ht(this.currentUrlTree,b,ae);const Ne=this.parseUrl(b);return ht(this.currentUrlTree,Ne,ae)}removeEmptyProps(b){return Object.keys(b).reduce((G,ae)=>{const Ne=b[ae];return null!=Ne&&(G[ae]=Ne),G},{})}scheduleNavigation(b,G,ae,Ne,Be){if(this.disposed)return Promise.resolve(!1);let Wt,rt,Vr;Be?(Wt=Be.resolve,rt=Be.reject,Vr=Be.promise):Vr=new Promise((Is,ko)=>{Wt=Is,rt=ko});const Mr=this.pendingTasks.add();return nu(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Mr))}),this.navigationTransitions.handleNavigationRequest({source:G,restoredState:ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:b,extras:Ne,resolve:Wt,reject:rt,promise:Vr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Vr.catch(Is=>Promise.reject(Is))}setBrowserUrl(b,G){const ae=this.urlSerializer.serialize(b);if(this.location.isCurrentPathEqualTo(ae)||G.extras.replaceUrl){const Be={...G.extras.state,...this.generateNgRouterState(G.id,this.browserPageId)};this.location.replaceState(ae,"",Be)}else{const Ne={...G.extras.state,...this.generateNgRouterState(G.id,(this.browserPageId??0)+1)};this.location.go(ae,"",Ne)}}restoreHistory(b,G=!1){if("computed"===this.canceledNavigationResolution){const Ne=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Ne?this.location.historyGo(Ne):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Ne&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(G&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,G){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:G}:{navigationId:b}}}return R.\u0275fac=function(b){return new(b||R)},R.\u0275prov=y.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Gs=(()=>{class R{constructor(b,G,ae,Ne,Be,Wt){this.router=b,this.route=G,this.tabIndexAttribute=ae,this.renderer=Ne,this.el=Be,this.locationStrategy=Wt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ft.x;const rt=Be.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===rt||"area"===rt,this.isAnchorElement?this.subscription=b.events.subscribe(Vr=>{Vr instanceof he&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(b){this._preserveFragment=(0,y.D6c)(b)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(b){this._skipLocationChange=(0,y.D6c)(b)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(b){this._replaceUrl=(0,y.D6c)(b)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(b,G,ae,Ne,Be){return!!(null===this.urlTree||this.isAnchorElement&&(0!==b||G||ae||Ne||Be||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const b=null===this.href?null:(0,y.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",b)}applyAttributeValue(b,G){const ae=this.renderer,Ne=this.el.nativeElement;null!==G?ae.setAttribute(Ne,b,G):ae.removeAttribute(Ne,b)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return R.\u0275fac=function(b){return new(b||R)(y.Y36(Eo),y.Y36(no),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(zt.S$))},R.\u0275dir=y.lG2({type:R,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,G){1&b&&y.NdJ("click",function(Ne){return G.onClick(Ne.button,Ne.ctrlKey,Ne.shiftKey,Ne.altKey,Ne.metaKey)}),2&b&&y.uIk("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),R})(),Sl=(()=>{class R{get isActive(){return this._isActive}constructor(b,G,ae,Ne,Be){this.router=b,this.element=G,this.renderer=ae,this.cdr=Ne,this.link=Be,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new y.vpe,this.routerEventsSubscription=b.events.subscribe(Wt=>{Wt instanceof he&&this.update()})}ngAfterContentInit(){(0,me.of)(this.links.changes,(0,me.of)(null)).pipe((0,Xt.J)()).subscribe(b=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const b=[...this.links.toArray(),this.link].filter(G=>!!G).map(G=>G.onChanges);this.linkInputChangesSubscription=(0,Te.D)(b).pipe((0,Xt.J)()).subscribe(G=>{this._isActive!==this.isLinkActive(this.router)(G)&&this.update()})}set routerLinkActive(b){const G=Array.isArray(b)?b:b.split(" ");this.classes=G.filter(ae=>!!ae)}ngOnChanges(b){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const b=this.hasActiveLinks();this._isActive!==b&&(this._isActive=b,this.cdr.markForCheck(),this.classes.forEach(G=>{b?this.renderer.addClass(this.element.nativeElement,G):this.renderer.removeClass(this.element.nativeElement,G)}),b&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(b))})}isLinkActive(b){const G=function yo(R){return!!R.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return ae=>!!ae.urlTree&&b.isActive(ae.urlTree,G)}hasActiveLinks(){const b=this.isLinkActive(this.router);return this.link&&b(this.link)||this.links.some(b)}}return R.\u0275fac=function(b){return new(b||R)(y.Y36(Eo),y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(y.sBO),y.Y36(Gs,8))},R.\u0275dir=y.lG2({type:R,selectors:[["","routerLinkActive",""]],contentQueries:function(b,G,ae){if(1&b&&y.Suo(ae,Gs,5),2&b){let Ne;y.iGM(Ne=y.CRH())&&(G.links=Ne)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[y.TTD]}),R})();class cs{}let eo=(()=>{class R{preload(b,G){return G().pipe((0,Jt.K)(()=>(0,me.of)(null)))}}return R.\u0275fac=function(b){return new(b||R)},R.\u0275prov=y.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),xd=(()=>{class R{constructor(b,G,ae,Ne,Be){this.router=b,this.injector=ae,this.preloadingStrategy=Ne,this.loader=Be}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ye.h)(b=>b instanceof he),(0,ut.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,G){const ae=[];for(const Ne of G){Ne.providers&&!Ne._injector&&(Ne._injector=(0,y.MMx)(Ne.providers,b,`Route: ${Ne.path}`));const Be=Ne._injector??b,Wt=Ne._loadedInjector??Be;(Ne.loadChildren&&!Ne._loadedRoutes&&void 0===Ne.canLoad||Ne.loadComponent&&!Ne._loadedComponent)&&ae.push(this.preloadConfig(Be,Ne)),(Ne.children||Ne._loadedRoutes)&&ae.push(this.processRoutes(Wt,Ne.children??Ne._loadedRoutes))}return(0,Te.D)(ae).pipe((0,Xt.J)())}preloadConfig(b,G){return this.preloadingStrategy.preload(G,()=>{let ae;ae=G.loadChildren&&void 0===G.canLoad?this.loader.loadChildren(b,G):(0,me.of)(null);const Ne=ae.pipe((0,Ue.z)(Be=>null===Be?(0,me.of)(void 0):(G._loadedRoutes=Be.routes,G._loadedInjector=Be.injector,this.processRoutes(Be.injector??b,Be.routes))));if(G.loadComponent&&!G._loadedComponent){const Be=this.loader.loadComponent(G);return(0,Te.D)([Ne,Be]).pipe((0,Xt.J)())}return Ne})}}return R.\u0275fac=function(b){return new(b||R)(y.LFG(Eo),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(cs),y.LFG(ln))},R.\u0275prov=y.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const Mn=new y.OlP("");let Ms=(()=>{class R{constructor(b,G,ae,Ne,Be={}){this.urlSerializer=b,this.transitions=G,this.viewportScroller=ae,this.zone=Ne,this.options=Be,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Be.scrollPositionRestoration=Be.scrollPositionRestoration||"disabled",Be.anchorScrolling=Be.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Ae?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof he?(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment)):b instanceof Ze&&0===b.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof $r&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,G){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $r(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,G))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return R.\u0275fac=function(b){y.$Z()},R.\u0275prov=y.Yz7({token:R,factory:R.\u0275fac}),R})();function ar(R,$){return{\u0275kind:R,\u0275providers:$}}function Pn(){const R=(0,y.f3M)(y.zs3);return $=>{const b=R.get(y.z2F);if($!==b.components[0])return;const G=R.get(Eo),ae=R.get(Ji);1===R.get(hu)&&G.initialNavigation(),R.get(za,null,y.XFs.Optional)?.setUpPreloading(),R.get(Mn,null,y.XFs.Optional)?.init(),G.resetRootComponentType(b.componentTypes[0]),ae.closed||(ae.next(),ae.complete(),ae.unsubscribe())}}const Ji=new y.OlP("",{factory:()=>new Ft.x}),hu=new y.OlP("",{providedIn:"root",factory:()=>1}),za=new y.OlP("");function Qu(R){return ar(0,[{provide:za,useExisting:xd},{provide:cs,useExisting:R}])}const qn=new y.OlP("ROUTER_FORROOT_GUARD"),pu=[zt.Ye,{provide:jr,useClass:Le},Eo,uo,{provide:no,useFactory:function ds(R){return R.routerState.root},deps:[Eo]},ln,[]];function Zl(){return new y.PXZ("Router",Eo)}let es=(()=>{class R{constructor(b){}static forRoot(b,G){return{ngModule:R,providers:[pu,[],{provide:ot,multi:!0,useValue:b},{provide:qn,useFactory:$u,deps:[[Eo,new y.FiY,new y.tp0]]},{provide:So,useValue:G||{}},G?.useHash?{provide:zt.S$,useClass:zt.Do}:{provide:zt.S$,useClass:zt.b0},{provide:Mn,useFactory:()=>{const R=(0,y.f3M)(zt.EM),$=(0,y.f3M)(y.R0b),b=(0,y.f3M)(So),G=(0,y.f3M)(ci),ae=(0,y.f3M)(jr);return b.scrollOffset&&R.setOffset(b.scrollOffset),new Ms(ae,G,R,$,b)}},G?.preloadingStrategy?Qu(G.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:Zl},G?.initialNavigation?ho(G):[],G?.bindToComponentInputs?ar(8,[go,{provide:Yr,useExisting:go}]).\u0275providers:[],[{provide:or,useFactory:Pn},{provide:y.tb,multi:!0,useExisting:or}]]}}static forChild(b){return{ngModule:R,providers:[{provide:ot,multi:!0,useValue:b}]}}}return R.\u0275fac=function(b){return new(b||R)(y.LFG(qn,8))},R.\u0275mod=y.oAB({type:R}),R.\u0275inj=y.cJS({}),R})();function $u(R){return"guarded"}function ho(R){return["disabled"===R.initialNavigation?ar(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const $=(0,y.f3M)(Eo);return()=>{$.setUpLocationChangeListener()}}},{provide:hu,useValue:2}]).\u0275providers:[],"enabledBlocking"===R.initialNavigation?ar(2,[{provide:hu,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:$=>{const b=$.get(zt.V_,Promise.resolve());return()=>b.then(()=>new Promise(G=>{const ae=$.get(Eo),Ne=$.get(Ji);nu(ae,()=>{G(!0)}),$.get(ci).afterPreactivation=()=>(G(!0),Ne.closed?(0,me.of)(void 0):Ne),ae.initialNavigation()}))}}]).\u0275providers:[]]}const or=new y.OlP("")},1877:(xn,bt,k)=>{"use strict";k.d(bt,{Am:()=>j,Ub:()=>Xe,Yd:()=>Pe,in:()=>h});const y=[];var h=(()=>((h=h||{})[h.DEBUG=0]="DEBUG",h[h.VERBOSE=1]="VERBOSE",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.SILENT=5]="SILENT",h))();const K={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},P=h.INFO,Te={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},me=(De,ye,...we)=>{if(ye<De.logLevel)return;const Ve=(new Date).toISOString(),je=Te[ye];if(!je)throw new Error(`Attempted to log a message with an invalid logType (value: ${ye})`);console[je](`[${Ve}]  ${De.name}:`,...we)};class Pe{constructor(ye){this.name=ye,this._logLevel=P,this._logHandler=me,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(ye){if(!(ye in h))throw new TypeError(`Invalid value "${ye}" assigned to \`logLevel\``);this._logLevel=ye}setLogLevel(ye){this._logLevel="string"==typeof ye?K[ye]:ye}get logHandler(){return this._logHandler}set logHandler(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye}get userLogHandler(){return this._userLogHandler}set userLogHandler(ye){this._userLogHandler=ye}debug(...ye){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...ye),this._logHandler(this,h.DEBUG,...ye)}log(...ye){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...ye),this._logHandler(this,h.VERBOSE,...ye)}info(...ye){this._userLogHandler&&this._userLogHandler(this,h.INFO,...ye),this._logHandler(this,h.INFO,...ye)}warn(...ye){this._userLogHandler&&this._userLogHandler(this,h.WARN,...ye),this._logHandler(this,h.WARN,...ye)}error(...ye){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...ye),this._logHandler(this,h.ERROR,...ye)}}function Xe(De){y.forEach(ye=>{ye.setLogLevel(De)})}function j(De,ye){for(const we of y){let Ve=null;ye&&ye.level&&(Ve=K[ye.level]),we.userLogHandler=null===De?null:(je,at,...Mt)=>{const ze=Mt.map(Ge=>{if(null==Ge)return null;if("string"==typeof Ge)return Ge;if("number"==typeof Ge||"boolean"==typeof Ge)return Ge.toString();if(Ge instanceof Error)return Ge.message;try{return JSON.stringify(Ge)}catch{return null}}).filter(Ge=>Ge).join(" ");at>=(Ve??je.logLevel)&&De({level:h[at].toLowerCase(),message:ze,args:Mt,type:je.name})}}}},650:(xn,bt,k)=>{"use strict";k.d(bt,{dr:()=>Un,YG:()=>Ti,Sm:()=>Pr,PM:()=>ai,FN:()=>Gi,Zi:()=>ti,Dq:()=>lt,wI:()=>q,W2:()=>X,jY:()=>tn,Gu:()=>Dn,gu:()=>rr,pK:()=>Bt,Ie:()=>gn,Q$:()=>Sr,q_:()=>er,wh:()=>Bs,z0:()=>hi,fG:()=>Z,zc:()=>wt,d8:()=>Vs,jP:()=>Gr,Nd:()=>Ze,t9:()=>En,n0:()=>Bn,PQ:()=>wr,wd:()=>Vi,Px:()=>ws,sr:()=>$s,Pc:()=>bo,r4:()=>pi,HT:()=>Ai,IN:()=>ms,X1:()=>ro,as:()=>Qr,Dh:()=>Ni,YI:()=>Ns,QI:()=>Ht,j9:()=>vn});var y=k(5861),h=k(2223),K=k(5030),P=k(655),Te=k(8421),me=k(9751),Pe=k(5577),Xe=k(1144),j=k(576),De=k(3268);const ye=["addListener","removeListener"],we=["addEventListener","removeEventListener"],Ve=["on","off"];function je(T,ie,x,C){if((0,j.m)(x)&&(C=x,x=void 0),C)return je(T,ie,x).pipe((0,De.Z)(C));const[M,L]=function Ge(T){return(0,j.m)(T.addEventListener)&&(0,j.m)(T.removeEventListener)}(T)?we.map(fe=>Nt=>T[fe](ie,Nt,x)):function Mt(T){return(0,j.m)(T.addListener)&&(0,j.m)(T.removeListener)}(T)?ye.map(at(T,ie)):function ze(T){return(0,j.m)(T.on)&&(0,j.m)(T.off)}(T)?Ve.map(at(T,ie)):[];if(!M&&(0,Xe.z)(T))return(0,Pe.z)(fe=>je(fe,ie,x))((0,Te.Xf)(T));if(!M)throw new TypeError("Invalid event target");return new me.y(fe=>{const Nt=(...wn)=>fe.next(1<wn.length?wn:wn[0]);return M(Nt),()=>L(Nt)})}function at(T,ie){return x=>C=>T[x](ie,C)}var _e=k(7579),mt=k(1135),dt=k(9931),be=(k(4251),k(1372),k(7399),k(1898),k(5273)),$t=k(3577),tt=k(3982),Ft=k(7883),Vt=(k(5191),k(2797)),st=(k(4110),k(4349),k(4083)),Ue=k(9300),Qe=k(3900),ut=k(1884),yt=k(4755);const Nn=be.i,St=["*"];function Tt(T,ie){if(1&T&&h.GkF(0,1),2&T){const x=h.oxw();h.Q6J("ngTemplateOutlet",x.template)}}const Kt=T=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(T):"function"==typeof requestAnimationFrame?requestAnimationFrame(T):setTimeout(T);let kn=(()=>{class T{constructor(x,C){this.injector=x,this.el=C,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(x){this.el.nativeElement.value=this.lastValue=x,Xn(this.el)}handleValueChange(x,C){x===this.el.nativeElement&&(C!==this.lastValue&&(this.lastValue=C,this.onChange(C)),Xn(this.el))}_handleBlurEvent(x){x===this.el.nativeElement&&(this.onTouched(),Xn(this.el))}registerOnChange(x){this.onChange=x}registerOnTouched(x){this.onTouched=x}setDisabledState(x){this.el.nativeElement.disabled=x}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let x;try{x=this.injector.get(K.a5)}catch{}if(!x)return;x.statusChanges&&(this.statusChanges=x.statusChanges.subscribe(()=>Xn(this.el)));const C=x.control;C&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(L=>{if(typeof C[L]<"u"){const fe=C[L].bind(C);C[L]=(...Nt)=>{fe(...Nt),Xn(this.el)}}})}}return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.zs3),h.Y36(h.SBq))},T.\u0275dir=h.lG2({type:T,hostBindings:function(x,C){1&x&&h.NdJ("ionBlur",function(L){return C._handleBlurEvent(L.target)})}}),T})();const Xn=T=>{Kt(()=>{const ie=T.nativeElement,x=null!=ie.value&&ie.value.toString().length>0,C=lr(ie);cr(ie,C);const M=ie.closest("ion-item");M&&cr(M,x?[...C,"item-has-value"]:C)})},lr=T=>{const ie=T.classList,x=[];for(let C=0;C<ie.length;C++){const M=ie.item(C);null!==M&&bn(M,"ng-")&&x.push(`ion-${M.substring(3)}`)}return x},cr=(T,ie)=>{const x=T.classList;x.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),x.add(...ie)},bn=(T,ie)=>T.substring(0,ie.length)===ie;let Qr=(()=>{class T extends kn{constructor(x,C){super(x,C)}handleInputEvent(x){this.handleValueChange(x,x.value)}registerOnChange(x){super.registerOnChange(C=>{x(""===C?null:parseFloat(C))})}}return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.zs3),h.Y36(h.SBq))},T.\u0275dir=h.lG2({type:T,selectors:[["ion-input","type","number"]],hostBindings:function(x,C){1&x&&h.NdJ("ionInput",function(L){return C.handleInputEvent(L.target)})},features:[h._Bn([{provide:K.JU,useExisting:T,multi:!0}]),h.qOj]}),T})(),Ht=(()=>{class T extends kn{constructor(x,C){super(x,C)}_handleChangeEvent(x){this.handleValueChange(x,x.value)}}return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.zs3),h.Y36(h.SBq))},T.\u0275dir=h.lG2({type:T,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(x,C){1&x&&h.NdJ("ionChange",function(L){return C._handleChangeEvent(L.target)})},features:[h._Bn([{provide:K.JU,useExisting:T,multi:!0}]),h.qOj]}),T})(),vn=(()=>{class T extends kn{constructor(x,C){super(x,C)}_handleInputEvent(x){this.handleValueChange(x,x.value)}}return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.zs3),h.Y36(h.SBq))},T.\u0275dir=h.lG2({type:T,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(x,C){1&x&&h.NdJ("ionInput",function(L){return C._handleInputEvent(L.target)})},features:[h._Bn([{provide:K.JU,useExisting:T,multi:!0}]),h.qOj]}),T})();const ge=(T,ie)=>{const x=T.prototype;ie.forEach(C=>{Object.defineProperty(x,C,{get(){return this.el[C]},set(M){this.z.runOutsideAngular(()=>this.el[C]=M)}})})},ht=(T,ie)=>{const x=T.prototype;ie.forEach(C=>{x[C]=function(){const M=arguments;return this.z.runOutsideAngular(()=>this.el[C].apply(this.el,M))}})},Ot=(T,ie,x)=>{x.forEach(C=>T[C]=je(ie,C))};function nn(T){return function(x){const{defineCustomElementFn:C,inputs:M,methods:L}=T;return void 0!==C&&C(),M&&ge(x,M),L&&ht(x,L),x}}let Un=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-app"]],ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({})],T),T})(),Ti=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement,Ot(this,this.el,["ionFocus","ionBlur"])}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],T),T})(),Pr=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["collapse"]})],T),T})(),ai=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],T),T})(),Gi=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["mode"]})],T),T})(),ti=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["color","mode","translucent"]})],T),T})(),lt=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["color","mode"]})],T),T})(),q=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],T),T})(),X=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement,Ot(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],T),T})(),tn=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["fixed"]})],T),T})(),Dn=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["collapse","mode","translucent"]})],T),T})(),rr=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],T),T})(),Bt=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement,Ot(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],T),T})(),gn=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],T),T})(),Sr=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["color","mode","position"]})],T),T})(),er=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],T),T})(),Bs=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement,Ot(this,this.el,["ionLoadingDidPresent","ionLoadingWillPresent","ionLoadingWillDismiss","ionLoadingDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-loading"]],inputs:{animated:"animated",backdropDismiss:"backdropDismiss",cssClass:"cssClass",duration:"duration",enterAnimation:"enterAnimation",htmlAttributes:"htmlAttributes",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",message:"message",mode:"mode",showBackdrop:"showBackdrop",spinner:"spinner",translucent:"translucent",trigger:"trigger"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["animated","backdropDismiss","cssClass","duration","enterAnimation","htmlAttributes","isOpen","keyboardClose","leaveAnimation","message","mode","showBackdrop","spinner","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],T),T})(),hi=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement,Ot(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],T),T})(),Z=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["autoHide","color","disabled","menu","mode","type"]})],T),T})(),wt=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["autoHide","menu"]})],T),T})(),Ze=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-row"]],ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({})],T),T})(),En=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement,Ot(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",value:"value"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["cancelText","color","compareWith","disabled","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","value"],methods:["open"]})],T),T})(),Bn=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["disabled","value"]})],T),T})(),wr=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["color","duration","name","paused"]})],T),T})(),Vi=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["color","size"]})],T),T})(),ws=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement,Ot(this,this.el,["ionToastDidPresent","ionToastWillPresent","ionToastWillDismiss","ionToastDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-toast"]],inputs:{animated:"animated",buttons:"buttons",color:"color",cssClass:"cssClass",duration:"duration",enterAnimation:"enterAnimation",header:"header",htmlAttributes:"htmlAttributes",icon:"icon",isOpen:"isOpen",keyboardClose:"keyboardClose",layout:"layout",leaveAnimation:"leaveAnimation",message:"message",mode:"mode",position:"position",translucent:"translucent",trigger:"trigger"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["animated","buttons","color","cssClass","duration","enterAnimation","header","htmlAttributes","icon","isOpen","keyboardClose","layout","leaveAnimation","message","mode","position","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],T),T})(),$s=(()=>{let T=class{constructor(x,C,M){this.z=M,x.detach(),this.el=C.nativeElement}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:St,decls:1,vars:0,template:function(x,C){1&x&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["color","mode"]})],T),T})(),po=(()=>{class T{get(x,C){const M=Ys();return M?M.get(x,C):null}getBoolean(x,C){const M=Ys();return!!M&&M.getBoolean(x,C)}getNumber(x,C){const M=Ys();return M?M.getNumber(x,C):0}}return T.\u0275fac=function(x){return new(x||T)},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const Hi=new h.OlP("USERCONFIG"),Ys=()=>{if(typeof window<"u"){const T=window.Ionic;if(T?.config)return T.config}return null};let lo=(()=>{class T{constructor(x,C){this.doc=x,this.backButton=new _e.x,this.keyboardDidShow=new _e.x,this.keyboardDidHide=new _e.x,this.pause=new _e.x,this.resume=new _e.x,this.resize=new _e.x,C.run(()=>{let M;this.win=x.defaultView,this.backButton.subscribeWithPriority=function(L,fe){return this.subscribe(Nt=>Nt.register(L,wn=>C.run(()=>fe(wn))))},As(this.pause,x,"pause"),As(this.resume,x,"resume"),As(this.backButton,x,"ionBackButton"),As(this.resize,this.win,"resize"),As(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),As(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(L=>{M=L}),this.win?.cordova?x.addEventListener("deviceready",()=>{M("cordova")},{once:!0}):M("dom")})}is(x){return(0,be.a)(this.win,x)}platforms(){return(0,be.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(x){return ni(this.win.location.href,x)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(x){const C=this.win.navigator;return!!(C?.userAgent&&C.userAgent.indexOf(x)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return T.\u0275fac=function(x){return new(x||T)(h.LFG(yt.K0),h.LFG(h.R0b))},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const ni=(T,ie)=>{ie=ie.replace(/[[\]\\]/g,"\\$&");const C=new RegExp("[\\?&]"+ie+"=([^&#]*)").exec(T);return C?decodeURIComponent(C[1].replace(/\+/g," ")):null},As=(T,ie,x)=>{ie&&ie.addEventListener(x,C=>{const M=C?.detail;T.next(M)})};let xo=(()=>{class T{constructor(x,C,M,L){this.location=C,this.serializer=M,this.router=L,this.direction=Wi,this.animated=Mo,this.guessDirection="forward",this.lastNavId=-1,L&&L.events.subscribe(fe=>{if(fe instanceof dt.OD){const Nt=fe.restoredState?fe.restoredState.navigationId:fe.id;this.guessDirection=Nt<this.lastNavId?"back":"forward",this.guessAnimation=fe.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?fe.id:Nt}}),x.backButton.subscribeWithPriority(0,fe=>{this.pop(),fe()})}navigateForward(x,C={}){return this.setDirection("forward",C.animated,C.animationDirection,C.animation),this.navigate(x,C)}navigateBack(x,C={}){return this.setDirection("back",C.animated,C.animationDirection,C.animation),this.navigate(x,C)}navigateRoot(x,C={}){return this.setDirection("root",C.animated,C.animationDirection,C.animation),this.navigate(x,C)}back(x={animated:!0,animationDirection:"back"}){return this.setDirection("back",x.animated,x.animationDirection,x.animation),this.location.back()}pop(){var x=this;return(0,y.Z)(function*(){let C=x.topOutlet;for(;C&&!(yield C.pop());)C=C.parentOutlet})()}setDirection(x,C,M,L){this.direction=x,this.animated=no(x,C,M),this.animationBuilder=L}setTopOutlet(x){this.topOutlet=x}consumeTransition(){let C,x="root";const M=this.animationBuilder;return"auto"===this.direction?(x=this.guessDirection,C=this.guessAnimation):(C=this.animated,x=this.direction),this.direction=Wi,this.animated=Mo,this.animationBuilder=void 0,{direction:x,animation:C,animationBuilder:M}}navigate(x,C){if(Array.isArray(x))return this.router.navigate(x,C);{const M=this.serializer.parse(x.toString());return void 0!==C.queryParams&&(M.queryParams={...C.queryParams}),void 0!==C.fragment&&(M.fragment=C.fragment),this.router.navigateByUrl(M,C)}}}return T.\u0275fac=function(x){return new(x||T)(h.LFG(lo),h.LFG(yt.Ye),h.LFG(dt.Hx),h.LFG(dt.F0,8))},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const no=(T,ie,x)=>{if(!1!==ie){if(void 0!==x)return x;if("forward"===T||"back"===T)return T;if("root"===T&&!0===ie)return"forward"}},Wi="auto",Mo=void 0;class ro{constructor(ie={}){this.data=ie}get(ie){return this.data[ie]}}let ri=(()=>{class T{constructor(){this.zone=(0,h.f3M)(h.R0b),this.applicationRef=(0,h.f3M)(h.z2F)}create(x,C,M){return new vi(x,C,this.applicationRef,this.zone,M)}}return T.\u0275fac=function(x){return new(x||T)},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac}),T})();class vi{constructor(ie,x,C,M,L){this.environmentInjector=ie,this.injector=x,this.applicationRef=C,this.zone=M,this.elementReferenceKey=L,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(ie,x,C,M){return this.zone.run(()=>new Promise(L=>{const fe={...C};void 0!==this.elementReferenceKey&&(fe[this.elementReferenceKey]=ie),L(Oa(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ie,x,fe,M))}))}removeViewFromDom(ie,x){return this.zone.run(()=>new Promise(C=>{const M=this.elRefMap.get(x);if(M){M.destroy(),this.elRefMap.delete(x);const L=this.elEventsMap.get(x);L&&(L(),this.elEventsMap.delete(x))}C()}))}}const Oa=(T,ie,x,C,M,L,fe,Nt,wn,Zr)=>{const Ii=h.zs3.create({providers:ea(wn),parent:x}),so=(0,h.LMc)(Nt,{environmentInjector:ie,elementInjector:Ii}),Vo=so.instance,is=so.location.nativeElement;if(wn&&Object.assign(Vo,wn),Zr)for(const vo of Zr)is.classList.add(vo);const gi=wo(T,Vo,is);return fe.appendChild(is),C.attachView(so.hostView),M.set(is,so),L.set(is,gi),is},Po=[Ft.L,Ft.a,Ft.b,Ft.c,Ft.d],wo=(T,ie,x)=>T.run(()=>{const C=Po.filter(M=>"function"==typeof ie[M]).map(M=>{const L=fe=>ie[M](fe.detail);return x.addEventListener(M,L),()=>x.removeEventListener(M,L)});return()=>C.forEach(M=>M())}),io=new h.OlP("NavParamsToken"),ea=T=>[{provide:io,useValue:T},{provide:ro,useFactory:Yr,deps:[io]}],Yr=T=>new ro(T),Bo=(T,ie)=>((T=T.filter(x=>x.stackId!==ie.stackId)).push(ie),T),ce=(T,ie)=>{const x=T.createUrlTree(["."],{relativeTo:ie});return T.serializeUrl(x)},gt=(T,ie)=>{if(!T)return;const x=At(ie);for(let C=0;C<x.length;C++){if(C>=T.length)return x[C];if(x[C]!==T[C])return}},At=T=>T.split("/").map(ie=>ie.trim()).filter(ie=>""!==ie),yn=T=>{T&&(T.ref.destroy(),T.unlistenEvents())};class $n{constructor(ie,x,C,M,L,fe){this.containerEl=x,this.router=C,this.navCtrl=M,this.zone=L,this.location=fe,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==ie?At(ie):void 0}createView(ie,x){const C=ce(this.router,x),M=ie?.location?.nativeElement,L=wo(this.zone,ie.instance,M);return{id:this.nextId++,stackId:gt(this.tabsPrefix,C),unlistenEvents:L,element:M,ref:ie,url:C}}getExistingView(ie){const x=ce(this.router,ie),C=this.views.find(M=>M.url===x);return C&&C.ref.changeDetectorRef.reattach(),C}setActive(ie){const x=this.navCtrl.consumeTransition();let{direction:C,animation:M,animationBuilder:L}=x;const fe=this.activeView,Nt=((T,ie)=>!ie||T.stackId!==ie.stackId)(ie,fe);Nt&&(C="back",M=void 0);const wn=this.views.slice();let Zr;const Ii=this.router;Ii.getCurrentNavigation?Zr=Ii.getCurrentNavigation():Ii.navigations?.value&&(Zr=Ii.navigations.value),Zr?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const so=this.views.includes(ie),Vo=this.insertView(ie,C);so||ie.ref.changeDetectorRef.detectChanges();const is=ie.animationBuilder;return void 0===L&&"back"===C&&!Nt&&void 0!==is&&(L=is),fe&&(fe.animationBuilder=L),this.zone.runOutsideAngular(()=>this.wait(()=>(fe&&fe.ref.changeDetectorRef.detach(),ie.ref.changeDetectorRef.reattach(),this.transition(ie,fe,M,this.canGoBack(1),!1,L).then(()=>hr(ie,Vo,wn,this.location,this.zone)).then(()=>({enteringView:ie,direction:C,animation:M,tabSwitch:Nt})))))}canGoBack(ie,x=this.getActiveStackId()){return this.getStack(x).length>ie}pop(ie,x=this.getActiveStackId()){return this.zone.run(()=>{const C=this.getStack(x);if(C.length<=ie)return Promise.resolve(!1);const M=C[C.length-ie-1];let L=M.url;const fe=M.savedData;if(fe){const wn=fe.get("primary");wn?.route?._routerState?.snapshot.url&&(L=wn.route._routerState.snapshot.url)}const{animationBuilder:Nt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(L,{...M.savedExtras,animation:Nt}).then(()=>!0)})}startBackTransition(){const ie=this.activeView;if(ie){const x=this.getStack(ie.stackId),C=x[x.length-2],M=C.animationBuilder;return this.wait(()=>this.transition(C,ie,"back",this.canGoBack(2),!0,M))}return Promise.resolve()}endBackTransition(ie){ie?(this.skipTransition=!0,this.pop(1)):this.activeView&&fr(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ie){const x=this.getStack(ie);return x.length>0?x[x.length-1]:void 0}getRootUrl(ie){const x=this.getStack(ie);return x.length>0?x[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(yn),this.activeView=void 0,this.views=[]}getStack(ie){return this.views.filter(x=>x.stackId===ie)}insertView(ie,x){return this.activeView=ie,this.views=((T,ie,x)=>"root"===x?Bo(T,ie):"forward"===x?((T,ie)=>(T.indexOf(ie)>=0?T=T.filter(C=>C.stackId!==ie.stackId||C.id<=ie.id):T.push(ie),T))(T,ie):((T,ie)=>T.indexOf(ie)>=0?T.filter(C=>C.stackId!==ie.stackId||C.id<=ie.id):Bo(T,ie))(T,ie))(this.views,ie,x),this.views.slice()}transition(ie,x,C,M,L,fe){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(x===ie)return Promise.resolve(!1);const Nt=ie?ie.element:void 0,wn=x?x.element:void 0,Zr=this.containerEl;return Nt&&Nt!==wn&&(Nt.classList.add("ion-page"),Nt.classList.add("ion-page-invisible"),Nt.parentElement!==Zr&&Zr.appendChild(Nt),Zr.commit)?Zr.commit(Nt,wn,{duration:void 0===C?0:void 0,direction:C,showGoBack:M,progressAnimation:L,animationBuilder:fe}):Promise.resolve(!1)}wait(ie){var x=this;return(0,y.Z)(function*(){void 0!==x.runningTask&&(yield x.runningTask,x.runningTask=void 0);const C=x.runningTask=ie();return C.finally(()=>x.runningTask=void 0),C})()}}const hr=(T,ie,x,C,M)=>"function"==typeof requestAnimationFrame?new Promise(L=>{requestAnimationFrame(()=>{fr(T,ie,x,C,M),L()})}):Promise.resolve(),fr=(T,ie,x,C,M)=>{M.run(()=>x.filter(L=>!ie.includes(L)).forEach(yn)),ie.forEach(L=>{const Nt=C.path().split("?")[0].split("#")[0];if(L!==T&&L.url!==Nt){const wn=L.element;wn.setAttribute("aria-hidden","true"),wn.classList.add("ion-page-hidden"),L.ref.changeDetectorRef.detach()}})};let Gr=(()=>{class T{constructor(x,C,M,L,fe,Nt,wn,Zr){this.parentOutlet=Zr,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new mt.X(null),this.stackEvents=new h.vpe,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.parentContexts=(0,h.f3M)(dt.y6),this.location=(0,h.f3M)(h.s_b),this.environmentInjector=(0,h.f3M)(h.lqb),this.config=(0,h.f3M)(po),this.navCtrl=(0,h.f3M)(xo),this.nativeEl=L.nativeElement,this.name=x||dt.eC,this.tabsPrefix="true"===C?ce(fe,wn):void 0,this.stackCtrl=new $n(this.tabsPrefix,this.nativeEl,fe,this.navCtrl,Nt,M),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(x){this.nativeEl.animation=x}set animated(x){this.nativeEl.animated=x}set swipeGesture(x){this._swipeGesture=x,this.nativeEl.swipeHandler=x?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:C=>this.stackCtrl.endBackTransition(C)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const x=this.getContext();x?.route&&this.activateWith(x.route,x.injector)}new Promise(x=>(0,$t.c)(this.nativeEl,x)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(x,C){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const C=this.getContext();this.activatedView.savedData=new Map(C.children.contexts);const M=this.activatedView.savedData.get("primary");if(M&&C.route&&(M.route={...C.route}),this.activatedView.savedExtras={},C.route){const L=C.route.snapshot;this.activatedView.savedExtras.queryParams=L.queryParams,this.activatedView.savedExtras.fragment=L.fragment}}const x=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(x)}}activateWith(x,C){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=x;let M,L=this.stackCtrl.getExistingView(x);if(L){M=this.activated=L.ref;const fe=L.savedData;fe&&(this.getContext().children.contexts=fe),this.updateActivatedRouteProxy(M.instance,x)}else{const fe=x._futureSnapshot,Nt=this.parentContexts.getOrCreateContext(this.name).children,wn=new mt.X(null),Zr=this.createActivatedRouteProxy(wn,x),Ii=new mi(Zr,Nt,this.location.injector);M=this.activated=this.location.createComponent(fe.routeConfig.component??fe.component,{index:this.location.length,injector:Ii,environmentInjector:C??this.environmentInjector}),wn.next(M.instance),L=this.stackCtrl.createView(this.activated,x),this.proxyMap.set(M.instance,Zr),this.currentActivatedRoute$.next({component:M.instance,activatedRoute:x})}this.activatedView=L,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(L).then(fe=>{this.activateEvents.emit(M.instance),this.stackEvents.emit(fe)})}canGoBack(x=1,C){return this.stackCtrl.canGoBack(x,C)}pop(x=1,C){return this.stackCtrl.pop(x,C)}getLastUrl(x){const C=this.stackCtrl.getLastUrl(x);return C?C.url:void 0}getLastRouteView(x){return this.stackCtrl.getLastUrl(x)}getRootView(x){return this.stackCtrl.getRootUrl(x)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(x,C){const M=new dt.gz;return M._futureSnapshot=C._futureSnapshot,M._routerState=C._routerState,M.snapshot=C.snapshot,M.outlet=C.outlet,M.component=C.component,M._paramMap=this.proxyObservable(x,"paramMap"),M._queryParamMap=this.proxyObservable(x,"queryParamMap"),M.url=this.proxyObservable(x,"url"),M.params=this.proxyObservable(x,"params"),M.queryParams=this.proxyObservable(x,"queryParams"),M.fragment=this.proxyObservable(x,"fragment"),M.data=this.proxyObservable(x,"data"),M}proxyObservable(x,C){return x.pipe((0,Ue.h)(M=>!!M),(0,Qe.w)(M=>this.currentActivatedRoute$.pipe((0,Ue.h)(L=>null!==L&&L.component===M),(0,Qe.w)(L=>L&&L.activatedRoute[C]),(0,ut.x)())))}updateActivatedRouteProxy(x,C){const M=this.proxyMap.get(x);if(!M)throw new Error("Could not find activated route proxy for view");M._futureSnapshot=C._futureSnapshot,M._routerState=C._routerState,M.snapshot=C.snapshot,M.outlet=C.outlet,M.component=C.component,this.currentActivatedRoute$.next({component:x,activatedRoute:C})}}return T.\u0275fac=function(x){return new(x||T)(h.$8M("name"),h.$8M("tabs"),h.Y36(yt.Ye),h.Y36(h.SBq),h.Y36(dt.F0),h.Y36(h.R0b),h.Y36(dt.gz),h.Y36(T,12))},T.\u0275dir=h.lG2({type:T,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),T})();class mi{constructor(ie,x,C){this.route=ie,this.childContexts=x,this.parent=C}get(ie,x){return ie===dt.gz?this.route:ie===dt.y6?this.childContexts:this.parent.get(ie,x)}}let Ns=(()=>{class T{constructor(x,C,M,L,fe){this.locationStrategy=x,this.navCtrl=C,this.elementRef=M,this.router=L,this.routerLink=fe,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const x=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=x}}onClick(x){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),x.preventDefault()}}return T.\u0275fac=function(x){return new(x||T)(h.Y36(yt.S$),h.Y36(xo),h.Y36(h.SBq),h.Y36(dt.F0),h.Y36(dt.rH,8))},T.\u0275dir=h.lG2({type:T,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(x,C){1&x&&h.NdJ("click",function(L){return C.onClick(L)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[h.TTD]}),T})(),Vs=(()=>{let T=class{constructor(x,C,M){this.z=M,this.isCmpOpen=!1,this.el=C.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,x.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,x.detectChanges()}),Ot(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return T.\u0275fac=function(x){return new(x||T)(h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.R0b))},T.\u0275cmp=h.Xpm({type:T,selectors:[["ion-popover"]],contentQueries:function(x,C,M){if(1&x&&h.Suo(M,h.Rgc,5),2&x){let L;h.iGM(L=h.CRH())&&(C.template=L.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"},decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(x,C){1&x&&h.YNc(0,Tt,1,1,"ng-container",0),2&x&&h.Q6J("ngIf",C.isCmpOpen||C.keepContentsMounted)},dependencies:[yt.O5,yt.tP],encapsulation:2,changeDetection:0}),T=(0,P.gn)([nn({inputs:["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],T),T})();class ls{constructor(ie){this.ctrl=ie}create(ie){return this.ctrl.create(ie||{})}dismiss(ie,x,C){return this.ctrl.dismiss(ie,x,C)}getTop(){return this.ctrl.getTop()}}let Ai=(()=>{class T extends ls{constructor(){super(Vt.l)}}return T.\u0275fac=function(x){return new(x||T)},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),ms=(()=>{class T extends ls{constructor(){super(Vt.m),this.angularDelegate=(0,h.f3M)(ri),this.injector=(0,h.f3M)(h.zs3),this.environmentInjector=(0,h.f3M)(h.lqb)}create(x){return super.create({...x,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return T.\u0275fac=function(x){return new(x||T)},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac}),T})(),Ni=(()=>{class T extends ls{constructor(){super(Vt.c),this.angularDelegate=(0,h.f3M)(ri),this.injector=(0,h.f3M)(h.zs3),this.environmentInjector=(0,h.f3M)(h.lqb)}create(x){return super.create({...x,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return T.\u0275fac=function(x){return new(x||T)},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac}),T})();class pi{shouldDetach(ie){return!1}shouldAttach(ie){return!1}store(ie,x){}retrieve(ie){return null}shouldReuseRoute(ie,x){if(ie.routeConfig!==x.routeConfig)return!1;const C=ie.params,M=x.params,L=Object.keys(C),fe=Object.keys(M);if(L.length!==fe.length)return!1;for(const Nt of L)if(M[Nt]!==C[Nt])return!1;return!0}}const Es=(T,ie,x)=>()=>{if(ie.defaultView&&typeof window<"u"){(0,tt.s)({...T,_zoneGate:L=>x.run(L)});const M="__zone_symbol__addEventListener"in ie.body?"__zone_symbol__addEventListener":"addEventListener";return function Jt(){var T=[];if(typeof window<"u"){var ie=window;(!ie.customElements||ie.Element&&(!ie.Element.prototype.closest||!ie.Element.prototype.matches||!ie.Element.prototype.remove||!ie.Element.prototype.getRootNode))&&T.push(k.e(6748).then(k.t.bind(k,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||ie.NodeList&&!ie.NodeList.prototype.forEach||!ie.fetch||!function(){try{var C=new URL("b","http://a");return C.pathname="c%20d","http://a/c%20d"===C.href&&C.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&T.push(k.e(2214).then(k.t.bind(k,4144,23)))}return Promise.all(T)}().then(()=>((T,ie)=>typeof window>"u"?Promise.resolve():(0,st.p)().then(()=>(Nn(),(0,st.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),ie))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Kt,jmp:L=>x.runOutsideAngular(L),ael(L,fe,Nt,wn){L[M](fe,Nt,wn)},rel(L,fe,Nt,wn){L.removeEventListener(fe,Nt,wn)}}))}};let bo=(()=>{class T{static forRoot(x){return{ngModule:T,providers:[{provide:Hi,useValue:x},{provide:h.ip1,useFactory:Es,multi:!0,deps:[Hi,yt.K0,h.R0b]}]}}}return T.\u0275fac=function(x){return new(x||T)},T.\u0275mod=h.oAB({type:T}),T.\u0275inj=h.cJS({providers:[ri,ms,Ni],imports:[yt.ez]}),T})()},9290:(xn,bt,k)=>{"use strict";k.d(bt,{UL:()=>mn});var y=k(2223);let mn=(()=>{class Z{}return Z.\u0275fac=function(J){return new(J||Z)},Z.\u0275mod=y.oAB({type:Z}),Z.\u0275inj=y.cJS({}),Z})()},5861:(xn,bt,k)=>{"use strict";function y(K,P,Te,me,Pe,Xe,j){try{var De=K[Xe](j),ye=De.value}catch(we){return void Te(we)}De.done?P(ye):Promise.resolve(ye).then(me,Pe)}function h(K){return function(){var P=this,Te=arguments;return new Promise(function(me,Pe){var Xe=K.apply(P,Te);function j(ye){y(Xe,me,Pe,j,De,"next",ye)}function De(ye){y(Xe,me,Pe,j,De,"throw",ye)}j(void 0)})}}k.d(bt,{Z:()=>h})}},xn=>{xn(xn.s=7131)}]);