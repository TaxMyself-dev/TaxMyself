<!-- <app-custom-toolbar></app-custom-toolbar> -->

<ion-content [fullscreen]="true">
<p-toast key="br"></p-toast>
<div class="screen-admin-panel">
  <!-- SHAAM Button -->
  <div class="shaam-button-container">
    <app-p-button
      [buttonText]="'שלח בקשה למספר הקצאה משעמ'"
      [buttonSize]="componentButtonSize.AUTO"
      [buttonColor]="buttonColor.BLACK"
      (onButtonClicked)="onOpenShaamDialog()">
    </app-p-button>
  </div>

  <!-- Use direct property and event binding for selectedTab -->
  <div>
    <app-tab-bar [tabs]="tabs" [selectedTab]="selectedTab" (selectedTabChange)="onTabChange($event)"></app-tab-bar>
  </div>

  <div>
  <app-clients-dashboard *ngIf="selectedTab === 'clients-dashboard'">
  </app-clients-dashboard>
  <app-category-management *ngIf="selectedTab === 'category-management'">
  </app-category-management>
  <app-trans-management *ngIf="selectedTab === 'trans-management'"></app-trans-management>
  <app-agent-management *ngIf="selectedTab === 'agent-management'"></app-agent-management>
</div>

  <!-- SHAAM Invoice Approval Dialog -->
  <app-shaam-invoice-approval-dialog
    [isVisible]="showShaamDialog()"
    (visibleChange)="onShaamDialogClose($event)"
    (approvalSuccess)="onShaamApprovalSuccess($event)">
  </app-shaam-invoice-approval-dialog>

  <!-- <app-manage-categories *ngIf="selectedTab === 'manage-categories'"></app-manage-categories> -->
  <!-- <app-track-expenses *ngIf="selectedTab === 'track-expenses'"></app-track-expenses> -->
</div>
</ion-content>