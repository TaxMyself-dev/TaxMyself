<app-custom-toolbar></app-custom-toolbar>
<ion-content>
  <app-search-bar [customTemplate]="searchBarContent" (onSearchClick)="getTransactions()"></app-search-bar>
  <!-- <app-button buttonText="get data from DB" (onButtonClicked)="getTransactions()"></app-button> -->
  <app-collaps (handleOpen)="onOpenClicked($event)"  [title]="'הכנסות'"></app-collaps>
  <app-table *ngIf="isOpen && data$ | async as data" [fieldsNames]="fieldsNames" [rows]="rows" [columnsOrderByFunc]="columnsOrderByFunc"></app-table>


</ion-content>

<ng-template #searchBarContent>
  <form class="generic-search-bar-content" [formGroup]="transactionsForm">
    <app-select-month-format [parentForm]="transactionsForm"></app-select-month-format>
    <app-select-month [parentForm]="transactionsForm"></app-select-month>
    <app-select-year [parentForm]="transactionsForm"></app-select-year>
    <app-generic-select [controlName]="'accounts'" [items]="accountsList" [title]="'בחר חשבון'" [parentForm]="transactionsForm"></app-generic-select>
  </form>
</ng-template>
