<!-- <div class="page-wrapper">

  <div class="section">

    <div class="create-doc-header">
      <div class="icon-title">
        <span class="title">הפקת מסמך</span>
      </div>
      <p class="text-header">
        בחר איזה מסמך ברצונך להפיק   
      </p>
    </div>

    <div class="general-fields">

      <div class="section-one">
        <app-input-select [controlName]="'docType'" labelText="סוג המסמך" [placeholder]="'בחר את סוג המסמך'" [items]="DocCreateTypeList" [parentForm]="generalDetailsForm" [size]="inputsSize.BETWEEN" (onChangeInputSelect)="onSelectedDoc($event)"></app-input-select>
        <app-input-date [controlName]="'documentDate'" labelText="תאריך המסמך" placeholder="00/00/0000" [parentForm]="generalDetailsForm"></app-input-date>
        <app-input-text [controlName]="'docDescription'" labelText="תיאור המסמך" [placeholder]="'תיאור המסמך'" [parentForm]="generalDetailsForm" [size]="inputsSize.BETWEEN"></app-input-text>
      </div>

      <div>
        @if (showGeneralMoreFields) {
          <app-input-text [controlName]="'docVatRate'" labelText="אחוז המעמ" [placeholder]="'אחוז המעמ'" [parentForm]="generalDetailsForm" [size]="inputsSize.BETWEEN" [customStyle]="'fill-border'"></app-input-text>
        }
      </div>

      <div>
        <app-p-button class="pnl-pdf-button"
          [buttonText]="showGeneralMoreFields ? 'הסתר שדות' : ' הצג הכל'"
          [variant]="'text'"
          [severity]="'info'"
          [buttonSize]="buttonSize.AUTO"
          (onButtonClicked)="showGeneralMoreFields = !showGeneralMoreFields">
        </app-p-button>

      </div>

    </div>

  </div>

  <div class="section">

    <div class="create-doc-header">
      <div class="icon-title">
        <span class="title">פרטי הלקוח</span>
      </div>
    </div>

    <div class="general-fields">

      <div class="section-one">
        <app-input-text [controlName]="'recipientName'" labelText="שם הלקוח" [placeholder]="'הקלד שם לבחירת לקוח קיים'" [parentForm]="userDetailsForm" [size]="inputsSize.BETWEEN"></app-input-text>
        <app-input-text [controlName]="'recipientId'" labelText="ת.ז או ח.פ" [placeholder]="'הקלד 9 ספרות'" [parentForm]="userDetailsForm" [size]="inputsSize.BETWEEN"></app-input-text>
        <app-input-text [controlName]="'recipientPhone'" labelText="טלפון נייד" [placeholder]="'הקלד 10 ספרות'" [parentForm]="userDetailsForm" [size]="inputsSize.BETWEEN"></app-input-text>
        <app-input-text [controlName]="'recipientId'" labelText="כתובת אימייל" [placeholder]="'name@gmail.com'" [parentForm]="userDetailsForm" [size]="inputsSize.BETWEEN"></app-input-text>
      </div>

      <div>
        @if (showUserMoreFields) {
          <app-input-text [controlName]="'docVatRate'" labelText="אחוז המעמ" [placeholder]="'אחוז המעמ'" [parentForm]="generalDetailsForm" [size]="inputsSize.BETWEEN" [customStyle]="'fill-border'"></app-input-text>
        }
      </div>

      <div>
        <app-p-button class="pnl-pdf-button"
          [buttonText]="showUserMoreFields ? 'הסתר שדות' : 'הצג הכל'"
          [variant]="'text'"
          [severity]="'info'"
          [buttonSize]="buttonSize.AUTO"
          (onButtonClicked)="showUserMoreFields = !showUserMoreFields">
        </app-p-button>
      </div>

    </div>

  </div>

  <div class="section">

    <div class="create-doc-header">
      <div class="icon-title">
        <span class="title">פירוט</span>
      </div>
    </div>

    <div class="line-item-row">

      <!-- Row of field titles -->
      <div class="fields-grid fields-header">
        <div>תיאור</div>
        <div>כמות</div>
        <div>מע״מ</div>
        <div>סכום</div>
        <div>הנחה</div>
        <div>פעולה</div>
      </div>

      <!-- Line below headers -->
      <hr class="fields-divider" />

      <div class="fields-grid fields-row">

        <!-- תיאור -->
        <app-input-text [controlName]="'recipientPhone'" [placeholder]="'אנא מלא את התיאור'" [parentForm]="userDetailsForm" [size]="inputsSize.BETWEEN" [customStyle]="'fill-border'"></app-input-text>

        <input pInputText type="text" placeholder="אנא מלא את התיאור" class="field description" />

        <!-- <p-inputNumber [min]="0" mode="decimal" [showButtons]="true" class="qty-input"></p-inputNumber> -->

        <p-inputnumber class="plus-minus" [showButtons]="true" buttonLayout="horizontal" spinnerMode="horizontal" [inputStyle]="{ width: '3rem' }">
        <ng-template #incrementbuttonicon>
          <span class="pi pi-plus"></span>
        </ng-template>
        <ng-template #decrementbuttonicon>
          <span class="pi pi-minus"></span>
        </ng-template>
        </p-inputnumber>

      </div>

    </div>

  </div>

  <div class="section">

    <div class="create-doc-header">
      <div class="icon-title">
        <span class="title">פרטי התשלום</span>
      </div>
    </div>

  </div>

</div>

    <!-- <ng-container *ngFor="let field of generalArray">
    <ng-container [ngSwitch]="field.type">

      <app-generic-input *ngSwitchCase="formTypes.TEXT" [inputLabel]="field.name" [controlName]="field.value"
        [parentForm]="generalDetailsForm" [inputType]="field.type"></app-generic-input>

      <app-generic-input *ngSwitchCase="formTypes.DATE" [inputLabel]="field.name" [controlName]="field.value"
        [parentForm]="generalDetailsForm" [inputType]="field.type"></app-generic-input>

      <app-generic-input *ngSwitchCase="formTypes.NUMBER" [inputLabel]="field.name" [controlName]="field.value"
        [parentForm]="generalDetailsForm" [inputType]="field.type"></app-generic-input>

      <app-generic-input *ngSwitchCase="formTypes.TELEPHONE" [inputLabel]="field.name"
        [controlName]="field.value" [parentForm]="generalDetailsForm"
        [inputType]="field.type"></app-generic-input>

      <app-generic-input *ngSwitchCase="formTypes.EMAIL" [inputLabel]="field.name" [controlName]="field.value"
        [parentForm]="generalDetailsForm" [inputType]="field.type"></app-generic-input>

      <app-generic-select *ngSwitchCase="formTypes.DDL" [title]="field.name" [controlName]="field.value"
        [parentForm]="generalDetailsForm"
        [items]="getDropdownItems(field.value)"></app-generic-select>
    </ng-container>
  </ng-container> -->

<!-- <ion-content [fullscreen]="true">
  <div class="wrap-screen">
    <app-generic-select class="default-input-doc" title="בחר מסמך" [items]="DocCreateTypeList"
      (selectionChanged)="onSelectedDoc($event)">
    </app-generic-select>
  </div>
  <div *ngIf="fileSelected && !isInitial; else initialTemplate">
    <p>{{HebrewNameFileSelected}} מספר: {{docIndexes?.docIndex}}</p> -->

    <!-- General details card -->
    <!-- <ion-card>
      <ion-card-header>
        <ion-card-title>נתוני מסמך כלליים</ion-card-title>
        <app-button [buttonText]="isGeneralExpanded ? 'צמצם' : 'הרחב'"
          (onButtonClicked)="expandGeneralDetails()"></app-button>
      </ion-card-header>
      <ion-card-content>
        <ion-list>
          <ng-container *ngFor="let field of generalArray">
            <ng-container [ngSwitch]="field.type">

              <app-generic-input *ngSwitchCase="formTypes.TEXT" [inputLabel]="field.name" [controlName]="field.value"
                [parentForm]="generalDetailsForm" [inputType]="field.type"></app-generic-input>

              <app-generic-input *ngSwitchCase="formTypes.DATE" [inputLabel]="field.name" [controlName]="field.value"
                [parentForm]="generalDetailsForm" [inputType]="field.type"></app-generic-input>

              <app-generic-input *ngSwitchCase="formTypes.NUMBER" [inputLabel]="field.name" [controlName]="field.value"
                [parentForm]="generalDetailsForm" [inputType]="field.type"></app-generic-input>

              <app-generic-input *ngSwitchCase="formTypes.TELEPHONE" [inputLabel]="field.name"
                [controlName]="field.value" [parentForm]="generalDetailsForm"
                [inputType]="field.type"></app-generic-input>

              <app-generic-input *ngSwitchCase="formTypes.EMAIL" [inputLabel]="field.name" [controlName]="field.value"
                [parentForm]="generalDetailsForm" [inputType]="field.type"></app-generic-input>

              <app-generic-select *ngSwitchCase="formTypes.DDL" [title]="field.name" [controlName]="field.value"
                [parentForm]="generalDetailsForm"
                [items]="getDropdownItems(field.value)"></app-generic-select>
            </ng-container>
          </ng-container>
        </ion-list>
      </ion-card-content>
    </ion-card> -->

    <!-- User details card -->
    <!-- <ion-card *ngIf="myForm">
      <ion-card-header>
        <ion-card-title>פרטי לקוח</ion-card-title>
        <app-button [buttonText]="isUserExpanded ? 'צמצם' : 'הרחב'"
          (onButtonClicked)="expandUserDetails()"></app-button>

      </ion-card-header>
      <ion-card-content>
        <app-button buttonText="בחר לקוח" (onButtonClicked)="openSelectClients()"></app-button>
        <app-button buttonText="שמור לקוח" (onButtonClicked)="saveClient()"></app-button>
        <ion-list>
          <ng-container *ngFor="let field of userArray">
            <ng-container [ngSwitch]="field.type">

              <app-generic-input *ngSwitchCase="formTypes.TEXT" [inputLabel]="field.name" [controlName]="field.value"
                [parentForm]="userDetailsForm" [inputType]="field.type"></app-generic-input>

              <app-generic-input *ngSwitchCase="formTypes.DATE" [inputLabel]="field.name" [controlName]="field.value"
                [parentForm]="userDetailsForm" [inputType]="field.type"></app-generic-input>

              <app-generic-input *ngSwitchCase="formTypes.NUMBER" [inputLabel]="field.name" [controlName]="field.value"
                [parentForm]="userDetailsForm" [inputType]="field.type"></app-generic-input>

              <app-generic-input *ngSwitchCase="formTypes.TELEPHONE" [inputLabel]="field.name"
                [controlName]="field.value" [parentForm]="userDetailsForm"
                [inputType]="field.type"></app-generic-input>

              <app-generic-input *ngSwitchCase="formTypes.EMAIL" [inputLabel]="field.name" [controlName]="field.value"
                [parentForm]="userDetailsForm" [inputType]="field.type"></app-generic-input>

              <app-generic-select *ngSwitchCase="formTypes.DDL" [title]="field.name" [controlName]="field.value"
                [parentForm]="userDetailsForm"
                [items]="getDropdownItems(field.value)"></app-generic-select>
            </ng-container>
          </ng-container>
        </ion-list>
      </ion-card-content>
    </ion-card> -->

    <!-- Payment details card -->
    <!-- <ion-card>
      <ion-card-header>
        <ion-card-title>פרטי תשלום</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list *ngIf="paymentsFormArray.length > 0">
          <app-button [buttonText]="'Add'" (onButtonClicked)="addPayment()"></app-button>
          <ng-container *ngFor="let form of paymentsArray; let i = index">
            <app-button [buttonText]="'Remove'" (onButtonClicked)="removePayment(i)"></app-button>
            <app-button [buttonText]="isPaymentExpanded ? 'צמצם' : 'הרחב'"
              (onButtonClicked)="expandPaymentDetails(i)"></app-button>
            <ng-container *ngFor="let field of form">
              <ng-container [ngSwitch]="field.type">
                <app-generic-input *ngSwitchCase="formTypes.TEXT" [inputLabel]="field.name" [controlName]="field.value"
                  [parentForm]="getPaymentFormByIndex(i)" [inputType]="field.type"></app-generic-input>

                <app-generic-input *ngSwitchCase="formTypes.DATE" [inputLabel]="field.name" [controlName]="field.value"
                  [parentForm]="getPaymentFormByIndex(i)" [inputType]="field.type"></app-generic-input>

                <app-generic-input *ngSwitchCase="formTypes.NUMBER" [inputLabel]="field.name"
                  [controlName]="field.value" [parentForm]="getPaymentFormByIndex(i)"
                  [inputType]="field.type"></app-generic-input>

                <app-generic-select *ngSwitchCase="formTypes.DDL" [title]="field.name" [controlName]="field.value"
                  [parentForm]="getPaymentFormByIndex(i)" (selectionChanged)="onSelectionChanged(field.value, $event, i)"
                  [items]="getDropdownItems(field.value)"></app-generic-select>
              </ng-container>
            </ng-container>
          </ng-container>
        </ion-list>
      </ion-card-content>
    </ion-card> -->

    <!-- <ion-card>
      <ion-card-header>
        <ion-card-title>סה"כ לתשלום</ion-card-title>
      </ion-card-header>
      <div class="wrap-amount">
        <p>amount before vat: {{overallTotals?.sumBefDisBefVat}}&nbsp;&nbsp;</p>
        <p>vat amount: {{overallTotals?.vatSum}}&nbsp;&nbsp;</p>
        <p>total amount: {{overallTotals?.sumAftDisWithVAT}}</p>
      </div>
    </ion-card>
  </div>
  <app-button [buttonText]="'Create'" (onButtonClicked)="createDoc()" [isLoading]="createPDFIsLoading"></app-button>
  <app-button [buttonText]="'Preview'" (onButtonClicked)="previewtDoc()"
    [isLoading]="createPreviewPDFIsLoading"></app-button>
</ion-content> -->

<!-- <ng-template #initialTemplate>
  <ng-container *ngIf="fileSelected">

    <p>
      היי תמיד יש פעם ראשונה...
      <br />
      כמה הגדרות קצרות ונמשיך להפקת ה{{HebrewNameFileSelected}}
    </p>
    <form class="" [formGroup]="initialDetailsForm">
      <app-generic-input inputLabel="באיזה מספר סידורי תרצה להתחיל?" [parentForm]="initialDetailsForm"
        controlName="initialIndex" errorText="מספרים בלבד"></app-generic-input>
    </form>
    <app-button buttonText="Save" (onButtonClicked)="onClickInitialIndex()"
      [disabled]="initialDetailsForm.invalid"></app-button>
  </ng-container>
</ng-template> --> -->